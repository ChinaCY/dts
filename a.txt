Array\load_gameinfo_post_work ====> '
		return \\noise\\load_gameinfo_post_work();'

Array\gameinfo_audit ====> '
		return \\noise\\gameinfo_audit();'

Array\save_gameinfo_prepare_work ====> '
		return \\noise\\save_gameinfo_prepare_work($ginfo,$ignore_room);'

Array\addnews ====> '
		return \\tutorial\\addnews($t,$n,$a,$b,$c,$d,$e);'

Array\user_set_gamevars_list_init ====> '
		return \\set_gametype\\user_set_gamevars_list_init($registered_gamevars);'

Array\user_set_gamevars_process ====> '
		return \\set_gametype\\user_set_gamevars_process($gamevar_key,$gamevar_val,$valid_gamevars);'

Array\user_display_gamevars_setting ====> '
		return \\set_gametype\\user_display_gamevars_setting($show);'

Array\updategame ====> '
		return \\gameflow_base\\updategame();'

Array\reset_game ====> '
		return \\gameflow_combo\\reset_game();'

Array\reset_gametype ====> '
		return \\set_gametype\\reset_gametype();'

Array\prepare_new_game ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gtype1\\prepare_new_game\') 
		{
			return \\gtype3\\prepare_new_game();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		 
	'

Array\rs_game ====> '
		return \\tutorial\\rs_game($xmode);'

Array\post_gameover_events ====> '
		return \\achievement_base\\post_gameover_events();'

Array\gameover ====> '
		return \\skill306\\gameover($time,$gmode,$winname);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\prepare_new_game ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'sys\\prepare_new_game\') 
		{
			return \\gtype3\\prepare_new_game();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\updategame ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gameflow_base\\updategame\') 
		{
			return \\gameflow_base\\updategame();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\addarea_pc_process ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'player\\addarea_pc_process\') 
		{
			return \\player\\addarea_pc_process($atime);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_move_sp_cost ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'explore\\calculate_move_sp_cost\') 
		{
			return \\skill8\\calculate_move_sp_cost();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\load_gameinfo_post_work ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'noise\\load_gameinfo_post_work\') 
		{
			return \\noise\\load_gameinfo_post_work();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\gameinfo_audit ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'noise\\gameinfo_audit\') 
		{
			return \\noise\\gameinfo_audit();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\save_gameinfo_prepare_work ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'noise\\save_gameinfo_prepare_work\') 
		{
			return \\noise\\save_gameinfo_prepare_work($ginfo,$ignore_room);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\post_gameover_events ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'achievement_base\\post_gameover_events\') 
		{
			return \\achievement_base\\post_gameover_events();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\gameover ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill306\\gameover\') 
		{
			return \\skill306\\gameover($time,$gmode,$winname);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\parse_interface_profile ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'itemmain\\parse_interface_profile\') 
		{
			return \\itemmain\\parse_interface_profile();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_itemfind_obbs_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'itemmain\\calculate_itemfind_obbs_multiplier\') 
		{
			return \\skill214\\calculate_itemfind_obbs_multiplier();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\addarea_pc_process_single ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'npc\\addarea_pc_process_single\') 
		{
			return \\npc\\addarea_pc_process_single($sub,$atime);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_player_killmsg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'npc\\get_player_killmsg\') 
		{
			return \\npc\\get_player_killmsg($pdata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_player_lastword ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'npc\\get_player_lastword\') 
		{
			return \\npc\\get_player_lastword($pdata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_hide_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'metman\\calculate_hide_obbs\') 
		{
			return \\skill248\\calculate_hide_obbs($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_meetman_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'metman\\calculate_meetman_rate\') 
		{
			return \\pose\\calculate_meetman_rate($schmode);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\itemmix ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'itemmix\\itemmix\') 
		{
			return \\itemmix_overlay\\itemmix($mlist,$itemselect);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_shop_itembuy_cost ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'itemshop\\calculate_shop_itembuy_cost\') 
		{
			return \\skill454\\calculate_shop_itembuy_cost($price,$bnum);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_corpse_discover_dice ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'corpse\\check_corpse_discover_dice\') 
		{
			return \\corpse\\check_corpse_discover_dice($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\getcorpse_action ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'corpse\\getcorpse_action\') 
		{
			return \\tutorial\\getcorpse_action($edata,$item);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_real_trap_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'trap\\calculate_real_trap_obbs\') 
		{
			return \\pose\\calculate_real_trap_obbs();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_trap_escape_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'trap\\get_trap_escape_rate\') 
		{
			return \\ex_attr_trap\\get_trap_escape_rate();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_trap_damage ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'trap\\get_trap_damage\') 
		{
			return \\miracletrap\\get_trap_damage();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_trap_final_damage_modifier_down ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'trap\\get_trap_final_damage_modifier_down\') 
		{
			return \\skill455\\get_trap_final_damage_modifier_down($pa,$pd,$tritm,$damage);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_trap_reuse_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'trap\\calculate_trap_reuse_rate\') 
		{
			return \\skill212\\calculate_trap_reuse_rate();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_shopiteminfo ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill69\\get_shopiteminfo\') 
		{
			return \\skill69\\get_shopiteminfo($item);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\prepare_shopitem ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill69\\prepare_shopitem\') 
		{
			return \\skill69\\prepare_shopitem($sn);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_edible_spup ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill300\\get_edible_spup\') 
		{
			return \\skill474\\get_edible_spup($theitem);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_edible_hpup ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill300\\get_edible_hpup\') 
		{
			return \\skill474\\get_edible_hpup($theitem);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_move_coldtime ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'cooldown\\get_move_coldtime\') 
		{
			return \\skill601\\get_move_coldtime($dest);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_search_coldtime ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'cooldown\\get_search_coldtime\') 
		{
			return \\skill601\\get_search_coldtime();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_itemuse_coldtime ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'cooldown\\get_itemuse_coldtime\') 
		{
			return \\skill601\\get_itemuse_coldtime($item);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\itemuse_wrapper ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'cooldown\\itemuse_wrapper\') 
		{
			return \\cooldown\\itemuse_wrapper($item);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\post_act ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'cooldown\\post_act\') 
		{
			return \\cooldown\\post_act();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\prepare_response_content ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'cooldown\\prepare_response_content\') 
		{
			return \\cooldown\\prepare_response_content();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\prepare_initial_response_content ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'cooldown\\prepare_initial_response_content\') 
		{
			return \\cooldown\\prepare_initial_response_content();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_active_obbs_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'enemy\\calculate_active_obbs_multiplier\') 
		{
			return \\searchmemory\\calculate_active_obbs_multiplier($ldata,$edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\trap_use ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill19\\trap_use\') 
		{
			return \\skill19\\trap_use($theitem);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\counter_assault ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'battle\\counter_assault\') 
		{
			return \\skill41\\counter_assault($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\assault ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'battle\\assault\') 
		{
			return \\skill264\\assault($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\battle_wrapper ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'battle\\battle_wrapper\') 
		{
			return \\battle\\battle_wrapper($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\reset_game ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gameflow_combo\\reset_game\') 
		{
			return \\gameflow_combo\\reset_game();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\gamestateupdate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gameflow_combo\\gamestateupdate\') 
		{
			return \\gameflow_combo\\gamestateupdate();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_corpse_discover ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gameflow_combo\\check_corpse_discover\') 
		{
			return \\gameflow_combo\\check_corpse_discover($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\findteam ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gameflow_combo\\findteam\') 
		{
			return \\gameflow_combo\\findteam($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\teammake ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gameflow_combo\\teammake\') 
		{
			return \\gameflow_combo\\teammake($tID,$tPass);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\teamjoin ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gameflow_combo\\teamjoin\') 
		{
			return \\gameflow_combo\\teamjoin($tID,$tPass);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\teamquit ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gameflow_combo\\teamquit\') 
		{
			return \\gameflow_combo\\teamquit();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_team_button_exist ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gameflow_combo\\check_team_button_exist\') 
		{
			return \\gameflow_combo\\check_team_button_exist();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\apply_total_damage_modifier_up ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'attack\\apply_total_damage_modifier_up\') 
		{
			return \\skill244\\apply_total_damage_modifier_up($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\attack_wrapper ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'attack\\attack_wrapper\') 
		{
			return \\attack\\attack_wrapper($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\attack ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'attack\\attack\') 
		{
			return \\skill403\\attack($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_npclist ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gtype17\\get_npclist\') 
		{
			return \\gtype17\\get_npclist();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_itemfilecont ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gtype17\\get_itemfilecont\') 
		{
			return \\gtype17\\get_itemfilecont();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_trapfilecont ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gtype17\\get_trapfilecont\') 
		{
			return \\gtype17\\get_trapfilecont();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calc_qiegao_drop ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'cardbase\\calc_qiegao_drop\') 
		{
			return \\skill418\\calc_qiegao_drop($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_att_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\get_att_multiplier\') 
		{
			return \\weather\\get_att_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_internal_att ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\get_internal_att\') 
		{
			return \\skill445\\get_internal_att($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_internal_def ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\get_internal_def\') 
		{
			return \\skill42\\get_internal_def($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_skill_by_kind ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\get_skill_by_kind\') 
		{
			return \\skill70\\get_skill_by_kind($pa,$pd,$active,$wep_kind);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\load_user_combat_command ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\load_user_combat_command\') 
		{
			return \\weapon\\load_user_combat_command($pdata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\load_auto_combat_command ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\load_auto_combat_command\') 
		{
			return \\weapon\\load_auto_combat_command($pdata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_hitrate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\get_hitrate\') 
		{
			return \\tutorial\\get_hitrate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_weapon_fluc_max_range ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\get_weapon_fluc_max_range\') 
		{
			return \\skill207\\get_weapon_fluc_max_range($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_weapon_fluc_percentage ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\get_weapon_fluc_percentage\') 
		{
			return \\skill442\\get_weapon_fluc_percentage($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_fixed_dmg_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\get_fixed_dmg_multiplier\') 
		{
			return \\skill44\\get_fixed_dmg_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_attack_weapon_skill_gain ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\calculate_attack_weapon_skill_gain\') 
		{
			return \\skill260\\calculate_attack_weapon_skill_gain($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_attack_exp_gain ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\calculate_attack_exp_gain\') 
		{
			return \\skill459\\calculate_attack_exp_gain($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_counter_rate_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\calculate_counter_rate_multiplier\') 
		{
			return \\skill478\\calculate_counter_rate_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_counter_dice ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\check_counter_dice\') 
		{
			return \\skill41\\check_counter_dice($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_counterable_by_weapon_range ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weapon\\check_counterable_by_weapon_range\') 
		{
			return \\skill207\\check_counterable_by_weapon_range($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\cannot_counter ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'npcchat\\cannot_counter\') 
		{
			return \\npcchat\\cannot_counter($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\counter_assault_wrapper ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill21\\counter_assault_wrapper\') 
		{
			return \\skill21\\counter_assault_wrapper($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_trap_final_damage_change ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill479\\get_trap_final_damage_change\') 
		{
			return \\skill479\\get_trap_final_damage_change($pa,$pd,$tritm,$damage);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\user_set_gamevars_list_init ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'set_gametype\\user_set_gamevars_list_init\') 
		{
			return \\set_gametype\\user_set_gamevars_list_init($registered_gamevars);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\reset_gametype ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'set_gametype\\reset_gametype\') 
		{
			return \\set_gametype\\reset_gametype();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\user_display_gamevars_setting ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'set_gametype\\user_display_gamevars_setting\') 
		{
			return \\set_gametype\\user_display_gamevars_setting($show);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\user_set_gamevars_process ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'set_gametype\\user_set_gamevars_process\') 
		{
			return \\set_gametype\\user_set_gamevars_process($gamevar_key,$gamevar_val,$valid_gamevars);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_in_shop_area ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill68\\check_in_shop_area\') 
		{
			return \\skill68\\check_in_shop_area($p);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\apply_total_damage_modifier_down ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill232\\apply_total_damage_modifier_down\') 
		{
			return \\skill455\\apply_total_damage_modifier_down($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_hack_proc_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill233\\calculate_hack_proc_rate\') 
		{
			return \\skill233\\calculate_hack_proc_rate();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\post_hack_events ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill233\\post_hack_events\') 
		{
			return \\skill233\\post_hack_events($itmn);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_traplist ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill247\\get_traplist\') 
		{
			return \\skill247\\get_traplist();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\skill_acquire ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill461\\skill_acquire\') 
		{
			return \\skill461\\skill_acquire($skillid,$pa);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_search_sp_cost ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill255\\calculate_search_sp_cost\') 
		{
			return \\skill410\\calculate_search_sp_cost();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_battle_skill_entry ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wjfix\\get_battle_skill_entry\') 
		{
			return \\wjfix\\get_battle_skill_entry($edata,$which);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_cooltime_on ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill602\\check_cooltime_on\') 
		{
			return \\skill602\\check_cooltime_on();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_active_obbs_change ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill602\\calculate_active_obbs_change\') 
		{
			return \\skill602\\calculate_active_obbs_change($ldata,$edata,$active_r);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill602\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_skill221_lasttime ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill221\\get_skill221_lasttime\') 
		{
			return \\skill222\\get_skill221_lasttime($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_external_att ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wep_n\\get_external_att\') 
		{
			return \\skill33\\get_external_att($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_fixed_dmg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wep_f\\get_fixed_dmg\') 
		{
			return \\skill259\\get_fixed_dmg($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_counter_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tactic\\calculate_counter_rate\') 
		{
			return \\tactic\\calculate_counter_rate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_def_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tactic\\get_def_multiplier\') 
		{
			return \\weather\\get_def_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_pc_avoid_killarea ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tactic\\check_pc_avoid_killarea\') 
		{
			return \\tactic\\check_pc_avoid_killarea($sub,$atime);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\post_pc_avoid_killarea ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tactic\\post_pc_avoid_killarea\') 
		{
			return \\tactic\\post_pc_avoid_killarea($sub,$atime);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_inf_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wound\\calculate_inf_rate\') 
		{
			return \\skill478\\calculate_inf_rate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_weapon_wound_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wound\\calculate_weapon_wound_multiplier\') 
		{
			return \\skill205\\calculate_weapon_wound_multiplier($pa,$pd,$active,$hurtposition);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\post_weapon_strike_events ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wound\\post_weapon_strike_events\') 
		{
			return \\wound\\post_weapon_strike_events($pa,$pd,$active,$is_hit);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\strike_finish ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill61\\strike_finish\') 
		{
			return \\skill27\\strike_finish($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_skill ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill66\\get_skill\') 
		{
			return \\skill253\\get_skill($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\apply_attack_exp_gain ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill226\\apply_attack_exp_gain\') 
		{
			return \\skill226\\apply_attack_exp_gain($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_trap_damage_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill409\\get_trap_damage_multiplier\') 
		{
			return \\skill409\\get_trap_damage_multiplier($pa,$pd,$trap,$damage);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\skill_query ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill440\\skill_query\') 
		{
			return \\skill440\\skill_query($skillid,$pa);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\load_user_battleskill_command ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill246\\load_user_battleskill_command\') 
		{
			return \\skill246\\load_user_battleskill_command($pdata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_alive_discover ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill246\\check_alive_discover\') 
		{
			return \\skill435\\check_alive_discover($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_enemy_meet_active ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill246\\check_enemy_meet_active\') 
		{
			return \\skill246\\check_enemy_meet_active($ldata,$edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\apply_damage ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill471\\apply_damage\') 
		{
			return \\skill471\\apply_damage($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\findenemy ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill262\\findenemy\') 
		{
			return \\skill262\\findenemy($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\kill ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill483\\kill\') 
		{
			return \\weather\\kill($pa,$pd);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\pre_act ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill475\\pre_act\') 
		{
			return \\skill435\\pre_act();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_attack_method ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wep_j\\get_attack_method\') 
		{
			return \\wep_j\\get_attack_method($pdata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\apply_weapon_imp ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wep_j\\apply_weapon_imp\') 
		{
			return \\wep_j\\apply_weapon_imp($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\weapon_break ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wep_j\\weapon_break\') 
		{
			return \\wep_j\\weapon_break($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\parse_itmk_words ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'poison\\parse_itmk_words\') 
		{
			return \\poison\\parse_itmk_words($k_value);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_external_def_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'armor\\get_external_def_multiplier\') 
		{
			return \\ex_attr_charge\\get_external_def_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\assault_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'armor\\assault_prepare\') 
		{
			return \\armor\\assault_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\assault_finish ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'armor\\assault_finish\') 
		{
			return \\armor\\assault_finish($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_rest_upsp ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'rest\\calculate_rest_upsp\') 
		{
			return \\skill1\\calculate_rest_upsp($rtime);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_rest_uphp ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'rest\\calculate_rest_uphp\') 
		{
			return \\skill1\\calculate_rest_uphp($rtime);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_wound_recover_time ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'rest\\get_wound_recover_time\') 
		{
			return \\skill1\\get_wound_recover_time();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_skill35_proc_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill38\\calculate_skill35_proc_rate\') 
		{
			return \\skill38\\calculate_skill35_proc_rate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_attack_method ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'dualwep\\check_attack_method\') 
		{
			return \\dualwep\\check_attack_method($pdata,$wm);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\itemuse ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ammunition\\itemuse\') 
		{
			return \\tutorial\\itemuse($theitem);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_ex_def_array ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'attrbase\\get_ex_def_array\') 
		{
			return \\skill34\\get_ex_def_array($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_def ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill407\\get_def\') 
		{
			return \\skill407\\get_def($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_att ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill407\\get_att\') 
		{
			return \\skill407\\get_att($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_external_def ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill32\\get_external_def\') 
		{
			return \\skill33\\get_external_def($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\apply_weapon_wound_real ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill202\\apply_weapon_wound_real\') 
		{
			return \\skill202\\apply_weapon_wound_real($pa,$pd,$active,$hurtposition);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_can_counter ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'pose\\check_can_counter\') 
		{
			return \\pose\\check_can_counter($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\skill_onsave_event ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill1\\skill_onsave_event\') 
		{
			return \\skill1\\skill_onsave_event($pa);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\chginf ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill600\\chginf\') 
		{
			return \\skill600\\chginf($infpos);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\upgrade12 ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill600\\upgrade12\') 
		{
			return \\skill600\\upgrade12();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_ex_phy_def_proc_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_phy_def\\get_ex_phy_def_proc_rate\') 
		{
			return \\skill243\\get_ex_phy_def_proc_rate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_ex_phy_def_proc ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_phy_def\\check_ex_phy_def_proc\') 
		{
			return \\skill243\\check_ex_phy_def_proc($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_attack_rage_gain ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'rage\\calculate_attack_rage_gain\') 
		{
			return \\skill410\\calculate_attack_rage_gain($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\attack_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'rage\\attack_prepare\') 
		{
			return \\rage\\attack_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_rapid_accuracy_loss ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_rapid_attr\\get_rapid_accuracy_loss\') 
		{
			return \\skill50\\get_rapid_accuracy_loss($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\weapon_strike ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_rapid_attr\\weapon_strike\') 
		{
			return \\ex_rapid_attr\\weapon_strike($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\weapon_wg_addnoise ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_attr_silencer\\weapon_wg_addnoise\') 
		{
			return \\ex_attr_silencer\\weapon_wg_addnoise($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\weapon_wj_addnoise ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_attr_silencer\\weapon_wj_addnoise\') 
		{
			return \\ex_attr_silencer\\weapon_wj_addnoise($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_basic_ex_dmg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_att\\get_basic_ex_dmg\') 
		{
			return \\skill210\\get_basic_ex_dmg($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_ex_inf_dmg_punish ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_att\\get_ex_inf_dmg_punish\') 
		{
			return \\skill25\\get_ex_inf_dmg_punish($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_ex_single_dmg_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_att\\calculate_ex_single_dmg_multiple\') 
		{
			return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_ex_inf_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_att\\calculate_ex_inf_rate\') 
		{
			return \\skill218\\calculate_ex_inf_rate($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_ex_inf_rate_modifier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_att\\get_ex_inf_rate_modifier\') 
		{
			return \\skill478\\get_ex_inf_rate_modifier($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\strike ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_att\\strike\') 
		{
			return \\ex_dmg_att\\strike($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\post_traphit_events ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_att\\post_traphit_events\') 
		{
			return \\ex_dmg_att\\post_traphit_events($pa,$pd,$tritm,$damage);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\apply_total_damage_change ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_hp_def\\apply_total_damage_change\') 
		{
			return \\ex_hp_def\\apply_total_damage_change($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\use_nail ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wepchange\\use_nail\') 
		{
			return \\wepchange\\use_nail($itm,$itme);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\use_anya ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wepchange\\use_anya\') 
		{
			return \\wepchange\\use_anya($itm);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\use_stone ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'blessstone\\use_stone\') 
		{
			return \\blessstone\\use_stone($itm,$itme);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\parse_news ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'blessstone\\parse_news\') 
		{
			return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_weather_itemfind_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\calculate_weather_itemfind_obbs\') 
		{
			return \\skill245\\calculate_weather_itemfind_obbs();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_itemfind_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\calculate_itemfind_obbs\') 
		{
			return \\weather\\calculate_itemfind_obbs();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_weather_meetman_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\calculate_weather_meetman_obbs\') 
		{
			return \\skill245\\calculate_weather_meetman_obbs($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_findman_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\calculate_findman_obbs\') 
		{
			return \\weather\\calculate_findman_obbs($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_weather_active_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\calculate_weather_active_obbs\') 
		{
			return \\skill245\\calculate_weather_active_obbs($ldata,$edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_active_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\calculate_active_obbs\') 
		{
			return \\weather\\calculate_active_obbs($ldata,$edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_weather_attack_modifier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\calculate_weather_attack_modifier\') 
		{
			return \\skill245\\calculate_weather_attack_modifier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_weather_defend_modifier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\calculate_weather_defend_modifier\') 
		{
			return \\skill245\\calculate_weather_defend_modifier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\search_area ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\search_area\') 
		{
			return \\weather\\search_area();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\add_once_area ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\add_once_area\') 
		{
			return \\weather\\add_once_area($atime);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\init_playerdata ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\init_playerdata\') 
		{
			return \\weather\\init_playerdata();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\newradar ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\newradar\') 
		{
			return \\weather\\newradar($mms);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\attack_finish ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\attack_finish\') 
		{
			return \\skill42\\attack_finish($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_ex_attack_array ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill254\\get_ex_attack_array\') 
		{
			return \\skill26\\get_ex_attack_array($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_rapid ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill258\\check_rapid\') 
		{
			return \\skill258\\check_rapid($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_wf_sp_cost ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill65\\get_wf_sp_cost\') 
		{
			return \\skill65\\get_wf_sp_cost($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\trap_deal_damage ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_attr_trap\\trap_deal_damage\') 
		{
			return \\ex_attr_trap\\trap_deal_damage();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\trap_miss_broken ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_attr_trap\\trap_miss_broken\') 
		{
			return \\ex_attr_trap\\trap_miss_broken();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\trap_miss_reused ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_attr_trap\\trap_miss_reused\') 
		{
			return \\ex_attr_trap\\trap_miss_reused();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_wg_att_as_wp_modifier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill422\\get_wg_att_as_wp_modifier\') 
		{
			return \\skill422\\get_wg_att_as_wp_modifier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_wj_att_as_wp_modifier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill422\\get_wj_att_as_wp_modifier\') 
		{
			return \\skill422\\get_wj_att_as_wp_modifier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_wepimp_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill422\\calculate_wepimp_rate\') 
		{
			return \\skill422\\calculate_wepimp_rate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\attr_dmg_check_not_wpg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill422\\attr_dmg_check_not_wpg\') 
		{
			return \\skill422\\attr_dmg_check_not_wpg($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_ex_dmg_def_proc_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_def\\get_ex_dmg_def_proc_rate\') 
		{
			return \\skill243\\get_ex_dmg_def_proc_rate($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_ex_dmg_def_proc ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_def\\check_ex_dmg_def_proc\') 
		{
			return \\skill243\\check_ex_dmg_def_proc($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_ex_inf_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_def\\calculate_ex_inf_multiple\') 
		{
			return \\skill26\\calculate_ex_inf_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_ex_inf_infliction ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_def\\check_ex_inf_infliction\') 
		{
			return \\tutorial\\check_ex_inf_infliction($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_ex_dmg_nullify ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_nullify\\check_ex_dmg_nullify\') 
		{
			return \\skill26\\check_ex_dmg_nullify($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_ex_attack_dmg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_nullify\\calculate_ex_attack_dmg\') 
		{
			return \\skill215\\calculate_ex_attack_dmg($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\bufficons_list ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill210\\bufficons_list\') 
		{
			return \\skill210\\bufficons_list();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_ex_dmg_restriction ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill238\\get_ex_dmg_restriction\') 
		{
			return \\skill238\\get_ex_dmg_restriction($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_physical_dmg_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_phy_nullify\\get_physical_dmg_multiplier\') 
		{
			return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_physical_dmg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_phy_nullify\\get_physical_dmg\') 
		{
			return \\ex_phy_nullify\\get_physical_dmg($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_hp_rev_dmg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill432\\calculate_hp_rev_dmg\') 
		{
			return \\skill432\\calculate_hp_rev_dmg($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\lvlup ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gtype1\\lvlup\') 
		{
			return \\gtype1\\lvlup($pa);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\deathnote_process ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gtype1\\deathnote_process\') 
		{
			return \\gtype1\\deathnote_process($dnname,$dndeath,$dngender,$dnicon);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_club_choice_array ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'instance5\\get_club_choice_array\') 
		{
			return \\instance5\\get_club_choice_array();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\battle_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill42\\battle_prepare\') 
		{
			return \\skill42\\battle_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\battle_finish ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill42\\battle_finish\') 
		{
			return \\skill42\\battle_finish($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\deal_hailstorm_weather_damage ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill245\\deal_hailstorm_weather_damage\') 
		{
			return \\skill245\\deal_hailstorm_weather_damage();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\apply_tornado_weather_effect ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill245\\apply_tornado_weather_effect\') 
		{
			return \\skill245\\apply_tornado_weather_effect();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\apply_fog_meetenemy_effect ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill252\\apply_fog_meetenemy_effect\') 
		{
			return \\skill252\\apply_fog_meetenemy_effect($ismeet);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\init_battle ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill252\\init_battle\') 
		{
			return \\skill252\\init_battle($ismeet);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_player_discover ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gtype2\\check_player_discover\') 
		{
			return \\gtype2\\check_player_discover($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_initnpcadd ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gtype2\\check_initnpcadd\') 
		{
			return \\gtype2\\check_initnpcadd($typ);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_shoplist ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gtype2\\get_shoplist\') 
		{
			return \\gtype2\\get_shoplist();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\post_enterbattlefield_events ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gtype2\\post_enterbattlefield_events\') 
		{
			return \\gtype2\\post_enterbattlefield_events($pa);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_addarea_gameover ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gtype3\\check_addarea_gameover\') 
		{
			return \\gtype3\\check_addarea_gameover($atime);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\trapcheck ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'miracletrap\\trapcheck\') 
		{
			return \\miracletrap\\trapcheck();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\trap ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'miracletrap\\trap\') 
		{
			return \\miracletrap\\trap();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_trapdef_proc ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'miracletrap\\check_trapdef_proc\') 
		{
			return \\miracletrap\\check_trapdef_proc();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_ex_single_dmg_def_attr ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill208\\check_ex_single_dmg_def_attr\') 
		{
			return \\skill26\\check_ex_single_dmg_def_attr($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_final_dmg_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill208\\get_final_dmg_multiplier\') 
		{
			return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\calculate_physical_dmg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill26\\calculate_physical_dmg\') 
		{
			return \\skill26\\calculate_physical_dmg($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_physical_def_attr ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_attr_pierce\\check_physical_def_attr\') 
		{
			return \\ex_attr_pierce\\check_physical_def_attr($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\check_physical_nullify ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_attr_pierce\\check_physical_nullify\') 
		{
			return \\ex_attr_pierce\\check_physical_nullify($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_addnpclist ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\get_addnpclist\') 
		{
			return \\tutorial\\get_addnpclist();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\move ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\move\') 
		{
			return \\tutorial\\move($moveto);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\search ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\search\') 
		{
			return \\tutorial\\search();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\discover ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\discover\') 
		{
			return \\tutorial\\discover($schmode);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\discover_item ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\discover_item\') 
		{
			return \\tutorial\\discover_item();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\itemget ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\itemget\') 
		{
			return \\tutorial\\itemget();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\discover_player ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\discover_player\') 
		{
			return \\tutorial\\discover_player();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_battlecmd_filename ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\get_battlecmd_filename\') 
		{
			return \\tutorial\\get_battlecmd_filename();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_battleresult_filename ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\get_battleresult_filename\') 
		{
			return \\tutorial\\get_battleresult_filename();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_corpse_filename ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\get_corpse_filename\') 
		{
			return \\tutorial\\get_corpse_filename();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_sp_shop_filename ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\get_sp_shop_filename\') 
		{
			return \\tutorial\\get_sp_shop_filename();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_itemshop_filename ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\get_itemshop_filename\') 
		{
			return \\tutorial\\get_itemshop_filename();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\meetman_alternative ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\meetman_alternative\') 
		{
			return \\tutorial\\meetman_alternative($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\senditem_check ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\senditem_check\') 
		{
			return \\tutorial\\senditem_check($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\player_damaged_enemy ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\player_damaged_enemy\') 
		{
			return \\tutorial\\player_damaged_enemy($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\apply_weapon_inf ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\apply_weapon_inf\') 
		{
			return \\tutorial\\apply_weapon_inf($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\heal_inf ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\heal_inf\') 
		{
			return \\tutorial\\heal_inf($hurtposition,$pa);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\player_kill_enemy ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\player_kill_enemy\') 
		{
			return \\tutorial\\player_kill_enemy($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\itembuy ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\itembuy\') 
		{
			return \\tutorial\\itembuy($item,$shop,$bnum);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\player_selectclub ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\player_selectclub\') 
		{
			return \\tutorial\\player_selectclub($id);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\itemmix_success ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\itemmix_success\') 
		{
			return \\tutorial\\itemmix_success();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\addnews ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\addnews\') 
		{
			return \\tutorial\\addnews($t,$n,$a,$b,$c,$d,$e);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\rs_game ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\rs_game\') 
		{
			return \\tutorial\\rs_game($xmode);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\init_areatiming ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\init_areatiming\') 
		{
			return \\tutorial\\init_areatiming();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\checkcombo ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\checkcombo\') 
		{
			return \\tutorial\\checkcombo();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\armor_break ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill27\\armor_break\') 
		{
			return \\skill27\\armor_break($pa,$pd,$active,$whicharmor);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\skill_onload_event ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill436\\skill_onload_event\') 
		{
			return \\skill436\\skill_onload_event($pa);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\load_playerdata ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'searchmemory\\load_playerdata\') 
		{
			return \\searchmemory\\load_playerdata($pdata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\fetch_playerdata ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'searchmemory\\fetch_playerdata\') 
		{
			return \\searchmemory\\fetch_playerdata($Pname,$Ptype);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\fetch_playerdata_by_pid ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'searchmemory\\fetch_playerdata_by_pid\') 
		{
			return \\searchmemory\\fetch_playerdata_by_pid($pid);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\player_save ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'searchmemory\\player_save\') 
		{
			return \\searchmemory\\player_save($data);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\focus_item ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'searchmemory\\focus_item\') 
		{
			return \\searchmemory\\focus_item($iarr);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\itemdrop ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'searchmemory\\itemdrop\') 
		{
			return \\searchmemory\\itemdrop($item);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\meetman ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'searchmemory\\meetman\') 
		{
			return \\searchmemory\\meetman($sid);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\move_to_area ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'searchmemory\\move_to_area\') 
		{
			return \\searchmemory\\move_to_area($moveto);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\get_itemmix_filename ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'smartmix\\get_itemmix_filename\') 
		{
			return \\smartmix\\get_itemmix_filename();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\act ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'smartmix\\act\') 
		{
			return \\smartmix\\act();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		'

Array\init_areatiming ====> '
		return \\tutorial\\init_areatiming();'

Array\addarea_pc_process ====> '
		return \\player\\addarea_pc_process($atime);'

Array\check_addarea_gameover ====> '
		return \\gtype3\\check_addarea_gameover($atime);'

Array\add_once_area ====> '
		return \\weather\\add_once_area($atime);'

Array\rs_game ====> '
		return \\tutorial\\rs_game($xmode);'

Array\updategame ====> '
		return \\gameflow_base\\updategame();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\gamestateupdate ====> '
		return \\gameflow_combo\\gamestateupdate();'

Array\updategame ====> '$map_updategame_ret = NULL;

		//========Contents from mod map========
		do{
			
		
		eval(import_module(\'sys\',\'map\'));$sys_updategame_ret = NULL;

		//========Contents from mod sys========
		do{
				
		
		}while(0);
		$sys_updategame_ret;
		
		if (($gamestate > 10)&&($now > $areatime)) {
			while($now>$areatime){
				$o_areatime = $areatime;
				$areatime += $areahour*60;
				\\map\\add_once_area ($o_areatime);
				
				$areawarn = 0;
			}
		}elseif(($gamestate > 10)&&($now > $areatime - $areawarntime)&&(!$areawarn)){
			\\map\\areawarn ();
		}
		
		if($gamestate == 20) {
			$arealimit = $arealimit > 0 ? $arealimit : 1; 
			if(($validnum <= 0)&&($areanum >= $arealimit*$areaadd)) {
				\\sys\\gameover($areatime-$areahour*60+1,\'end4\');
			} elseif(($areanum >= $arealimit*$areaadd) || ($validnum >= $validlimit)) {
				$gamestate = 30;
			}
		}
		}while(0);
		
		
		$map_updategame_ret;
		
		\\gameflow_base\\gamestateupdate ();
		
		\\gameflow_base\\checkendgame ();
	'

Array\fetch_playerdata ====> '
		return \\searchmemory\\fetch_playerdata($Pname,$Ptype);'

Array\fetch_playerdata_by_pid ====> '
		return \\searchmemory\\fetch_playerdata_by_pid($pid);'

Array\load_playerdata ====> '
		return \\searchmemory\\load_playerdata($pdata);'

Array\get_player_killmsg ====> '
		return \\npc\\get_player_killmsg($pdata);'

Array\get_player_lastword ====> '
		return \\npc\\get_player_lastword($pdata);'

Array\init_playerdata ====> '
		return \\weather\\init_playerdata();'

Array\parse_interface_profile ====> '
		return \\itemmain\\parse_interface_profile();'

Array\addarea_pc_process ====> '
		
		eval(import_module(\'sys\',\'map\'));
		if($areanum >= sizeof($plsinfo) - 1) return;
		$now_areaarr = array_slice($arealist,0,$areanum+1);
		$where = "(\'".implode("\',\'",$now_areaarr)."\')";
		$result = $db->query("SELECT * FROM {$tablepre}players WHERE pls IN $where AND hp>0");
		while($sub = $db->fetch_array($result)) 
		{
			\\player\\addarea_pc_process_single ($sub, $atime);
		}
		$alivenum = $db->result($db->query("SELECT COUNT(*) FROM {$tablepre}players WHERE hp>0 AND type=0"), 0);$map_addarea_pc_process_ret = NULL;

		//========Contents from mod map========
		do{
			
		
		}while(0);
		$map_addarea_pc_process_ret;
		return;
	'

Array\addarea_pc_process_single ====> '
		return \\npc\\addarea_pc_process_single($sub,$atime);'

Array\check_pc_avoid_killarea ====> '
		return \\tactic\\check_pc_avoid_killarea($sub,$atime);'

Array\post_pc_avoid_killarea ====> '
		return \\tactic\\post_pc_avoid_killarea($sub,$atime);'

Array\player_save ====> '
		return \\searchmemory\\player_save($data);'

Array\rs_game ====> '
		return \\tutorial\\rs_game($xmode);'

Array\kill ====> '
		return \\weather\\kill($pa,$pd);'

Array\pre_act ====> '
		return \\skill435\\pre_act();'

Array\act ====> '
		return \\smartmix\\act();'

Array\post_act ====> '
		return \\cooldown\\post_act();'

Array\prepare_response_content ====> '
		return \\cooldown\\prepare_response_content();'

Array\prepare_initial_response_content ====> '
		return \\cooldown\\prepare_initial_response_content();'

Array\post_enterbattlefield_events ====> '
		return \\gtype2\\post_enterbattlefield_events($pa);'

Array\reset_game ====> '
		return \\gameflow_combo\\reset_game();'

Array\gamestateupdate ====> '
		return \\gameflow_combo\\gamestateupdate();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\pre_act ====> '
		return \\skill435\\pre_act();'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\skill_onsave_event ====> '
		return \\skill1\\skill_onsave_event($pa);'

Array\load_playerdata ====> '
		return \\searchmemory\\load_playerdata($pdata);'

Array\fetch_playerdata ====> '
		return \\searchmemory\\fetch_playerdata($Pname,$Ptype);'

Array\fetch_playerdata_by_pid ====> '
		return \\searchmemory\\fetch_playerdata_by_pid($pid);'

Array\player_save ====> '
		return \\searchmemory\\player_save($data);'

Array\skill_acquire ====> '
		return \\skill461\\skill_acquire($skillid,$pa);'

Array\skill_query ====> '
		return \\skill440\\skill_query($skillid,$pa);'

Array\post_gameover_events ====> '
		return \\achievement_base\\post_gameover_events();'

Array\post_gameover_events ====> '
		return \\achievement_base\\post_gameover_events();'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\calculate_move_sp_cost ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill255\\calculate_move_sp_cost\') 
		{
			return \\skill8\\calculate_move_sp_cost();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'player\',\'map\'));
		
		$movesp = 15;
		
		return $movesp;
	'

Array\move_to_area ====> '
		return \\searchmemory\\move_to_area($moveto);'

Array\move ====> '
		return \\tutorial\\move($moveto);'

Array\calculate_search_sp_cost ====> '
		return \\skill410\\calculate_search_sp_cost();'

Array\search_area ====> '
		return \\weather\\search_area();'

Array\search ====> '
		return \\tutorial\\search();'

Array\discover ====> '
		return \\tutorial\\discover($schmode);'

Array\act ====> '
		return \\smartmix\\act();'

Array\pre_act ====> '
		return \\skill435\\pre_act();'

Array\load_gameinfo_post_work ====> '
		
		eval(import_module(\'sys\',\'noise\'));$sys_load_gameinfo_post_work_ret = NULL;

		//========Contents from mod sys========
		do{
			
		
		
		
		$arealist = explode(\',\',$arealist);
		
		foreach(array(\'noisevars\',\'roomvars\',\'gamevars\') as $val){
			${$val}=gdecode(${$val},1);
		}
		$sys_load_gameinfo_post_work_ret = NULL;
break; 
		}while(0);
		$sys_load_gameinfo_post_work_ret;
		foreach($noisevars as $key => $val){
			${$key} = $val;
		}
		return;
	'

Array\gameinfo_audit ====> '
		
		eval(import_module(\'sys\',\'noise\'));$sys_gameinfo_audit_ret = NULL;

		//========Contents from mod sys========
		do{
			
		
		
		
		foreach ($gameinfo as $key => $value)
			$gameinfo[$key]=$$key;
		if($alivenum < 0){$alivenum = 0;}
		if($deathnum < 0){$deathnum = 0;}
		if(!$afktime){$afktime = $now;}
		if(!$hdamage){$hdamage = 0;}
		if(!$hplayer){$hplayer = \'\';}
		
		$sys_gameinfo_audit_ret = NULL;
break; 
		}while(0);
		$sys_gameinfo_audit_ret;
		if(!$noisetime){$noisetime = 0;}
		if(!$noisepls){$noisepls = 0;}
		if(!$noiseid){$noiseid = 0;}
		if(!$noiseid2){$noiseid2 = 0;}
		if(!$noisemode){$noisemode = \'\';}
		return;
	'

Array\reset_game ====> '
		return \\gameflow_combo\\reset_game();'

Array\save_gameinfo_prepare_work ====> '
		
		eval(import_module(\'sys\',\'noise\'));
		
		if(!is_array($ginfo[\'noisevars\'])){
			
			$ginfo[\'noisevars\'] = array();
		}
		foreach(array(\'noisetime\', \'noisepls\', \'noiseid\', \'noiseid2\', \'noisemode\') as $nv){
			$ginfo[\'noisevars\'][$nv] = ${$nv};
		}$sys_save_gameinfo_prepare_work_ret = NULL;

		//========Contents from mod sys========
		do{
			
		
		
		foreach(array(\'noisevars\',\'roomvars\',\'gamevars\') as $val){
			$ginfo[$val]=gencode($ginfo[$val]);
		}
		$ginfo[\'arealist\'] = implode(\',\',$ginfo[\'arealist\']);
		if($ignore_room)
			unset($ginfo[\'groomid\'],$ginfo[\'groomtype\'],$ginfo[\'groomstatus\'],$ginfo[\'roomvars\']);
		$sys_save_gameinfo_prepare_work_ret =  $ginfo;
break; 
		}while(0);
		return $sys_save_gameinfo_prepare_work_ret;
	'

Array\lvlup ====> '
		return \\gtype1\\lvlup($pa);'

Array\load_playerdata ====> '
		return \\searchmemory\\load_playerdata($pdata);'

Array\init_playerdata ====> '
		return \\weather\\init_playerdata();'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\post_gameover_events ====> '
		
		
		eval(import_module(\'sys\'));
		$result = $db->query("SELECT name,pid FROM {$tablepre}players WHERE type=0");
		while ($udata=$db->fetch_array($result))
		{
			$edata=\\player\\fetch_playerdata_by_pid($udata[\'pid\']);
			if ($edata===NULL) continue;
			$res = $db->query("SELECT n_achievements FROM {$gtablepre}users WHERE username=\'{$udata[\'name\']}\'");
			if (!$db->num_rows($res)) continue;
			$zz=$db->fetch_array($res); $ach=$zz[\'n_achievements\'];
			$achdata=explode(\';\',$ach);
			$maxid=count($achdata)-2;
			foreach (\\skillbase\\get_acquired_skill_array($edata) as $key) 
				if (defined(\'MOD_SKILL\'.$key.\'_INFO\') && defined(\'MOD_SKILL\'.$key.\'_ACHIEVEMENT_ID\'))
					if (\\skillbase\\check_skill_info($key, \'achievement\'))
					{
						$id=((int)(constant(\'MOD_SKILL\'.$key.\'_ACHIEVEMENT_ID\')));
						if ($id>$maxid) $maxid=$id;
						if (isset($achdata[$id])) $s=((string)$achdata[$id]); else $s=\'\';
						$f=false;
						if (!\\skillbase\\check_skill_info($key, \'daily\')) $f=true;
						if (($s!=\'\')&&($s!=\'VWXYZ\')) $f=true;
						if ($f){
							$func=\'\\\\skill\'.$key.\'\\\\finalize\'.$key;
							$achdata[$id]=$func($edata,$s);
						}
					}
			
			$nachdata=\'\';
			for ($i=0; $i<=$maxid; $i++)
				$nachdata.=$achdata[$i].\';\';
			
			$db->query("UPDATE {$gtablepre}users SET n_achievements = \'$nachdata\' WHERE username=\'{$udata[\'name\']}\'");	
		}$elorating_post_gameover_events_ret = NULL;

		//========Contents from mod elorating========
		do{
			
		
		\\elorating\\elorating_update ();$replay_post_gameover_events_ret = NULL;

		//========Contents from mod replay========
		do{$sys_post_gameover_events_ret = NULL;

		//========Contents from mod sys========
		do{
			
		
		}while(0);
			
		
		
		$sys_post_gameover_events_ret;
		
		eval(import_module(\'replay\'));
		
		global $___MOD_SRV, $___MOD_CODE_ADV3;
		if (!$___MOD_SRV || !$___MOD_CODE_ADV3){ $replay_post_gameover_events_ret = NULL;
break; }
		
		
		
		$replay_flag = 0;
		if(($winmode == 1 && ($gametype >= 10  || $hdamage > 400)) || ($winmode == 2 && ($validnum > 1 || $hdamage > 400)) || ($winmode == 3) || ($winmode == 5) || ($winmode == 7) || ($winmode == 8 && ($gametype < 10  || $hdamage > 400))){
			$replay_flag = 1;
		}
		
		if(in_array($gametype, $replay_ignore_mode)){
			$replay_flag = 0;
		}
		
		if($replay_flag){
			
			$curdatalib = file_get_contents(GAME_ROOT.\'./gamedata/javascript/datalib.current.txt\');
			
			$result = $db->query("SELECT name,gstime,getime FROM {$wtablepre}winners WHERE gid={$gamenum}");
			$data = $db->fetch_array($result);
			$gametimelen = (int)$data[\'getime\']-(int)$data[\'gstime\'];
			$winname = $data[\'name\'];
			
			$result = $db->query("SELECT name,pid FROM {$tablepre}players WHERE type = 0");
			$plis = Array();
			
			$room_gprefix = \'\';
			if (room_check_subroom($room_prefix)) $room_gprefix = room_prefix_kind($room_prefix).\'.\';
			
			while($data = $db->fetch_array($result))
			{
				if (is_dir(GAME_ROOT.\'./gamedata/tmp/replay/\'.$room_prefix.\'_/\'.$data[\'pid\']) && file_exists(GAME_ROOT.\'./gamedata/tmp/replay/\'.$room_prefix.\'_/\'.$data[\'pid\'].\'/replay.txt\'))
				{
					$totsz = 0;
					
					$arr=Array(); $opdatalist=Array(); $opreclist=Array();
					$arr[\'replay_gamenum\'] = $room_gprefix.((string)$gamenum);
					$arr[\'replay_player\'] = $data[\'name\'];
					$arr[\'replay_timelen\'] = $gametimelen;
					$arr[\'replay_optime\'] = Array();
					
					$oplist = openfile(GAME_ROOT.\'./gamedata/tmp/replay/\'.$room_prefix.\'_/\'.$data[\'pid\'].\'/replay.txt\');
					$cnt = sizeof($oplist);
					
					
					$arr[\'replay_datapart\'] = ((int)floor($cnt/$partsize));
					if ($cnt%$partsize!=0) $arr[\'replay_datapart\']++;
					
					for($i = 0; $i < $cnt; $i++) 
						if(!empty($oplist[$i]) && strpos($oplist[$i],\',\')!==false)
						{
							
							list($oprec,$optime,$opdata) = explode(\',\',$oplist[$i]);
							array_push($opreclist,gdecode($oprec));
							array_push($arr[\'replay_optime\'],round($optime*10000)/10000);
							array_push($opdatalist,$opdata);
						}
					
					
					
					$jreplaydata = json_encode($arr);
					$jreplaydata = \'___temp_s = new String(\\\'\'.base64_encode(gzencode($jreplaydata,9)).\'\\\');
					replay_header = JSON.parse(JXG.decompress(___temp_s));
					delete ___temp_s;
					replay_data = new Array();
					replayload_progressbar(\'.round(100/($arr[\'replay_datapart\']+2)).\');
					jQuery.cachedScript("gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.replay.oprecord.js");
					\';
					writeover(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.replay.header.js\',$jreplaydata);
					$totsz += strlen($jreplaydata);
					
					
					$jreplaydata = json_encode($opreclist);
					$jreplaydata = \'___temp_s = new String(\\\'\'.base64_encode(gzencode($jreplaydata,9)).\'\\\');
					replay_oprecord = JSON.parse(JXG.decompress(___temp_s));
					delete ___temp_s;
					replay_data = new Array();
					replayload_progressbar(\'.round(100/($arr[\'replay_datapart\']+2)*2).\');
					jQuery.cachedScript("gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.replay.data.0.js");
					\';
					
					writeover(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.replay.oprecord.js\',$jreplaydata);
					$totsz += strlen($jreplaydata);
					
					
					for($i = 0; $i < $arr[\'replay_datapart\']; $i++) 
					{
						$i_start=$i*$partsize;
						$i_end=min($cnt-1,$i_start+$partsize-1);
						$xdata=Array();
						for ($k=$i_start; $k<=$i_end; $k++)
							array_push($xdata,gdecode(file_get_contents($opdatalist[$k]),true));
							
						$jreplaydata = json_encode($xdata);
						$jreplaydata = \'___temp_s = new String(\\\'\'.base64_encode(gzencode($jreplaydata,9)).\'\\\');
						replay_part = JSON.parse(JXG.decompress(___temp_s));
						replay_data = replay_data.concat(replay_part);
						delete replay_part;
						delete ___temp_s;
						replayload_progressbar(\'.round(100/($arr[\'replay_datapart\']+2)*($i+3)).\');
						\';
						if ($i+1<$arr[\'replay_datapart\'])
							$jreplaydata .=\'jQuery.cachedScript("gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.replay.data.\'.($i+1).\'.js");\';
						else  $jreplaydata .=\'replay_init();\';
							
						writeover(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.replay.data.\'.$i.\'.js\',$jreplaydata);
						
						$totsz += strlen($jreplaydata);
					}
					
					$totsz = (round($totsz / 1024 * 10)/10).\'KB\';
					
					writeover(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.rep\',base64_encode($curdatalib).\',\'.$gamenum.\',\'.base64_encode($data[\'name\']).\',\'.$totsz.\',\'.$cnt.\',\');
					
					
					$pic_len = 1000;
					$pix_time = $gametimelen / $pic_len;
					
					$cur=0; $ca=count($arr[\'replay_optime\']);
					$content=Array();
					for ($i=0; $i<$pic_len*4; $i++) for ($j=0; $j<3; $j++) $content[$i][$j]=255;
					for ($i=0; $i<$pic_len*4; $i++) $csz[$i]=0;
					for ($i=0; $i<$pic_len; $i++)
					{
						$cz=0;
						while ($cur<$ca && $arr[\'replay_optime\'][$cur]<=$pix_time*($i+1)) { $cz++; $cur++; }
						
						if ($pix_time<=1.2) 
							$render_strength=0.6; 
						else if ($pix_time<=2)
							$render_strength=0.35; 
						else if ($pix_time<=3)
							$render_strength=0.15;
						else  $render_strength=0;
						
						$color = 255*$cz/($pix_time/0.3);
						
						$r=$render_strength; $cs=$i;
						while ($r>0.1 && $cs+1<$pic_len)
						{
							$cs++; $csz[$cs]+=$r*$color;
							$r*=$render_strength;
						}
						$r=$render_strength; $cs=$i;
						while ($r>0.1 && $cs>0)
						{
							$cs--; $csz[$cs]+=$r*$color;
							$r*=$render_strength;
						}
						$csz[$i]+=$color;
					}
					for ($i=0; $i<$pic_len; $i++) 
					{
						if ($csz[$i]>=255) $csz[$i]=255;
						$csz[$i]=((int)round($csz[$i]));
						$content[$i][1]=255-$csz[$i];
						$content[$i][2]=255-$csz[$i];
					}
					
					file_put_contents(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.rep.bmp\',\\bmp_util\\gen_bmp($content,$pic_len,1));
					
					$data[\'opnum\']=-$cnt;
					if ($data[\'name\']==$winname) $data[\'opnum\']=-2000000000;
					array_push($plis,$data);
				}
			}
			
			$hs=Array();
			foreach ($plis as $key) 
			{
				if (!isset($hs[$key[\'opnum\']])) $hs[$key[\'opnum\']]=Array();
				array_push($hs[$key[\'opnum\']],$key);
			}
			ksort($hs);
			
			$sstr=\'\';
			foreach ($hs as $key => $value)
				foreach ($value as $wz)
					$sstr.=$wz[\'pid\'].\',\';
			
			file_put_contents(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gamenum.\'.rep.index\',$sstr);
			
		}
		
		
		
		
		
		clear_dir(GAME_ROOT.\'./gamedata/tmp/replay/\'.$room_id.\'_/\',1);
		global $___MOD_TMP_FILE_DIRECTORY;
		clear_dir($___MOD_TMP_FILE_DIRECTORY.$room_id.\'_/\',1);
		
		}while(0);
		$replay_post_gameover_events_ret;
		}while(0);
		
		$elorating_post_gameover_events_ret;
	'

Array\gameover ====> '
		return \\skill306\\gameover($time,$gmode,$winname);'

Array\gameover ====> '
		
		eval(import_module(\'sys\'));
		if($gamestate < 10) return;
		if($gmode==\'end5\'){
			$pw=\\player\\fetch_playerdata($winname);
			if (\\skillbase\\skill_query(306,$pw)){
				\\skillbase\\skill_setvalue(306,\'cnt\',1,$pw);
				\\player\\player_save($pw);
			} 
		}$skill305_gameover_ret = NULL;

		//========Contents from mod skill305========
		do{
			
		
		
		if($gamestate < 10){ $skill305_gameover_ret = NULL;
break; }
		if(((!$gmode)||(($gmode==\'end2\')&&(!$winname)))&&(!in_array($gametype,$teamwin_mode))){
			$result = $db->query("SELECT * FROM {$tablepre}players WHERE hp>0 AND type=0");
			$alivenum = $db->num_rows($result);
			if($alivenum == 1){
				$pw = $db->fetch_array($result);
				$wn=$pw[\'name\'];
				$pw=\\player\\fetch_playerdata($wn);
				if (\\skillbase\\skill_query(305,$pw)){
					\\skillbase\\skill_setvalue(305,\'cnt\',1,$pw);
					\\player\\player_save($pw);
				} 
			}
		}$sys_gameover_ret = NULL;

		//========Contents from mod sys========
		do{
			
		
		

		
		\\sys\\process_lock ();
		\\sys\\load_gameinfo ();
		
		if($gamestate < 10){ $sys_gameover_ret = NULL;
break; }
		
		if((!$gmode)||(($gmode==\'end2\')&&(!$winname))) {
			if($validnum <= 0) {
				$alivenum = 0;
				$winnum = 0;
				$winmode = 4;
				$winner = \'\';
			} else {
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE hp>0 AND type=0");
				$alivenum = $db->num_rows($result);
				if(!$alivenum) {
					$winmode = 1;
					$winnum = 0;
					$winner = \'\';
				} else {
					if (!in_array($gametype,$teamwin_mode))
					{
						
						if($alivenum == 1) {
							$winmode = 2;
							$winnum = 1;
							$wdata = $db->fetch_array($result);
							$winner = $wdata[\'name\'];
							$db->query("UPDATE {$tablepre}players SET state=\'5\' where pid=\'{$wdata[\'pid\']}\'");
						} 
						else
						{	
							\\sys\\save_gameinfo ();
							$sys_gameover_ret = NULL;
break; 
						}
					}
					else
					{
						$result = $db->query("SELECT teamID FROM {$tablepre}players WHERE type = 0 AND hp > 0");
						$flag=1; $first=1; 
						while($data = $db->fetch_array($result)) 
						{
							if ($first) 
							{ 
								$first=0; $firstteamID=$data[\'teamID\'];
							}
							else  if ($firstteamID!=$data[\'teamID\'] || !$data[\'teamID\'])
							{
								
								$flag=0; break;
							}
						}
						if ($flag && !$first)
						{
							if (!$firstteamID)	
							{	
								$db->query("UPDATE {$tablepre}players SET state=\'5\' WHERE type = 0 AND hp > 0");
								$result = $db->query("SELECT name,gd,icon,wep FROM {$tablepre}players WHERE type = 0 AND hp > 0");
								$zz = $db->fetch_array($result);
								$winner = $zz[\'name\'];
								$winnum = 1;
							}
							else				
							{
								$db->query("UPDATE {$tablepre}players SET state=\'5\' WHERE type = 0 AND teamID = \'$firstteamID\'");
								$result = $db->query("SELECT name FROM {$tablepre}players WHERE type = 0 AND teamID = \'$firstteamID\'");
								$winnum=$db->num_rows($result);
								if ($winnum == 1)
								{
									$result = $db->query("SELECT name,gd,icon,wep FROM {$tablepre}players WHERE type = 0 AND teamID = \'$firstteamID\'");
									$zz = $db->fetch_array($result);
									$winner = $zz[\'name\'];
								}
							}
						}
						else
						{	
							\\sys\\save_gameinfo ();
							$sys_gameover_ret = NULL;
break; 
						}
						
						if ($winnum > 1)
						{	
							$namelist=\'\'; $gdlist=\'\'; $iconlist=\'\'; $weplist=\'\';
							while($data = $db->fetch_array($result)) 
							{
								$namelist.=$data[\'name\'].\',\';
							}
							$winner = substr($namelist,0,-1);
						}
						$winmode = 2;
					}
				}
			}
		} else {
			$winmode = substr($gmode,3,1);
			$winnum = 1;
			$winner = $winname;
		}
		$gamestate = 0;
		$o_starttime = $starttime; $starttime = 0; 
		\\sys\\save_gameinfo ();
		$starttime = $o_starttime;

		
		$time = $time ? $time : $now;
		
		$result = $db->query("SELECT gid FROM {$wtablepre}winners ORDER BY gid DESC LIMIT 1");
		if($db->num_rows($result)&&($gamenum <= $db->result($result, 0))) {
			$gamenum = $db->result($result, 0) + 1;
		}
		if($winmode == 4 || $winmode == 0){
			$getime = $time;
			$db->query("INSERT INTO {$wtablepre}winners (gid,gametype,wmode,vnum,getime) VALUES (\'$gamenum\',\'$gametype\',\'$winmode\',\'$validnum\',\'$getime\')");
		}	elseif(($winmode == 0)||($winmode == 1)||($winmode == 6)){
			$gstime = $starttime;
			$getime = $time;
			$gtime = $time - $starttime;
			$result = $db->query("SELECT name,killnum FROM {$tablepre}players WHERE type=0 order by killnum desc, lvl desc limit 1");
			$hk = $db->fetch_array($result);
			$hkill = $hk[\'killnum\'];
			$hkp = $hk[\'name\'];
			$db->query("INSERT INTO {$wtablepre}winners (gid,gametype,wmode,vnum,gtime,gstime,getime,hdmg,hdp,hkill,hkp) VALUES (\'$gamenum\',\'$gametype\',\'$winmode\',\'$validnum\',\'$gtime\',\'$gstime\',\'$getime\',\'$hdamage\',\'$hplayer\',\'$hkill\',\'$hkp\')");
		} else {
			if ($winnum == 1)
			{
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE name=\'$winner\' AND type=0");
				$pdata = $db->fetch_array($result);
				$result2 = $db->query("SELECT motto FROM {$gtablepre}users WHERE username=\'$winner\'");
				$pdata[\'motto\'] = $db->result($result2, 0);
				$result3 = $db->query("SELECT name,killnum FROM {$tablepre}players WHERE type=0 order by killnum desc, lvl desc limit 1");
				$hk = $db->fetch_array($result3);
				$pdata[\'hkill\'] = $hk[\'killnum\'];
				$pdata[\'hkp\'] = $hk[\'name\'];
				$pdata[\'wmode\'] = $winmode;
				$pdata[\'vnum\'] = $validnum;
				$pdata[\'gtime\'] = $time - $starttime;
				$pdata[\'gstime\'] = $starttime;
				$pdata[\'getime\'] = $time;
				$pdata[\'hdmg\'] = $hdamage;
				$pdata[\'hdp\'] = $hplayer;
				$db->query("INSERT INTO {$wtablepre}winners (gid,gametype,name,pass,type,endtime,gd,sNo,icon,club,hp,mhp,sp,msp,att,def,pls,lvl,`exp`,money,bid,inf,rage,pose,tactic,killnum,state,wp,wk,wg,wc,wd,wf,teamID,teamPass,wep,wepk,wepe,weps,arb,arbk,arbe,arbs,arh,arhk,arhe,arhs,ara,arak,arae,aras,arf,arfk,arfe,arfs,art,artk,arte,arts,itm0,itmk0,itme0,itms0,itm1,itmk1,itme1,itms1,itm2,itmk2,itme2,itms2,itm3,itmk3,itme3,itms3,itm4,itmk4,itme4,itms4,itm5,itmk5,itme5,itms5,itm6,itmk6,itme6,itms6,motto,wmode,vnum,gtime,gstime,getime,hdmg,hdp,hkill,hkp,wepsk,arbsk,arhsk,arask,arfsk,artsk,itmsk0,itmsk1,itmsk2,itmsk3,itmsk4,itmsk5,itmsk6,cardname) VALUES (\'".$gamenum."\',\'".$gametype."\',\'".$pdata[\'name\']."\',\'".$pdata[\'pass\']."\',\'".$pdata[\'type\']."\',\'".$pdata[\'endtime\']."\',\'".$pdata[\'gd\']."\',\'".$pdata[\'sNo\']."\',\'".$pdata[\'icon\']."\',\'".$pdata[\'club\']."\',\'".$pdata[\'hp\']."\',\'".$pdata[\'mhp\']."\',\'".$pdata[\'sp\']."\',\'".$pdata[\'msp\']."\',\'".$pdata[\'att\']."\',\'".$pdata[\'def\']."\',\'".$pdata[\'pls\']."\',\'".$pdata[\'lvl\']."\',\'".$pdata[\'exp\']."\',\'".$pdata[\'money\']."\',\'".$pdata[\'bid\']."\',\'".$pdata[\'inf\']."\',\'".$pdata[\'rage\']."\',\'".$pdata[\'pose\']."\',\'".$pdata[\'tactic\']."\',\'".$pdata[\'killnum\']."\',\'".$pdata[\'state\']."\',\'".$pdata[\'wp\']."\',\'".$pdata[\'wk\']."\',\'".$pdata[\'wg\']."\',\'".$pdata[\'wc\']."\',\'".$pdata[\'wd\']."\',\'".$pdata[\'wf\']."\',\'".$pdata[\'teamID\']."\',\'".$pdata[\'teamPass\']."\',\'".$pdata[\'wep\']."\',\'".$pdata[\'wepk\']."\',\'".$pdata[\'wepe\']."\',\'".$pdata[\'weps\']."\',\'".$pdata[\'arb\']."\',\'".$pdata[\'arbk\']."\',\'".$pdata[\'arbe\']."\',\'".$pdata[\'arbs\']."\',\'".$pdata[\'arh\']."\',\'".$pdata[\'arhk\']."\',\'".$pdata[\'arhe\']."\',\'".$pdata[\'arhs\']."\',\'".$pdata[\'ara\']."\',\'".$pdata[\'arak\']."\',\'".$pdata[\'arae\']."\',\'".$pdata[\'aras\']."\',\'".$pdata[\'arf\']."\',\'".$pdata[\'arfk\']."\',\'".$pdata[\'arfe\']."\',\'".$pdata[\'arfs\']."\',\'".$pdata[\'art\']."\',\'".$pdata[\'artk\']."\',\'".$pdata[\'arte\']."\',\'".$pdata[\'arts\']."\',\'".$pdata[\'itm0\']."\',\'".$pdata[\'itmk0\']."\',\'".$pdata[\'itme0\']."\',\'".$pdata[\'itms0\']."\',\'".$pdata[\'itm1\']."\',\'".$pdata[\'itmk1\']."\',\'".$pdata[\'itme1\']."\',\'".$pdata[\'itms1\']."\',\'".$pdata[\'itm2\']."\',\'".$pdata[\'itmk2\']."\',\'".$pdata[\'itme2\']."\',\'".$pdata[\'itms2\']."\',\'".$pdata[\'itm3\']."\',\'".$pdata[\'itmk3\']."\',\'".$pdata[\'itme3\']."\',\'".$pdata[\'itms3\']."\',\'".$pdata[\'itm4\']."\',\'".$pdata[\'itmk4\']."\',\'".$pdata[\'itme4\']."\',\'".$pdata[\'itms4\']."\',\'".$pdata[\'itm5\']."\',\'".$pdata[\'itmk5\']."\',\'".$pdata[\'itme5\']."\',\'".$pdata[\'itms5\']."\',\'".$pdata[\'itm6\']."\',\'".$pdata[\'itmk6\']."\',\'".$pdata[\'itme6\']."\',\'".$pdata[\'itms6\']."\',\'".$pdata[\'motto\']."\',\'".$pdata[\'wmode\']."\',\'".$pdata[\'vnum\']."\',\'".$pdata[\'gtime\']."\',\'".$pdata[\'gstime\']."\',\'".$pdata[\'getime\']."\',\'".$pdata[\'hdmg\']."\',\'".$pdata[\'hdp\']."\',\'".$pdata[\'hkill\']."\',\'".$pdata[\'hkp\']."\',\'".$pdata[\'wepsk\']."\',\'".$pdata[\'arbsk\']."\',\'".$pdata[\'arhsk\']."\',\'".$pdata[\'arask\']."\',\'".$pdata[\'arfsk\']."\',\'".$pdata[\'artsk\']."\',\'".$pdata[\'itmsk0\']."\',\'".$pdata[\'itmsk1\']."\',\'".$pdata[\'itmsk2\']."\',\'".$pdata[\'itmsk3\']."\',\'".$pdata[\'itmsk4\']."\',\'".$pdata[\'itmsk5\']."\',\'".$pdata[\'itmsk6\']."\',\'".$pdata[\'cardname\']."\')");
			}
			else
			{
				$gstime = $starttime;
				$getime = $time;
				$gtime = $time - $starttime;
				$result = $db->query("SELECT name,killnum FROM {$tablepre}players WHERE type=0 order by killnum desc, lvl desc limit 1");
				$hk = $db->fetch_array($result);
				$hkill = $hk[\'killnum\'];
				$hkp = $hk[\'name\'];
				$db->query("INSERT INTO {$wtablepre}winners (gid,gametype,wmode,vnum,gtime,gstime,getime,hdmg,hdp,hkill,hkp,winnum,namelist,teamID) VALUES (\'$gamenum\',\'$gametype\',\'$winmode\',\'$validnum\',\'$gtime\',\'$gstime\',\'$getime\',\'$hdamage\',\'$hplayer\',\'$hkill\',\'$hkp\',\'$winnum\',\'$namelist\',\'$firstteamID\')");
			}
		}

		
		set_credits();

		
		\\sys\\rs_sttime ();
		
		\\sys\\process_unlock ();
		
		
		\\sys\\post_gameover_events ();

		
		\\sys\\addnews ($time, "end$winmode",$winner);
		\\sys\\addnews ($time, \'gameover\' ,$gamenum);
		\\sys\\systemputchat ($time,\'gameover\');
		$newsinfo = \\sys\\load_news ();
		$newsinfo = \'<ul>\'.implode(\'\',$newsinfo).\'</ul>\';

		$room_gprefix = \'\';
		if (room_check_subroom($room_prefix)) $room_gprefix = (substr($room_prefix,0,1)).\'.\';
		writeover(GAME_ROOT."./gamedata/bak/{$room_gprefix}{$gamenum}_newsinfo.html",$newsinfo,\'wb+\');

		$sys_gameover_ret = NULL;
break; 
		}while(0);
		$sys_gameover_ret;
		}while(0);
		$skill305_gameover_ret;
	'

Array\parse_itmk_words ====> '
		return \\poison\\parse_itmk_words($k_value);'

Array\parse_interface_profile ====> '
		
		eval(import_module(\'player\'));
		\\player\\update_sdata();
		$tpldata+=\\itemmain\\parse_item_words ($sdata);$player_parse_interface_profile_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		
		eval(import_module(\'sys\',\'map\'));
		
		$ardef = $arbe + $arhe + $arae + $arfe;
		
		
		
		$hpcolor = \'clan\';
		if($hp <= $mhp*0.2) $hpcolor = \'red\';
		elseif($hp <= $mhp*0.5) $hpcolor = \'yellow\';
		$newhppre = 6+floor(155*(1-$hp/$mhp));
		$newhpimg = \'<img src="img/hpman.gif" style="position:absolute; clip:rect(\'.$newhppre.\'px,55px,160px,0px);">\';
		$hpltp = 3+floor(155*(1-$hp/$mhp));
		$hplt = \'<img src="img/hplt.gif" style="position:absolute; clip:rect(\'.$hpltp.\'px,55px,160px,0px);">\';
		
		$spcolor = \'clan\';
		if($sp <= $msp*0.2) $spcolor = \'grey\';
		elseif($sp <= $msp*0.5) $spcolor = \'yellow\';
		$newsppre = 6+floor(155*(1-$sp/$msp));
		$newspimg = \'<img src="img/spman.gif" style="position:absolute; clip:rect(\'.$newsppre.\'px,55px,160px,0px);">\';
		$spltp = 3+floor(155*(1-$sp/$msp));
		$splt = \'<img src="img/splt.gif" style="position:absolute; clip:rect(\'.$spltp.\'px,55px,160px,0px);">\';
		
		$uip[\'innerHTML\'][\'pls\'] = $plsinfo[$pls];
		$uip[\'value\'][\'teamID\'] = $teamID;
		if($teamID){
			$uip[\'innerHTML\'][\'chattype\'] = "<select name=\\"chattype\\" value=\\"2\\"><option value=\\"0\\" selected>$chatinfo[0]<option value=\\"1\\" >$chatinfo[1]</select>";
		}else{
			$uip[\'innerHTML\'][\'chattype\'] = "<select name=\\"chattype\\" value=\\"2\\"><option value=\\"0\\" selected>$chatinfo[0]</select>";
		}
		\\map\\init_areatiming();
		$player_parse_interface_profile_ret = NULL;
break; 
		}while(0);
		$player_parse_interface_profile_ret;
	'

Array\rs_game ====> '
		return \\tutorial\\rs_game($xmode);'

Array\get_itemfilecont ====> '
		return \\gtype17\\get_itemfilecont();'

Array\discover_item ====> '
		return \\tutorial\\discover_item();'

Array\focus_item ====> '
		return \\searchmemory\\focus_item($iarr);'

Array\calculate_itemfind_obbs ====> '
		return \\weather\\calculate_itemfind_obbs();'

Array\calculate_itemfind_obbs_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill214\\calculate_itemfind_obbs_multiplier\') 
		{
			return \\skill214\\calculate_itemfind_obbs_multiplier();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return 1.0;
	'

Array\discover ====> '
		return \\tutorial\\discover($schmode);'

Array\act ====> '
		return \\smartmix\\act();'

Array\itemuse_wrapper ====> '
		return \\cooldown\\itemuse_wrapper($itmn);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\itemget ====> '
		return \\tutorial\\itemget();'

Array\itemdrop ====> '
		return \\searchmemory\\itemdrop($item);'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\skill_onsave_event ====> '
		return \\skill1\\skill_onsave_event($pa);'

Array\calculate_move_sp_cost ====> '
		return \\skill8\\calculate_move_sp_cost();'

Array\check_initnpcadd ====> '
		return \\gtype2\\check_initnpcadd($typ);'

Array\rs_game ====> '
		return \\tutorial\\rs_game($xmode);'

Array\get_npclist ====> '
		return \\gtype17\\get_npclist();'

Array\addarea_pc_process_single ====> '$player_addarea_pc_process_single_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		eval(import_module(\'sys\',\'map\'));
		$pid = $sub[\'pid\'];
		$o_sub = $sub;
		if(!$sub[\'type\']){
			
			if (!\\player\\check_pc_avoid_killarea ($sub, $atime)){
				$sub[\'hp\'] = 0;
				$sub[\'state\'] = 11;
				$sub[\'bid\'] = 0;
				$sub[\'endtime\'] = $atime;
				$sub[\'player_dead_flag\'] = 1;
				$db->array_update("{$tablepre}players",$sub,"pid=\'$pid\'",$o_sub);
				addnews($atime,\'death11\',$sub[\'name\'],$sub[\'type\'],$sub[\'pls\']);
				$deathnum++;
			}else{
				$pls_available = \\map\\get_safe_plslist();
				if(!$pls_available) $pls_available = \\map\\get_safe_plslist(0);
				shuffle($pls_available);
				$sub[\'pls\'] = $pls_available[0];
				$db->array_update("{$tablepre}players",$sub,"pid=\'$pid\'",$o_sub);
				\\player\\post_pc_avoid_killarea ($sub, $atime);
			}
		}
		}while(0);
		
		$player_addarea_pc_process_single_ret;
		eval(import_module(\'sys\',\'map\',\'npc\'));
		$pid = $sub[\'pid\'];
		$o_sub = $sub;
		$pls_available = \\map\\get_safe_plslist();
		if($sub[\'type\'] && !in_array($sub[\'type\'],$killzone_resistant_typelist) && $pls_available){
			shuffle($pls_available);
			$sub[\'pls\'] = $pls_available[0];
			$db->array_update("{$tablepre}players",$sub,"pid=\'$pid\'",$o_sub);
			\\player\\post_pc_avoid_killarea($sub, $atime);
			
		}
	'

Array\get_player_killmsg ====> '
		
		
		eval(import_module(\'player\'));
		if ($pdata[\'type\']>0)
		{
			if (isset($killmsginfo [$pdata[\'type\']]))
				$kilmsg = $killmsginfo [$pdata[\'type\']];
			else  $kilmsg = \'\';
			return $kilmsg;
		}
		else{$player_get_player_killmsg_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		eval(import_module(\'sys\'));
		if ($pdata[\'type\']==0)
		{
			$result = $db->query ( "SELECT killmsg FROM {$gtablepre}users WHERE username = \'{$pdata[\'name\']}\'" );
			$kilmsg = $db->result ( $result, 0 );
			$player_get_player_killmsg_ret =  $kilmsg;
break; 
		}
		$player_get_player_killmsg_ret =  \'\';
break; 
		}while(0);  return $player_get_player_killmsg_ret;}
	'

Array\get_player_lastword ====> '
		
		
		eval(import_module(\'player\'));
		if ($pdata[\'type\']>0)
		{
			if (is_array ( $lwinfo [$pdata[\'type\']] )) {
				if (isset($lwinfo [$pdata[\'type\']] [$pdata[\'name\']]))
					$lstwd = $lwinfo [$pdata[\'type\']] [$pdata[\'name\']];
				else  $lstwd = \'\';
			} else {
				if (isset($lwinfo [$pdata[\'type\']]))
					$lstwd = $lwinfo [$pdata[\'type\']];
				else  $lstwd = \'\';
			}
			return $lstwd;
		}
		else{$player_get_player_lastword_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		eval(import_module(\'sys\'));
		if ($pdata[\'type\']==0)
		{
			$result = $db->query ( "SELECT lastword FROM {$gtablepre}users WHERE username = \'{$pdata[\'name\']}\'" );
			$lstwd = $db->result ( $result, 0 );
			$player_get_player_lastword_ret =  $lstwd;
break; 
		}
		$player_get_player_lastword_ret =  \'\';
break; 
		}while(0);  return $player_get_player_lastword_ret;}
	'

Array\lvlup ====> '
		return \\gtype1\\lvlup($pa);'

Array\lvlup ====> '
		return \\gtype1\\lvlup($pa);'

Array\lvlup ====> '
		return \\gtype1\\lvlup($pa);'

Array\lvlup ====> '
		return \\gtype1\\lvlup($pa);'

Array\lvlup ====> '
		return \\gtype1\\lvlup($pa);'

Array\lvlup ====> '
		return \\gtype1\\lvlup($pa);'

Array\lvlup ====> '
		return \\gtype1\\lvlup($pa);'

Array\lvlup ====> '
		return \\gtype1\\lvlup($pa);'

Array\init_battle ====> '
		return \\skill252\\init_battle($ismeet);'

Array\calculate_findman_obbs ====> '
		return \\weather\\calculate_findman_obbs($edata);'

Array\calculate_hide_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tactic\\calculate_hide_obbs\') 
		{
			return \\skill248\\calculate_hide_obbs($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return 0;
	'

Array\check_alive_discover ====> '
		return \\skill435\\check_alive_discover($edata);'

Array\check_corpse_discover ====> '
		return \\gameflow_combo\\check_corpse_discover($edata);'

Array\check_corpse_discover_dice ====> '
		return \\corpse\\check_corpse_discover_dice($edata);'

Array\check_player_discover ====> '
		return \\gtype2\\check_player_discover($edata);'

Array\meetman ====> '
		return \\searchmemory\\meetman($sid);'

Array\meetman_alternative ====> '
		return \\tutorial\\meetman_alternative($edata);'

Array\calculate_meetman_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gameflow_duel\\calculate_meetman_rate\') 
		{
			return \\pose\\calculate_meetman_rate($schmode);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return \\metman\\calculate_meetman_rate_by_mode ($schmode);
	'

Array\discover_player ====> '
		return \\tutorial\\discover_player();'

Array\discover ====> '
		return \\tutorial\\discover($schmode);'

Array\itemmix_success ====> '
		return \\tutorial\\itemmix_success();'

Array\itemmix ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'itemmix_sync\\itemmix\') 
		{
			return \\itemmix_overlay\\itemmix($mlist,$itemselect);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'itemmix\'));
		
		if(!\\itemmix\\itemmix_place_check ($mlist)) return;
		
		$mixitem = array();
		foreach($mlist as $val){
			$mixitem[] = \\itemmix\\itemmix_name_proc (${\'itm\'.$val});
		}
		$mix_res = \\itemmix\\itemmix_recipe_check ($mixitem);

















		
		$itmstr = \'\';
		foreach($mixitem as $val){
			$itmstr .= $val.\' \';
		}
		$itmstr = substr($itmstr,0,-1);
			
		if(!$mix_res) {
			$log .= "<span class=\\"yellow\\">$itmstr</span>不能合成！<br>";
			ob_clean();
			template(\\itemmix\\get_itemmix_filename ());
			$cmd = ob_get_contents();
			ob_clean();
		} else {
			foreach($mlist as $val){
				\\itemmix\\itemreduce (\'itm\'.$val);
			}
			$minfo = $mix_res;
			$itm0 = $minfo[\'result\'][0];
			$itmk0 = $minfo[\'result\'][1];
			$itme0 = $minfo[\'result\'][2];
			$itms0 = $minfo[\'result\'][3];
			if (isset($minfo[\'result\'][4]))
				$itmsk0 = $minfo[\'result\'][4];
			else{
				$itmsk0 = \'\';
			}
			$uip[\'itmstr\'] = $itmstr;
			\\itemmix\\itemmix_success ();
		}
		return;
	'

Array\get_itemmix_filename ====> '
		return \\smartmix\\get_itemmix_filename();'

Array\act ====> '
		return \\smartmix\\act();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_shoplist ====> '
		return \\gtype2\\get_shoplist();'

Array\rs_game ====> '
		return \\tutorial\\rs_game($xmode);'

Array\prepare_shopitem ====> '
		return \\skill69\\prepare_shopitem($sn);'

Array\get_itemshop_filename ====> '
		return \\tutorial\\get_itemshop_filename();'

Array\get_sp_shop_filename ====> '
		return \\tutorial\\get_sp_shop_filename();'

Array\get_shopiteminfo ====> '
		return \\skill69\\get_shopiteminfo($item);'

Array\calculate_shop_itembuy_cost ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill454\\calculate_shop_itembuy_cost\') 
		{
			return \\skill454\\calculate_shop_itembuy_cost($price,$bnum);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return $price*$bnum;
	'

Array\itembuy ====> '
		return \\tutorial\\itembuy($item,$shop,$bnum);'

Array\check_in_shop_area ====> '
		return \\skill68\\check_in_shop_area($p);'

Array\act ====> '
		return \\smartmix\\act();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_edible_spup ====> '
		return \\skill474\\get_edible_spup($theitem);'

Array\get_edible_hpup ====> '
		return \\skill474\\get_edible_hpup($theitem);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\newradar ====> '
		return \\weather\\newradar($mms);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\calculate_hack_proc_rate ====> '
		return \\skill233\\calculate_hack_proc_rate();'

Array\post_hack_events ====> '
		return \\skill233\\post_hack_events($itmn);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\act ====> '
		return \\smartmix\\act();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\act ====> '
		return \\smartmix\\act();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\act ====> '
		return \\smartmix\\act();'

Array\check_corpse_discover ====> '
		return \\gameflow_combo\\check_corpse_discover($edata);'

Array\check_corpse_discover_dice ====> '
		
		eval(import_module(\'corpse\'));
		$corpse_dice = rand(0,99);
		if ($corpse_dice < $corpse_obbs) return 1; else return 0;
	'

Array\get_corpse_filename ====> '
		return \\tutorial\\get_corpse_filename();'

Array\meetman ====> '
		return \\searchmemory\\meetman($sid);'

Array\prepare_initial_response_content ====> '
		return \\cooldown\\prepare_initial_response_content();'

Array\getcorpse_action ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\getcorpse_action\') 
		{
			return \\tutorial\\getcorpse_action($edata,$item);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		
		if($item == \'wep\') {
			$itm0 = $edata[\'wep\'];
			$itmk0 = $edata[\'wepk\'];
			$itme0 = $edata[\'wepe\'];
			$itms0 = $edata[\'weps\'];
			$itmsk0 = $edata[\'wepsk\'];
			$edata[\'wep\'] = $edata[\'wepk\'] = $edata[\'wepsk\'] = \'\';
			$edata[\'wepe\'] = $edata[\'weps\'] = 0;  
		} elseif(strpos($item,\'ar\') === 0) {
			$itm0 = $edata[$item];
			$itmk0 = $edata[$item.\'k\'];
			$itme0 = $edata[$item.\'e\'];
			$itms0 = $edata[$item.\'s\'];
			$itmsk0 = $edata[$item.\'sk\'];
			$edata[$item] = $edata[$item.\'k\'] = $edata[$item.\'sk\'] = \'\';
			$edata[$item.\'e\'] = $edata[$item.\'s\'] = 0;  
		} elseif(strpos($item,\'itm\') === 0) {
			$itmn = substr($item,3,1);
			$itm0 = $edata[\'itm\'.$itmn];
			$itmk0 = $edata[\'itmk\'.$itmn];
			$itme0 = $edata[\'itme\'.$itmn];
			$itms0 = $edata[\'itms\'.$itmn];
			$itmsk0 = $edata[\'itmsk\'.$itmn];
			$edata[\'itm\'.$itmn] = $edata[\'itmk\'.$itmn] = $edata[\'itmsk\'.$itmn] = \'\';
			$edata[\'itme\'.$itmn] = $edata[\'itms\'.$itmn] = 0;  
		} elseif($item == \'money\') {
			$money += $edata[\'money\'];
			$log .= \'获得了金钱 <span class="yellow">\'.$edata[\'money\'].\'</span>。<br>\';
			$edata[\'money\'] = 0;
			\\player\\player_save($edata);
			$action = \'\';
			$mode = \'command\';
			return;
		} elseif($item == \'destroy\') {
			$edata[\'weps\'] = 0;
			$edata[\'arbs\'] = 0;
			$edata[\'arhs\'] = 0;
			$edata[\'aras\'] = 0;
			$edata[\'arfs\'] = 0;
			$edata[\'arts\'] = 0;
			$edata[\'itms0\'] = 0;
			$edata[\'itms1\'] = 0;
			$edata[\'itms2\'] = 0;
			$edata[\'itms3\'] = 0;
			$edata[\'itms4\'] = 0;
			$edata[\'itms5\'] = 0;
			$edata[\'itms6\'] = 0;
			$edata[\'money\'] = 0;
			$edata[\'state\'] = 16;
			\\player\\player_save($edata);
			$log .= \'尸体成功销毁！\';
			$action = \'\';
			$mode = \'command\';
			return;
		} else {
			$mode = \'command\';
			$action = \'\';
			return;
		}
		if(!$itms0||!$itmk0||$itmk0==\'WN\'||$itmk0==\'DN\') {
			$log .= \'该物品不存在！\';
			$itms = 0;
		} else {
			\\itemmain\\itemget();
		}
		$action = \'\';
		$mode = \'command\';
	'

Array\act ====> '
		return \\smartmix\\act();'

Array\rs_game ====> '
		return \\tutorial\\rs_game($xmode);'

Array\get_trapfilecont ====> '
		return \\gtype17\\get_trapfilecont();'

Array\calculate_real_trap_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gameflow_combo\\calculate_real_trap_obbs\') 
		{
			return \\pose\\calculate_real_trap_obbs();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'player\',\'trap\'));
		$trapresult = $db->query("SELECT * FROM {$tablepre}maptrap WHERE pls = \'$pls\' ORDER BY itmk DESC");
		$trpnum = $db->num_rows($trapresult);
		$result = $db->query("SELECT pid FROM {$tablepre}players WHERE pls=\'$pls\' AND pid!=\'$pid\' AND state!=\'16\'");
		$pnum=$db->num_rows($result);
		$exr=0;
		if ($pnum<=4) $exr=0.5;
		if ($pnum<=2) $exr=0.9;
		if ($pnum==1) $exr=1.4;
		if ($pnum==0) $exr=0.2;
		$real_trap_obbs = $trap_min_obbs + $trpnum/4+$exr;
		return $real_trap_obbs;
		


	'

Array\get_trap_escape_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill19\\get_trap_escape_rate\') 
		{
			return \\ex_attr_trap\\get_trap_escape_rate();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'player\',\'map\',\'itemmain\',\'trap\'));
		$escrate = 8 + $lvl/3 ;
		


		if ($selflag) $escrate += 50; 
		return $escrate;
	'

Array\get_trap_damage ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'miracletrap\\get_trap_damage\') 
		{
			return \\miracletrap\\get_trap_damage();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'player\'));
		$damage = round(rand(0,$itme0/2)+($itme0/2));
		return $damage;
	'

Array\get_trap_damage_multiplier ====> '
		return \\skill409\\get_trap_damage_multiplier($pa,$pd,$trap,$damage);'

Array\get_trap_final_damage_modifier_down ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill457\\get_trap_final_damage_modifier_down\') 
		{
			return \\skill455\\get_trap_final_damage_modifier_down($pa,$pd,$tritm,$damage);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return $damage;
	'

Array\get_trap_final_damage_change ====> '
		return \\skill479\\get_trap_final_damage_change($pa,$pd,$tritm,$damage);'

Array\post_traphit_events ====> '
		return \\ex_dmg_att\\post_traphit_events($pa,$pd,$tritm,$damage);'

Array\trap_deal_damage ====> '
		return \\ex_attr_trap\\trap_deal_damage();'

Array\calculate_trap_reuse_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill19\\calculate_trap_reuse_rate\') 
		{
			return \\skill212\\calculate_trap_reuse_rate();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'player\',\'trap\'));
		$fdrate = 5 + $lvl/3;
		$fdrate = $selflag ? $fdrate + 50 : $fdrate;
		return $fdrate;
	'

Array\trap_miss_reused ====> '
		return \\ex_attr_trap\\trap_miss_reused();'

Array\trap_miss_broken ====> '
		return \\ex_attr_trap\\trap_miss_broken();'

Array\trap ====> '
		return \\miracletrap\\trap();'

Array\get_traplist ====> '
		return \\skill247\\get_traplist();'

Array\trapcheck ====> '
		return \\miracletrap\\trapcheck();'

Array\discover ====> '
		return \\tutorial\\discover($schmode);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\trap_use ====> '
		return \\skill19\\trap_use($theitem);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\itemmix ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'itemmix_overlay\\itemmix\') 
		{
			return \\itemmix_overlay\\itemmix($mlist,$itemselect);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'itemmix\'));
		$chc_res = \\itemmix_sync\\itemmix_sync_check ($mlist);

		
		if (!$chc_res) return \\itemmix\\itemmix($mlist, $itemselect);	
		$chc = array_pop($chc_res);
		if ($itemselect==-1)
		{
			$mask=0;
			foreach($chc[\'list\'] as $k)
				if (1<=$k && $k<=6)
					$mask|=(1<<((int)$k-1));
				
			$cmd.=\'<input type="hidden" id="mode" name="mode" value="itemmain">\';
			$cmd.=\'<input type="hidden" id="command" name="command" value="itemmix">\';
			$cmd.=\'<input type="hidden" id="mixmask" name="mixmask" value="\'.$mask.\'">\';
			$cmd.=\'<input type="hidden" id="itemselect" name="itemselect" value="999">\';
			$cmd.= "请选择同调结果<br><br>";
			$sync = count($chc[\'choices\']);
			for($i=0;$i<$sync;$i++){
				$tn=$chc[\'choices\'][$i][0];
				$cmd.="<input type=\\"button\\" class=\\"cmdbutton\\"  style=\\"width:200\\" value=\\"".$tn."\\" onclick=\\"$(\'itemselect\').value=\'".$i."\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;\\">";
			}
			$cmd.="<input type=\\"button\\" class=\\"cmdbutton\\"  style=\\"width:200\\" value=\\"返回\\" onclick=\\"postCmd(\'gamecmd\',\'command.php\');this.disabled=true;\\">";
			return;
		}
		else
		{
			$i=(int)$itemselect;
			if ($i<0 || $i > count($chc[\'choices\']) - 1)
			{
				$mode=\'command\'; return; 
			}
			foreach($chc[\'list\'] as $val)
			{
				\\itemmix\\itemreduce(\'itm\'.$val);
			}
			list($itm0,$itmk0,$itme0,$itms0,$itmsk0) = $chc[\'choices\'][$i];
			addnews($now,\'syncmix\',$name,$itm0);
			\\itemmain\\itemget();
			$mode = \'command\';
			return;
		}
		\\itemmix\\itemmix($mlist, $itemselect);
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\itemmix ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'itemmix\'));
		



		
		
		$chc_res = \\itemmix_overlay\\itemmix_overlay_check ($mlist);

		
		
		if (!$chc_res) return \\itemmix_sync\\itemmix($mlist, $itemselect);	
		$chc = array_pop($chc_res);
		if ($itemselect==-1)
		{
			$mask=0;
			foreach($chc[\'list\'] as $k)
				if (1<=$k && $k<=6)
					$mask|=(1<<((int)$k-1));
						
			$cmd.=\'<input type="hidden" id="mode" name="mode" value="itemmain">\';
			$cmd.=\'<input type="hidden" id="command" name="command" value="itemmix">\';
			$cmd.=\'<input type="hidden" id="mixmask" name="mixmask" value="\'.$mask.\'">\';
			$cmd.=\'<input type="hidden" id="itemselect" name="itemselect" value="999">\';
			$cmd.= "请选择超量结果<br><br>";
			$sync = count($chc[\'choices\']);
			for($i=0;$i<$sync;$i++){
				$tn = $chc[\'choices\'][$i][0];
				$cmd.="<input type=\\"button\\" class=\\"cmdbutton\\"  style=\\"width:200\\" value=\\"".$tn."\\" onclick=\\"$(\'itemselect\').value=\'".$i."\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;\\">";
			}
			$cmd.="<input type=\\"button\\" class=\\"cmdbutton\\"  style=\\"width:200\\" value=\\"返回\\" onclick=\\"postCmd(\'gamecmd\',\'command.php\');this.disabled=true;\\">";
			return;
		}
		else
		{
			$i=(int)$itemselect;
			if ($i<0 || $i > count($chc[\'choices\']) - 1)
			{
				$mode=\'command\'; return; 
			}
			foreach($chc[\'list\'] as $val)
			{
				\\itemmix\\itemreduce(\'itm\'.$val);
			}
			list($itm0,$itmk0,$itme0,$itms0,$itmsk0) = $chc[\'choices\'][$i];
			addnews($now,\'overmix\',$name,$itm0);
			\\itemmain\\itemget();
			$mode = \'command\';
			return;
		}
		\\itemmix_sync\\itemmix($mlist, $itemselect);
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\itemmix_success ====> '
		return \\tutorial\\itemmix_success();'

Array\itemmix_success ====> '
		return \\tutorial\\itemmix_success();'

Array\itemmix_success ====> '
		return \\tutorial\\itemmix_success();'

Array\itemmix_success ====> '
		return \\tutorial\\itemmix_success();'

Array\itemmix_success ====> '
		return \\tutorial\\itemmix_success();'

Array\itemmix_success ====> '
		return \\tutorial\\itemmix_success();'

Array\itemmix_success ====> '
		return \\tutorial\\itemmix_success();'

Array\itemmix_success ====> '
		return \\tutorial\\itemmix_success();'

Array\itemmix_success ====> '
		return \\tutorial\\itemmix_success();'

Array\itemmix_success ====> '
		return \\tutorial\\itemmix_success();'

Array\itemmix_success ====> '
		return \\tutorial\\itemmix_success();'

Array\get_shopiteminfo ====> '$itemshop_get_shopiteminfo_ret = NULL;

		//========Contents from mod itemshop========
		do{
				
		
		
		eval(import_module(\'sys\'));
		$result=$db->query("SELECT * FROM {$tablepre}shopitem WHERE sid = \'$item\'");
		$shopiteminfo = $db->fetch_array($result);
		$itemshop_get_shopiteminfo_ret =  $shopiteminfo;
break; 
		}while(0);
		
		$ret=$itemshop_get_shopiteminfo_ret;
		if (\\skillbase\\skill_query(69)) $ret[\'price\']=round($ret[\'price\']*0.75);
		return $ret;
	'

Array\prepare_shopitem ====> '$itemshop_prepare_shopitem_ret = NULL;

		//========Contents from mod itemshop========
		do{
			
		
		
		eval(import_module(\'sys\',\'map\',\'itemmain\'));
		$arean = floor($areanum / $areaadd); 
		$result=$db->query("SELECT * FROM {$tablepre}shopitem WHERE kind = \'$sn\' AND area <= \'$arean\' AND num > \'0\' AND price > \'0\' ORDER BY sid");
		$shopnum = $db->num_rows($result);
		for($i=0;$i< $shopnum;$i++){
			$itemdata[$i]=$db->fetch_array($result);
			$itemdata[$i][\'itmk_words\']=\\itemmain\\parse_itmk_words($itemdata[$i][\'itmk\'],1);
			$itemdata[$i][\'itmsk_words\']=\\itemmain\\parse_itmsk_words($itemdata[$i][\'itmsk\'],1);
		}
		$itemshop_prepare_shopitem_ret =  $itemdata;
break; 
		}while(0);
		
		$ret=$itemshop_prepare_shopitem_ret;
		if (\\skillbase\\skill_query(69)) 
		{
			for ($i=0; $i<count($ret); $i++)
				$ret[$i][\'price\']=round($ret[$i][\'price\']*0.75);
		}
		return $ret;
	'

Array\get_edible_spup ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill421\\get_edible_spup\') 
		{
			return \\skill474\\get_edible_spup($theitem);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(300))
		{
			$x=(int)\\skillbase\\skill_getvalue(300,\'cnt\');
			$x+=$theitem[\'itme\'];
			\\skillbase\\skill_setvalue(300,\'cnt\',$x);
		}$edible_get_edible_spup_ret = NULL;

		//========Contents from mod edible========
		do{
			
		
		$edible_get_edible_spup_ret =  $theitem[\'itme\'];
break; 
		}while(0);
		return $edible_get_edible_spup_ret;
	'

Array\get_edible_hpup ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill31\\get_edible_hpup\') 
		{
			return \\skill474\\get_edible_hpup($theitem);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(300))
		{
			$x=(int)\\skillbase\\skill_getvalue(300,\'cnt\');
			$x+=$theitem[\'itme\'];
			\\skillbase\\skill_setvalue(300,\'cnt\',$x);
		}$edible_get_edible_hpup_ret = NULL;

		//========Contents from mod edible========
		do{
			
		
		$edible_get_edible_hpup_ret =  $theitem[\'itme\'];
break; 
		}while(0);
		return $edible_get_edible_hpup_ret;
	'

Array\get_move_coldtime ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill601\\get_move_coldtime\') 
		{
			return \\skill601\\get_move_coldtime($dest);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'cooldown\'));
		return $movecoldtime;
	'

Array\get_search_coldtime ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill601\\get_search_coldtime\') 
		{
			return \\skill601\\get_search_coldtime();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'cooldown\'));
		return $searchcoldtime;
	'

Array\get_itemuse_coldtime ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill601\\get_itemuse_coldtime\') 
		{
			return \\skill601\\get_itemuse_coldtime($item);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'cooldown\'));
		return $itemusecoldtime;
	'

Array\move ====> '
		return \\tutorial\\move($moveto);'

Array\search ====> '
		return \\tutorial\\search();'

Array\itemuse_wrapper ====> '
		
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'cooldown\'));
		if($coldtimeon){
			$cdover = $cdsec*1000 + $cdmsec;
			$nowmtime = floor(getmicrotime()*1000);
			$rmcdtime = $nowmtime >= $cdover ? 0 : $cdover - $nowmtime;
		}

		if ($coldtimeon && $rmcdtime > 0)
		{
			$log .= \'<span class="yellow">冷却时间尚未结束！</span><br>\';
			$mode = \'command\';
			return;
		}
		
		if($coldtimeon) $cmdcdtime=\\cooldown\\get_itemuse_coldtime ($item);$itemmain_itemuse_wrapper_ret = NULL;

		//========Contents from mod itemmain========
		do{
			$itmn = $item; 

		
		
		eval(import_module(\'itemmain\'));
		if ($itmn < 1 || $itmn > 6) {
			$log .= \'此道具不存在，请重新选择。\';
			$mode = \'command\';
			$itemmain_itemuse_wrapper_ret = NULL;
break; 
		}
		$theitem=Array();
		$theitem[\'itm\'] = & ${\'itm\' . $itmn};
		$theitem[\'itmk\'] = & ${\'itmk\' . $itmn};
		$theitem[\'itme\'] = & ${\'itme\' . $itmn};
		$theitem[\'itms\'] = & ${\'itms\' . $itmn};
		$theitem[\'itmsk\'] = & ${\'itmsk\' . $itmn};
		$theitem[\'itmn\'] = $itmn;
		
		if (($theitem[\'itms\'] <= 0) && ($theitem[\'itms\'] != $nosta)) {
			$theitem[\'itm\'] = $theitem[\'itmk\'] = $theitem[\'itmsk\'] = \'\';
			$theitem[\'itme\'] = $theitem[\'itms\'] = 0;
			$log .= \'此道具不存在，请重新选择。<br>\';
			$mode = \'command\';
			$itemmain_itemuse_wrapper_ret = NULL;
break; 
		}
		
		\\itemmain\\itemuse ($theitem);
		
		$mode = \'command\';
		}while(0);
		
		$itemmain_itemuse_wrapper_ret;
	'

Array\post_act ====> '
		
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'cooldown\'));
		
		$pstime = \\cooldown\\get_pstime ();
	
		
		if($coldtimeon)
			if ($cmdcdtime!=0)	
			{
				
				$nowmtime = floor($pstime*1000)+$cmdcdtime;
				$cdsec = floor($nowmtime/1000);
				$cdmsec = fmod($nowmtime , 1000);
				$cdover = $cdsec*1000 + $cdmsec;
				
				$nowmtime = floor(getmicrotime()*1000);
				$rmcdtime = $nowmtime >= $cdover ? 0 : $cdover - $nowmtime;
			}
			else				
			{
				$cdover = $cdsec*1000 + $cdmsec;
				$nowmtime = floor(getmicrotime()*1000);
				$rmcdtime = $nowmtime >= $cdover ? 0 : $cdover - $nowmtime;
			}$player_post_act_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		}while(0);

		$player_post_act_ret;
	'

Array\check_cooltime_on ====> '
		return \\skill602\\check_cooltime_on();'

Array\prepare_response_content ====> '$player_prepare_response_content_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		eval(import_module(\'player\'));
		$gamedata[\'innerHTML\'][\'notice\'] = ob_get_contents();
		}while(0);
		
		
		$player_prepare_response_content_ret;
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'cooldown\'));
		if(\\cooldown\\check_cooltime_on ())
		{
			$cdover = $cdsec*1000 + $cdmsec;
			$nowmtime = floor(getmicrotime()*1000);
			$rmcdtime = $nowmtime >= $cdover ? 0 : $cdover - $nowmtime;
			if($showcoldtimer && $rmcdtime){
				$gamedata[\'timer\'] = $rmcdtime;
			}
			if($hp > 0 && $showcoldtimer && $rmcdtime){
				$x1=$rmcdtime/1000; $x1=(int)$x1; $y1=($rmcdtime%1000)/100; $y1=(int)$y1;
				$log .= "行动冷却时间：<span id=\\"timer\\" class=\\"yellow\\">{$x1}.{$y1}</span>秒<script type=\\"text/javascript\\">demiSecTimerStarter($rmcdtime);</script><br>";
			}
		}
	'

Array\prepare_initial_response_content ====> '$corpse_prepare_initial_response_content_ret = NULL;

		//========Contents from mod corpse========
		do{
			
		
		
		eval(import_module(\'sys\',\'player\',\'metman\'));
		$cmd = $main = \'\';
		if((strpos($action,\'corpse\')===0 || strpos($action,\'pacorpse\')===0) && $gamestate<40){
			$cid = strpos($action,\'corpse\')===0 ? str_replace(\'corpse\',\'\',$action) : str_replace(\'pacorpse\',\'\',$action);
			if($cid){
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE pid=\'$cid\' AND hp=0");
				if($db->num_rows($result)>0){
					$edata = \\player\\fetch_playerdata_by_pid($cid);
					extract($edata,EXTR_PREFIX_ALL,\'w\');
					\\corpse\\findcorpse ($edata);
					\\metman\\init_battle(1);
					$main = MOD_METMAN_MEETMAN;
				}
			}	
		}$player_prepare_initial_response_content_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		}while(0);
		
		$player_prepare_initial_response_content_ret;
		}while(0);
		
		
		$corpse_prepare_initial_response_content_ret;
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'cooldown\'));
		if(\\cooldown\\check_cooltime_on ())
		{
			$cdover = $cdsec*1000 + $cdmsec;
			$nowmtime = floor(getmicrotime()*1000);
			$rmcdtime = $nowmtime >= $cdover ? 0 : $cdover - $nowmtime;
			if($hp > 0 && $showcoldtimer && $rmcdtime)
			{
				$x1=$rmcdtime/1000; $x1=(int)$x1; $y1=($rmcdtime%1000)/100; $y1=(int)$y1;
				$log .= "行动冷却时间：<span id=\\"timer\\" class=\\"yellow\\">{$x1}.{$y1}</span>秒<script type=\\"text/javascript\\">demiSecTimerStarter($rmcdtime);</script><br>";
			}
		}
	'

Array\findenemy ====> '
		return \\skill262\\findenemy($edata);'

Array\get_battlecmd_filename ====> '
		return \\tutorial\\get_battlecmd_filename();'

Array\calculate_active_obbs ====> '
		return \\weather\\calculate_active_obbs($ldata,$edata);'

Array\calculate_active_obbs_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill240\\calculate_active_obbs_multiplier\') 
		{
			return \\searchmemory\\calculate_active_obbs_multiplier($ldata,$edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return 1.0;
	'

Array\calculate_active_obbs_change ====> '
		return \\skill602\\calculate_active_obbs_change($ldata,$edata,$active_r);'

Array\check_enemy_meet_active ====> '
		return \\skill246\\check_enemy_meet_active($ldata,$edata);'

Array\meetman_alternative ====> '
		return \\tutorial\\meetman_alternative($edata);'

Array\battle_wrapper ====> '
		return \\battle\\battle_wrapper($pa,$pd,$active);'

Array\act ====> '
		return \\smartmix\\act();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\check_player_discover ====> '
		return \\gtype2\\check_player_discover($edata);'

Array\calculate_meetman_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gameflow_combo\\calculate_meetman_rate\') 
		{
			return \\pose\\calculate_meetman_rate($schmode);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\'));
		if($gamestate >= 50) 
		{
			if ($schmode == \'search\') return \\metman\\calculate_meetman_rate($schmode) + 10;
			if ($schmode == \'move\') return \\metman\\calculate_meetman_rate($schmode) + 5;
		}
		return \\metman\\calculate_meetman_rate($schmode);
	'

Array\get_trap_escape_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill22\\get_trap_escape_rate\') 
		{
			return \\ex_attr_trap\\get_trap_escape_rate();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(19)) return \\trap\\get_trap_escape_rate()+17; else return \\trap\\get_trap_escape_rate();
	'

Array\calculate_trap_reuse_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill22\\calculate_trap_reuse_rate\') 
		{
			return \\skill212\\calculate_trap_reuse_rate();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(19)) return \\trap\\calculate_trap_reuse_rate()+35; else return \\trap\\calculate_trap_reuse_rate();
	'

Array\trap_use ====> '
		
		if (\\skillbase\\skill_query(19)) 
		{
			eval(import_module(\'player\'));
			$wd+=rand(1,2); \\lvlctl\\getexp(rand(1,2));
		}$trap_trap_use_ret = NULL;

		//========Contents from mod trap========
		do{
			
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		$trapk = str_replace(\'TN\',\'TO\',$itmk);
		$db->query("INSERT INTO {$tablepre}maptrap (itm, itmk, itme, itms, itmsk, pls) VALUES (\'$itm\', \'$trapk\', \'$itme\', \'1\', \'$pid\', \'$pls\')");
		$log .= "设置了陷阱<span class=\\"red\\">$itm</span>。<br>小心，自己也很难发现。<br>";
		
		\\lvlctl\\getexp(1);
		$wd++;
			
		\\itemmain\\itms_reduce($theitem);
		}while(0);
		$trap_trap_use_ret;
	'

Array\get_trap_escape_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill255\\get_trap_escape_rate\') 
		{
			return \\ex_attr_trap\\get_trap_escape_rate();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(22)) return \\skill19\\get_trap_escape_rate()-4; else return \\skill19\\get_trap_escape_rate();
	'

Array\calculate_trap_reuse_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill212\\calculate_trap_reuse_rate\') 
		{
			return \\skill212\\calculate_trap_reuse_rate();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(22)) return \\skill19\\calculate_trap_reuse_rate()-15; else return \\skill19\\calculate_trap_reuse_rate();
	'

Array\calculate_real_trap_obbs ====> '
		return \\pose\\calculate_real_trap_obbs();'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\get_move_coldtime ====> '
		
		if ((\\skillbase\\skill_query(601))&&(\\skill601\\check_skill601_state ()==1)) return \\cooldown\\get_move_coldtime($dest)*1.8;
		return \\cooldown\\get_move_coldtime($dest);
	'

Array\get_search_coldtime ====> '
		
		if ((\\skillbase\\skill_query(601))&&(\\skill601\\check_skill601_state ()==1)) return \\cooldown\\get_search_coldtime()*1.8;
		return \\cooldown\\get_search_coldtime();
	'

Array\get_itemuse_coldtime ====> '
		
		if ((\\skillbase\\skill_query(601))&&(\\skill601\\check_skill601_state ()==1)) return \\cooldown\\get_itemuse_coldtime($item)*3;
		return \\cooldown\\get_itemuse_coldtime($item);
	'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\check_alive_discover ====> '
		return \\skill435\\check_alive_discover($edata);'

Array\meetman_alternative ====> '
		return \\tutorial\\meetman_alternative($edata);'

Array\findteam ====> '
		return \\gameflow_combo\\findteam($edata);'

Array\senditem_check ====> '
		return \\tutorial\\senditem_check($edata);'

Array\act ====> '
		return \\smartmix\\act();'

Array\check_team_button_exist ====> '
		return \\gameflow_combo\\check_team_button_exist();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\teammake ====> '
		return \\gameflow_combo\\teammake($tID,$tPass);'

Array\teamjoin ====> '
		return \\gameflow_combo\\teamjoin($tID,$tPass);'

Array\teamquit ====> '
		return \\gameflow_combo\\teamquit();'

Array\check_can_counter ====> '
		return \\pose\\check_can_counter($pa,$pd,$active);'

Array\attack_wrapper ====> '
		return \\attack\\attack_wrapper($pa,$pd,$active);'

Array\counter_assault ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill41\\counter_assault\') 
		{
			return \\skill41\\counter_assault($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		
		$pa[\'is_counter\']=1;
		\\battle\\attack_wrapper ($pa, $pd, $active);
		unset($pa[\'is_counter\']);
		
		if ($pd[\'hp\']>0)
		{
			\\battle\\assault_end ($pd, $pa, 1-$active);
		}
	'

Array\cannot_counter ====> '
		return \\npcchat\\cannot_counter($pa,$pd,$active);'

Array\assault_prepare ====> '
		return \\armor\\assault_prepare($pa,$pd,$active);'

Array\counter_assault_wrapper ====> '
		return \\skill21\\counter_assault_wrapper($pa,$pd,$active);'

Array\assault ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill264\\assault\') 
		{
			return \\skill264\\assault($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'logger\'));
		foreach(array(\'pa\',\'pd\') as $val){
			${$val}[\'is_counter\'] = ${$val}[\'physical_dmg_dealt\'] = ${$val}[\'wepimp\'] = ${$val}[\'actual_rapid_time\'] = 0;
			${$val}[\'battlelog\'] = \'\';
		}




		\\battle\\attack_wrapper ($pa, $pd, $active);
		\\battle\\counter_assault_wrapper ($pd, $pa, 1-$active);
	'

Array\assault_finish ====> '
		return \\armor\\assault_finish($pa,$pd,$active);'

Array\battle_prepare ====> '
		return \\skill42\\battle_prepare($pa,$pd,$active);'

Array\battle_finish ====> '
		return \\skill42\\battle_finish($pa,$pd,$active);'

Array\battle_wrapper ====> '
		
		\\battle\\battle_prepare ($pa, $pd, $active);
		\\battle\\battle ($pa, $pd, $active);
		\\battle\\battle_finish ($pa, $pd, $active);
		
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'metman\'));
		
		if ($active) 
		{ 
			if ($pd[\'hp\']<=0 && $pa[\'hp\']>0)
			{
				$pa[\'action\']=\'corpse\'.$pd[\'pid\'];
			}
			if ($pa[\'hp\']<=0 && $pd[\'hp\']>0 && $pd[\'action\']==\'\' && $pd[\'type\']==0)
			{
				$pd[\'action\'] = \'pacorpse\'.$pa[\'pid\']; 
			}
		}
		else
		{
			if ($pd[\'hp\']<=0 && $pa[\'hp\']>0 && $pa[\'action\']==\'\' && $pa[\'type\']==0)
			{
				$pa[\'action\']=\'pacorpse\'.$pd[\'pid\'];
			}
			if ($pa[\'hp\']<=0 && $pd[\'hp\']>0)
			{
				$pd[\'action\'] = \'corpse\'.$pa[\'pid\']; 
			}
		}
		
		if ($active)
		{
			$edata=$pd;
			\\player\\player_save($pa); \\player\\player_save($pd);
			\\metman\\metman_load_playerdata($pd);
			if ($pd[\'type\']==0) \\battle\\save_enemy_battlelog ($pd);
			\\player\\load_playerdata($pa);
		}
		else
		{
			$edata=$pa;
			\\player\\player_save($pa); \\player\\player_save($pd);
			\\metman\\metman_load_playerdata($pa);
			if ($pa[\'type\']==0) \\battle\\save_enemy_battlelog ($pa);
			\\player\\load_playerdata($pd);
		}
		
		$battle_title = \'战斗发生\';
		$main = MOD_METMAN_MEETMAN;
		\\metman\\init_battle(1);
		
		if (substr($action,0,6)==\'corpse\')
		{
			\\corpse\\findcorpse($edata);
		}
		else
		{
			include template(\\battle\\get_battleresult_filename ());
			$cmd = ob_get_contents();
			ob_clean();
			$action = \'\';
		}
		
		if (defined(\'MOD_CLUBBASE\')) include template(MOD_CLUBBASE_NPCSKILLPAGE);
	'

Array\get_battleresult_filename ====> '
		return \\tutorial\\get_battleresult_filename();'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\deathnote_process ====> '
		return \\gtype1\\deathnote_process($dnname,$dndeath,$dngender,$dnicon);'

Array\act ====> '
		return \\smartmix\\act();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\reset_game ====> '$noise_reset_game_ret = NULL;

		//========Contents from mod noise========
		do{$gameflow_antiafk_reset_game_ret = NULL;

		//========Contents from mod gameflow_antiafk========
		do{$sys_reset_game_ret = NULL;

		//========Contents from mod sys========
		do{
			
		 
		eval(import_module(\'sys\'));
		$dir = GAME_ROOT.\'./gamedata/\';
		$sqldir = GAME_ROOT.\'./gamedata/sql/\';
		
		
		if(!$groomid) {
			$groomtype = 0;
			$groomstatus = 2;
			$roomvars = array();
		}
		\\sys\\reset_gametype ();
		$gamestate = 5;
		\\sys\\save_gameinfo (0);
		
		
		$sql = file_get_contents("{$sqldir}reset.sql");
		$sql = str_replace("\\r", "\\n", str_replace(\' bra_\', \' \'.$tablepre, $sql));
		$db->queries($sql);
		
		
		writeover(GAME_ROOT.\'./gamedata/tmp/news/newsinfo_\'.$room_prefix.\'.php\',$checkstr);
		
		
		$hdamage = 0;
		$hplayer = \'\';
		
		\\sys\\save_combatinfo ();
		
		
		clear_dir(GAME_ROOT.\'./gamedata/tmp/replay/\'.$room_prefix.\'_/\',1);
		global $___MOD_TMP_FILE_DIRECTORY;
		clear_dir($___MOD_TMP_FILE_DIRECTORY.$room_prefix.\'_/\',1);
		}while(0);
			
		 
		
		$sys_reset_game_ret;
		
		eval(import_module(\'sys\',\'gameflow_antiafk\'));
		
		$afktime = $starttime;
		
		}while(0);
			
		
		
		$gameflow_antiafk_reset_game_ret;
		
		eval(import_module(\'sys\'));
		
		$noisevars = array();
		}while(0);
		
		
		$noise_reset_game_ret;
		
		eval(import_module(\'sys\',\'gameflow_combo\'));
		
		$combonum = $deathlimit;
		
	'

Array\checkcombo ====> '
		return \\tutorial\\checkcombo();'

Array\gamestateupdate ====> '$gameflow_antiafk_gamestateupdate_ret = NULL;

		//========Contents from mod gameflow_antiafk========
		do{
			
		
		eval(import_module(\'sys\',\'map\',\'gameflow_antiafk\'));
		
		if($gamestate > 10) {
			
			if ( $gametype < 10 && $gamestate >= 40 && $now > $afktime + $antiAFKertime_normal * 60) {
				\\gameflow_antiafk\\antiAFK ($antiAFKertime_normal);
			}elseif ($gametype >= 10 && $areanum>=$areaadd && $now > $afktime + $antiAFKertime_room * 60) {
				\\gameflow_antiafk\\antiAFK ($antiAFKertime_room);
			}
		}$gameflow_base_gamestateupdate_ret = NULL;

		//========Contents from mod gameflow_base========
		do{
			
		
		
		
		if(!$gamestate) { 
			$readymin = $readymin > 0 ? $readymin : 1;
			if(($starttime)&&($now > $starttime - $readymin*60)) {
				\\gameflow_base\\gamestate_prepare_game ();
			}
		}
		if($gamestate == 10) {
			if($now >= $starttime) {
				\\gameflow_base\\gamestate_start_game ();
			}
		}
		}while(0);
		$gameflow_base_gamestateupdate_ret;
		}while(0);
		
		
		$gameflow_antiafk_gamestateupdate_ret;
		
		\\gameflow_combo\\checkcombo ();
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\check_corpse_discover ====> '
		
		eval(import_module(\'sys\'));
		if ($gamestate>=40) return 0;$corpse_check_corpse_discover_ret = NULL;

		//========Contents from mod corpse========
		do{
			
		
		
		eval(import_module(\'player\',\'corpse\'));
		if ($edata[\'state\']==16){ $corpse_check_corpse_discover_ret =  0;
break; }
		$flag=0;
		foreach($equip_list as $k_value)
		{
			$z=strlen($k_value)-1;
			while (\'0\'<=$k_value[$z] && $k_value[$z]<=\'9\') $z--;
			$w1=substr($k_value,0,$z+1).\'s\'.substr($k_value,$z+1);
			$w2=substr($k_value,0,$z+1).\'e\'.substr($k_value,$z+1);
			if ($edata[$w1] && $edata[$w2]) { $flag=1; break;}
		}
		if ($edata[\'money\']) $flag=1;
		
		if($flag && $edata[\'endtime\'] < $now - $corpseprotect){
			$corpse_check_corpse_discover_ret =  1;
break; }
		else{  $corpse_check_corpse_discover_ret =  0;
break; }
		}while(0);	
		return $corpse_check_corpse_discover_ret;
	'

Array\calculate_meetman_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'pose\\calculate_meetman_rate\') 
		{
			return \\pose\\calculate_meetman_rate($schmode);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\'));
		if($gamestate >= 40) 
		{
			if ($schmode == \'search\') return \\gameflow_duel\\calculate_meetman_rate($schmode) + 20;
			if ($schmode == \'move\') return \\gameflow_duel\\calculate_meetman_rate($schmode) + 10;
		}
		return \\gameflow_duel\\calculate_meetman_rate($schmode);
	'

Array\senditem_check ====> '
		return \\tutorial\\senditem_check($edata);'

Array\findteam ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (defined(\'MOD_TEAM\'))
		{
			if($gamestate>=40 && !in_array($gametype,$teamwin_mode)){
				$log .= \'<span class="yellow">连斗阶段所有队伍取消！</span><br>\';
				
				$mode = \'command\';
				return;
			}
			else{$team_findteam_ret = NULL;

		//========Contents from mod team========
		do{
			
		
		
		eval(import_module(\'metman\'));
		
		extract($edata,EXTR_PREFIX_ALL,\'w\');
		$action = \'team\'.$edata[\'pid\'];
			
		$battle_title = \'发现队友\';
		\\metman\\init_battle(1);
		
		$log .= "你发现了队友<span class=\\"yellow\\">{$tdata[\'name\']}</span>！<br>";
		include template(MOD_TEAM_FINDTEAM);
		$cmd = ob_get_contents();
		ob_clean();
		$main = MOD_METMAN_MEETMAN;
		$team_findteam_ret = NULL;
break; 
		}while(0);  $team_findteam_ret;}
		}
	'

Array\teammake ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (defined(\'MOD_TEAM\'))
			if($gamestate >= 40) {
				$log .= \'连斗时不能组建队伍。<br>\';
				$mode = \'command\';
				return;
			}
			else{$team_teammake_ret = NULL;

		//========Contents from mod team========
		do{
			
		
		
		eval(import_module(\'team\',\'input\'));

		if(!$tID || !$tPass) {
			$log .= \'队伍名和密码不能为空，请重新输入。<br>\';
			$mode = \'command\';
			$team_teammake_ret = NULL;
break; 
		}
		if(strlen($tID) > 20){
			$log .= \'队伍名称过长，请重新输入。<br>\';
			$mode = \'command\';
			$team_teammake_ret = NULL;
break; 
		}
		if(strlen($tPass) > 20){
			$log .= \'队伍密码过长，请重新输入。<br>\';
			$mode = \'command\';
			$team_teammake_ret = NULL;
break; 
		}
		if($tID == $noitm) {
			$log .= \'队伍名不能为<span class="red">\'.$tID.\'</span>，请重新输入。<br>\';
			$mode = \'command\';
			$team_teammake_ret = NULL;
break; 
		}
			
		if($teamID) {
			$log .= \'你已经加入了队伍<span class="yellow">\'.$teamID.\'</span>，请先退出队伍。<br>\';
		} elseif($sp <= $team_sp) {
			$log .= \'体力不足，不能创建队伍。至少需要<span class="yellow">\'.$team_sp.\'</span>点体力。<br>\';
		} else {
			$result = $db->query("SELECT pid FROM {$tablepre}players WHERE teamID=\'$tID\'");
			if($db->num_rows($result)){
				$log .= \'队伍<span class="yellow">\'.$tID.\'</span>已经存在，请更换队伍名。<br>\';
			} else {
				$teamID = $tID;
				$teamPass = $tPass;
				$sp -= $team_sp;
				$log .= \'你创建了队伍<span class="yellow">\'.$teamID.\'</span>。<br>\';
				addnews($now,\'teammake\',$teamID,$name);
			}
		$mode = \'command\';
		$team_teammake_ret = NULL;
break; 

		}
		}while(0);  $team_teammake_ret;}
	'

Array\teamjoin ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (defined(\'MOD_TEAM\'))
		{
			if($gamestate >= 40) {
				$log .= \'连斗时不能加入队伍。<br>\';
				$mode = \'command\';
				return;
			}
			else{$team_teamjoin_ret = NULL;

		//========Contents from mod team========
		do{
			
		
		
		eval(import_module(\'team\',\'input\'));
		if(!$tID || !$tPass){
			$log .= \'队伍名和密码不能为空，请重新输入。<br>\';
			$mode = \'command\';
			$team_teamjoin_ret = NULL;
break; 
		}
		if(strlen($tID) > 20){
			$log .= \'队伍名称过长，请重新输入。<br>\';
			$mode = \'command\';
			$team_teamjoin_ret = NULL;
break; 
		}
		if(strlen($tPass) > 20){
			$log .= \'队伍密码过长，请重新输入。<br>\';
			$mode = \'command\';
			$team_teamjoin_ret = NULL;
break; 
		}
		if($tID == $noitm) {
			$log .= \'队伍名不能为<span class="red">\'.$tID.\'</span>，请重新输入。<br>\';
			$mode = \'command\';
			$team_teamjoin_ret = NULL;
break; 
		}

		if($teamID) {
			$log .= \'你已经加入了队伍<span class="yellow">\'.$teamID.\'</span>，请先退出队伍。<br>\';
		} elseif($sp <= $teamj_sp) {
			$log .= \'体力不足，不能加入队伍。至少需要<span class="yellow">\'.$teamj_sp.\'</span>点体力。<br>\';
		} else {
			$result = $db->query("SELECT teamPass FROM {$tablepre}players WHERE teamID=\'$tID\'");
			if(!$db->num_rows($result)){
				$log .= \'队伍<span class="yellow">\'.$tID.\'</span>不存在，请先创建队伍。<br>\';
			} elseif($db->num_rows($result) >= $teamlimit) {
				$log .= \'队伍<span class="yellow">\'.$tID.\'</span>人数已满，请更换队伍。<br>\';
			} else {
				$password = $db->result($result,0);
				if($tPass == $password) {
					$teamID = $tID;
					$teamPass = $tPass;
					$sp -= $teamj_sp;
					$log .= \'你加入了队伍<span class="yellow">\'.$teamID.\'</span>。<br>\';
					addnews($now,\'teamjoin\',$teamID,$name);
				} else {
					$log .= \'密码错误，不能加入队伍<span class="yellow">\'.$tID.\'</span>。<br>\';
				}
			}
		}

		$mode = \'command\';
		$team_teamjoin_ret = NULL;
break; 
		}while(0);  $team_teamjoin_ret;}
		}
	'

Array\teamquit ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (defined(\'MOD_TEAM\'))
		{
			if($gamestate>=40){
				$log .= \'你不在队伍中。<br>\';
				$mode = \'command\';
			}
			else{$team_teamquit_ret = NULL;

		//========Contents from mod team========
		do{
			
		
		
		eval(import_module(\'team\',\'input\'));
		if($teamID){
			$log .= \'你退出了队伍<span class="yellow">\'.$teamID.\'</span>。<br>\';
			addnews($now,\'teamquit\',$teamID,$name);
			$teamID =$teamPass = \'\';
		} else {
			$log .= \'你不在队伍中。<br>\';
		}
		$mode = \'command\';
		$team_teamquit_ret = NULL;
break; 
		}while(0);  $team_teamquit_ret;}
		}
	'

Array\check_team_button_exist ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (defined(\'MOD_TEAM\'))
		{
			if($gamestate>=40) return 0; else{$team_check_team_button_exist_ret = NULL;

		//========Contents from mod team========
		do{
			
		
		$team_check_team_button_exist_ret =  1;
break; 
		}while(0); return $team_check_team_button_exist_ret;}
		}
	'

Array\calculate_real_trap_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill255\\calculate_real_trap_obbs\') 
		{
			return \\pose\\calculate_real_trap_obbs();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'player\'));
		$r=0;
		if($gamestate >= 40) $r=2.5;$skill22_calculate_real_trap_obbs_ret = NULL;

		//========Contents from mod skill22========
		do{
			
		
		if (\\skillbase\\skill_query(22)){ $skill22_calculate_real_trap_obbs_ret =  \\trap\\calculate_real_trap_obbs()+3;
break; } else{ $skill22_calculate_real_trap_obbs_ret =  \\trap\\calculate_real_trap_obbs();
break; }
		}while(0);	
		return $skill22_calculate_real_trap_obbs_ret+$r;
	'

Array\act ====> '
		return \\smartmix\\act();'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\apply_total_damage_modifier_up ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill402\\apply_total_damage_modifier_up\') 
		{
			return \\skill244\\apply_total_damage_modifier_up($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
	'

Array\apply_total_damage_modifier_down ====> '
		return \\skill455\\apply_total_damage_modifier_down($pa,$pd,$active);'

Array\apply_total_damage_change ====> '
		return \\ex_hp_def\\apply_total_damage_change($pa,$pd,$active);'

Array\apply_damage ====> '
		return \\skill471\\apply_damage($pa,$pd,$active);'

Array\player_damaged_enemy ====> '
		return \\tutorial\\player_damaged_enemy($pa,$pd,$active);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\load_user_combat_command ====> '
		return \\weapon\\load_user_combat_command($pdata);'

Array\load_auto_combat_command ====> '
		return \\weapon\\load_auto_combat_command($pdata);'

Array\attack_prepare ====> '
		return \\rage\\attack_prepare($pa,$pd,$active);'

Array\attack_finish ====> '
		return \\skill42\\attack_finish($pa,$pd,$active);'

Array\attack_wrapper ====> '
		
		\\attack\\attack_prepare ($pa, $pd, $active);
		\\attack\\attack ($pa,$pd,$active);
		\\attack\\attack_finish ($pa,$pd,$active);		
	'

Array\strike_prepare ====> '
		return \\skill244\\strike_prepare($pa,$pd,$active);'

Array\strike ====> '
		return \\ex_dmg_att\\strike($pa,$pd,$active);'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\attack ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill216\\attack\') 
		{
			return \\skill403\\attack($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		\\attack\\strike_prepare ($pa,$pd,$active);
		\\attack\\strike ($pa,$pd,$active);
		\\attack\\strike_finish ($pa,$pd,$active);
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\get_npclist ====> '
		 
		eval(import_module(\'sys\',\'map\',\'gtype17\'));
		if ($gametype!=17){$npc_get_npclist_ret = NULL;

		//========Contents from mod npc========
		do{
			
		
		eval(import_module(\'npc\'));
		$npc_get_npclist_ret =  $npcinfo;
break; 
		}while(0); return $npc_get_npclist_ret;}		
		return $npcinfo_gtype17;
	'

Array\get_shoplist ====> '
		return \\gtype2\\get_shoplist();'

Array\get_itemfilecont ====> '
		 
		eval(import_module(\'sys\'));
		if ($gametype!=17){$itemmain_get_itemfilecont_ret = NULL;

		//========Contents from mod itemmain========
		do{
			
		 
		
		$file = \'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain\'.\'/config/mapitem.config.php\';
		$l = openfile($file);
		$itemmain_get_itemfilecont_ret =  $l;
break; 
		}while(0); return $itemmain_get_itemfilecont_ret;}
		$file = \'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial\'.\'/config/mapitem.config.php\';
		$l = openfile($file);
		return $l;
	'

Array\get_trapfilecont ====> '
		 
		eval(import_module(\'sys\'));
		if ($gametype!=17){$trap_get_trapfilecont_ret = NULL;

		//========Contents from mod trap========
		do{
			
		 
		
		$file = \'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap\'.\'/config/trapitem.config.php\';
		$l = openfile($file);
		$trap_get_trapfilecont_ret =  $l;
break; 
		}while(0); return $trap_get_trapfilecont_ret;}
		$file = \'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial\'.\'/config/trapitem.config.php\';
		$l = openfile($file);
		return $l;
	'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\calc_qiegao_drop ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill418\\calc_qiegao_drop\') 
		{
			return \\skill418\\calc_qiegao_drop($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'cardbase\',\'sys\',\'logger\',\'map\'));
		$qiegaogain=0;
		if (!in_array($gametype,$qiegao_ignore_mode)){		
			if ($pd[\'type\']==90)	
			{
				if ($areanum/$areaadd<1)	
				{
					$dice = rand(0,99);
					if ($dice<5) 
						$qiegaogain=rand(7,15);
					else if ($dice<20)
						$qiegaogain=rand(3,7);
					else if ($dice<50)
						$qiegaogain=rand(1,3);
				}
				else if ($areanum/$areaadd<2)	
				{
					$dice = rand(0,99);
					if ($dice<5) 
						$qiegaogain=rand(3,5);
					else if ($dice<15)
						$qiegaogain=rand(1,3);
				}
			}
			if ($pd[\'type\']==2)	
			{
				if ($areanum/$areaadd<1)
				{
					$qiegaogain=rand(9,19);
				}
				else if ($areanum/$areaadd<2)
				{
					$dice=rand(0,99);
					if ($dice<30)
						$qiegaogain=rand(3,7);
					else  $qiegaogain=rand(1,3);
				}
			}
		}
		return $qiegaogain;
	'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\itemmix_success ====> '
		return \\tutorial\\itemmix_success();'

Array\get_club_choice_array ====> '
		return \\instance5\\get_club_choice_array();'

Array\player_selectclub ====> '
		return \\tutorial\\player_selectclub($id);'

Array\act ====> '
		return \\smartmix\\act();'

Array\get_battle_skill_entry ====> '
		return \\wjfix\\get_battle_skill_entry($edata,$which);'

Array\load_user_battleskill_command ====> '
		return \\skill246\\load_user_battleskill_command($pdata);'

Array\load_user_combat_command ====> '
		return \\weapon\\load_user_combat_command($pdata);'

Array\battle_prepare ====> '
		return \\skill42\\battle_prepare($pa,$pd,$active);'

Array\get_att_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tactic\\get_att_multiplier\') 
		{
			return \\weather\\get_att_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return 1.0;
	'

Array\get_internal_att ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill41\\get_internal_att\') 
		{
			return \\skill445\\get_internal_att($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'weapon\'));
		return $pa[\'att\'];
	'

Array\get_external_att ====> '
		return \\skill33\\get_external_att($pa,$pd,$active);'

Array\get_att ====> '
		return \\skill407\\get_att($pa,$pd,$active);'

Array\get_def_multiplier ====> '
		return \\weather\\get_def_multiplier($pa,$pd,$active);'

Array\get_internal_def ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill263\\get_internal_def\') 
		{
			return \\skill42\\get_internal_def($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return $pd[\'def\'];
	'

Array\get_def ====> '
		return \\skill407\\get_def($pa,$pd,$active);'

Array\get_skill_by_kind ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill70\\get_skill_by_kind\') 
		{
			return \\skill70\\get_skill_by_kind($pa,$pd,$active,$wep_kind);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'weapon\'));
		return $pa[$wep_kind];
	'

Array\get_skill ====> '
		return \\skill253\\get_skill($pa,$pd,$active);'

Array\get_attack_method ====> '
		return \\wep_j\\get_attack_method($pdata);'

Array\check_attack_method ====> '
		return \\dualwep\\check_attack_method($pdata,$wm);'

Array\load_user_combat_command ====> '
		
		eval(import_module(\'input\'));
		if (\\weapon\\check_attack_method ($pdata,$command))
			$pdata[\'wep_kind\']=$command;
		else  $pdata[\'wep_kind\']=\\weapon\\get_attack_method ($pdata);$clubbase_load_user_combat_command_ret = NULL;

		//========Contents from mod clubbase========
		do{
			
		
		\\clubbase\\load_user_battleskill_command ($pdata);$attack_load_user_combat_command_ret = NULL;

		//========Contents from mod attack========
		do{
			
		
		}while(0);
		$attack_load_user_combat_command_ret;
		}while(0);
		$clubbase_load_user_combat_command_ret;
	'

Array\load_auto_combat_command ====> '
		
		$pdata[\'wep_kind\']=\\weapon\\get_attack_method ($pdata);
		$pdata[\'bskill\'] = $pdata[\'bskillpara\'] = \'\';$attack_load_auto_combat_command_ret = NULL;

		//========Contents from mod attack========
		do{
			
		
		}while(0);
		$attack_load_auto_combat_command_ret;
	'

Array\get_hitrate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill2\\get_hitrate\') 
		{
			return \\tutorial\\get_hitrate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		
		eval(import_module(\'weapon\'));
		$hitrate = $hitrate_obbs[$pa[\'wep_kind\']];
		$hitrate += round($pa[\'fin_skill\'] * $hitrate_r[$pa[\'wep_kind\']]); 
		$hitrate = min($hitrate, $hitrate_max_obbs[$pa[\'wep_kind\']]);
		return $hitrate;
	'

Array\get_weapon_fluc_max_range ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill207\\get_weapon_fluc_max_range\') 
		{
			return \\skill207\\get_weapon_fluc_max_range($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'weapon\'));
		return $dmg_fluc[$pa[\'wep_kind\']];
	'

Array\get_weapon_fluc_percentage ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill209\\get_weapon_fluc_percentage\') 
		{
			return \\skill442\\get_weapon_fluc_percentage($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$x=\\weapon\\get_weapon_fluc_max_range ($pa,$pd,$active);
		if ($x>99) $x=99;
		return rand(-$x,$x);
	'

Array\get_fixed_dmg ====> '
		return \\skill259\\get_fixed_dmg($pa,$pd,$active);'

Array\get_fixed_dmg_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill44\\get_fixed_dmg_multiplier\') 
		{
			return \\skill44\\get_fixed_dmg_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return 1.0;
	'

Array\get_physical_dmg ====> '
		return \\ex_phy_nullify\\get_physical_dmg($pa,$pd,$active);'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\calculate_physical_dmg ====> '
		return \\skill26\\calculate_physical_dmg($pa,$pd,$active);'

Array\calculate_wepimp_rate ====> '
		return \\skill422\\calculate_wepimp_rate($pa,$pd,$active);'

Array\post_weapon_strike_events ====> '
		return \\wound\\post_weapon_strike_events($pa,$pd,$active,$is_hit);'

Array\weapon_strike ====> '
		return \\ex_rapid_attr\\weapon_strike($pa,$pd,$active);'

Array\strike ====> '
		return \\ex_dmg_att\\strike($pa,$pd,$active);'

Array\strike_prepare ====> '
		return \\skill244\\strike_prepare($pa,$pd,$active);'

Array\weapon_break ====> '
		return \\wep_j\\weapon_break($pa,$pd,$active);'

Array\apply_weapon_imp ====> '
		return \\wep_j\\apply_weapon_imp($pa,$pd,$active);'

Array\calculate_attack_weapon_skill_gain ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill225\\calculate_attack_weapon_skill_gain\') 
		{
			return \\skill260\\calculate_attack_weapon_skill_gain($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return 1;
	'

Array\calculate_attack_exp_gain ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill459\\calculate_attack_exp_gain\') 
		{
			return \\skill459\\calculate_attack_exp_gain($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$expup = round ( ($pd[\'lvl\'] - $pa[\'lvl\']) / 3 );
		$expup = $expup > 0 ? $expup : 1;
		return $expup;
	'

Array\apply_attack_exp_gain ====> '
		return \\skill226\\apply_attack_exp_gain($pa,$pd,$active);'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\attack_finish ====> '
		return \\skill42\\attack_finish($pa,$pd,$active);'

Array\calculate_counter_rate ====> '
		return \\tactic\\calculate_counter_rate($pa,$pd,$active);'

Array\calculate_counter_rate_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill52\\calculate_counter_rate_multiplier\') 
		{
			return \\skill478\\calculate_counter_rate_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return 1.0;
	'

Array\check_counter_dice ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill41\\check_counter_dice\') 
		{
			return \\skill41\\check_counter_dice($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$counter_rate = \\weapon\\calculate_counter_rate ($pa, $pd, $active) * \\weapon\\calculate_counter_rate_multiplier ($pa, $pd, $active);
		$counter_dice = rand ( 0, 99 );
		if ($counter_dice < $counter_rate) 
			return 1;
		else  return 0;
	'

Array\check_counterable_by_weapon_range ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill207\\check_counterable_by_weapon_range\') 
		{
			return \\skill207\\check_counterable_by_weapon_range($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$r1 = \\weapon\\get_weapon_range ($pa, $active);
		$r2 = \\weapon\\get_weapon_range ($pd, 1-$active);
		if ($r1 >= $r2 && $r1 != 0 && $r2 != 0)
			return 1;
		else  return 0;
	'

Array\check_can_counter ====> '
		return \\pose\\check_can_counter($pa,$pd,$active);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\battle_prepare ====> '
		return \\skill42\\battle_prepare($pa,$pd,$active);'

Array\attack_prepare ====> '
		return \\rage\\attack_prepare($pa,$pd,$active);'

Array\attack_finish ====> '
		return \\skill42\\attack_finish($pa,$pd,$active);'

Array\cannot_counter ====> '$battle_cannot_counter_ret = NULL;

		//========Contents from mod battle========
		do{
			
		
		\\battle\\player_cannot_counter ($pa,$pd,$active);
		}while(0);
		
		$battle_cannot_counter_ret;
		if ($pa[\'type\'] || $pd[\'type\']) \\npcchat\\npcchat ($pa, $pd, $active, \'cannot_counter\');
	'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\counter_assault_wrapper ====> '
		
		if (isset($pa[\'npc_evolved\']) && $pa[\'npc_evolved\']) return;$battle_counter_assault_wrapper_ret = NULL;

		//========Contents from mod battle========
		do{
			
		
		if ($pa[\'hp\']>0 && $pd[\'hp\']>0)
		{
			$pa[\'is_counter\']=1;
			if (\\battle\\check_can_counter ($pa, $pd,$active)) 
			{
				$pa[\'counter_assaulted\']=1;
				\\battle\\counter_assault ($pa,$pd,$active);
			}
			else
			{
				$pa[\'counter_assaulted\']=0;
				\\battle\\cannot_counter ($pa,$pd,$active);
			}
			unset($pa[\'is_counter\']);
		}
		}while(0);	
		$battle_counter_assault_wrapper_ret;
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\apply_total_damage_change ====> '
		return \\ex_hp_def\\apply_total_damage_change($pa,$pd,$active);'

Array\get_trap_final_damage_change ====> '
		
		if (\\skillbase\\skill_query(479, $pd)) {
			$damage = \\skill479\\dmg_round479 ($damage, 0);
		}
		return $damage;
	'

Array\calc_qiegao_drop ====> '
		
		if ((\\skillbase\\skill_query(418))&&($pd[\'type\']==90)) return ceil(\\cardbase\\calc_qiegao_drop($pa,$pd,$active)*1.5);
		return \\cardbase\\calc_qiegao_drop($pa,$pd,$active);
	'

Array\user_set_gamevars_list_init ====> '$sys_user_set_gamevars_list_init_ret = NULL;

		//========Contents from mod sys========
		do{
			
		 
		$sys_user_set_gamevars_list_init_ret =  $registered_gamevars;
break; 
		}while(0);
		 
		$registered_gamevars = $sys_user_set_gamevars_list_init_ret;
		$registered_gamevars[] = \'next_gametype\';
		return $registered_gamevars;
	'

Array\reset_gametype ====> '
		 
		eval(import_module(\'sys\'));
		if(!$groomid){
			if(isset($gamevars[\'next_gametype\'])) {
				$gametype = (int)($gamevars[\'next_gametype\']);
				unset($gamevars[\'next_gametype\']);
			} elseif(0==$gametype) {
				$gametype = 4;
			} else {
				$gametype = 0;
			}
		}
	'

Array\user_display_gamevars_setting ====> '
		 
		eval(import_module(\'sys\'));
		if(in_array($winmode, array(2,3,5,7))){











			$show[] = dump_template(MOD_SET_GAMETYPE_NEXT_GAMETYPE);
		}$sys_user_display_gamevars_setting_ret = NULL;

		//========Contents from mod sys========
		do{
			
		
		$sys_user_display_gamevars_setting_ret =  $show;
break; 
		}while(0);
		$ret = $sys_user_display_gamevars_setting_ret;
		return $ret;
	'

Array\user_set_gamevars_process ====> '$sys_user_set_gamevars_process_ret = NULL;

		//========Contents from mod sys========
		do{
			
		
		eval(import_module(\'sys\'));
		$valid_gamevars[$gamevar_key] = $gamevar_val;
		$retlog = \'已设定下一局游戏的\'.$gamevarsinfo[$gamevar_key].\'！\';
		$sys_user_set_gamevars_process_ret =  $retlog;
break; 
		}while(0);
		
		$retlog = $sys_user_set_gamevars_process_ret;
		if(\'next_gametype\' == $gamevar_key) {
			eval(import_module(\'sys\'));
			$retlog = \'已将下一局游戏的\'.$gamevarsinfo[$gamevar_key].\'设定为\'.$gtinfo[$gamevar_val].\'。\';
			addnews(0,\'setnextgametype\', $winner, $gamevar_val);
		}
		return $retlog;
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\move ====> '
		return \\tutorial\\move($moveto);'

Array\search ====> '
		return \\tutorial\\search();'

Array\act ====> '
		return \\smartmix\\act();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\skill_onsave_event ====> '
		return \\skill1\\skill_onsave_event($pa);'

Array\act ====> '
		return \\smartmix\\act();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\skill_onsave_event ====> '
		return \\skill1\\skill_onsave_event($pa);'

Array\act ====> '
		return \\smartmix\\act();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\lvlup ====> '
		return \\gtype1\\lvlup($pa);'

Array\lvlup ====> '
		return \\gtype1\\lvlup($pa);'

Array\get_edible_hpup ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill421\\get_edible_hpup\') 
		{
			return \\skill474\\get_edible_hpup($theitem);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(31,$pa)) return round(\\skill300\\get_edible_hpup($theitem)*2.5);
		return \\skill300\\get_edible_hpup($theitem);
	'

Array\get_edible_hpup ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill474\\get_edible_hpup\') 
		{
			return \\skill474\\get_edible_hpup($theitem);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(421,$pa)) return round(\\skill31\\get_edible_hpup($theitem)*1.2);
		return \\skill31\\get_edible_hpup($theitem);
	'

Array\get_edible_spup ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill474\\get_edible_spup\') 
		{
			return \\skill474\\get_edible_spup($theitem);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(421,$pa)) return round(\\skill300\\get_edible_spup($theitem)*1.2);
		return \\skill300\\get_edible_spup($theitem);
	'

Array\attack_finish ====> '
		return \\skill42\\attack_finish($pa,$pd,$active);'

Array\kill ====> '
		return \\weather\\kill($pa,$pd);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\lvlup ====> '
		return \\gtype1\\lvlup($pa);'

Array\check_in_shop_area ====> '
		
		if (\\skillbase\\skill_query(68)) return 1;$itemshop_check_in_shop_area_ret = NULL;

		//========Contents from mod itemshop========
		do{
			
		
		eval(import_module(\'itemshop\'));
		$itemshop_check_in_shop_area_ret =  in_array($p,$shops);
break; 
		}while(0);
		return $itemshop_check_in_shop_area_ret;
	'

Array\calculate_hide_obbs ====> '
		return \\skill248\\calculate_hide_obbs($edata);'

Array\calculate_active_obbs_multiplier ====> '
		return \\searchmemory\\calculate_active_obbs_multiplier($ldata,$edata);'

Array\get_trap_escape_rate ====> '
		return \\ex_attr_trap\\get_trap_escape_rate();'

Array\calculate_trap_reuse_rate ====> '
		
		if (\\skillbase\\skill_query(212)) return \\skill22\\calculate_trap_reuse_rate()+\\skill212\\get_skill212_extra_reuse_gain (); else return \\skill22\\calculate_trap_reuse_rate();
	'

Array\calculate_itemfind_obbs_multiplier ====> '
		
		if (!\\skillbase\\skill_query(214) || !\\skill214\\check_unlocked214 ()) return \\itemmain\\calculate_itemfind_obbs_multiplier();
		$choice = \\skillbase\\skill_getvalue(214,\'choice\');
		if ($choice==3) return 1.15*\\itemmain\\calculate_itemfind_obbs_multiplier();
		return \\itemmain\\calculate_itemfind_obbs_multiplier();
	'

Array\calculate_meetman_rate ====> '
		return \\pose\\calculate_meetman_rate($schmode);'

Array\apply_total_damage_modifier_down ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill429\\apply_total_damage_modifier_down\') 
		{
			return \\skill455\\apply_total_damage_modifier_down($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(232,$pd) && $pd[\'hp\']>$pd[\'mhp\'])
		{
			eval(import_module(\'logger\',\'skill232\'));
			$clv = (int)\\skillbase\\skill_getvalue(232,\'lvl\',$pd);
			$v=$shieldeff[$clv];
			$log.=\'力场护盾使你受到的伤害降低了<span class="yellow">\'.$v.\'</span>点！<br>\';
			$pa[\'dmg_dealt\']=max($pa[\'dmg_dealt\']-$v,1);
		}$attack_apply_total_damage_modifier_down_ret = NULL;

		//========Contents from mod attack========
		do{
			
		
		}while(0);
		return $attack_apply_total_damage_modifier_down_ret;
	'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\calculate_hack_proc_rate ====> '
		
		eval(import_module(\'item_uee\'));
		if (\\skillbase\\skill_query(233)) return 95;$item_uee_calculate_hack_proc_rate_ret = NULL;

		//========Contents from mod item_uee========
		do{
			
		
		
		$item_uee_calculate_hack_proc_rate_ret =  $hack_obbs;
break; 
		}while(0);
		return $item_uee_calculate_hack_proc_rate_ret;
	'

Array\post_hack_events ====> '
		
		eval(import_module(\'sys\',\'player\'));
		if (\\skillbase\\skill_query(233)) return;$item_uee_post_hack_events_ret = NULL;

		//========Contents from mod item_uee========
		do{
			
		
		eval(import_module(\'logger\'));
		
		$itm = & ${\'itm\'.$itmn};
		$itmk = & ${\'itmk\'.$itmn};
		$itme = & ${\'itme\'.$itmn};
		$itms = & ${\'itms\'.$itmn};
		$itmsk = & ${\'itmsk\'.$itmn};
		
		$hack_dice2 = rand(0,99);

		if($hack_dice2 < 5) {
			$log .= \'由于你的不当操作，禁区系统防火墙锁定了你的电脑并远程引爆了它。幸好你本人的位置并没有被发现。<br>\';
			$itm = $itmk = $itmsk = \'\';
			$itme = $itms = 0;
		} elseif($hack_dice2 < 8) {
			$log .= "<span class=\\"evergreen\\">“小心隔墙有耳哦。”</span>——林无月<br>";
			$log .= \'你擅自入侵禁区控制系统，被控制系统远程消灭！<br>\';
			$state = 14;
			\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = \'\';
			\\player\\kill($sdata,$sdata);
			\\player\\player_save($sdata);
			\\player\\load_playerdata($sdata);
		}
		}while(0);
		$item_uee_post_hack_events_ret;
	'

Array\act ====> '
		return \\smartmix\\act();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\act ====> '
		return \\smartmix\\act();'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\act ====> '
		return \\smartmix\\act();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\get_trap_damage ====> '
		return \\miracletrap\\get_trap_damage();'

Array\kill ====> '
		return \\weather\\kill($pa,$pd);'

Array\apply_total_damage_modifier_down ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill251\\apply_total_damage_modifier_down\') 
		{
			return \\skill455\\apply_total_damage_modifier_down($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(429,$pa) || !\\skill429\\check_unlocked429 ($pa)) return \\skill232\\apply_total_damage_modifier_down($pa,$pd,$active);
		$var_429=\\skill429\\get_skill429_dmg ($pa);
		if (($var_429>0)&&($var_429<100)){
			$d429=round($pd[\'mhp\']*$var_429/100);
			if ($pa[\'dmg_dealt\']>$d429){
				$pa[\'dmg_dealt\']=$d429;
				eval(import_module(\'logger\'));
				if ($active) $log .= "<span class=\\"yellow\\">你造成的伤害被限制为<span class=\\"red\\">{$d429}</span>点。</span><br>";
				else $log .= "<span class=\\"yellow\\">敌人造成的伤害被限制为<span class=\\"red\\">{$d429}</span>点。</span><br>";
			}
		}
		\\skill232\\apply_total_damage_modifier_down($pa,$pd,$active);
	'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\calculate_real_trap_obbs ====> '
		return \\pose\\calculate_real_trap_obbs();'

Array\calculate_active_obbs_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill7\\calculate_active_obbs_multiplier\') 
		{
			return \\searchmemory\\calculate_active_obbs_multiplier($ldata,$edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$r = 1;
		if (\\skillbase\\skill_query(240,$ldata) && \\skill240\\check_unlocked240 ($ldata)) $r*=1.08;
		if (\\skillbase\\skill_query(240,$edata) && \\skill240\\check_unlocked240 ($edata)) $r/=1.08;$skill211_calculate_active_obbs_multiplier_ret = NULL;

		//========Contents from mod skill211========
		do{
			
		
		if (!\\skillbase\\skill_query(211,$ldata) || !\\skill211\\check_unlocked211 ($ldata)){ $skill211_calculate_active_obbs_multiplier_ret =  \\enemy\\calculate_active_obbs_multiplier($ldata,$edata);
break; }
		$skill211_calculate_active_obbs_multiplier_ret =  \\enemy\\calculate_active_obbs_multiplier($ldata,$edata)*\\skill211\\get_skill211_extra_act_gain ($ldata, $edata);
break; 
		}while(0);
		return $skill211_calculate_active_obbs_multiplier_ret*$r;
	'

Array\lvlup ====> '
		return \\gtype1\\lvlup($pa);'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\get_traplist ====> '
		
		if (!\\skillbase\\skill_query(247)){$trap_get_traplist_ret = NULL;

		//========Contents from mod trap========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		$trap_get_traplist_ret =  $db->query("SELECT * FROM {$tablepre}maptrap WHERE pls = \'$pls\' ORDER BY itmk DESC");
break; 
		}while(0); return $trap_get_traplist_ret;}
		eval(import_module(\'sys\',\'player\'));
		return $db->query("SELECT * FROM {$tablepre}maptrap WHERE pls = \'$pls\' AND itmsk <> \'$pid\' ORDER BY itmk DESC");
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\calculate_shop_itembuy_cost ====> '
		
		if (!\\skillbase\\skill_query(454)) return \\itemshop\\calculate_shop_itembuy_cost($price,$bnum);
		
		if (\\skillbase\\skill_query(69)) return \\itemshop\\calculate_shop_itembuy_cost($price,$bnum);
		if ($bnum<=1) return \\itemshop\\calculate_shop_itembuy_cost($price,$bnum);
		return round(\\itemshop\\calculate_shop_itembuy_cost($price,$bnum)*0.75);
	'

Array\get_trap_final_damage_modifier_down ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill251\\get_trap_final_damage_modifier_down\') 
		{
			return \\skill455\\get_trap_final_damage_modifier_down($pa,$pd,$tritm,$damage);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(457,$pd) || mb_strlen($tritm[\'itm\'],\'utf-8\')<=9) return \\trap\\get_trap_final_damage_modifier_down($pa,$pd,$tritm,$damage);
		eval(import_module(\'logger\'));
		$z=\\trap\\get_trap_final_damage_modifier_down($pa,$pd,$tritm,$damage);
		if ($z>=$pd[\'hp\'])
		{
			$z=$pd[\'hp\']-1;
			$log .= "<span class=\\"yellow\\">面对着又长又难以理解的陷阱名字，你不由地闭上了眼睛…… 这竟然也能减少陷阱伤害？！<br>算了还是不要吐槽了，总之你没被炸死。</span><br>";
		}
		return $z;
	'

Array\get_trap_damage_multiplier ====> '
		return \\skill409\\get_trap_damage_multiplier($pa,$pd,$trap,$damage);'

Array\trap_deal_damage ====> '
		return \\ex_attr_trap\\trap_deal_damage();'

Array\get_trap_damage_multiplier ====> '
		return \\skill409\\get_trap_damage_multiplier($pa,$pd,$trap,$damage);'

Array\skill_acquire ====> '
		
		if (\\skillbase\\check_skill_info($skillid,\'debuff\') && \\skillbase\\skill_query(461,$pa)) 
				return;$skillbase_skill_acquire_ret = NULL;

		//========Contents from mod skillbase========
		do{
			
		
		eval(import_module(\'player\',\'skillbase\'));
		$skillid=(int)$skillid;
		if ($pa == NULL || $pa[\'pid\']==$pid)
		{
			if ($pa == NULL) { \\player\\update_sdata(); $pa=$sdata; }
			$acquired_list[$skillid]=1;
		}
		else
		{
			$pa[\'acquired_list\'][$skillid]=1;
		}
		$func=\'skill\'.$skillid.\'\\\\acquire\'.$skillid;
		if (defined(\'MOD_SKILL\'.$skillid)) $func($pa);
		}while(0);
		return $skillbase_skill_acquire_ret;
	'

Array\assault_finish ====> '
		return \\armor\\assault_finish($pa,$pd,$active);'

Array\apply_total_damage_modifier_down ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill415\\apply_total_damage_modifier_down\') 
		{
			return \\skill455\\apply_total_damage_modifier_down($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(251,$pd)) return \\skill429\\apply_total_damage_modifier_down($pa,$pd,$active);
		eval(import_module(\'sys\',\'logger\',\'skill251\'));
		$s=(int)\\skillbase\\skill_getvalue(251,\'start\',$pd);
		$x=$now-$s;
		if ($x<=$skill251_act_time && !in_array($pa[\'type\'],$skill251_no_effect_array)){	
			$pa[\'dmg_dealt\']=0;
			if ($active) $log .= "<span class=\\"yellow\\">敌人的技能「天佑」使你的攻击没有造成任何伤害！</span><br>";
			else $log .= "<span class=\\"yellow\\">你的技能「天佑」使敌人的攻击没有造成任何伤害！</span><br>";
		}
		\\skill429\\apply_total_damage_modifier_down($pa,$pd,$active);
	'

Array\kill ====> '
		return \\weather\\kill($pa,$pd);'

Array\get_trap_final_damage_modifier_down ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill455\\get_trap_final_damage_modifier_down\') 
		{
			return \\skill455\\get_trap_final_damage_modifier_down($pa,$pd,$tritm,$damage);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(251,$pd)) return \\skill457\\get_trap_final_damage_modifier_down($pa,$pd,$tritm,$damage);
		eval(import_module(\'sys\',\'logger\',\'skill251\'));
		$s=(int)\\skillbase\\skill_getvalue(251,\'start\',$pd);
		$x=$now-$s;
		if ($x<=$skill251_act_time)
		{
			$log .= "<span class=\\"yellow\\">你的技能「天佑」使你免疫了陷阱伤害！</span><br>";
			return 0;
		}	
		return \\skill457\\get_trap_final_damage_modifier_down($pa,$pd,$tritm,$damage);
	'

Array\apply_damage ====> '
		return \\skill471\\apply_damage($pa,$pd,$active);'

Array\post_traphit_events ====> '
		return \\ex_dmg_att\\post_traphit_events($pa,$sdata,$tritm,$damage);'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\calculate_move_sp_cost ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill7\\calculate_move_sp_cost\') 
		{
			return \\skill8\\calculate_move_sp_cost();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		$skill4_calculate_move_sp_cost_ret = NULL;

		//========Contents from mod skill4========
		do{
			
		
		if (\\skillbase\\skill_query(4)){ 
			$skill4_calculate_move_sp_cost_ret =  \\explore\\calculate_move_sp_cost()+10;
break; }
		else{  $skill4_calculate_move_sp_cost_ret =  \\explore\\calculate_move_sp_cost();
break; }
		}while(0);
		
		$r = $skill4_calculate_move_sp_cost_ret;
		if (\\skillbase\\skill_query(255)) 
		{
			eval(import_module(\'player\'));
			$r-=10+round($lvl/4);
		}
		return $r;
	'

Array\calculate_search_sp_cost ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill3\\calculate_search_sp_cost\') 
		{
			return \\skill410\\calculate_search_sp_cost();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		$explore_calculate_search_sp_cost_ret = NULL;

		//========Contents from mod explore========
		do{
			
		
		eval(import_module(\'sys\',\'player\',\'map\'));
		
		$schsp =15;
		
		$explore_calculate_search_sp_cost_ret =  $schsp;
break; 
		}while(0);
		
		$r = $explore_calculate_search_sp_cost_ret;
		if (\\skillbase\\skill_query(255)) 
		{
			eval(import_module(\'player\'));
			$r-=10+round($lvl/4);
		}
		return $r;
	'

Array\calculate_real_trap_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'pose\\calculate_real_trap_obbs\') 
		{
			return \\pose\\calculate_real_trap_obbs();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		$skill240_calculate_real_trap_obbs_ret = NULL;

		//========Contents from mod skill240========
		do{
			
		
		if (\\skillbase\\skill_query(240)){
			$skill240_calculate_real_trap_obbs_ret =  \\gameflow_combo\\calculate_real_trap_obbs()*0.85;
break; }
		else{  $skill240_calculate_real_trap_obbs_ret =  \\gameflow_combo\\calculate_real_trap_obbs();
break; }
		}while(0);
		
		$r = $skill240_calculate_real_trap_obbs_ret;
		if (\\skillbase\\skill_query(255)) $r*=0.85;
		return $r;
	'

Array\get_trap_escape_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tactic\\get_trap_escape_rate\') 
		{
			return \\ex_attr_trap\\get_trap_escape_rate();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		$skill212_get_trap_escape_rate_ret = NULL;

		//========Contents from mod skill212========
		do{
			
		
		if (\\skillbase\\skill_query(212)){ $skill212_get_trap_escape_rate_ret =  \\skill22\\get_trap_escape_rate()+\\skill212\\get_skill212_extra_ev_gain ();
break; } else{ $skill212_get_trap_escape_rate_ret =  \\skill22\\get_trap_escape_rate();
break; }
		}while(0);
		
		$r = $skill212_get_trap_escape_rate_ret;
		if (\\skillbase\\skill_query(255)) $r*=1.1;
		return $r;
	'

Array\strike_prepare ====> '
		return \\skill244\\strike_prepare($pa,$pd,$active);'

Array\get_battle_skill_entry ====> '
		
		eval(import_module(\'player\'));
		if ($wepk==\'WJ\') return;$clubbase_get_battle_skill_entry_ret = NULL;

		//========Contents from mod clubbase========
		do{
			
		
		if ($which==3) $zflag = 1; else $zflag = 0;
		eval(import_module(\'clubbase\'));
		if (isset($clublist[$club]))
			foreach ($clublist[$club][\'skills\'] as $key) 
				if (defined(\'MOD_SKILL\'.$key.\'_INFO\'))
					if (\\skillbase\\check_skill_info($key, \'club\') && \\skillbase\\check_skill_info($key, \'battle\') && \\skillbase\\skill_query($key))
					{
						$flag = 0;
						if (\\skillbase\\check_skill_info($key, \'hidden\')) $flag = 1;
						if (!$flag) 
						{
							$func = \'skill\'.$key.\'\\\\check_unlocked\'.$key;
							if ($func($sdata)) $flag = 1;
						}
						if ($flag)
						{
							$which--;
							if ($which==0)
							{
								if ($zflag) echo \'<span style="display:block;height:6px;">&nbsp;</span>\';
								include template(constant(\'MOD_SKILL\'.$key.\'_BATTLECMD\'));
								$clubbase_get_battle_skill_entry_ret = NULL;
break; 
							}
						}
					}
		foreach (\\skillbase\\get_acquired_skill_array() as $key) 
			if (isset($clublist[$club]) && !in_array($key,$clublist[$club][\'skills\']))
				if (defined(\'MOD_SKILL\'.$key.\'_INFO\'))
					if (!\\skillbase\\check_skill_info($key, \'achievement\') && \\skillbase\\check_skill_info($key, \'battle\'))
					{
						$flag = 0;
						if (\\skillbase\\check_skill_info($key, \'hidden\')) $flag = 1;
						if (!$flag) 
						{
							$func = \'skill\'.$key.\'\\\\check_unlocked\'.$key;
							if ($func($sdata)) $flag = 1;
						}
						if ($flag)
						{
							$which--;
							if ($which==0)
							{
								if ($zflag) echo \'<span style="display:block;height:6px;">&nbsp;</span>\';
								include template(constant(\'MOD_SKILL\'.$key.\'_BATTLECMD\'));
								$clubbase_get_battle_skill_entry_ret = NULL;
break; 
							}
						}
					}
		}while(0);
		return $clubbase_get_battle_skill_entry_ret;
	'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\get_trap_damage_multiplier ====> '
		return \\skill409\\get_trap_damage_multiplier($pa,$pd,$trap,$damage);'

Array\search_area ====> '
		return \\weather\\search_area();'

Array\move_to_area ====> '
		return \\searchmemory\\move_to_area($moveto);'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_edible_hpup ====> '
		
		if (\\skillbase\\skill_query(474,$pa)) return round(\\skill421\\get_edible_hpup($theitem)*0.7);
		return \\skill421\\get_edible_hpup($theitem);
	'

Array\get_edible_spup ====> '
		
		if (\\skillbase\\skill_query(474,$pa)) return round(\\skill421\\get_edible_spup($theitem)*0.7);
		return \\skill421\\get_edible_spup($theitem);
	'

Array\strike_prepare ====> '
		return \\skill244\\strike_prepare($pa,$pd,$active);'

Array\skill_query ====> '
		return \\skill440\\skill_query($skillid,$pa);'

Array\assault_finish ====> '
		return \\armor\\assault_finish($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\check_cooltime_on ====> '
		
		if (\\skill602\\check_skill602_state ()) return 0;$cooldown_check_cooltime_on_ret = NULL;

		//========Contents from mod cooldown========
		do{
			
		
		eval(import_module(\'cooldown\'));
		$cooldown_check_cooltime_on_ret =  $coldtimeon;
break; 
		}while(0);	
		return $cooldown_check_cooltime_on_ret;
	'

Array\calculate_active_obbs_change ====> '
		
		if (\\skill602\\check_skill602_state ($ldata)) return 0;
		if (\\skill602\\check_skill602_state ($edata)) return 100;$enemy_calculate_active_obbs_change_ret = NULL;

		//========Contents from mod enemy========
		do{
			
		
		$enemy_calculate_active_obbs_change_ret =  $active_r;
break; 
		}while(0);
		return $enemy_calculate_active_obbs_change_ret;
	'

Array\check_can_counter ====> '
		return \\pose\\check_can_counter($pa,$pd,$active);'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill45\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skill602\\check_skill602_state ($pd)) $pd[\'stun_flag\']=1;$skill433_strike_prepare_ret = NULL;

		//========Contents from mod skill433========
		do{
			
		
		eval(import_module(\'logger\'));
		if(!$pa[\'type\'] && !$pd[\'type\']){
			$paflag = $pdflag = 0;
			if(\\skillbase\\skill_query(433,$pa) && \\skill433\\check_unlocked433 ($pa))
				$paflag = 1;
			if(\\skillbase\\skill_query(433,$pd) && \\skill433\\check_unlocked433 ($pd))
				$pdflag = 1;
			if($paflag || $pdflag){
				if($paflag && $active || $pdflag && !$active) $log_tmp = \'你\';
				elseif($paflag) $log_tmp = $pa[\'name\'];
				else $log_tmp = $pd[\'name\'];
				$log.=\'<span class="yellow">\'.$log_tmp.\'的「白板」技能使双方的技能全部暂时失效了！</span><br>\';
				$pa[\'skill433_flag\']=1;
				$pd[\'skill433_flag\']=1;
			}
		}$wjfix_strike_prepare_ret = NULL;

		//========Contents from mod wjfix========
		do{
			
		
		if ($pa[\'wepk\']==\'WJ\') $pa[\'bskill\']=0;$weapon_strike_prepare_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		
		eval(import_module(\'weapon\'));
		if ($active)
		{
			$log .= "使用{$pa[\'wep\']}<span class=\\"yellow\\">".$attinfo[$pa[\'wep_kind\']]."</span>{$pd[\'name\']}！<br>";
		}
		else  
		{
			$log .= "{$pa[\'name\']}使用{$pa[\'wep\']}<span class=\\"yellow\\">".$attinfo[$pa[\'wep_kind\']]."</span>你！<br>";
		}
		
		$pd[\'deathmark\']=$wepdeathstate[$pa[\'wep_kind\']];
		$pa[\'attackwith\']=$pa[\'wep\'];
		$pa[\'fin_skill\']=\\weapon\\get_skill ($pa,$pd,$active);
		$pa[\'fin_hitrate\']=\\weapon\\get_hitrate ($pa,$pd,$active);$attack_strike_prepare_ret = NULL;

		//========Contents from mod attack========
		do{
			
		
		}while(0);
		
		$attack_strike_prepare_ret;
		}while(0);
		$wjfix_strike_prepare_ret =  $weapon_strike_prepare_ret;
break; 
		}while(0);
		$wjfix_strike_prepare_ret;
		}while(0);
		return $skill433_strike_prepare_ret;
	'

Array\pre_act ====> '
		return \\skill435\\pre_act();'

Array\get_skill221_lasttime ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill222\\get_skill221_lasttime\') 
		{
			return \\skill222\\get_skill221_lasttime($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return 10;
	'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\get_external_att ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wep_g\\get_external_att\') 
		{
			return \\skill33\\get_external_att($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'weapon\'));
		if ($pa[\'wep_kind\']==\'N\')
			return round($pa[$skillinfo[\'N\']]*2/3);
		else{$weapon_get_external_att_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		
		$weapon_get_external_att_ret =  $pa[\'wepe\']*2;
break; 		
		}while(0);  return $weapon_get_external_att_ret;}
	'

Array\calculate_wepimp_rate ====> '
		return \\skill422\\calculate_wepimp_rate($pa,$pd,$active);'

Array\get_attack_method ====> '
		return \\wep_j\\get_attack_method($pdata);'

Array\apply_weapon_imp ====> '
		return \\wep_j\\apply_weapon_imp($pa,$pd,$active);'

Array\calculate_wepimp_rate ====> '
		return \\skill422\\calculate_wepimp_rate($pa,$pd,$active);'

Array\apply_weapon_imp ====> '
		return \\wep_j\\apply_weapon_imp($pa,$pd,$active);'

Array\get_fixed_dmg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill404\\get_fixed_dmg\') 
		{
			return \\skill259\\get_fixed_dmg($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$r=0;
		if ($pa[\'wep_kind\']==\'F\') $r=\\wep_f\\get_WF_fixed_dmg ($pa, $pd, $active);$weapon_get_fixed_dmg_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		$weapon_get_fixed_dmg_ret =  0;
break; 
		}while(0);
		return $weapon_get_fixed_dmg_ret+$r;
	'

Array\get_wf_sp_cost ====> '
		return \\skill65\\get_wf_sp_cost($pa,$pd,$active);'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\weapon_strike ====> '
		return \\ex_rapid_attr\\weapon_strike($pa,$pd,$active);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\init_battle ====> '
		return \\skill252\\init_battle($ismeet);'

Array\check_can_counter ====> '
		return \\pose\\check_can_counter($pa,$pd,$active);'

Array\calculate_meetman_rate ====> '
		return \\pose\\calculate_meetman_rate($schmode);'

Array\calculate_findman_obbs ====> '
		return \\weather\\calculate_findman_obbs($edata);'

Array\calculate_hide_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'pose\\calculate_hide_obbs\') 
		{
			return \\skill248\\calculate_hide_obbs($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'player\',\'tactic\'));$skill211_calculate_hide_obbs_ret = NULL;

		//========Contents from mod skill211========
		do{
			
		
		if (!\\skillbase\\skill_query(211,$edata) || !\\skill211\\check_unlocked211 ($edata)){ $skill211_calculate_hide_obbs_ret =  \\metman\\calculate_hide_obbs($edata);
break; }
		$skill211_calculate_hide_obbs_ret =  \\metman\\calculate_hide_obbs($edata)+\\skill211\\get_skill211_extra_hide_gain ($edata);
break; 
		}while(0);
		return $skill211_calculate_hide_obbs_ret+$tactic_hide_obbs[$edata[\'tactic\']];
	'

Array\calculate_counter_rate ====> '
		
		$r = 0;
		if($pa[\'tactic\'] == 3) $r = 30;$weapon_calculate_counter_rate_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		eval(import_module(\'weapon\'));
		$weapon_calculate_counter_rate_ret =  $counter_obbs[$pa[\'wep_kind\']];
break; 
		}while(0);
		return $weapon_calculate_counter_rate_ret + $r;
	'

Array\get_att_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'mapattr\\get_att_multiplier\') 
		{
			return \\weather\\get_att_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'tactic\'));
		if ($pa[\'is_counter\'])		
		{
			return \\weapon\\get_att_multiplier($pa,$pd,$active)*(1+$tactic_attack_modifier[$pa[\'tactic\']]/100);
		}
		else  return \\weapon\\get_att_multiplier($pa,$pd,$active);
	'

Array\get_def_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'mapattr\\get_def_multiplier\') 
		{
			return \\weather\\get_def_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'tactic\'));$weapon_get_def_multiplier_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		$weapon_get_def_multiplier_ret =  1.0;
break; 
		}while(0);
		
		return $weapon_get_def_multiplier_ret*(1+$tactic_defend_modifier[$pd[\'tactic\']]/100);
	'

Array\get_trap_damage ====> '
		return \\miracletrap\\get_trap_damage();'

Array\get_trap_escape_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_attr_trap\\get_trap_escape_rate\') 
		{
			return \\ex_attr_trap\\get_trap_escape_rate();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'player\'));
		if ($tactic == 4) return \\skill255\\get_trap_escape_rate()+20; else return \\skill255\\get_trap_escape_rate();	
	'

Array\act ====> '
		return \\smartmix\\act();'

Array\check_pc_avoid_killarea ====> '
		
		eval(import_module(\'sys\'));
		if($gamestate < 40 && 4 == $sub[\'tactic\']) return true;
		else{$player_check_pc_avoid_killarea_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		eval(import_module(\'map\'));
		if($gamestate < 40 && $areaesc){ $player_check_pc_avoid_killarea_ret =  true;
break; }
		else{ $player_check_pc_avoid_killarea_ret =  false;
break; }
		}while(0); $player_check_pc_avoid_killarea_ret;}
	'

Array\post_pc_avoid_killarea ====> '
		
		eval(import_module(\'sys\',\'map\'));
		if(!$sub[\'type\']){
			$subplsinfo = $plsinfo[$sub[\'pls\']];
			$w_log = "<span class=\\"yellow\\">为了躲避禁区，你及时移动到了{$subplsinfo}</span><br>";
			\\logger\\logsave ( $sub[\'pid\'],$now, $w_log ,\'s\');
		}$player_post_pc_avoid_killarea_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		}while(0);
		$player_post_pc_avoid_killarea_ret;
	'

Array\calculate_itemfind_obbs ====> '
		return \\weather\\calculate_itemfind_obbs();'

Array\calculate_findman_obbs ====> '
		return \\weather\\calculate_findman_obbs($edata);'

Array\calculate_meetman_rate ====> '
		return \\pose\\calculate_meetman_rate($schmode);'

Array\get_att_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill3\\get_att_multiplier\') 
		{
			return \\weather\\get_att_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'mapattr\',\'logger\'));
		
		if (isset($pls_attack_modifier[$pa[\'pls\']]))		
			return \\tactic\\get_att_multiplier($pa,$pd,$active)*(1+$pls_attack_modifier[$pa[\'pls\']]/100);
		else  return \\tactic\\get_att_multiplier($pa,$pd,$active);
	'

Array\get_def_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill7\\get_def_multiplier\') 
		{
			return \\weather\\get_def_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'mapattr\',\'logger\'));
		
		if (isset($pls_defend_modifier[$pa[\'pls\']]))		
			return \\tactic\\get_def_multiplier($pa,$pd,$active)*(1+$pls_defend_modifier[$pa[\'pls\']]/100);
		else  return \\tactic\\get_def_multiplier($pa,$pd,$active);
	'

Array\calculate_real_trap_obbs ====> '
		return \\pose\\calculate_real_trap_obbs();'

Array\heal_inf ====> '
		return \\tutorial\\heal_inf($hurtposition,$pa);'

Array\calculate_inf_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill478\\calculate_inf_rate\') 
		{
			return \\skill478\\calculate_inf_rate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'wound\'));
		return $wep_infobbs[$pa[\'wep_kind\']];
	'

Array\calculate_weapon_wound_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill202\\calculate_weapon_wound_multiplier\') 
		{
			return \\skill205\\calculate_weapon_wound_multiplier($pa,$pd,$active,$hurtposition);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return 1;
	'

Array\post_weapon_strike_events ====> '$weapon_post_weapon_strike_events_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		
		\\weapon\\calculate_wepimp ($pa, $pd, $active, $is_hit);
		}while(0);
		
		$weapon_post_weapon_strike_events_ret;
		
		if ($is_hit) \\wound\\check_weapon_inf ($pa, $pd, $active);
	'

Array\apply_weapon_wound_real ====> '
		return \\skill202\\apply_weapon_wound_real($pa,$pd,$active,$hurtposition);'

Array\apply_weapon_inf ====> '
		return \\tutorial\\apply_weapon_inf($pa,$pd,$active);'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\assault_prepare ====> '
		return \\armor\\assault_prepare($pa,$pd,$active);'

Array\assault_finish ====> '
		return \\armor\\assault_finish($pa,$pd,$active);'

Array\init_battle ====> '
		return \\skill252\\init_battle($ismeet);'

Array\chginf ====> '
		return \\skill600\\chginf($infpos);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\act ====> '
		return \\smartmix\\act();'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\skill_onsave_event ====> '
		return \\skill1\\skill_onsave_event($pa);'

Array\get_hitrate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill414\\get_hitrate\') 
		{
			return \\tutorial\\get_hitrate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(2,$pa))		
			return \\weapon\\get_hitrate($pa,$pd,$active)*0.75;
		else  return \\weapon\\get_hitrate($pa,$pd,$active);
	'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\skill_onsave_event ====> '
		return \\skill1\\skill_onsave_event($pa);'

Array\get_att_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill6\\get_att_multiplier\') 
		{
			return \\weather\\get_att_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(3,$pa)) 
			return \\mapattr\\get_att_multiplier($pa,$pd,$active)*0.75;
		else  return \\mapattr\\get_att_multiplier($pa,$pd,$active);
	'

Array\calculate_search_sp_cost ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill7\\calculate_search_sp_cost\') 
		{
			return \\skill410\\calculate_search_sp_cost();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(3)) 
			return \\skill255\\calculate_search_sp_cost()+10;
		else  return \\skill255\\calculate_search_sp_cost();
	'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_internal_att ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wep_g\\get_internal_att\') 
		{
			return \\skill445\\get_internal_att($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(41,$pa) || !\\skill41\\check_unlocked41 ($pa)) return \\weapon\\get_internal_att($pa,$pd,$active);
		return \\weapon\\get_internal_att($pa,$pd,$active)*1.1;
	'

Array\attack_finish ====> '
		return \\skill42\\attack_finish($pa,$pd,$active);'

Array\battle_prepare ====> '
		return \\skill42\\battle_prepare($pa,$pd,$active);'

Array\check_counter_dice ====> '
		
		if (!\\skillbase\\skill_query(41,$pa) || !\\skill41\\check_unlocked41 ($pa)) return \\weapon\\check_counter_dice($pa,$pd,$active);
		if (rand(0,99)<65) 
		{
			$pa[\'skill41_proced\']=1; return 1;
		}
		return \\weapon\\check_counter_dice($pa, $pd, $active);
	'

Array\counter_assault ====> '
		
		if (!\\skillbase\\skill_query(41,$pa) || !\\skill41\\check_unlocked41 ($pa)) return \\battle\\counter_assault($pa,$pd,$active);
		eval(import_module(\'logger\'));
		if ($pa[\'skill41_proced\'])
		{
			if ($active)
				$log.=\'<span class="yellow">你以惊人的速度完成了反击准备，并立即对敌人进行了反击！</span><br>\';
			else  $log.=\'<span class="yellow">\'.$pa[\'name\'].\'以惊人的速度完成了反击准备，并立即对你进行了反击！</span><br>\';
		}
		$pa[\'skill41_proced\']=0;
		\\battle\\counter_assault($pa, $pd, $active);
	'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill46\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=45) return \\skill602\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(45,$pa) || !\\skill45\\check_unlocked45 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill45\\get_rage_cost45 ($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「重拳」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「重拳」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill45\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill602\\strike_prepare($pa, $pd, $active);
	'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill60\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=46) return \\skill45\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(46,$pa) || !\\skill46\\check_unlocked46 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$remtime = (int)\\skill46\\get_remaintime46 ($pa);
			if ($remtime>=1)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「暴打」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「暴打」！</span><br>";
				$remtime--; 
				\\skillbase\\skill_setvalue(46,\'rmtime\',$remtime,$pa);
				$pd[\'skill46_flag\']=1;
				addnews ( 0, \'bskill46\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill45\\strike_prepare($pa, $pd, $active);
	'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\skill_query ====> '
		return \\skill440\\skill_query($skillid,$pa);'

Array\calculate_counter_rate_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill7\\calculate_counter_rate_multiplier\') 
		{
			return \\skill478\\calculate_counter_rate_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(52,$pa) || !\\skill52\\check_unlocked52 ($pa)) return \\weapon\\calculate_counter_rate_multiplier($pa, $pd, $active);
		if (substr($pa[\'wepk\'],0,2)!=\'WC\') return \\weapon\\calculate_counter_rate_multiplier($pa, $pd, $active);
		eval(import_module(\'skill52\'));
		$clv = (int)\\skillbase\\skill_getvalue(52,\'lvl\');
		$r=(100+$counterperc[$clv])/100;
		return \\weapon\\calculate_counter_rate_multiplier($pa, $pd, $active)*$r;
	'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill63\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=60) return \\skill46\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(60,$pa) || !\\skill60\\check_unlocked60 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill60\\get_rage_cost60 ($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「恐惧」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「恐惧」！</span><br>";
				$pa[\'rage\']-=$rcost;
				$pa[\'skill60_flag\']=floor((1-min(1,$pd[\'hp\']/$pd[\'mhp\']))*100);
				addnews ( 0, \'bskill60\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill46\\strike_prepare($pa, $pd, $active);
	'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\strike_finish ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill237\\strike_finish\') 
		{
			return \\skill27\\strike_finish($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(61,$pa))
		{
			eval(import_module(\'logger\'));
			if (rand(0,99)<\\skill61\\get_sk_procrate61 ($pa))
			{
				eval(import_module(\'weapon\'));
				foreach (array_unique(array_values($skillinfo)) as $key)
					if ($pd[$key]>0)
					{
						$pa[$key]++;
						$pd[$key]--;
					}
				if ($active)
					$log.=\'<span class="yellow">你吸取了敌人1点全系熟练！</span><br>\';
				else  $log.=\'<span class="yellow">敌人吸取了你1点全系熟练！</span><br>\';
			}
			if (rand(0,99)<\\skill61\\get_hp_procrate61 ($pa))
			{
				$pa[\'mhp\']++; $pa[\'hp\']++;
				if ($pd[\'mhp\']>1)
				{
					$pd[\'mhp\']--; $pd[\'hp\']--;
				}
				if ($active)
					$log.=\'<span class="yellow">你吸取了敌人1点生命上限！</span><br>\';
				else  $log.=\'<span class="yellow">敌人吸取了你1点生命上限！</span><br>\';
			}
		}$skill60_strike_finish_ret = NULL;

		//========Contents from mod skill60========
		do{
			
		
		if ($pa[\'bskill\']==60) unset($pa[\'skill60_flag\']);$wound_strike_finish_ret = NULL;

		//========Contents from mod wound========
		do{
			
		
		
		eval(import_module(\'wound\'));
		\\wound\\apply_weapon_inf ($pa, $pd, $active);
		for ($i=0; $i<strlen($inf_place); $i++)
			unset($pa[\'attack_wounded_\'.$inf_place[$i]]);$skill221_strike_finish_ret = NULL;

		//========Contents from mod skill221========
		do{
			
		
		if (\\skillbase\\skill_query(221,$pa))
		{
			eval(import_module(\'skill221\',\'skill600\',\'sys\'));
			$var_221=\\skill221\\get_skill221_lasttime ($pa,$pd,$active);
			if (!\\skillbase\\skill_query(600,$pd)){
				\\skillbase\\skill_acquire(600,$pd);
				$var_221_2=$now;
			}else{
				$var_221_2=\\skillbase\\skill_getvalue(600,\'end\',$pd);
				if ($var_221_2<$now) $var_221_2=$now;
			}
			\\skillbase\\skill_setvalue(600,\'start\',$var_221_2,$pd);
			\\skillbase\\skill_setvalue(600,\'end\',$var_221_2+$var_221,$pd);
		}$weapon_strike_finish_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		
		\\weapon\\apply_weapon_imp ($pa, $pd, $active);
		unset($pa[\'wepimp\']);
		
		\\weapon\\apply_weapon_skill_gain ($pa, $pd, $active);$attack_strike_finish_ret = NULL;

		//========Contents from mod attack========
		do{
			
		
		}while(0);
		
		$attack_strike_finish_ret;
		}while(0);
		$weapon_strike_finish_ret;
		}while(0);
		$skill221_strike_finish_ret;
		}while(0);
		$wound_strike_finish_ret;
		}while(0);
		$skill60_strike_finish_ret;
	'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill203\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=63) return \\skill60\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(63,$pa) || !\\skill63\\check_unlocked63 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$clv = (int)\\skillbase\\skill_getvalue(63,\'t\',$pa);
			if ($clv>0)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「噩梦」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「噩梦」！</span><br>";
				$clv--; \\skillbase\\skill_setvalue(63,\'t\',$clv,$pa);
				\\skillbase\\skill_setvalue(63,\'p\',$pd[\'pid\'],$pa);
				\\skillbase\\skill_setvalue(63,\'n\',$pd[\'name\'],$pa);
				addnews ( 0, \'bskill63\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill60\\strike_prepare($pa, $pd, $active);
	'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill71\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=203) return \\skill63\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(203,$pa) || !\\skill203\\check_unlocked203 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill203\\get_rage_cost203 ($pa);
			if (($pa[\'rage\']>=$rcost)&&($pa[\'wep_kind\']=="G"))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「瞄准」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「瞄准」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill203\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill63\\strike_prepare($pa, $pd, $active);
	'

Array\get_hitrate ====> '
		return \\tutorial\\get_hitrate($pa,$pd,$active);'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_weapon_fluc_percentage ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill442\\get_weapon_fluc_percentage\') 
		{
			return \\skill442\\get_weapon_fluc_percentage($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ((\\skillbase\\skill_query(209,$pa))&&(\\skill209\\check_unlocked209 ($pa))&&($pa[\'wep_kind\']==\'K\'))
			return abs(\\weapon\\get_weapon_fluc_percentage($pa, $pd, $active));
		else  return \\weapon\\get_weapon_fluc_percentage($pa, $pd, $active);
	'

Array\get_skill ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill239\\get_skill\') 
		{
			return \\skill253\\get_skill($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(66,$pa) || !\\skill66\\check_unlocked66 ($pa)){$weapon_get_skill_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		eval(import_module(\'weapon\'));
		$weapon_get_skill_ret =  \\weapon\\get_skill_by_kind ($pa, $pd, $active, $skillinfo[$pa[\'wep_kind\']]);
break; 
		}while(0); return $weapon_get_skill_ret;}
		eval(import_module(\'weapon\'));
		$max_skill=0;
		foreach (array_unique(array_values($skillinfo)) as $key)
			$max_skill=max($max_skill,\\weapon\\get_skill_by_kind($pa, $pd, $active, $key));
		return $max_skill;
	'

Array\lvlup ====> '
		return \\gtype1\\lvlup($pa);'

Array\get_skill_by_kind ====> '
		
		if (!\\skillbase\\skill_query(70,$pa)) return \\weapon\\get_skill_by_kind($pa,$pd,$active,$wep_kind);
		eval(import_module(\'weapon\'));
		$fsk=\\weapon\\get_skill_by_kind($pa,$pd,$active,$wep_kind);
		$r70=0.25;
		if ($pa[\'lvl\']>=19) $r70=0.55;
		foreach (array_unique(array_values($skillinfo)) as $key)
			if ($key!=$wep_kind)
				$fsk+=$r70*$pa[$key];
		$fsk=round($fsk);
		return $fsk;
	'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill74\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=71) return \\skill203\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(71,$pa) || !\\skill71\\check_unlocked71 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill71\\get_rage_cost71 ($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「解构」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「解构」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill71\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill203\\strike_prepare($pa, $pd, $active);
	'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill216\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=74) return \\skill71\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(74,$pa) || !\\skill74\\check_unlocked74 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill74\\get_rage_cost74 ($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「心火」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「心火」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill74\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill71\\strike_prepare($pa, $pd, $active);
	'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\apply_attack_exp_gain ====> '
		return \\skill226\\apply_attack_exp_gain($pa,$pd,$active);'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill440\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=216) return \\skill74\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(216,$pa) || !\\skill216\\check_unlocked216 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$remtime = (int)\\skill216\\get_remaintime216 ($pa);
			if (($remtime>=1)&&($pa[\'wep_kind\']=="D"))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「双响」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「双响」！</span><br>";
				$remtime--; 
				\\skillbase\\skill_setvalue(216,\'rmtime\',$remtime,$pa);
				addnews ( 0, \'bskill216\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill74\\strike_prepare($pa, $pd, $active);
	'

Array\attack ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill403\\attack\') 
		{
			return \\skill403\\attack($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		\\attack\\attack($pa,$pd,$active);
		eval(import_module(\'logger\'));
		if (($pa[\'bskill\']==216)&&($pa[\'wep_kind\']=="D")&&($pa[\'wepe\']>0)&&(($pa[\'weps\']>0)||($pa[\'weps\']==\'∞\'))){
			unset($pa[\'bskill\']);
			$log.="<span class=\\"yellow\\">你再一次引爆了爆炸物！</span><br>";
			\\attack\\attack($pa,$pd,$active);
		}
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_fixed_dmg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wep_j\\get_fixed_dmg\') 
		{
			return \\skill259\\get_fixed_dmg($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(404,$pa) || !\\skill404\\check_unlocked404 ($pa) ||($pa[\'hp\']>($pa[\'mhp\']/2))) return \\wep_f\\get_fixed_dmg($pa,$pd,$active);
		$var_404=\\skill404\\get_skill404_extdmg ($pa, $pd, $active);
		return \\wep_f\\get_fixed_dmg($pa, $pd, $active)+$var_404;
	'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\calculate_hide_obbs ====> '
		return \\skill248\\calculate_hide_obbs($edata);'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\attack ====> '
		
		\\skill216\\attack($pa,$pd,$active);
		eval(import_module(\'logger\',\'skill403\'));
		$var_403=\\skill403\\get_skill403_procrate ($pa,$pd,$active);
		while (rand(0,99)<$var_403){
			$log.="<span class=\\"clan\\">追加攻击！</span><br>";
			\\skill216\\attack($pa,$pd,$active);
		}
	'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\apply_total_damage_modifier_up ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill447\\apply_total_damage_modifier_up\') 
		{
			return \\skill244\\apply_total_damage_modifier_up($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(402,$pa) || !\\skill402\\check_unlocked402 ($pa)) return \\attack\\apply_total_damage_modifier_up($pa,$pd,$active);
		\\attack\\apply_total_damage_modifier_up($pa,$pd,$active);
		$var_402=\\skill402\\get_skill402_procrate ($pa,$pd,$active);
		if ((rand(0,99)<$var_402)&&(($pd[\'mhp\']<5000000)||($var_402>=10))){
			$pa[\'dmg_dealt\']=$pd[\'hp\'];
			if ($pa[\'dmg_dealt\']<100000000) $pa[\'dmg_dealt\']=100000000;
			eval(import_module(\'logger\'));
			if ($active) $log .= "<span class=\\"red\\">一股来自东方的神秘力量直接杀死了你的敌人！</span><br>";
			else $log .= "<span class=\\"red\\">一股来自东方的神秘力量直接杀死了你！</span><br>";
		}
		
	'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\calculate_attack_weapon_skill_gain ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill260\\calculate_attack_weapon_skill_gain\') 
		{
			return \\skill260\\calculate_attack_weapon_skill_gain($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(225,$pa)) return (1+\\weapon\\calculate_attack_weapon_skill_gain($pa,$pd,$active));
		return \\weapon\\calculate_attack_weapon_skill_gain($pa,$pd,$active);
	'

Array\apply_attack_exp_gain ====> '$skill213_apply_attack_exp_gain_ret = NULL;

		//========Contents from mod skill213========
		do{$weapon_apply_attack_exp_gain_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		
		eval(import_module(\'lvlctl\'));
		if ($pa[\'physical_dmg_dealt\'] > 0) 
			\\lvlctl\\getexp(\\weapon\\calculate_attack_exp_gain ($pa, $pd, $active), $pa);
		}while(0);
			
		
		
		$weapon_apply_attack_exp_gain_ret;
		
		eval(import_module(\'lvlctl\'));
		if (($pa[\'physical_dmg_dealt\'] <= 0)&&(\\skillbase\\skill_query(213,$pa))&&(\\skill213\\check_unlocked213 ($pa))&&($pa[\'wep_kind\']==\'D\')) 
			\\lvlctl\\getexp(1,$pa);
		}while(0);
		
		
		$skill213_apply_attack_exp_gain_ret;
		
		eval(import_module(\'lvlctl\'));
		if (($pa[\'physical_dmg_dealt\']>0)&&(\\skillbase\\skill_query(226,$pa))&&(\\skill226\\check_unlocked226 ($pa))) 
			\\lvlctl\\getexp(1,$pa);
	'

Array\calculate_attack_weapon_skill_gain ====> '
		return \\skill260\\calculate_attack_weapon_skill_gain($pa,$pd,$active);'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\get_trap_damage_multiplier ====> '
		
		$r=Array();
		if (\\skillbase\\skill_query(409,$pd)) 
		{
			eval(import_module(\'logger\'));
			$log.=\'「不动」使你受到的陷阱伤害降低了10%！<br>\';
			$r=Array(0.9);
		}$skill257_get_trap_damage_multiplier_ret = NULL;

		//========Contents from mod skill257========
		do{
			
		
		$r=1;
		if (\\skillbase\\skill_query(257,$pa)) 
		{
			eval(import_module(\'logger\'));
			$log.=\'这个陷阱埋设的很拙劣，因而你受到的伤害减少了<span class="yellow">90</span>%！<br>\';
			$r*=0.1;
		}
		if (\\skillbase\\skill_query(257,$pd)) 
		{
			eval(import_module(\'logger\'));
			$log.=\'你灵活的反应使你受到的陷阱伤害减少了<span class="yellow">60</span>%！<br>\';
			$r*=0.4;
		}
		if ($r!=1) $r=Array($r); else $r=array();$skill250_get_trap_damage_multiplier_ret = NULL;

		//========Contents from mod skill250========
		do{
			
		
		$r=Array();
		if (\\skillbase\\skill_query(250,$pd)) 
		{
			eval(import_module(\'logger\'));
			$log.=\'幸好已有预感，你及时地护住了脸……<br>\';
			$r=Array(1-rand(1,30)/100);
		}$skill249_get_trap_damage_multiplier_ret = NULL;

		//========Contents from mod skill249========
		do{
			
		
		$r=Array();
		if (\\skillbase\\skill_query(249,$pa)) 
		{
			eval(import_module(\'logger\'));
			$log.=\'对方精心埋设的陷阱使伤害增加了<span class="yellow">15</span>%！<br>\';
			$r=Array(1.15);
		}$trap_get_trap_damage_multiplier_ret = NULL;

		//========Contents from mod trap========
		do{
			
		
		$trap_get_trap_damage_multiplier_ret =  Array();
break; 
		}while(0);
		$skill249_get_trap_damage_multiplier_ret =  array_merge($r,$trap_get_trap_damage_multiplier_ret);
break; 
		}while(0);
		$skill250_get_trap_damage_multiplier_ret =  array_merge($r,$skill249_get_trap_damage_multiplier_ret);
break; 
		}while(0);
		$skill257_get_trap_damage_multiplier_ret =  array_merge($r,$skill250_get_trap_damage_multiplier_ret);
break; 
		}while(0);
		return array_merge($r,$skill257_get_trap_damage_multiplier_ret);
	'

Array\apply_total_damage_modifier_down ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill423\\apply_total_damage_modifier_down\') 
		{
			return \\skill455\\apply_total_damage_modifier_down($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(415,$pd) || !\\skill415\\check_unlocked415 ($pd)) return \\skill251\\apply_total_damage_modifier_down($pa,$pd,$active);
		eval(import_module(\'logger\'));
		$var_415=\\skillbase\\skill_getvalue(415,\'lvl\',$pd);
		$pa[\'dmg_dealt\']=(int)$pa[\'dmg_dealt\'];
		if (($var_415==0)&&(($pa[\'dmg_dealt\']%2)==0)){
			$tz=1;
			while ($pa[\'dmg_dealt\']>0 && ($pa[\'dmg_dealt\']%2)==0) 
			{
				$pa[\'dmg_dealt\']=floor($pa[\'dmg_dealt\']/2);	
				$tz*=2;
			}
			if ($tz>1)
			{
				if ($active) 
					$log .= "<span class=\\"yellow\\">你的攻击被敌人的技能「影像」防御了，伤害降低至{$tz}分之1！</span><br>";
				else 
					$log .= "<span class=\\"yellow\\">敌人的攻击被你的技能「影像」防御了，伤害降低至{$tz}分之1！</span><br>";
			}
		}
		if (($var_415==1)&&(($pa[\'dmg_dealt\']%1000)!=666)){
			$pa[\'dmg_dealt\']=0;
			if ($active) $log .= "<span class=\\"yellow\\">敌人的技能「影像」使你的攻击没有造成任何效果！</span><br>";
			else $log .= "<span class=\\"yellow\\">你的技能「影像」使敌人的攻击没有造成任何效果！</span><br>";
		}
		\\skill251\\apply_total_damage_modifier_down($pa,$pd,$active);
	'

Array\apply_total_damage_change ====> '
		return \\ex_hp_def\\apply_total_damage_change($pa,$pd,$active);'

Array\apply_damage ====> '
		return \\skill471\\apply_damage($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\get_hitrate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill450\\get_hitrate\') 
		{
			return \\tutorial\\get_hitrate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(414,$pa) || !(\\skill414\\check_skill414_state ($pa)==1) || $pa[\'wep_kind\']==\'D\' || $pa[\'wepk\']==\'WJ\'){$skill203_get_hitrate_ret = NULL;

		//========Contents from mod skill203========
		do{
			
		
		if ($pa[\'bskill\']!=203){ $skill203_get_hitrate_ret =  \\skill2\\get_hitrate($pa, $pd, $active);
break; }
		$skill203_get_hitrate_ret =  \\skill2\\get_hitrate($pa, $pd, $active)*1.15;
break; 
		}while(0); return $skill203_get_hitrate_ret;}
		return 10000;
	'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\apply_total_damage_modifier_down ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill439\\apply_total_damage_modifier_down\') 
		{
			return \\skill455\\apply_total_damage_modifier_down($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(423,$pd) || !\\skill423\\check_unlocked423 ($pd)) return \\skill415\\apply_total_damage_modifier_down($pa,$pd,$active);
		eval(import_module(\'logger\'));
		if ($pa[\'type\']==88){
			$pa[\'dmg_dealt\']=0;
			if ($active) $log .= "<span class=\\"yellow\\">你的攻击被敌人完全吸收了！</span><br>";
			else $log .= "<span class=\\"yellow\\">敌人的攻击被你完全吸收了！</span><br>";
		}
		\\skill415\\apply_total_damage_modifier_down($pa,$pd,$active);
	'

Array\get_skill ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill253\\get_skill\') 
		{
			return \\skill253\\get_skill($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'weapon\'));
		if (!\\skillbase\\skill_query(239, $pa) || !\\skill239\\check_unlocked239 ($pa)) return \\skill66\\get_skill($pa,$pd,$active);
		return \\skill66\\get_skill($pa,$pd,$active)+round($pa[\'att\']*\\skill239\\get_skill239_percentage ($pa, $pd, $active)/100.0);
	'

Array\act ====> '
		return \\smartmix\\act();'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\apply_total_damage_modifier_down ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill446\\apply_total_damage_modifier_down\') 
		{
			return \\skill455\\apply_total_damage_modifier_down($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(439,$pd) || !\\skill439\\check_unlocked439 ($pd)) return \\skill423\\apply_total_damage_modifier_down($pa,$pd,$active);
		if ($pa[\'dmg_dealt\']<=0) return \\skill423\\apply_total_damage_modifier_down($pa,$pd,$active);
		eval(import_module(\'logger\'));
		$var_439=\\skillbase\\skill_getvalue(439,\'type\',$pd);
		if ($var_439!=$pa[\'wep_kind\']){
			\\skillbase\\skill_setvalue(439,\'type\',$pa[\'wep_kind\'],$pd);
		}else{
			\\skillbase\\skill_setvalue(439,\'type\',\'0\',$pd);
			if ($active) 
				$log .= "<span class=\\"yellow\\">黄翔把你的攻击方式ban了，造成的伤害降低75%！</span><br>";
			else 
				$log .= "<span class=\\"yellow\\">黄翔把敌人的攻击方式ban了，造成的伤害降低75%！</span><br>";
			$pa[\'dmg_dealt\']=ceil($pa[\'dmg_dealt\']/4);
		}
		\\skill423\\apply_total_damage_modifier_down($pa,$pd,$active);
	'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill246\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=440) return \\skill216\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(440,$pa) || !\\skill440\\check_unlocked440 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			eval(import_module(\'sys\',\'skill440\'));
			$l=\\skillbase\\skill_getvalue(440,\'lastuse\',$pa);
			if (($pd[\'type\']==0)&&(($now-$l)>=$skill440_cd)){
				
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「父爱」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「父爱」！</span><br>";
				\\skillbase\\skill_setvalue(440,\'lastuse\',$now,$pa);
				$pd[\'skill440_flag\']=1;
				addnews ( 0, \'bskill440\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'因对方非玩家或其他原因而未发动技能。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill216\\strike_prepare($pa, $pd, $active);
	'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\skill_query ====> '
		
		eval(import_module(\'skillbase\'));
		$skillid=(int)$skillid;
		if ($pa!=NULL && isset($pa[\'skill440_flag\']) && $pa[\'skill440_flag\'])
		{
			
			if (!\\skillbase\\check_skill_info($skillid,\'achievement\') && !\\skillbase\\check_skill_info($skillid,\'hidden\'))
				return 0;
		}$skill46_skill_query_ret = NULL;

		//========Contents from mod skill46========
		do{
			
		
		
		$skillid=(int)$skillid;
		if ($pa!=NULL && isset($pa[\'skill46_flag\']) && $pa[\'skill46_flag\'])
		{
			
			if (!\\skillbase\\check_skill_info($skillid,\'achievement\') && !\\skillbase\\check_skill_info($skillid,\'hidden\')){
				$skill46_skill_query_ret =  0;
break; }
		}$skill433_skill_query_ret = NULL;

		//========Contents from mod skill433========
		do{
			
		
		
		$skillid=(int)$skillid;
		if ($pa!=NULL && isset($pa[\'skill433_flag\']) && $pa[\'skill433_flag\'])
		{
			
			if (!\\skillbase\\check_skill_info($skillid,\'achievement\') && !\\skillbase\\check_skill_info($skillid,\'hidden\')){ $skill433_skill_query_ret =  0;
break; }


		}$skillbase_skill_query_ret = NULL;

		//========Contents from mod skillbase========
		do{
			
		
		
		$skillid=(int)$skillid;
		if ($ppid==-1) \\skillbase\\skillbase_set_ppid ();
		if ($pa == NULL || $pa[\'pid\']==$ppid){ $skillbase_skill_query_ret =  ((isset($acquired_list[$skillid])) && ($acquired_list[$skillid]==1));
break; }
		$skillbase_skill_query_ret =  ((isset($pa[\'acquired_list\'][$skillid])) && ($pa[\'acquired_list\'][$skillid]==1));
break; 
		}while(0);
		$skill433_skill_query_ret =  $skillbase_skill_query_ret;
break; 
		}while(0);
		$skill46_skill_query_ret =  $skill433_skill_query_ret;
break; 
		}while(0);
		return $skill46_skill_query_ret;
	'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_weapon_fluc_percentage ====> '
		
		if ((\\skillbase\\skill_query(442,$pa))&&(\\skill442\\check_unlocked442 ($pa)))
			return (1.5*\\skill209\\get_weapon_fluc_percentage($pa, $pd, $active));
		else  return \\skill209\\get_weapon_fluc_percentage($pa, $pd, $active);
	'

Array\apply_total_damage_modifier_down ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill455\\apply_total_damage_modifier_down\') 
		{
			return \\skill455\\apply_total_damage_modifier_down($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(446,$pd) || !\\skill446\\check_unlocked446 ($pd)) return \\skill439\\apply_total_damage_modifier_down($pa,$pd,$active);
		eval(import_module(\'logger\',\'skill446\'));
		$var_446=\\skill446\\check_skill446_state ($pd);
		if ($var_446==1){
			$pa[\'dmg_dealt\']=0;
			if ($active) $log .= "<span class=\\"yellow\\">敌人的技能「死线」使你的攻击没有造成任何伤害！</span><br>";
			else $log .= "<span class=\\"yellow\\">你的技能「死线」使敌人的攻击没有造成任何伤害！</span><br>";
		}
		\\skill439\\apply_total_damage_modifier_down($pa,$pd,$active);
	'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\apply_total_damage_modifier_up ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill244\\apply_total_damage_modifier_up\') 
		{
			return \\skill244\\apply_total_damage_modifier_up($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(447,$pa) || !\\skill447\\check_unlocked447 ($pa)) return \\skill402\\apply_total_damage_modifier_up($pa,$pd,$active);
		\\skill402\\apply_total_damage_modifier_up($pa,$pd,$active);
		if ((($pd[\'hp\']*0.9)<$pa[\'dmg_dealt\'])&&($pd[\'hp\']>$pa[\'dmg_dealt\'])){
			$pa[\'dmg_dealt\']=$pd[\'hp\'];
			eval(import_module(\'logger\'));
			if ($active) $log .= "<span class=\\"clan\\">敌人的形体直接消失了，就像本来就没有存在过一样。</span><br>";
			else $log .= "<span class=\\"clan\\">你的形体直接消失了，就像本来就没有存在过一样。</span><br>";
		}
		
	'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\get_hitrate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill246\\get_hitrate\') 
		{
			return \\tutorial\\get_hitrate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(450,$pa) || !\\skill450\\check_unlocked450 ($pa)) return \\skill414\\get_hitrate($pa, $pd, $active);
		if ($pd[\'hp\']<($pd[\'mhp\']*0.2)){
			return \\skill414\\get_hitrate($pa, $pd, $active)*1.1;
		}else return \\skill414\\get_hitrate($pa, $pd, $active);
	'

Array\battle_finish ====> '
		return \\skill42\\battle_finish($pa,$pd,$active);'

Array\load_user_battleskill_command ====> '
		
		if (\\skillbase\\skill_query(246,$pdata) && \\skill246\\check_skill246_state ($pdata)==1)
			$pdata[\'bskill\']=246; 
		else{$clubbase_load_user_battleskill_command_ret = NULL;

		//========Contents from mod clubbase========
		do{
			
		
		eval(import_module(\'input\'));
		$pdata[\'bskill\']=$bskill; $pdata[\'bskillpara\']=$bskillpara;
		}while(0);  $clubbase_load_user_battleskill_command_ret;}
	'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill253\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=246) return \\skill440\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(246,$pa) || \\skill246\\check_skill246_state ($pa)!=1)
		{
			eval(import_module(\'logger\'));
			$log .= \'你没有这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			eval(import_module(\'logger\'));
			$log .= \'<span class="yellow">敌人完全没有预料到你的存在，你对着措手不及的敌人发起了致命一击！</span><br>\';
			\\skillbase\\skill_lost(246, $pa);
			addnews ( 0, \'bskill246\', $pa[\'name\'], $pd[\'name\'] );
		}
		\\skill440\\strike_prepare($pa, $pd, $active);
	'

Array\get_hitrate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill7\\get_hitrate\') 
		{
			return \\tutorial\\get_hitrate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=246) return \\skill450\\get_hitrate($pa, $pd, $active);
		return \\skill450\\get_hitrate($pa, $pd, $active)*1.3;
	'

Array\check_alive_discover ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill56\\check_alive_discover\') 
		{
			return \\skill435\\check_alive_discover($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(246,$edata) && \\skill246\\check_skill246_state ($edata)==1)
			return 0;
		else{$team_check_alive_discover_ret = NULL;

		//========Contents from mod team========
		do{
			
		
		
		eval(import_module(\'sys\',\'player\',\'metman\',\'logger\'));
		if($teamID && (!$fog) && $teamID == $edata[\'teamID\'] && in_array($gametype,$teamwin_mode))
		{
			$team_check_alive_discover_ret =  0;
break; 
		}$metman_check_alive_discover_ret = NULL;

		//========Contents from mod metman========
		do{
			
		
		
		
		$find_obbs = \\metman\\calculate_findman_obbs ($edata);
		$hide_obbs = \\metman\\calculate_hide_obbs ($edata);
		$enemy_dice = rand(0,99);
		
		if($enemy_dice < $find_obbs - $hide_obbs){ 
			$metman_check_alive_discover_ret =  1;
break; } 
		else 
		{ 
			$hideflag=true;
			$metman_check_alive_discover_ret =  0;
break; 
		}
		}while(0);
		$team_check_alive_discover_ret =  $metman_check_alive_discover_ret;
break; 
		}while(0);  return $team_check_alive_discover_ret;}
	'

Array\check_enemy_meet_active ====> '
		
		if (\\skillbase\\skill_query(246,$ldata) && \\skill246\\check_skill246_state ($ldata)==1)
			return 1;
		else{$enemy_check_enemy_meet_active_ret = NULL;

		//========Contents from mod enemy========
		do{
			
		
		$active_r = \\enemy\\get_final_active_obbs ($ldata,$edata);
		
		$active_dice = rand(0,99);
		$enemy_check_enemy_meet_active_ret =  ($active_dice < $active_r);
break; 
		}while(0);  return $enemy_check_enemy_meet_active_ret;}
	'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\apply_total_damage_modifier_down ====> '
		
		if (!\\skillbase\\skill_query(455,$pd)) return \\skill446\\apply_total_damage_modifier_down($pa,$pd,$active);
		eval(import_module(\'sys\',\'logger\',\'skill455\'));
		$x=$now-$starttime;
		if ($x<=$skill455_act_time && !in_array($pa[\'type\'],$skill455_no_effect_array)){	
			$pa[\'dmg_dealt\']=0;
			if ($active) $log .= "<span class=\\"yellow\\">敌人的技能「无敌」使你的攻击没有造成任何伤害！</span><br>";
			else $log .= "<span class=\\"yellow\\">你的技能「无敌」使敌人的攻击没有造成任何伤害！</span><br>";
		}
		\\skill446\\apply_total_damage_modifier_down($pa,$pd,$active);
	'

Array\kill ====> '
		return \\weather\\kill($pa,$pd);'

Array\get_trap_final_damage_modifier_down ====> '
		
		if (!\\skillbase\\skill_query(455,$pd)) return \\skill251\\get_trap_final_damage_modifier_down($pa,$pd,$tritm,$damage);
		eval(import_module(\'sys\',\'logger\',\'skill455\'));
		$x=$now-$starttime;
		if ($x<=$skill455_act_time)
		{
			$log .= "<span class=\\"yellow\\">你的技能「无敌」使你免疫了陷阱伤害！</span><br>";
			return 0;
		}	
		return \\skill251\\get_trap_final_damage_modifier_down($pa,$pd,$tritm,$damage);
	'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\calculate_attack_exp_gain ====> '
		
		if (\\skillbase\\skill_query(459,$pd)) return 0;
		if (\\skillbase\\skill_query(459,$pa)) return \\weapon\\calculate_attack_exp_gain($pa,$pd,$active)*3;
		return \\weapon\\calculate_attack_exp_gain($pa,$pd,$active);
	'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill228\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=253) return \\skill246\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(253,$pa) || !\\skill253\\check_unlocked253 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill253\\get_rage_cost253 ($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「天威」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「天威」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill253\', $pa[\'name\'], $pd[\'name\'] );
				$pd[\'old_hp\']=$pd[\'hp\'];	
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill246\\strike_prepare($pa, $pd, $active);
	'

Array\get_skill ====> '
		
		if ($pa[\'bskill\']!=253) return \\skill239\\get_skill($pa,$pd,$active);
		$r = min(220,round($pa[\'lvl\']*($pa[\'rage\']+\\skill253\\get_rage_cost253 ())/6));
		eval(import_module(\'logger\'));
		if ($active)
			$log.=\'<span class="yellow">「天威」使你的熟练度暂时增加了\'.$r.\'点！</span><br>\';
		else  $log.=\'<span class="yellow">「天威」使敌人的熟练度暂时增加了\'.$r.\'点！</span><br>\';
		return \\skill239\\get_skill($pa,$pd,$active)+$r;
	'

Array\kill ====> '
		return \\weather\\kill($pa,$pd);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\calculate_attack_weapon_skill_gain ====> '
		
		$r260=0;
		if ((\\skillbase\\skill_query(260,$pa))&&(\\skill260\\check_unlocked260 ($pa))&&($pa[\'wepk\']=="WN")) {
			$t260=rand(0,99);
			if ($t260<50) $r260++;
			if ($t260<15) $r260++;
			if ($t260<10) $r260++;
			if ($t260<5) $r260++;
		}$skill229_calculate_attack_weapon_skill_gain_ret = NULL;

		//========Contents from mod skill229========
		do{
			
		
		if ((\\skillbase\\skill_query(229,$pa))&&(\\skill229\\check_unlocked229 ($pa))){ $skill229_calculate_attack_weapon_skill_gain_ret =  (1+\\skill225\\calculate_attack_weapon_skill_gain($pa,$pd,$active));
break; }
		$skill229_calculate_attack_weapon_skill_gain_ret =  \\skill225\\calculate_attack_weapon_skill_gain($pa,$pd,$active);
break; 
		}while(0);
		return $r260+$skill229_calculate_attack_weapon_skill_gain_ret;
	'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\apply_damage ====> '
		return \\skill471\\apply_damage($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\apply_damage ====> '
		
		if (\\skillbase\\skill_query(471,$pd) && $pa[\'dmg_dealt\']>=$pd[\'hp\'] && $pd[\'rage\']>0)
		{
			$dmgred = min(round($pd[\'rage\']*1.5), $pa[\'dmg_dealt\']-$pd[\'hp\']+1);
			$rageused = floor($dmgred/1.5);
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">敌人发动气功，消耗{$rageused}点怒气抵挡了<span class=\\"red\\">{$dmgred}</span>点伤害！</span><br>";
			else  $log.="<span class=\\"yellow\\">你发动气功，消耗{$rageused}点怒气抵挡了<span class=\\"red\\">{$dmgred}</span>点伤害！</span><br>";
			$pd[\'rage\']-=$rageused;
			$pa[\'dmg_dealt\']-=$dmgred;
		}$skill469_apply_damage_ret = NULL;

		//========Contents from mod skill469========
		do{
			
		
		if (\\skillbase\\skill_query(469,$pd) && ceil($pd[\'mhp\']*0.9)<=$pa[\'dmg_dealt\'] && $pa[\'dmg_dealt\']<$pd[\'mhp\'])
		{
			eval(import_module(\'logger\'));
			
			$pd[\'hp\']=0; $pd[\'deathmark\']=40;
			$suicidedmg = round($pd[\'mhp\']*1.1);
			$pa[\'hp\']-=$suicidedmg;
			if ($active)
				$log .= "<span class=\\"yellow\\">你暴风骤雨般的攻击将对方打得毫无还手之力，<br>
					正当你欺身向前，准备了结对方的性命时，对方忽然振臂高呼：</span><br>
					<span class=\\"clan\\">“安拉胡阿克巴！”</span><br>
					<span class=\\"yellow\\">你这才发现对方腰间绑着一排明晃晃的炸药，但他已猛地扑了上来。</span><br>
					猛烈的爆炸对你造成了<span class=\\"red\\">$suicidedmg</span>点伤害！<br>";
			else	$log .= "<span class=\\"yellow\\">你被对方暴风骤雨般的攻击打得毫无还手之力。<br>
					对方欺身向前，准备了结你的性命。 你不甘就这么死去，振臂高呼到：</span><br>
					<span class=\\"clan\\">“安拉胡阿克巴！”</span><br>
					<span class=\\"yellow\\">对方这才发现你腰间绑着一排明晃晃的炸药。你用尽最后的力气拉响了引线，猛地扑了上去。</span><br>
					猛烈的爆炸对<span class=\\"yellow\\">".$pa[\'name\']."</span>造成了<span class=\\"red\\">$suicidedmg</span>点伤害！<br>";
			if ($pa[\'hp\']<0) $pa[\'hp\']=0;
			if ($pa[\'hp\']<=0)
			{
				$pa[\'deathmark\']=41;
				
				
			}
		}$skill412_apply_damage_ret = NULL;

		//========Contents from mod skill412========
		do{
			
		
		eval(import_module(\'logger\'));
		if(isset($pa[\'mobiusflag\']) && $pa[\'mobiusflag\']) {
			unset($pa[\'mobiusflag\']);
			$log.=\'<span class="lime">只见敌人周围突然出现了奇怪的呈U形的力场，你造成的伤害竟然被反弹了回来！</span><br>\';
			$log.="<span class=\\"red\\">你受到了{$pa[\'dmg_dealt\']}点伤害！</span><br>";
			\\attack\\post_damage_news($pd, $pa, 1-$active, $pa[\'dmg_dealt\']);
			$pa[\'hp\']-=$pa[\'dmg_dealt\'];
			if ($pa[\'hp\']<0) $pa[\'hp\']=0;
			$pa[\'dmg_dealt\']=0;
			if ($pa[\'hp\']<=0)
			{
				$pa[\'deathmark\']=39;
				
			}
		}$skill251_apply_damage_ret = NULL;

		//========Contents from mod skill251========
		do{$attack_apply_damage_ret = NULL;

		//========Contents from mod attack========
		do{
			
		
		$pd[\'hp\']-=$pa[\'dmg_dealt\'];
		}while(0);
			
		
		$ret = $attack_apply_damage_ret;
		if (\\skillbase\\skill_query(251,$pd) && $pa[\'dmg_dealt\']>=$pd[\'mhp\']*0.35 && $pd[\'hp\']>0)
		{
			eval(import_module(\'sys\'));
			if ($active) 
				$log .= \'<span class="yellow">敌人的技能「天佑」被触发，暂时进入了无敌状态。</span><br>\';
			else  $log .= \'<span class="yellow">你的技能「天佑」被触发，暂时进入了无敌状态！</span><br>\';
			\\skillbase\\skill_setvalue(251,\'start\',$now,$pd);
		}
		$skill251_apply_damage_ret =  $ret;
break; 
		}while(0);
		$skill412_apply_damage_ret =  $skill251_apply_damage_ret;
break; 
		}while(0);
		$skill469_apply_damage_ret =  $skill412_apply_damage_ret;
break; 
		}while(0);
		return $skill469_apply_damage_ret;
	'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\findenemy ====> '
		
		$ct = floor(getmicrotime()*1000);
		\\skillbase\\skill_setvalue(262,\'ct\',$ct);$enemy_findenemy_ret = NULL;

		//========Contents from mod enemy========
		do{
			
		
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'metman\'));
		
		\\player\\update_sdata();
		
		$battle_title = \'发现敌人\';
		\\metman\\init_battle();
		$log .= "你发现了敌人<span class=\\"red\\">{$tdata[\'name\']}</span>！<br>对方好像完全没有注意到你！<br>";
		
		include template(\\enemy\\get_battlecmd_filename ());
		$cmd = ob_get_contents();
		ob_clean();

		$main = MOD_METMAN_MEETMAN;
		
		$enemy_findenemy_ret = NULL;
break; 
		}while(0);
		return $enemy_findenemy_ret;
	'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\get_internal_def ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill445\\get_internal_def\') 
		{
			return \\skill42\\get_internal_def($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ((\\skillbase\\skill_query(263,$pd))&&(\\skill263\\check_unlocked263 ($pd))) return \\weapon\\get_internal_def($pa,$pd,$active)+$pd[\'wp\'];
		return \\weapon\\get_internal_def($pa,$pd,$active);
	'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\assault ====> '
		
		\\battle\\assault($pa,$pd,$active);
		
		if (\\skillbase\\skill_query(264,$pa) && \\skill264\\check_unlocked264 ($pa) && $pa[\'user_commanded\']==1 && $pa[\'wepk\']==\'WN\' && $pd[\'type\']==0 && $pd[\'counter_assaulted\'])
		{
			while (rand(0,99)<30)
			{
				$pa[\'sk262flag\']=1;	
				eval(import_module(\'input\')); $bskill=0;	
				eval(import_module(\'logger\',\'skill264\'));
				$log.=\'<span class="clan">\'.$sk264_words[rand(0,count($sk264_words)-1)].\'</span><br>\';
				\\battle\\assault($pa,$pd,$active);
			}
		}
	'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\kill ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\kill\') 
		{
			return \\weather\\kill($pa,$pd);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		$skill253_kill_ret = NULL;

		//========Contents from mod skill253========
		do{$skill455_kill_ret = NULL;

		//========Contents from mod skill455========
		do{$skill251_kill_ret = NULL;

		//========Contents from mod skill251========
		do{$skill428_kill_ret = NULL;

		//========Contents from mod skill428========
		do{
			
		
		
		eval(import_module(\'sys\',\'logger\',\'skill428\'));
		
		if (($gametype==1)&&($pd[\'state\']==27)&&($pa[\'type\']==0) && (\\skillbase\\skill_query(428,$pa))){
			$clv = \\skillbase\\skill_getvalue(428,\'lvl\',$pa);
			$pa[\'skillpoint\']+=$skptbonus[$clv];	
			if (\\skillbase\\skill_query(424,$pd)){	
				$lv=\\skillbase\\skill_getvalue(424,\'lvl\',$pd); 
				$lv-=$extralvllost[$clv]; 
				if ($lv<0) $lv=0;
				\\skillbase\\skill_setvalue(424,\'lvl\',$lv,$pd); 
			}
		}$skill58_kill_ret = NULL;

		//========Contents from mod skill58========
		do{$player_kill_ret = NULL;

		//========Contents from mod player========
		do{
				
		
		
		
		$pd[\'hp\'] = 0; 
		if (!isset($pd[\'sourceless\']) || $pd[\'sourceless\']==0) $pd[\'bid\'] = $pa[\'pid\'];
		
		if ($pa[\'pid\'] != $pd[\'pid\'])
			$kilmsg = \\player\\get_player_killmsg($pa);
		else  $kilmsg = \'\';
		
		if ($pd[\'type\']==0 && $pd[\'pid\']!=$pa[\'pid\']) $pa[\'killnum\']++;
	
		\\player\\deathnews ($pa, $pd);
		
		$deathnum ++;
		if ($pd[\'type\']==0) $alivenum--; 

		$pd[\'endtime\'] = $now;
		save_gameinfo ();
		
		$player_kill_ret =  $kilmsg;
break; 
		}while(0);
			
		
		
		$player_kill_ret;
		
		eval(import_module(\'sys\',\'logger\'));
		if (in_array($pd[\'state\'],Array(20,21,22,23,24,25,27,29,40,41)))
			if (\\skillbase\\skill_query(58,$pd) && ((int)\\skillbase\\skill_getvalue(58,\'r\',$pd))==0)
			{
				\\skillbase\\skill_setvalue(58,\'r\',\'1\',$pd);
				if ($pd[\'state\']==27 && !$pd[\'sourceless\'])	
				{
					$log.= "<span class=\\"lime\\">但是，由于你及时按下了BOMB键，你原地满血复活了！</span><br>";
					$w_log = "<span class=\\"lime\\">但是，由于{$pd[\'name\']}及时按下了BOMB键，其原地满血复活了！</span><br>";
					\\logger\\logsave ( $pa[\'pid\'], $now, $w_log ,\'b\');
				}
				else
				{
					
				}
				$pd[\'state\']=0; $pd[\'hp\']=$pd[\'mhp\'];
				$pd[\'skill58_flag\']=1;
				$deathnum--;
				if ($pd[\'type\']==0) $alivenum++;
				save_gameinfo();
				
				addnews ( $now, \'revival\', $pd[\'name\'] );
				
				$pd[\'mhp\']+=$pd[\'lvl\']*2; $pd[\'hp\']+=$pd[\'lvl\']*2;
				$pd[\'def\']+=$pd[\'lvl\']*5;
			}
		}while(0);
		$skill58_kill_ret;	
		}while(0);
			
		
		
		$skill428_kill_ret;
		
		eval(import_module(\'skill251\'));
		if (in_array($pd[\'state\'],Array(20,21,22,23,24,25,27,29)))
			if (\\skillbase\\skill_query(251,$pd) && in_array($pa[\'type\'],$skill251_no_effect_array))
			{
				
				$s=(int)\\skillbase\\skill_getvalue(251,\'start\',$pd);
				$x=$now-$s;
				if ($x<=$skill251_act_time)
				{
					$log.="<span class=\\"clan\\">都告诉你了，无敌对某些NPC无效……快去死吧。</span><br>";
				}
			}
		}while(0);
			
		
		
		$skill251_kill_ret;
		
		eval(import_module(\'skill455\'));
		if (in_array($pd[\'state\'],Array(20,21,22,23,24,25,27,29)))
			if (\\skillbase\\skill_query(455,$pd) && in_array($pa[\'type\'],$skill455_no_effect_array))
			{
				
				$x=$now-$starttime;
				if ($x<=$skill455_act_time)
				{
					$log.="<span class=\\"clan\\">都告诉你了，无敌对某些NPC无效……快去死吧。</span><br>";
				}
			}
		}while(0);
			
		
		
		$skill455_kill_ret;
		
		if ($pa[\'bskill\']==253 && $pa[\'dmg_dealt\'] <= $pd[\'old_hp\']*1.5)
		{
			$r=\\skill253\\get_rage_cost253 ();
			eval(import_module(\'logger\'));
			$log.=\'「天威」击杀效果触发，返还了<span class="yellow">\'.$r.\'</span>点怒气！<br>\';
			$pa[\'rage\']+=$r;
			if ($pa[\'rage\']>100) $pa[\'rage\']=100;
		}
		}while(0);
		
		
		$skill253_kill_ret;
		
		eval(import_module(\'sys\',\'logger\'));
		if (\\skill483\\check_skill483_state ($pd)==1 && in_array($pd[\'state\'],Array(20,21,22,23,24,25,29)) && $pa[\'type\']==0)
		{
			$pd[\'state\']=0; $pd[\'hp\']=$pd[\'mhp\'];
			$pd[\'skill483_flag\']=1;
			$deathnum--;
			if ($pd[\'type\']==0) $alivenum++;
			save_gameinfo();
				
			addnews ( $now, \'revival483\', $pa[\'name\'], $pd[\'name\'] );
		}
	
	'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\pre_act ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill56\\pre_act\') 
		{
			return \\skill435\\pre_act();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(475))
		{
			eval(import_module(\'sys\',\'player\',\'skill475\'));
			if ($hp<=0 && $now>=$endtime+$skill475_revive_time)	
				\\skill475\\sk475_revive_player ($sdata);
		}$skill602_pre_act_ret = NULL;

		//========Contents from mod skill602========
		do{
			
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (\\skillbase\\skill_query(602,$sdata))
		{
			$ct = floor(getmicrotime()*1000);
			$e = (int)\\skillbase\\skill_getvalue(602,\'end\'); 
			$rmt = $e - $ct;
			if ($ct<$e)
			{
				$log .= \'<span class="yellow">你现在处于晕眩状态，什么都做不了！<br>晕眩状态持续时间还剩<span id="timer">\'.floor($rmt/1000).\'.\'.(floor($rmt/100)%10).\'</span>秒</span><br><img style="display:none;" type="hidden" src="img/blank.png" onload="demiSecTimerStarter(\'.$rmt.\');">\';
				$mode = \'command\'; $command = \'menu\';
			}
		}$noise_pre_act_ret = NULL;

		//========Contents from mod noise========
		do{
			
		
		
		eval(import_module(\'map\',\'noise\'));
		if($hp > 0){
			
			if(($now <= $noisetime+$noiselimit)&&$noisemode&&($noiseid!=$pid)&&($noiseid2!=$pid)) {
				if(($now-$noisetime) < 60) {
					$noisesec = $now - $noisetime;
					$log .= "<span class=\\"yellow b\\">{$noisesec}秒前，{$plsinfo[$noisepls]}传来了{$noiseinfo[$noisemode]}。</span><br>";
				} else {
					$noisemin = floor(($now-$noisetime)/60);
					$log .= "<span class=\\"yellow b\\">{$noisemin}分钟前，{$plsinfo[$noisepls]}传来了{$noiseinfo[$noisemode]}。</span><br>";
				}
			}
		}$logger_pre_act_ret = NULL;

		//========Contents from mod logger========
		do{
			
		
		
		$result = $db->query("SELECT time,log FROM {$tablepre}log WHERE toid = \'$pid\' ORDER BY time,lid");
		while($logtemp = $db->fetch_array($result)){
			$log .= date("H:i:s",$logtemp[\'time\']).\'，\'.$logtemp[\'log\'].\'<br />\';
		}
		$db->query("DELETE FROM {$tablepre}log WHERE toid = \'$pid\'");$player_pre_act_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		
		if ($player_dead_flag) $hp = 0;
		if ($hp<=0) $player_dead_flag = 1;
		}while(0);
		
		$player_pre_act_ret;
		}while(0);
		$logger_pre_act_ret;
		}while(0);
		$noise_pre_act_ret;
		}while(0);
		return $skill602_pre_act_ret;
	'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\getcorpse_action ====> '
		return \\tutorial\\getcorpse_action($edata,$item);'

Array\kill ====> '
		return \\weather\\kill($pa,$pd);'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\kill ====> '
		return \\weather\\kill($pa,$pd);'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill236\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=228) return \\skill253\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(228,$pa) || !\\skill228\\check_unlocked228 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill228\\get_rage_cost228 ($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「神击」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「神击」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill228\', $pa[\'name\'], $pd[\'name\'] );
			}else if ($pa[\'skillpoint\']>=5){
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「神击」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「神击」！</span><br>";
				$pa[\'skillpoint\']-=5;
				addnews ( 0, \'bskill228\', $pa[\'name\'], $pd[\'name\'] );
			}else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill253\\strike_prepare($pa, $pd, $active);
	'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill237\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=236) return \\skill228\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(236,$pa) || !\\skill236\\check_unlocked236 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill236\\get_rage_cost236 ($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「科学」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「科学」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill236\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill228\\strike_prepare($pa, $pd, $active);
	'

Array\get_fixed_dmg ====> '
		return \\skill259\\get_fixed_dmg($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill223\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=237) return \\skill236\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(237,$pa) || !\\skill237\\check_unlocked237 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill237\\get_rage_cost237 ($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「EMP」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「EMP」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill237\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill236\\strike_prepare($pa, $pd, $active);
	'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\strike_finish ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'rage\\strike_finish\') 
		{
			return \\skill27\\strike_finish($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']==237 && $pa[\'is_hit\'])
		{
			eval(import_module(\'logger\',\'skill601\',\'sys\'));
			if (!\\skillbase\\skill_query(601,$pd)){
				\\skillbase\\skill_acquire(601,$pd);
				$var_237=$now;
			}else{
				$var_237=\\skillbase\\skill_getvalue(601,\'end\',$pd);
				if ($var_237<$now) $var_237=$now;
			}
			\\skillbase\\skill_setvalue(601,\'start\',$var_237,$pd);
			\\skillbase\\skill_setvalue(601,\'end\',$var_237+40,$pd);
			\\skill602\\set_stun_period(2000,$pd);
			\\skill602\\send_stun_battle_news($pa[\'name\'],$pd[\'name\']);
		}$skill263_strike_finish_ret = NULL;

		//========Contents from mod skill263========
		do{
			
		
		if (\\skillbase\\skill_query(263,$pd) && \\skill263\\check_unlocked263 ($pd))
		{
			if (\\skillbase\\skill_query(261,$pd))
			{
				$t=(int)\\skillbase\\skill_getvalue(261,\'lastuse\',$pd);
				if ($t>0) $chance=35; else $chance=20;
			}
			else	$chance=20;
			if ($pd[\'club\']!=19) $chance=10;
			if (rand(0,99)<$chance)
			{
				eval(import_module(\'logger\'));
				$dmgred=min($pd[\'wp\'],800);
				if ($active)
					$log.=\'<span class="yellow">敌人精湛的格斗技术抵挡了\'.$dmgred.\'点伤害！</span><br>\';
				else	$log.=\'<span class="yellow">你精湛的格斗技术抵挡了\'.$dmgred.\'点伤害！</span><br>\';
				$pa[\'dmg_dealt\']-=$dmgred;
				if ($pa[\'dmg_dealt\']<1) $pa[\'dmg_dealt\']=1;
			}
		}$skill473_strike_finish_ret = NULL;

		//========Contents from mod skill473========
		do{
			
		
		if (\\skillbase\\skill_query(473,$pa) && $pa[\'dmg_dealt\']>0)
		{
			$spcost=floor($pa[\'sp\']*0.09);
			$pa[\'sp\']-=$spcost;
			$pa[\'dmg_dealt\']+=$spcost;
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<class span="yellow">你的技能「神蚀」消耗了\'.$spcost.\'点体力，并对敌人造成了相同的伤害！</span><br>\';
			else  $log.=\'<class span="yellow">敌人的技能「神蚀」消耗了\'.$spcost.\'点体力，并对你造成了相同的伤害！</span><br>\';
			$pa[\'dmg_dealt\']+=$dmg;
		}$skill466_strike_finish_ret = NULL;

		//========Contents from mod skill466========
		do{
			
		
		if (\\skillbase\\skill_query(466,$pa) && $pa[\'dmg_dealt\']>0 && $pd[\'type\']==0)
		{
			$dmg=round($pd[\'mhp\']*min($pd[\'lvl\'],30)/100.0);
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<class span="yellow">你的技能「死神」额外造成了\'.$dmg.\'点伤害！</span><br>\';
			else  $log.=\'<class span="yellow">敌人的技能「死神」额外造成了\'.$dmg.\'点伤害！</span><br>\';
			$pa[\'dmg_dealt\']+=$dmg;
		}$skill464_strike_finish_ret = NULL;

		//========Contents from mod skill464========
		do{
			
		
		if (\\skillbase\\skill_query(464,$pd))
		{
			eval(import_module(\'sys\',\'player\',\'weapon\',\'itemmain\',\'logger\'));
			foreach (array_unique(array_values($skillinfo)) as $key)
			{
				if ($$key>$maxv)
				{
					$maxv=$$key;
					$maxwhich=$key;
				}
			}
			$$maxwhich++;
			if (!$active) $log.=\'你的技能「抖M」使你的最高系熟练度增加了1！<br>\';
		}$skill440_strike_finish_ret = NULL;

		//========Contents from mod skill440========
		do{
			
		
		if ($pa[\'bskill\']!=440){ $skill440_strike_finish_ret =  \\skill61\\strike_finish($pa, $pd, $active);
break; }
		eval(import_module(\'logger\',\'skill440\',\'skill600\',\'sys\'));
		$var_440=40;
		if (!\\skillbase\\skill_query(600,$pd)){
			\\skillbase\\skill_acquire(600,$pd);
			$var_440_2=$now;
		}else{
			$var_440_2=\\skillbase\\skill_getvalue(600,\'end\',$pd);
			if ($var_440_2<$now) $var_440_2=$now;
		}
		\\skillbase\\skill_setvalue(600,\'start\',$var_440_2,$pd);
		\\skillbase\\skill_setvalue(600,\'end\',$var_440_2+$var_440,$pd);
		if (strpos($pd[\'inf\'],\'u\')===false)
		{
			$pd[\'inf\'].=\'u\';
		}
		if (strpos($pd[\'inf\'],\'p\')===false)
		{
			$pd[\'inf\'].=\'p\';
		}
		if ($active)
			$log.=\'<span class="red">敌人已经大难临头了！</span><br>\';
		else  $log.="<span class=\\"red\\">你已经大难临头了！</span><br>";
		\\skill61\\strike_finish($pa,$pd,$active);
		}while(0);
		$skill464_strike_finish_ret =  $skill440_strike_finish_ret;
break; 
		}while(0);
		$skill464_strike_finish_ret;
		}while(0);
		$skill466_strike_finish_ret;
		}while(0);
		$skill263_strike_finish_ret =  $skill473_strike_finish_ret;
break; 
		}while(0);
		$skill263_strike_finish_ret;
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\calculate_skill35_proc_rate ====> '
		return \\skill38\\calculate_skill35_proc_rate($pa,$pd,$active);'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\get_attack_method ====> '
		return \\wep_j\\get_attack_method($pdata);'

Array\get_wg_att_as_wp_modifier ====> '
		return \\skill422\\get_wg_att_as_wp_modifier($pa,$pd,$active);'

Array\get_external_att ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'wep_j\\get_external_att\') 
		{
			return \\skill33\\get_external_att($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'weapon\'));
		if ($pa[\'wep_kind\']==\'P\' && substr($pa[\'wepk\'],1,1) == \'G\')
			return \\wep_g\\get_WG_att_as_WP_modifier ($pa,$pd,$active)*\\wep_n\\get_external_att($pa, $pd, $active);
		else  return \\wep_n\\get_external_att($pa, $pd, $active);
	'

Array\calculate_wepimp_rate ====> '
		return \\skill422\\calculate_wepimp_rate($pa,$pd,$active);'

Array\apply_weapon_imp ====> '
		return \\wep_j\\apply_weapon_imp($pa,$pd,$active);'

Array\weapon_break ====> '
		return \\wep_j\\weapon_break($pa,$pd,$active);'

Array\weapon_wg_addnoise ====> '
		return \\ex_attr_silencer\\weapon_wg_addnoise($pa,$pd,$active);'

Array\weapon_strike ====> '
		return \\ex_rapid_attr\\weapon_strike($pa,$pd,$active);'

Array\get_internal_att ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill445\\get_internal_att\') 
		{
			return \\skill445\\get_internal_att($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'wep_kind\']==\'G\')
		{
			$val = \\skill41\\get_internal_att($pa,$pd,$active);
			if ($val > 270) $val = 270 + ($val - 270) / 3;	
			return $val;
		}
		else  return \\skill41\\get_internal_att($pa,$pd,$active);
	'

Array\get_fixed_dmg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill259\\get_fixed_dmg\') 
		{
			return \\skill259\\get_fixed_dmg($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$r=0;
		if ($pa[\'wep_kind\']==\'J\') $r=\\wep_j\\get_WJ_fixed_dmg ($pa, $pd, $active);$skill236_get_fixed_dmg_ret = NULL;

		//========Contents from mod skill236========
		do{
			
		
		eval(import_module(\'logger\'));
		if ($pa[\'bskill\']!=236){ $skill236_get_fixed_dmg_ret =  \\skill404\\get_fixed_dmg($pa,$pd,$active);
break; }
		if ($active) $log .= "<span class=\\"red\\">你掏出撬棍猛击敌人！</span><span class=\\"clan\\">敌人被你打晕了过去！</span><br>";
			else $log .= "<span class=\\"red\\">敌人掏出撬棍猛击你！</span><span class=\\"clan\\">你被打晕了过去！</span><br>";
		\\skill602\\set_stun_period(1000,$pd);
		\\skill602\\send_stun_battle_news($pa[\'name\'],$pd[\'name\']);
		$skill236_get_fixed_dmg_ret =  \\skill404\\get_fixed_dmg($pa, $pd, $active)+60;
break; 
		}while(0);
		return $r+$skill236_get_fixed_dmg_ret;
	'

Array\get_attack_method ====> '
		
		eval(import_module(\'weapon\'));
		if (substr($pdata[\'wepk\'],1,1) == \'J\' && $pdata[\'weps\']==$nosta) {
			return \'P\';
		}
		else{$wep_g_get_attack_method_ret = NULL;

		//========Contents from mod wep_g========
		do{
			
		
		
		if (substr($pdata[\'wepk\'],1,1) == \'G\' && $pdata[\'weps\']==$nosta) {
			$wep_g_get_attack_method_ret =  \'P\';
break; 
		}
		else{$wep_p_get_attack_method_ret = NULL;

		//========Contents from mod wep_p========
		do{
			
		
		if (strpos($pdata[\'wepk\'],\'W\')!==0){ $wep_p_get_attack_method_ret =  \'P\';
break; }
		else{$weapon_get_attack_method_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		$weapon_get_attack_method_ret =  substr($pdata[\'wepk\'],1,1);
break; 
		}while(0); $wep_p_get_attack_method_ret =  $weapon_get_attack_method_ret;
break; }
		}while(0);  $wep_g_get_attack_method_ret =  $wep_p_get_attack_method_ret;
break; }
		}while(0);  return $wep_g_get_attack_method_ret;}
	'

Array\get_wj_att_as_wp_modifier ====> '
		return \\skill422\\get_wj_att_as_wp_modifier($pa,$pd,$active);'

Array\get_external_att ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill33\\get_external_att\') 
		{
			return \\skill33\\get_external_att($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'weapon\'));
		if ($pa[\'wep_kind\']==\'P\' && substr($pa[\'wepk\'],1,1) == \'J\')
			return \\wep_j\\get_WJ_att_as_WP_modifier ($pa,$pd,$active)*\\wep_g\\get_external_att($pa, $pd, $active);
		else  return \\wep_g\\get_external_att($pa, $pd, $active);
	'

Array\calculate_wepimp_rate ====> '
		return \\skill422\\calculate_wepimp_rate($pa,$pd,$active);'

Array\apply_weapon_imp ====> '
		
		
		eval(import_module(\'weapon\',\'logger\'));
		if ($pa[\'wep_kind\']==\'J\')	
		{
			if (isset($pa[\'wepimp\']) && $pa[\'wepimp\'])
			{
				$pa[\'weps\']-=$pa[\'wepimp\'];
				if ($active)
					$log .= "你的{$pa[\'wep\']}的弹药数减少了{$pa[\'wepimp\']}。<br>";
				else  $log .= "{$pa[\'name\']}的{$pa[\'wep\']}的弹药数减少了{$pa[\'wepimp\']}。<br>";
				
				if ($pa[\'weps\']<=0) \\weapon\\weapon_break($pa, $pd, $active);
			}
		}
		else{$wep_g_apply_weapon_imp_ret = NULL;

		//========Contents from mod wep_g========
		do{
			
		
		
		
		if ($pa[\'wep_kind\']==\'G\')	
		{
			if (isset($pa[\'wepimp\']) && $pa[\'wepimp\'])
			{
				$pa[\'weps\']-=$pa[\'wepimp\'];
				if ($active)
					$log .= "你的{$pa[\'wep\']}的弹药数减少了{$pa[\'wepimp\']}。<br>";
				else  $log .= "{$pa[\'name\']}的{$pa[\'wep\']}的弹药数减少了{$pa[\'wepimp\']}。<br>";
				
				if ($pa[\'weps\']<=0) \\weapon\\weapon_break($pa, $pd, $active);
			}
		}
		else{$wep_k_apply_weapon_imp_ret = NULL;

		//========Contents from mod wep_k========
		do{
			
		
		
		
		if ($pa[\'wep_kind\']==\'K\' && $pa[\'weps\']==$nosta)	
		{
			if (isset($pa[\'wepimp\']) && $pa[\'wepimp\'])
			{
				$pa[\'wepe\']-=$pa[\'wepimp\'];
				if ($active)
					$log .= "你的{$pa[\'wep\']}的攻击力下降了{$pa[\'wepimp\']}！<br>";
				else  $log .= "{$pa[\'name\']}的{$pa[\'wep\']}的攻击力下降了{$pa[\'wepimp\']}！<br>";
				
				if ($pa[\'wepe\']<=0) \\weapon\\weapon_break($pa, $pd, $active);
			}
		}
		else{$wep_p_apply_weapon_imp_ret = NULL;

		//========Contents from mod wep_p========
		do{
			
		
		
		
		if ($pa[\'wep_kind\']==\'P\' && $pa[\'weps\']==$nosta)	
		{
			if (isset($pa[\'wepimp\']) && $pa[\'wepimp\'])
			{
				$pa[\'wepe\']-=$pa[\'wepimp\'];
				if ($active)
					$log .= "你的{$pa[\'wep\']}的攻击力下降了{$pa[\'wepimp\']}！<br>";
				else  $log .= "{$pa[\'name\']}的{$pa[\'wep\']}的攻击力下降了{$pa[\'wepimp\']}！<br>";
				
				if ($pa[\'wepe\']<=0) \\weapon\\weapon_break($pa, $pd, $active);
			}
		}
		else{$weapon_apply_weapon_imp_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		
		
		if (isset($pa[\'wepimp\']) && $pa[\'wepimp\'] && $pa[\'weps\']!=$nosta)
		{
			$pa[\'weps\']-=$pa[\'wepimp\'];
			if ($active)
				if ($wepimprate[$pa[\'wep_kind\']]<1000)
					$log .= "你的{$pa[\'wep\']}的耐久度下降了{$pa[\'wepimp\']}！<br>";
				else  $log .= "你用掉了{$pa[\'wepimp\']}个{$pa[\'wep\']}。<br>";
			else  if ($wepimprate[$pa[\'wep_kind\']]<1000)
					$log .= "{$pa[\'name\']}的{$pa[\'wep\']}的耐久度下降了{$pa[\'wepimp\']}！<br>";
				else  $log .= "{$pa[\'name\']}用掉了{$pa[\'wepimp\']}个{$pa[\'wep\']}。<br>";
			
			if ($pa[\'weps\']<=0) \\weapon\\weapon_break ($pa, $pd, $active);
		}
		}while(0);  $weapon_apply_weapon_imp_ret;}
		}while(0);  $wep_p_apply_weapon_imp_ret;}
		}while(0);  $wep_k_apply_weapon_imp_ret;}
		}while(0);  $wep_g_apply_weapon_imp_ret;}
	'

Array\weapon_break ====> '
		
		
		eval(import_module(\'weapon\',\'logger\'));
		if ($pa[\'wep_kind\']==\'J\')	
		{
			if ($active)
				$log .= "你的<span class=\\"red\\">{$pa[\'wep\']}</span>的弹药用光了！<br>";
			else  $log .= "{$pa[\'name\']}的<span class=\\"red\\">{$pa[\'wep\']}</span>的弹药用光了！<br>";
			$pa[\'weps\']=$nosta;
		}
		else{$wep_g_weapon_break_ret = NULL;

		//========Contents from mod wep_g========
		do{
			
		
		
		
		if ($pa[\'wep_kind\']==\'G\')	
		{
			if ($active)
				$log .= "你的<span class=\\"red\\">{$pa[\'wep\']}</span>的弹药用光了！<br>";
			else  $log .= "{$pa[\'name\']}的<span class=\\"red\\">{$pa[\'wep\']}</span>的弹药用光了！<br>";
			$pa[\'weps\']=$nosta;
		}
		else{$weapon_weapon_break_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		
		
		if ($active)
			if ($wepimprate[$pa[\'wep_kind\']]<1000)
				$log .= "你的<span class=\\"red\\">{$pa[\'wep\']}</span>使用过度，已经损坏，无法再装备了！<br>";
			else  $log .= "你的<span class=\\"red\\">{$pa[\'wep\']}</span>用光了！<br>";
		else  if ($wepimprate[$pa[\'wep_kind\']]<1000)
				$log .= "{$pa[\'name\']}的<span class=\\"red\\">{$pa[\'wep\']}</span>使用过度，已经损坏，无法再装备了！<br>";
			else  $log .= "{$pa[\'name\']}的<span class=\\"red\\">{$pa[\'wep\']}</span>用光了！<br>";
			
		$pa[\'wep\'] = \'拳头\';
		$pa[\'wepk\'] = \'WN\';
		$pa[\'wepe\']= 0;
		$pa[\'weps\']= $nosta;
		$pa[\'wepsk\']= \'\';
		}while(0);  $weapon_weapon_break_ret;}
		}while(0);  $wep_g_weapon_break_ret;}
	'

Array\weapon_wj_addnoise ====> '
		return \\ex_attr_silencer\\weapon_wj_addnoise($pa,$pd,$active);'

Array\weapon_strike ====> '
		return \\ex_rapid_attr\\weapon_strike($pa,$pd,$active);'

Array\get_internal_att ====> '
		return \\skill445\\get_internal_att($pa,$pd,$active);'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\discover ====> '
		return \\tutorial\\discover($schmode);'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\skill_onsave_event ====> '
		return \\skill1\\skill_onsave_event($pa);'

Array\search_area ====> '
		return \\weather\\search_area();'

Array\move_to_area ====> '
		return \\searchmemory\\move_to_area($moveto);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\skill_onsave_event ====> '
		return \\skill1\\skill_onsave_event($pa);'

Array\search_area ====> '
		return \\weather\\search_area();'

Array\move_to_area ====> '
		return \\searchmemory\\move_to_area($moveto);'

Array\get_att_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill7\\get_att_multiplier\') 
		{
			return \\weather\\get_att_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(6,$pa)) 
			return \\skill3\\get_att_multiplier($pa,$pd,$active)*0.6;
		else  return \\skill3\\get_att_multiplier($pa,$pd,$active);
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\skill_onsave_event ====> '
		return \\skill1\\skill_onsave_event($pa);'

Array\calculate_move_sp_cost ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill8\\calculate_move_sp_cost\') 
		{
			return \\skill8\\calculate_move_sp_cost();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(7)) 
			return \\skill255\\calculate_move_sp_cost()+20;
		else  return \\skill255\\calculate_move_sp_cost();
	'

Array\calculate_search_sp_cost ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill8\\calculate_search_sp_cost\') 
		{
			return \\skill410\\calculate_search_sp_cost();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(7)) 
			return \\skill3\\calculate_search_sp_cost()+20;
		else  return \\skill3\\calculate_search_sp_cost();
	'

Array\get_hitrate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill223\\get_hitrate\') 
		{
			return \\tutorial\\get_hitrate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(7,$pa))			
			return \\skill246\\get_hitrate($pa,$pd,$active)*0.8;
		else  return \\skill246\\get_hitrate($pa,$pd,$active);
	'

Array\get_def_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'pose\\get_def_multiplier\') 
		{
			return \\weather\\get_def_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(7,$pd))		
			return \\mapattr\\get_def_multiplier($pa,$pd,$active)*0.9;
		else  return \\mapattr\\get_def_multiplier($pa,$pd,$active);
	'

Array\get_att_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\get_att_multiplier\') 
		{
			return \\weather\\get_att_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(7,$pa)) 
			return \\skill6\\get_att_multiplier($pa,$pd,$active)*0.9;
		else  return \\skill6\\get_att_multiplier($pa,$pd,$active);
	'

Array\calculate_active_obbs_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill8\\calculate_active_obbs_multiplier\') 
		{
			return \\searchmemory\\calculate_active_obbs_multiplier($ldata,$edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(7,$ldata)) 
			return \\skill240\\calculate_active_obbs_multiplier($ldata,$edata)*0.9;
		else  return \\skill240\\calculate_active_obbs_multiplier($ldata,$edata);
	'

Array\calculate_counter_rate_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill8\\calculate_counter_rate_multiplier\') 
		{
			return \\skill478\\calculate_counter_rate_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(7,$pa)) 
			return \\skill52\\calculate_counter_rate_multiplier($pa,$pd,$active)*0.9;
		else  return \\skill52\\calculate_counter_rate_multiplier($pa,$pd,$active);
	'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\skill_onsave_event ====> '
		return \\skill1\\skill_onsave_event($pa);'

Array\calculate_move_sp_cost ====> '
		
		if (\\skillbase\\skill_query(8)) 
			return \\skill7\\calculate_move_sp_cost()+5;
		else  return \\skill7\\calculate_move_sp_cost();
	'

Array\calculate_search_sp_cost ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill410\\calculate_search_sp_cost\') 
		{
			return \\skill410\\calculate_search_sp_cost();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(8)) 
			return \\skill7\\calculate_search_sp_cost()+5;
		else  return \\skill7\\calculate_search_sp_cost();
	'

Array\get_hitrate ====> '
		return \\tutorial\\get_hitrate($pa,$pd,$active);'

Array\calculate_active_obbs_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill50\\calculate_active_obbs_multiplier\') 
		{
			return \\searchmemory\\calculate_active_obbs_multiplier($ldata,$edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(8,$ldata)) 
			return \\skill7\\calculate_active_obbs_multiplier($ldata,$edata)*0.2;
		else  return \\skill7\\calculate_active_obbs_multiplier($ldata,$edata);
	'

Array\calculate_counter_rate_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill9\\calculate_counter_rate_multiplier\') 
		{
			return \\skill478\\calculate_counter_rate_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(8,$pa)) 
			return \\skill7\\calculate_counter_rate_multiplier($pa,$pd,$active)*0.2;
		else  return \\skill7\\calculate_counter_rate_multiplier($pa,$pd,$active);
	'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\skill_onsave_event ====> '
		return \\skill1\\skill_onsave_event($pa);'

Array\get_def_multiplier ====> '
		return \\weather\\get_def_multiplier($pa,$pd,$active);'

Array\calculate_active_obbs_multiplier ====> '
		return \\searchmemory\\calculate_active_obbs_multiplier($ldata,$edata);'

Array\calculate_counter_rate_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill207\\calculate_counter_rate_multiplier\') 
		{
			return \\skill478\\calculate_counter_rate_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(9,$pa)) 
			return \\skill8\\calculate_counter_rate_multiplier($pa,$pd,$active)*0.8;
		else  return \\skill8\\calculate_counter_rate_multiplier($pa,$pd,$active);
	'

Array\parse_itmk_words ====> '
		
		if (isset($k_value[0]) && $k_value[0]==\'P\') $k_value[0]=\'H\';$itemmain_parse_itmk_words_ret = NULL;

		//========Contents from mod itemmain========
		do{
			
		
		
		eval(import_module(\'itemmain\'));
		if($k_value){	
			$best=-1;
			$ret=\'未知\';
			foreach($iteminfo as $info_key => $info_value)
			{
				if(strpos($k_value,$info_key)===0){
					if (strlen($info_key)>$best)
					{
						$best=strlen($info_key);
						$ret = $info_value;
					}
				}	
			}
		} else {
			$ret = \'\';
		}
		$itemmain_parse_itmk_words_ret =  $ret;
break; 
		}while(0);
		return $itemmain_parse_itmk_words_ret;
	'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\act ====> '
		return \\smartmix\\act();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_external_def_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_attr_charge\\get_external_def_multiplier\') 
		{
			return \\ex_attr_charge\\get_external_def_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return 1.0;
	'

Array\get_external_def ====> '
		return \\skill33\\get_external_def($pa,$pd,$active);'

Array\get_def ====> '
		return \\skill407\\get_def($pa,$pd,$active);'

Array\armor_break ====> '
		return \\skill27\\armor_break($pa,$pd,$active,$whicharmor);'

Array\apply_weapon_inf ====> '
		return \\tutorial\\apply_weapon_inf($pa,$pd,$active);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\assault_prepare ====> '
		
		if ($active) $pd[\'armorbreaklog\']=\'\'; else $pa[\'armorbreaklog\']=\'\';$wound_assault_prepare_ret = NULL;

		//========Contents from mod wound========
		do{
			
		
		if ($active) $pd[\'original_inf\']=$pd[\'inf\']; else $pa[\'original_inf\']=$pa[\'inf\'];$battle_assault_prepare_ret = NULL;

		//========Contents from mod battle========
		do{
			
		
		
		if ($active) $pa[\'user_commanded\']=1; else $pa[\'user_commanded\']=0;
		$pd[\'user_commanded\']=0;
		}while(0);
		$battle_assault_prepare_ret;
		}while(0);
		$wound_assault_prepare_ret;
	'

Array\assault_finish ====> '
		
		if ($active) 
			$pd[\'battlelog\'].=$pd[\'armorbreaklog\'];
		else  $pa[\'battlelog\'].=$pa[\'armorbreaklog\'];$wound_assault_finish_ret = NULL;

		//========Contents from mod wound========
		do{
			
		
		if ($active) 
		{
			$infold=$pd[\'original_inf\'];
			$infnew=$pd[\'inf\'];
		}
		else
		{
			$infold=$pa[\'original_inf\'];
			$infnew=$pa[\'inf\'];
		}
		
		$str=\'\';
		eval(import_module(\'wound\'));
		foreach ($infname as $key => $value)
			if ((strpos($infold,$key) === false) && (strpos($infnew, $key)!==false))
			{
				if ($str!=\'\') $str.=\'、\';
				$str.=$value;
			}
		if ($str!=\'\') $str=\'敌人的攻击导致你\'.$str.\'了！<br>\';
		
		if ($active)
			$pd[\'battlelog\'] .= $str;
		else  $pa[\'battlelog\'] .= $str;$skill602_assault_finish_ret = NULL;

		//========Contents from mod skill602========
		do{
			
		
		if ($active)
		{
			if (isset($pd[\'new_stun_flag\']) && $pd[\'new_stun_flag\']==1)
			{
				$pd[\'battlelog\'] .= \'敌人的攻击导致你<span class="clan">晕眩</span>了！<br>\';
				unset($pd[\'new_stun_flag\']);
			}
		}
		else  
		{
			if (isset($pa[\'new_stun_flag\']) && $pa[\'new_stun_flag\']==1)
			{
				$pa[\'battlelog\'] .= \'敌人的攻击导致你<span class="clan">晕眩</span>了！<br>\';
				unset($pa[\'new_stun_flag\']);
			}
		}$skill461_assault_finish_ret = NULL;

		//========Contents from mod skill461========
		do{
			
		
		if (\\skillbase\\skill_query(461,$pa) && ((int)\\skillbase\\skill_getvalue(461,\'lvl\',$pa))==1) $pa[\'inf\']=\'\';
		if (\\skillbase\\skill_query(461,$pd) && ((int)\\skillbase\\skill_getvalue(461,\'lvl\',$pd))==1) $pd[\'inf\']=\'\';$battle_assault_finish_ret = NULL;

		//========Contents from mod battle========
		do{
			
		
		foreach(array(\'pa\',\'pd\') as $val){
			unset(${$val}[\'is_counter\'],${$val}[\'physical_dmg_dealt\'],${$val}[\'wepimp\'],${$val}[\'actual_rapid_time\']);
		}
		}while(0);
		$skill461_assault_finish_ret =  $battle_assault_finish_ret;
break; 
		}while(0);
		$skill602_assault_finish_ret =  $skill461_assault_finish_ret;
break; 
		}while(0);
		
		$skill602_assault_finish_ret;
		}while(0);
		$wound_assault_finish_ret;
	'

Array\calculate_rest_upsp ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'pose\\calculate_rest_upsp\') 
		{
			return \\skill1\\calculate_rest_upsp($rtime);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'player\',\'rest\'));
		$upsp = round ( $msp * $rtime / $rest_sleep_time / 100 );
		return $upsp;
	'

Array\calculate_rest_uphp ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'pose\\calculate_rest_uphp\') 
		{
			return \\skill1\\calculate_rest_uphp($rtime);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'player\',\'rest\'));
		$uphp = round ( $mhp * $rtime / $rest_heal_time / 100 );
		if (strpos ( $inf, \'b\' ) !== false) {
			$uphp = round ( $uphp / 2 );
		}
		return $uphp;
	'

Array\get_wound_recover_time ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'pose\\get_wound_recover_time\') 
		{
			return \\skill1\\get_wound_recover_time();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'player\',\'rest\'));
		return $rest_recover_time;
	'

Array\act ====> '
		return \\smartmix\\act();'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\upgrade12 ====> '
		return \\skill600\\upgrade12();'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill36\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=223) return \\skill237\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(223,$pa) || !\\skill223\\check_unlocked223 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$remtime = (int)\\skill223\\get_remaintime223 ($pa);
			if ($remtime>=1)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「暗杀」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「暗杀」！</span><br>";
				$remtime--; 
				\\skillbase\\skill_setvalue(223,\'rmtime\',$remtime,$pa);
				addnews ( 0, \'bskill223\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill237\\strike_prepare($pa, $pd, $active);
	'

Array\get_hitrate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\get_hitrate\') 
		{
			return \\tutorial\\get_hitrate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=223){$skill8_get_hitrate_ret = NULL;

		//========Contents from mod skill8========
		do{
			
		
		if (\\skillbase\\skill_query(8,$pa)){			
			$skill8_get_hitrate_ret =  \\skill7\\get_hitrate($pa,$pd,$active)*0.9;
break; }
		else{  $skill8_get_hitrate_ret =  \\skill7\\get_hitrate($pa,$pd,$active);
break; }
		}while(0); return $skill8_get_hitrate_ret;}
		return 10000;
	'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill202\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=36) return \\skill223\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(36,$pa) || !\\skill36\\check_unlocked36 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill36\\get_rage_cost36 ($pa);
			if ($pa[\'rage\']>=$rcost && $pa[\'wepk\']==\'WP\')
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「偷袭」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「偷袭」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill36\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill223\\strike_prepare($pa, $pd, $active);
	'

Array\calculate_skill35_proc_rate ====> '
		return \\skill38\\calculate_skill35_proc_rate($pa,$pd,$active);'

Array\check_can_counter ====> '
		return \\pose\\check_can_counter($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\strike_prepare ====> '
		return \\skill244\\strike_prepare($pa,$pd,$active);'

Array\calculate_skill35_proc_rate ====> '
		
		if ($pa[\'bskill\']!=38){$skill36_calculate_skill35_proc_rate_ret = NULL;

		//========Contents from mod skill36========
		do{
			
		
		if ($pa[\'bskill\']!=36){$skill35_calculate_skill35_proc_rate_ret = NULL;

		//========Contents from mod skill35========
		do{
			
		
		eval(import_module(\'skill35\'));
		$skill35_calculate_skill35_proc_rate_ret =  $proc_rate;
break; 
		}while(0); $skill36_calculate_skill35_proc_rate_ret =  $skill35_calculate_skill35_proc_rate_ret;
break; }
		$skill36_calculate_skill35_proc_rate_ret =  100;
break; 
		}while(0); return $skill36_calculate_skill35_proc_rate_ret;}
		return 100;
	'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\check_attack_method ====> '
		
		if ($wm!=\'\' && \\dualwep\\get_sec_attack_method ($pdata)==$wm) return 1;$weapon_check_attack_method_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		$weapon_check_attack_method_ret =  \\weapon\\get_attack_method ($pdata)==$wm;
break; 
		}while(0);
		return $weapon_check_attack_method_ret;
	'

Array\itemuse ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\itemuse\') 
		{
			return \\tutorial\\itemuse($theitem);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'GB\' ) === 0) 
		{
			\\ammunition\\itemuse_ugb ($theitem);
			return;
		}$item_uc_itemuse_ret = NULL;

		//========Contents from mod item_uc========
		do{
			
		
		
		eval(import_module(\'wound\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'C\' ) === 0) 
		{
			$ck=substr($itmk,1,1);
			if($ck == \'a\'){
				$flag=false;
				$log .= "服用了<span class=\\"red\\">$itm</span>。<br>";
				$inf0 = $inf;
				for ($i=0; $i<strlen($inf0); $i++)
				{
					if(strpos($inf_place,$inf0[$i])===false){
						$log .= "{$infname[$inf0[$i]]}状态解除了。<br>";
						$inf = str_replace($inf0[$i],\'\',$inf);
						$flag=true;
					}
				}
				
				if(!$flag){
					$log .= \'但是什么也没发生。<br>\';
				}
			}
			else
			{
				if(strpos ( $inf, $ck ) !== false){
					$inf = str_replace ( $ck, \'\', $inf );
					$log .= "服用了<span class=\\"red\\">$itm</span>，{$infname[$ck]}状态解除了。<br>";
				}else{
					$log .= "服用了<span class=\\"red\\">$itm</span>，但是什么效果也没有。<br>";
				}
			}
			
			\\itemmain\\itms_reduce($theitem);
			$item_uc_itemuse_ret = NULL;
break; 
		}$armor_itemuse_ret = NULL;

		//========Contents from mod armor========
		do{
			
		
		
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'D\' ) === 0)
		{
			if(strpos ( $itmk, \'DB\' ) === 0) {
				$eqp = \'arb\';
				$noeqp = \'DN\';
			}elseif(strpos ( $itmk, \'DH\' ) === 0) {
				$eqp = \'arh\';
				$noeqp = \'\';
			}elseif(strpos ( $itmk, \'DA\' ) === 0) {
				$eqp = \'ara\';
				$noeqp = \'\';
			}elseif(strpos ( $itmk, \'DF\' ) === 0) {
				$eqp = \'arf\';
				$noeqp = \'\';
			}
			if (($noeqp && strpos ( ${$eqp.\'k\'}, $noeqp ) === 0) || ! ${$eqp.\'s\'}) {
				${$eqp} = $itm;
				${$eqp.\'k\'} = $itmk;
				${$eqp.\'e\'} = $itme;
				${$eqp.\'s\'} = $itms;
				${$eqp.\'sk\'} = $itmsk;
				$log .= "装备了<span class=\\"yellow\\">$itm</span>。<br>";
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
			} else {
				swap(${$eqp},$itm);
				swap(${$eqp.\'k\'},$itmk);
				swap(${$eqp.\'e\'},$itme);
				swap(${$eqp.\'s\'},$itms);
				swap(${$eqp.\'sk\'},$itmsk);
				$log .= "卸下了<span class=\\"red\\">$itm</span>，装备了<span class=\\"yellow\\">${$eqp}</span>。<br>";
			}
			$armor_itemuse_ret = NULL;
break; 
		}$poison_itemuse_ret = NULL;

		//========Contents from mod poison========
		do{
			
		
		
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'P\' ) === 0) {
			if (strpos ( $itmk, \'2\' ) === 2) {
				$damage = round ( $itme * 2 );
			} elseif (strpos ( $itmk, \'1\' ) === 2) {
				$damage = round ( $itme * 1.5 );
			} else {
				$damage = round ( $itme );
			}
			
			if (defined(\'MOD_WOUND\')) \\wound\\get_inf(\'p\');
			
			$hp -= $damage;
			
			$playerflag = 0;
			if ($itmsk && is_numeric($itmsk)) $playerflag = 1;
			$selflag = 0;
			if ($playerflag && $itmsk == $pid) $selflag = 1;
			if  ($playerflag)
			{
				$wdata = \\player\\fetch_playerdata_by_pid($itmsk);
				$wprefix = \'<span class="yellow">\'.$wdata[\'name\'].\'</span>\';
				if ($selflag) $wprefix = \'你自己\';
				$log .= "糟糕，<span class=\\"yellow\\">$itm</span>中被{$wprefix}掺入了毒药！你受到了<span class=\\"dmg\\">$damage</span>点伤害！<br>";
				addnews ( $now, \'poison\', $name, $wdata [\'name\'], $itm );
				if (!$selflag) \\poison\\send_poison_enemylog ($itm,$itmsk);
			} else {
				$log .= "糟糕，<span class=\\"yellow\\">$itm</span>有毒！你受到了<span class=\\"dmg\\">$damage</span>点伤害！<br>";
			}
			if ($hp <= 0) {
			
				$state = 26;
				\\player\\update_sdata();
				
				if ($playerflag && !$selflag) 	
				{	
					$sdata[\'bid\'] = $itmsk;
					$log .= "你被<span class=\\"red\\">" . $wdata [\'name\'] . "</span>毒死了！";
				}
				else  if ($playerflag)			
				{
					$sdata[\'bid\'] = $itmsk;
					$wdata = &$sdata;
					$log .= "你被毒死了！";
				}
				else						
				{
					$wdata = &$sdata;
					$sdata[\'sourceless\']=1;
					$log .= "你被毒死了！";
				}
				$wdata[\'attackwith\']=$itm;
				$killmsg = \\player\\kill($wdata,$sdata);
				if (isset($sdata[\'sourceless\'])) unset($sdata[\'sourceless\']);
				
				if($killmsg){$log .= "<span class=\\"yellow\\">{$wdata[\'name\']}对你说：“{$killmsg}”</span><br>";}
				
				if ($playerflag && !$selflag) \\player\\player_save($wdata);
				\\player\\player_save($sdata);
				\\player\\load_playerdata($sdata);
			} 
			\\itemmain\\itms_reduce($theitem);
			$poison_itemuse_ret = NULL;
break; 
		}
		
		if ((strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) && ($itm == \'毒药\')) 
		{
			include template(MOD_POISON_POISON);
			$cmd = ob_get_contents();
			ob_clean();
			$poison_itemuse_ret = NULL;
break; 
		}$item_uv_itemuse_ret = NULL;

		//========Contents from mod item_uv========
		do{
			
		
		
		eval(import_module(\'weapon\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'V\' ) === 0) 
		{
			if ($itmk[1] == \'O\')
				$log .= "你打开了<span class=\\"red\\">$itm</span>。<br>";
			else
				$log .= "你阅读了<span class=\\"red\\">$itm</span>。<br>";
				
			
			if (strpos ( substr($itmk,1), \'S\' ) !== false)	
			{
				eval(import_module(\'clubbase\'));
				$useflag = 0;
				$sk_kind = (int)$itmsk;
				if ($sk_kind<1) $sk_kind = 1;
				if (defined(\'MOD_SKILL\'.$sk_kind) && $clubskillname[$sk_kind]!=\'\')
				{
					if (\\skillbase\\skill_query($sk_kind))
					{
						$log.="你发现这本书就是昨天刚刚看过的那本，不打算继续看下去了。<br>";
					}
					else
					{
						$log.="你感觉受益匪浅。你获得了技能「<span class=\\"yellow\\">".$clubskillname[$sk_kind]."</span>」，请前往技能界面查看。<br>";
						\\skillbase\\skill_acquire($sk_kind);
						$useflag = 1;
						
					}
				}
				else
				{
					$log.="技能书参数错误，这应该是一个BUG，请联系管理员。<br>";
					$item_uv_itemuse_ret = NULL;
break; 
				}
			}
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			if (defined(\'MOD_CARDBASE\') && $itmk[1] == \'O\')	
			{
				eval(import_module(\'cardbase\'));
				if (strlen($itmk) == 2) $cardpresent_type = \'1\'; else $cardpresent_type = $itmk[2];
				$itmn = $theitem[\'itmn\'];
				$cardpresent_desc = \'N/A\';
				if ($cardpresent_type == \'1\') $cardpresent_desc = \'获得卡片“\'.$cards[(int)$itmsk][\'name\'].\'”\';
				if ($cardpresent_type == \'2\') $cardpresent_desc = \'从中有机会获得\'.$card_rarity_html[\'A\'].\'/\'.$card_rarity_html[\'B\'].\'/\'.$card_rarity_html[\'C\'].\'级卡片\';
				if ($cardpresent_type == \'3\') $cardpresent_desc = \'从中有机会获得\'.$card_rarity_html[\'S\'].\'/\'.$card_rarity_html[\'A\'].\'/\'.$card_rarity_html[\'B\'].\'级卡片\';
				if ($cardpresent_type == \'4\') $cardpresent_desc = \'从中有机会获得特殊卡片“<span class="yellow">\'.$cards[(int)$itmsk][\'name\'].\'</span>”，或一张\'.$card_rarity_html[\'S\'].\'级或\'.$card_rarity_html[\'A\'].\'级的卡片\';
				if ($cardpresent_type == \'5\') $cardpresent_desc = \'从中可以获得一张\'.$card_rarity_html[\'S\'].\'级卡片\';
				if ($cardpresent_type == \'6\') $cardpresent_desc = \'从中可以获得一张\'.$card_rarity_html[\'A\'].\'级卡片\';
				if ($cardpresent_type == \'7\') $cardpresent_desc = \'从中可以获得一张\'.$card_rarity_html[\'B\'].\'级卡片\';
				if ($cardpresent_type == \'8\') $cardpresent_desc = \'从中可以获得一张\'.$card_rarity_html[\'C\'].\'级卡片\';
				if ($cardpresent_type == \'9\') $cardpresent_desc = \'从中有机会获得\'.$card_rarity_html[\'B\'].\'级或\'.$card_rarity_html[\'C\'].\'级卡片\';
				
				if ($cardpresent_desc == \'N/A\')
				{
					$log.=\'物品代码配置错误，请联系管理员。<br>\';
					$item_uv_itemuse_ret = NULL;
break; 
				}
				
				if ($itm == \'博丽神社的参拜券\')
				{
					
					if ($now - $starttime >= 1200)
					{
						$log.=\'<span class="yellow">博丽神社今天已经关门啦，下次请早点来吧。（这个道具必须在开局20分钟内使用）<br></span>\';
						$item_uv_itemuse_ret = NULL;
break; 
					}
				}
				
				eval(import_module(\'input\'));
				if ($subcmd == \'flipcard\')
				{
					$get_card_id = 0;
					if ($cardpresent_type == \'1\')
					{
						$get_card_id = (int)$itmsk;
					}
					else if ($cardpresent_type == \'4\' && rand(1,100)<=15)
					{
						$get_card_id = (int)$itmsk;
					}
					else 
					{
						if ($cardpresent_type == \'2\') $cardraw_pr = Array(\'S\'=>0, \'A\'=>10, \'B\'=>35, \'C\'=>55);
						if ($cardpresent_type == \'3\') $cardraw_pr = Array(\'S\'=>10, \'A\'=>25, \'B\'=>65, \'C\'=>0);
						if ($cardpresent_type == \'4\') $cardraw_pr = Array(\'S\'=>24, \'A\'=>76, \'B\'=>0, \'C\'=>0);
						if ($cardpresent_type == \'5\') $cardraw_pr = Array(\'S\'=>100, \'A\'=>0, \'B\'=>0, \'C\'=>0);
						if ($cardpresent_type == \'6\') $cardraw_pr = Array(\'S\'=>0, \'A\'=>100, \'B\'=>0, \'C\'=>0);
						if ($cardpresent_type == \'7\') $cardraw_pr = Array(\'S\'=>0, \'A\'=>0, \'B\'=>100, \'C\'=>0);
						if ($cardpresent_type == \'8\') $cardraw_pr = Array(\'S\'=>0, \'A\'=>0, \'B\'=>0, \'C\'=>100);
						if ($cardpresent_type == \'9\') $cardraw_pr = Array(\'S\'=>0, \'A\'=>0, \'B\'=>30, \'C\'=>70);
						$dice=rand(1,100); $kind=\'\';
						foreach ($cardraw_pr as $key => $value)
						{
							if ($dice<=$value)
							{
								$kind=$key; break;
							}
							else
							{
								$dice-=$value;
							}
						}
						if ($kind==\'\')
						{
							$log.=\'物品代码配置错误，请联系管理员。<br>\';
							$item_uv_itemuse_ret = NULL;
break; 
						}
						$get_card_id = $cardindex[$kind][rand(0,count($cardindex[$kind])-1)];
					}
					
					if ($get_card_id==0)
					{
						$log.=\'物品代码配置错误，请联系管理员。<br>\';
						$item_uv_itemuse_ret = NULL;
break; 
					}
					
					$is_new = \'\';
					if ((\\cardbase\\get_card($get_card_id))==1) $is_new = "<span class=\\"L5\\">NEW!</span>";;
					ob_clean();
					include template(\'MOD_CARDBASE_CARDFLIP_RESULT\');
					$log .= ob_get_contents();
					ob_clean();
					
					$log.=\'<span class="yellow">你获得了卡片「\'.$cards[$get_card_id][\'name\'].\'」！请前往“帐号资料”→“查看我的卡册”查看。</span><br>\';
					
					addnews ( 0, \'VOgetcard\', $name, $itm, $cards[$get_card_id][\'name\'] );
					
					\\itemmain\\itms_reduce($theitem);
					
					$item_uv_itemuse_ret = NULL;
break; 
				}
				else
				{
					ob_clean();
					include template(\'MOD_CARDBASE_CARDFLIP_BACK\');
					$log .= ob_get_contents();
					ob_clean();
					$item_uv_itemuse_ret = NULL;
break; 
				}
			}
			
			
			$skill_minimum = 100;
			$skill_limit = 300;
			
			$dice = rand ( - 5, 5 );
			$vefct = NULL;
			if (strpos ( substr($itmk,1), \'V\' ) !== false) {
				$skcnt = 0; $ws_sum = 0;
				foreach (array_unique(array_values($skillinfo)) as $key)
				{
					$skcnt++;
					$ws_sum += $$key;
				}
				if ($ws_sum < $skill_minimum * $skcnt) {
					$vefct = $itme;
				} elseif ($ws_sum < $skill_limit * $skcnt) {
					$vefct = round ( $itme * (1 - ($ws_sum - $skill_minimum * $skcnt) / ($skill_limit * $skcnt - $skill_minimum * $skcnt)) );
				} else {
					$vefct = 0;
				}
				if ($vefct < 5) {
					if ($vefct < $dice) {
						$vefct = - $dice;
					}
				}
				foreach (array_unique(array_values($skillinfo)) as $key)
				{
					$$key+=$vefct;
				}
				$wsname = "全系熟练度";
				$useflag = 1;
			} elseif (strpos ( substr($itmk,1), \'P\' ) !== false) {
				if ($wp < $skill_minimum) {
					$vefct = $itme;
				} elseif ($wp < $skill_limit) {
					$vefct = round ( $itme * (1 - ($wp - $skill_minimum) / ($skill_limit - $skill_minimum)) );
				} else {
					$vefct = 0;
				}
				if ($vefct < 5) {
					if ($vefct < $dice) {
						$vefct = - $dice;
					}
				}
				$wp += $vefct; 
				$wsname = "斗殴熟练度";
				$useflag = 1;
			} elseif (strpos ( substr($itmk,1), \'K\' ) !== false) {
				if ($wk < $skill_minimum) {
					$vefct = $itme;
				} elseif ($wk < $skill_limit) {
					$vefct = round ( $itme * (1 - ($wk - $skill_minimum) / ($skill_limit - $skill_minimum)) );
				} else {
					$vefct = 0;
				}
				if ($vefct < 5) {
					if ($vefct < $dice) {
						$vefct = - $dice;
					}
				}
				$wk += $vefct;
				$wsname = "斩刺熟练度";
				$useflag = 1;
			} elseif (strpos ( substr($itmk,1), \'G\' ) !== false) {
				if ($wg < $skill_minimum) {
					$vefct = $itme;
				} elseif ($wg < $skill_limit) {
					$vefct = round ( $itme * (1 - ($wg - $skill_minimum) / ($skill_limit - $skill_minimum)) );
				} else {
					$vefct = 0;
				}
				if ($vefct < 5) {
					if ($vefct < $dice) {
						$vefct = - $dice;
					}
				}
				$wg += $vefct;
				$wsname = "射击熟练度";
				$useflag = 1;
			} elseif (strpos ( substr($itmk,1), \'C\' ) !== false) {
				if ($wc < $skill_minimum) {
					$vefct = $itme;
				} elseif ($wc < $skill_limit) {
					$vefct = round ( $itme * (1 - ($wc - $skill_minimum) / ($skill_limit - $skill_minimum)) );
				} else {
					$vefct = 0;
				}
				if ($vefct < 5) {
					if ($vefct < $dice) {
						$vefct = - $dice;
					}
				}
				$wc += $vefct;
				$wsname = "投掷熟练度";
				$useflag = 1;
			} elseif (strpos ( substr($itmk,1), \'D\' ) !== false) {
				if ($wd < $skill_minimum) {
					$vefct = $itme;
				} elseif ($wd < $skill_limit) {
					$vefct = round ( $itme * (1 - ($wd - $skill_minimum) / ($skill_limit - $skill_minimum)) );
				} else {
					$vefct = 0;
				}
				if ($vefct < 5) {
					if ($vefct < $dice) {
						$vefct = - $dice;
					}
				}
				$wd += $vefct;
				$wsname = "引爆熟练度";
				$useflag = 1;
			} elseif (strpos ( substr($itmk,1), \'F\' ) !== false) {
				if ($wf < $skill_minimum) {
					$vefct = $itme;
				} elseif ($wf < $skill_limit) {
					$vefct = round ( $itme * (1 - ($wf - $skill_minimum) / ($skill_limit - $skill_minimum)) );
				} else {
					$vefct = 0;
				}
				if ($vefct < 5) {
					if ($vefct < $dice) {
						$vefct = - $dice;
					}
				}
				$wf += $vefct;
				$wsname = "灵击熟练度";
				$useflag = 1;
			}
			if(NULL!==$vefct) {
				if ($vefct > 0) {
					$log .= "嗯，有所收获。<br>你的{$wsname}提高了<span class=\\"yellow\\">$vefct</span>点！<br>";
				} elseif ($vefct == 0) {
					$log .= "对你来说书里的内容过于简单了。<br>你的熟练度没有任何提升。<br>";
				} else {
					$vefct = - $vefct;
					$log .= "对你来说书里的内容过于简单了。<br>而且由于盲目相信书上的知识，你反而被编写者的纰漏所误导了！<br>你的{$wsname}下降了<span class=\\"red\\">$vefct</span>点！<br>";
				}
			}
			if($useflag) \\itemmain\\itms_reduce($theitem);
			$item_uv_itemuse_ret = NULL;
break; 
		}$item_um_itemuse_ret = NULL;

		//========Contents from mod item_um========
		do{
			
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'M\' ) === 0) {
			\\item_um\\itemuse_um ($theitem);
			$item_um_itemuse_ret = NULL;
break; 
		}$weapon_itemuse_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'W\' ) === 0)
		{
			$eqp = \'wep\';
			$noeqp = \'WN\';
			
			if (($noeqp && strpos ( ${$eqp.\'k\'}, $noeqp ) === 0) || ! ${$eqp.\'s\'}) {
				${$eqp} = $itm;
				${$eqp.\'k\'} = $itmk;
				${$eqp.\'e\'} = $itme;
				${$eqp.\'s\'} = $itms;
				${$eqp.\'sk\'} = $itmsk;
				$log .= "装备了<span class=\\"yellow\\">$itm</span>。<br>";
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
			} else {
				swap(${$eqp},$itm);
				swap(${$eqp.\'k\'},$itmk);
				swap(${$eqp.\'e\'},$itme);
				swap(${$eqp.\'s\'},$itms);
				swap(${$eqp.\'sk\'},$itmsk);
				$log .= "卸下了<span class=\\"red\\">$itm</span>，装备了<span class=\\"yellow\\">${$eqp}</span>。<br>";
			}
			$weapon_itemuse_ret = NULL;
break; 
		}$skill323_itemuse_ret = NULL;

		//========Contents from mod skill323========
		do{
			
		
		
		if ($theitem[\'itm\']=="『G.A.M.E.O.V.E.R』"){
			if (\\skillbase\\skill_query(323)){
				\\skillbase\\skill_setvalue(323,\'cnt\',$now-$starttime);
				\\player\\player_save($sdata);
			}
		}$skill322_itemuse_ret = NULL;

		//========Contents from mod skill322========
		do{
			
		
		
		if (($theitem[\'itm\']=="杏仁豆腐的ID卡")&&($theitem[\'itmk\']=="Z")&&($gamestate>=30)&&($gamestate<50)){
			if (\\skillbase\\skill_query(322)){
				\\skillbase\\skill_setvalue(322,\'cnt\',$now-$starttime);
				\\player\\player_save($sdata);
			}
		}$skill318_itemuse_ret = NULL;

		//========Contents from mod skill318========
		do{
			
		
		
		if ($theitem[\'itm\']=="『G.A.M.E.O.V.E.R』"){
			if (\\skillbase\\skill_query(318)){
				\\skillbase\\skill_setvalue(318,\'cnt\',1);
				\\player\\player_save($sdata);
			}
		}$skill307_itemuse_ret = NULL;

		//========Contents from mod skill307========
		do{
			
		
		
		if ($theitem[\'itm\']=="『G.A.M.E.O.V.E.R』"){
			if (\\skillbase\\skill_query(307)){
				\\skillbase\\skill_setvalue(307,\'cnt\',1);
				\\player\\player_save($sdata);
			}
		}$skill301_itemuse_ret = NULL;

		//========Contents from mod skill301========
		do{
			
		
		
		if ($theitem[\'itm\']=="游戏解除钥匙"){
			if (\\skillbase\\skill_query(301)){
				\\skillbase\\skill_setvalue(301,\'cnt\',1);
				\\player\\player_save($sdata);
			}
		}$item_misc_itemuse_ret = NULL;

		//========Contents from mod item_misc========
		do{
			
		
		
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if ($itmk==\'U\') 
		{
			$trapresult = $db->query("SELECT * FROM {$tablepre}maptrap WHERE pls = \'$pls\' AND itme>=\'$itme\'");
			$trpnum = $db->num_rows($trapresult);
			if ($trpnum>0){
				$itemno = rand(0,$trpnum-1);
				$db->data_seek($trapresult,$itemno);
				$mi=$db->fetch_array($trapresult);
				$deld = $mi[\'itm\'];
				$delp = $mi[\'tid\'];
				$db->query("DELETE FROM {$tablepre}maptrap WHERE tid=\'$delp\'");
				$log.="远方传来一阵爆炸声，伟大的<span class=\\"yellow\\">{$itm}</span>用生命和鲜血扫除了<span class=\\"yellow\\">{$deld}</span>。<br><span class=\\"red\\">实在是大快人心啊！</span><br>";
			}else{
				$log.="你使用了<span class=\\"yellow\\">{$itm}</span>，但是没有发现陷阱。<br>";
			}
			\\itemmain\\itms_reduce($theitem);
			$item_misc_itemuse_ret = NULL;
break; 
		}elseif (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) {	
			if ($itm == \'御神签\') {
				$log .= "使用了<span class=\\"yellow\\">$itm</span>。<br>";
				\\item_misc\\divining ();
				\\itemmain\\itms_reduce($theitem);
				$item_misc_itemuse_ret = NULL;
break; 
			} elseif ($itm == \'凸眼鱼\') {
				eval(import_module(\'corpse\'));
				$tm = $now - $corpseprotect;
				if ($gametype!=2)
					$db->query ( "UPDATE {$tablepre}players SET corpse_clear_flag=\'1\',weps=\'0\',arbs=\'0\',arhs=\'0\',aras=\'0\',arfs=\'0\',arts=\'0\',itms0=\'0\',itms1=\'0\',itms2=\'0\',itms3=\'0\',itms4=\'0\',itms5=\'0\',itms6=\'0\',money=\'0\' WHERE hp <= 0 AND endtime <= $tm" );
				else	$db->query ( "UPDATE {$tablepre}players SET corpse_clear_flag=\'1\',weps=\'0\',arbs=\'0\',arhs=\'0\',aras=\'0\',arfs=\'0\',arts=\'0\',itms0=\'0\',itms1=\'0\',itms2=\'0\',itms3=\'0\',itms4=\'0\',itms5=\'0\',itms6=\'0\',money=\'0\' WHERE type > 0 AND hp <= 0 AND endtime <= $tm" );
				$cnum = $db->affected_rows ();
				addnews ( $now, \'corpseclear\', $name, $cnum );
				if (defined(\'MOD_NOISE\')) \\noise\\addnoise($pls,\'corpseclear\',$pid);
				$log .= "使用了<span class=\\"yellow\\">$itm</span>。<br>突然刮起了一阵怪风，吹走了地上的{$cnum}具尸体！<br>";
				\\itemmain\\itms_reduce($theitem);
				$item_misc_itemuse_ret = NULL;
break; 
			} elseif ($itm == \'■DeathNote■\') {
				include template(\'deathnote\');
				$cmd = ob_get_contents();
				ob_clean();
				$log .= \'你翻开了■DeathNote■<br>\';
				$item_misc_itemuse_ret = NULL;
break; 
			} elseif ($itm == \'游戏解除钥匙\') {
				$state = 6;
				$url = \'end.php\';
				\\sys\\gameover ( $now, \'end3\', $name );
			}elseif ($itm == \'『C.H.A.O.S』\') {
				$flag=false;
				$log.="一阵强光刺得你睁不开眼。<br>强光逐渐凝成了光球，你揉揉眼睛，发现包裹里的东西全都不翼而飞了。<br>";
				for ($i=1;$i<=6;$i++){
					
					if (${\'itm\'.$i}==\'黑色发卡\') {
						$flag=true;
						$tmp_itm = ${\'itm\'.$i}; $tmp_itmk = ${\'itmk\'.$i}; $tmp_itmsk = ${\'itmsk\'.$i};
						$tmp_itme = ${\'itme\'.$i}; $tmp_itms = ${\'itms\'.$i};
					}
					${\'itm\'.$i} = ${\'itmk\'.$i} = ${\'itmsk\'.$i} = \'\';
					${\'itme\'.$i} = ${\'itms\'.$i} = 0;
				}
				$karma=$rp*$killnum-$def+$att;
				$f1=$f2=$f3=false;
				
				if (($ss>=600)&&($killnum<=15)){
					$itm0=\'『T.E.R.R.A』\';
					$itmk0=\'Y\';
					$itme0=1;
					$itms0=1;
					$itmsk0=\'z\';
					\\itemmain\\itemget();
					$f1=true;
				}
				if ($karma<=2000){
					$itm0=\'『A.Q.U.A』\';
					$itmk0=\'Y\';
					$itme0=1;
					$itms0=1;
					$itmsk0=\'x\';
					\\itemmain\\itemget();
					$f2=true;
				}
				if ($flag==true){
					$itm0=\'『V.E.N.T.U.S』\';
					$itmk0=\'Y\';
					$itme0=1;
					$itms0=1;
					$itmsk0=\'Z\';
					\\itemmain\\itemget();
					$f3=true;
				}
				if (!$f1 || !$f2 || !$f3){
					$itm0=\'『S.C.R.A.P』\';
					$itmk0=\'Z\';
					$itme0=1;
					$itms0=1;
					$itmsk0=\'\';
					\\itemmain\\itemget();
					for ($i=1;$i<=6;$i++){
						if(!${\'itms\'.$i}) {
							${\'itm\'.$i} = $tmp_itm; ${\'itmk\'.$i} = $tmp_itmk; ${\'itmsk\'.$i} = $tmp_itmsk;
							${\'itme\'.$i} = $tmp_itme; ${\'itms\'.$i} = $tmp_itms;
							break;
						}
					}
				}
				$item_misc_itemuse_ret = NULL;
break; 
			}elseif ($itm == \'『S.C.R.A.P』\') {
				$log.="你眼前一黑。当你再次能看见东西，你发现包裹里的东西再次不翼而飞了。<br>";
				for ($i=1;$i<=6;$i++){
					if (${\'itm\'.$i}!=\'黑色发卡\'){
						${\'itm\'.$i} = ${\'itmk\'.$i} = ${\'itmsk\'.$i} = \'\';
						${\'itme\'.$i} = ${\'itms\'.$i} = 0;
					}					
				}
				$itm0=\'『C.H.A.O.S』\';
				$itmk0=\'Z\';
				$itme0=1;
				$itms0=1;
				$itmsk0=\'\';
				\\itemmain\\itemget();
				$item_misc_itemuse_ret = NULL;
break; 
			}elseif ($itm == \'『G.A.M.E.O.V.E.R』\') {
				$state = 6;
				$url = \'end.php\';
				\\sys\\gameover ( $now, \'end7\', $name );
			}elseif ($itm == \'杏仁豆腐的ID卡\') {
				eval(import_module(\'sys\'));
				if ($gametype==2)
				{
					$log.=\'本模式下不可用。<br>\';
					$item_misc_itemuse_ret = NULL;
break; 
				}
				$duelstate = \\gameflow_duel\\duel($now,$itm);
				if($duelstate == 50){
					$log .= "<span class=\\"yellow\\">你使用了{$itm}。</span><br><span class=\\"evergreen\\">“干得不错呢，看来咱应该专门为你清扫一下战场……”</span><br><span class=\\"evergreen\\">“所有的NPC都离开战场了。好好享受接下来的杀戮吧，祝你好运。”</span>——林无月<br>";
					$itm = $itmk = $itmsk = \'\';
					$itme = $itms = 0;
				}elseif($duelstate == 51){
					$log .= "你使用了<span class=\\"yellow\\">{$itm}</span>，不过什么反应也没有。<br><span class=\\"evergreen\\">“咱已经帮你准备好舞台了，请不要要求太多哦。”</span>——林无月<br>";
				} else {
					$log .= "你使用了<span class=\\"yellow\\">{$itm}</span>，不过什么反应也没有。<br><span class=\\"evergreen\\">“表演的时机还没到呢，请再忍耐一下吧。”</span>——林无月<br>";
				}
				$item_misc_itemuse_ret = NULL;
break; 
			} elseif ($itm == \'权限狗的ID卡\') {
				$result = $db->query("SELECT groupid,password FROM {$gtablepre}users WHERE username=\'$cuser\'");
				$result = $db->fetch_array($result);
				$ugroupid = $result[\'groupid\'];
				$upassword = $result[\'password\'];
				include_once GAME_ROOT.\'./include/user.func.php\';
				if(pass_compare($cuser, $cpass, $upassword) && ($ugroupid >= 5 || $cuser == $gamefounder)){
					$log.=\'大逃杀幻境已确认你的权限狗身份，正在为你输送权限套装……<br>\';
					$wp=$wk=$wg=$wc=$wd=$wf=666;
					$ss=$mss=600;
					$att+=200;$def+=200;
					$money+=19980;
					$itm1=\'美味补给\';$itmk1 = \'HB\';$itmsk1 = \'\';$itme1 = 777;$itms1 = 177;
					$itm2=\'全恢复药剂\';$itmk2 = \'Ca\';$itmsk2 = \'\';$itme2 = 1;$itms2 = 44;
					$itm3=\'移动PC\';$itmk3 = \'EE\';$itmsk3 = \'\';$itme3 = 20;$itms3 = 1;
					$itm4=\'量子雷达\';$itmk4 = \'ER\';$itmsk4 = \'2\';$itme4 = 20;$itms4 = 1;
					$art=\'Untainted Glory\';$artk = \'A\';$artsk = \'Hh\';$arte = 1;$arts = 1;
					if (defined(\'MOD_CLUBBASE\')) eval(import_module(\'clubbase\'));
					foreach(array(1010,1011) as $skv){
						if(defined(\'MOD_SKILL\'.$skv)) {
							if (!\\skillbase\\skill_query($skv)) {
								$log.="你获得了技能「<span class=\\"yellow\\">$clubskillname[$skv]</span>」！<br>";
								\\skillbase\\skill_acquire($skv);
							}
						}
					}
					addnews ( $now, \'adminitem\', $name, $itm );
				}else{
					$log.=\'你没有足够的权限。可能因为是你的缓存密码有误，也可能你压根就不是一条权限狗。<br>\';
				}
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
				$mode=\'command\';$command=\'\';
				$item_misc_itemuse_ret = NULL;
break; 
			} elseif ($itm == \'奇怪的按钮\') {
				$button_dice = rand ( 1, 10 );
				$log .= "你按下了<span class=\\"yellow\\">$itm</span>。<br>";
				if ($button_dice < 5) {
					$log .= \'按钮不翼而飞，你的手中多了一瓶褐色的饮料，上面还有个标签……<br><span class="gold b">“感谢特朗普总统选用我司的可乐递送服务。”</span><br>蛤？<br>\';
					$itm = \'特朗普特供版「核口可乐」\';
					$itmk = \'HB\';
					$itmsk = \'\';
					$itme = 200;
					$itms = 1;
				} elseif ($button_dice < 8) {
					$state = 6;
					$url = \'end.php\';
					\\sys\\gameover ( $now, \'end5\', $name );
				} else {
					$log .= \'好像什么也没发生嘛？咦，按钮上的标签写着什么？<br><span class="red">“危险，勿触！”</span>……？<br>呜哇，按钮爆炸了！<br>\';
					$itm = $itmk = $itmsk = \'\';
					$itme = $itms = 0;
					$state = 30;
					\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = \'\';
					\\player\\kill($sdata,$sdata);
					\\player\\player_save($sdata);
					\\player\\load_playerdata($sdata);
				}
				$item_misc_itemuse_ret = NULL;
break; 
			} else if (substr($itm,0,strlen(\'提示纸条\'))==\'提示纸条\') {
				if ($itm == \'提示纸条A\') {
					$log .= \'你读着纸条上的内容：<br>“执行官其实都是幻影，那个红暮的身上应该有召唤幻影的玩意。”<br>“用那个东西然后打倒幻影的话能用游戏解除钥匙出去吧。”<br>\';
				} elseif ($itm == \'提示纸条B\') {
					$log .= \'你读着纸条上的内容：<br>“我设下的灵装被残忍地清除了啊……”<br>“不过资料没全部清除掉。<br>用那个碎片加上传奇的画笔和天然属性……”<br>“应该能重新组合出那个灵装。”<br>\';
				} elseif ($itm == \'提示纸条C\') {
					$log .= \'你读着纸条上的内容：<br>“小心！那个叫红暮的家伙很强！”<br>“不过她太依赖自己的枪了，有什么东西能阻挡那伤害的话……”<br>\';
				} elseif ($itm == \'提示纸条D\') {
					$log .= \'你读着纸条上的内容：<br>“喂你真的是全部买下来了么……”<br>“这样的提示纸条不止这四种，其他的纸条估计被那两位撒出去了吧。”<br>“总之祝你好运。”<br>\';
				} elseif ($itm == \'提示纸条E\') {
					$log .= \'你读着纸条上的内容：<br>“生存并不能靠他人来喂给你知识，”<br>“有一套和元素有关的符卡的公式是没有出现在帮助里面的，用逻辑推理好好推理出正确的公式吧。”<br>“金木水火土在这里都能找到哦～”<br>\';
				} elseif ($itm == \'提示纸条F\') {
					$log .= \'你读着纸条上的内容：<br>“我不知道另外那个孩子的底细。如果我是你的话，不会随便乱惹她。”<br>“但是她貌似手上拿着符文册之类的东西。”<br>“也许可以利用射程优势？！”<br>“你知道的，法师的射程都不咋样……”<br>\';
				} elseif ($itm == \'提示纸条G\') {
					$log .= \'你读着纸条上的内容：<br>“上天保佑，”<br>“请不要在让我在模拟战中被击坠了！”<br>“空羽 上。”<br>\';
				} elseif ($itm == \'提示纸条H\') {
					$log .= \'你读着纸条上的内容：<br>“在研究施设里面出了大事的SCP竟然又输出了新的样本！”<br>“按照董事长的意见就把这些家伙当作人体试验吧！”<br>署名看不清楚……<br>\';
				} elseif ($itm == \'提示纸条I\') {
					$log .= \'你读着纸条上的内容：<br>“嗯……”<br>“制作神卡所用的各种认证都可以在商店里面买到。”<br>“其实卡片真的有那么强大的力量么？”<br>\';
				} elseif ($itm == \'提示纸条J\') {
					$log .= \'你读着纸条上的内容：<br>“知道么？”<br>“果酱面包果然还是甜的好，哪怕是甜的生姜也能配制出如地雷般爆炸似的美味。”<br>“祝你好运。”<br>\';
				} elseif ($itm == \'提示纸条K\') {
					$log .= \'你读着纸条上的内容：<br>“水符？”<br>“你当然需要水，然后水看起来是什么颜色的？”<br>“找一个颜色类似的东西合成就有了吧。”<br>\';
				} elseif ($itm == \'提示纸条L\') {
					$log .= \'你读着纸条上的内容：<br>“木符？”<br>“你当然需要树叶，然后说到树叶那是什么颜色？”<br>“找一个颜色类似的东西合成就有了吧。”<br>\';
				} elseif ($itm == \'提示纸条M\') {
					$log .= \'你读着纸条上的内容：<br>“火符？”<br>“你当然需要找把火，然后说到火那是什么颜色？”<br>“找一个颜色类似的东西合成就有了吧。”<br>\';
				} elseif ($itm == \'提示纸条N\') {
					$log .= \'你读着纸条上的内容：<br>“土符？”<br>“说到土那就是石头吧，然后说到石头那是什么颜色？”<br>“找一个颜色类似的东西合成就有了吧。”<br>\';
				} elseif ($itm == \'提示纸条P\') {
					$log .= \'你读着纸条上的内容：<br>“金符？这个的确很绕人……”<br>“说到金那就是炼金，然后这是21世纪了，炼制一个金色方块需要什么？”<br>“总之祝你好运。”<br>\';
				} elseif ($itm == \'提示纸条Q\') {
					$log .= \'你读着纸条上的内容：<br>“据说在另外的空间里面；”<br>“一个吸血鬼因为无聊就在她所居住的地方洒满了大雾，”<br>“真任性。”<br>\';
				} elseif ($itm == \'提示纸条R\') {
					$log .= \'你读着纸条上的内容：<br>“知道么，”<br>“东方幻想乡这作游戏里面EXTRA的最终攻击”<br>“被老外们称作『幻月的Rape Time』，当然对象是你。”<br>\';
				} elseif ($itm == \'提示纸条S\') {
					$log .= \'你读着纸条上的内容：<br>“土水符？”<br>“哈哈哈那肯定是需要土和水啦，可能还要额外的素材吧。”<br>“总之祝你好运。”<br>\';
				} elseif ($itm == \'提示纸条T\') {
					$log .= \'你读着纸条上的内容：<br>“我一直对虚拟现实中的某些迹象很在意……”<br>“这种未名的威压感是怎么回事？”<br>“总之祝你好运。”<br>\';
				} elseif ($itm == \'提示纸条U\') {
					$log .= \'你读着纸条上的内容：<br>“纸条啥的……”<br>“希望这张纸条不会成为你的遗书。”<br>“总之祝你好运。”<br>\';
				} else {
					$log .= \'你打开了纸条，发现是一张白纸。<br>\';
				}
				$item_misc_itemuse_ret = NULL;
break; 
			} else if (substr($itm,0,strlen(\'任务指令书\'))==\'任务指令书\') {
				if ($itm == \'任务指令书A\') {
					$log .= \'指令书上这样写着：<br>“很高兴大家能来参与幻境系统的除错工作。”<br>“我们对系统进行了一些调整，就算遭遇袭击和陷阱也不会造成致命伤害，所以请尽管放心。”<br>“任务结束后我们会根据工作量发放相应的奖励。”<br>\';
				} else if ($itm == \'任务指令书B\') {
					ob_clean();
					include template(\'MOD_SKILL475_EXPLANATION\');
					$log .= ob_get_contents();
					ob_clean();
					$item_misc_itemuse_ret = NULL;
break; 
				} else {
					$log .= \'你展开了指令书，发现上面什么都没写。<br>\';
				}
				$item_misc_itemuse_ret = NULL;
break; 
			}elseif ($itm == \'仪水镜\') {
				$log .= \'水面上映出了你自己的脸，你仔细端详着……<br>\';
				if ($rp < 40){
					$log .= \'你的脸看起来十分白皙。<br>\';
				} elseif ($rp < 200){
					$log .= \'你的脸看起来略微有点黑。<br>\';
				} elseif ($rp < 550){
					$log .= \'你的脸上貌似笼罩着一层黑雾。<br>\';
				} elseif ($rp < 1200){
					$log .= \'你的脸已经和黑炭差不多了，赶快去洗洗！<br>\';
				} elseif ($rp < 5499){
					$log .= \'你印堂漆黑，看起来最近要有血光之灾！<br>\';
				} elseif ($rp > 5500){
					$log .= \'水镜中已经黑的如墨一般了。<br>希望你的H173还在……<br>\';
				} else{
					$log .= \'你的脸从水镜中消失了。<br>\';
				}
				$item_misc_itemuse_ret = NULL;
break; 
			} elseif ($itm == \'风祭河水\'){
				$slv_dice = rand ( 1, 20 );
					if ($slv_dice < 8) {
					$log .= "你一口干掉了<span class=\\"yellow\\">$itm</span>，不过好像什么都没有发生！";
					$itm = $itmk = $itmsk = \'\';
					$itme = $itms = 0;
				} elseif ($slv_dice < 16) {
					$rp = $rp - 10*$slv_dice;
					$log .= "你感觉身体稍微轻了一点点。<br>";
					$itm = $itmk = $itmsk = \'\';
					$itme = $itms = 0;
				} elseif ($slv_dice < 20) {
					$rp = 0 ;
					$log .= "你头晕脑胀地躺到了地上，<br>感觉整个人都被救济了。<br>你努力着站了起来。<br>";
					$wp = $wk = $wg = $wc = $wd = $wf = 100;
					$itm = $itmk = $itmsk = \'\';
					$itme = $itms = 0;
				} else {
					$log .= \'你头晕脑胀地躺到了地上，<br>感觉整个人都被救济了。<br>\';
					$log .= \'然后你失去了意识。<br>\';
					$state = 35;
					\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = \'\';
					\\player\\kill($sdata,$sdata);
					\\player\\player_save($sdata);
					\\player\\load_playerdata($sdata);
				}
				$item_misc_itemuse_ret = NULL;
break; 
			} elseif ($itm == \'水果刀\') {
				$flag = false;
				
				for($i = 1; $i <= 6; $i ++) {
					foreach(Array(\'香蕉\',\'苹果\',\'西瓜\') as $fruit){
						
						if ( strpos ( ${\'itm\' . $i} , $fruit ) !== false && strpos ( ${\'itm\' . $i} , \'皮\' ) === false && (strpos ( ${\'itmk\' . $i} , \'H\' ) === 0 || strpos ( ${\'itmk\' . $i} , \'P\' ) === 0 )) {
							if($wk >= 120){
								$log .= "练过刀就是好啊。你娴熟地削着果皮。<br><span class=\\"yellow\\">${\'itm\'.$i}</span>变成了<span class=\\"yellow\\">★残骸★</span>！<br>咦为什么会出来这种东西？算了还是不要吐槽了。<br>";
								${\'itm\' . $i} = \'★残骸★\';
								${\'itme\' . $i} *= rand(2,4);
								${\'itms\' . $i} *= rand(3,5);
								$flag = true;
								$wk++;
							}else{
								$log .= "想削皮吃<span class=\\"yellow\\">${\'itm\'.$i}</span>，没想到削完发现只剩下一堆果皮……<br>手太笨拙了啊。<br>";
								${\'itm\' . $i} = str_replace($fruit, $fruit.\'皮\',${\'itm\' . $i} );
								${\'itmk\' . $i} = \'TN\';
								${\'itms\' . $i} *= rand(2,4);
								$flag = true;
								$wk++;
							}
							break;
						}
					}
					if($flag == true) {break;};
				}
				if (! $flag) {
					$log .= \'包裹里没有水果。<br>\';
				} else {
					$dice = rand(1,5);
					if($dice==1){
						$log .= "<span class=\\"red\\">$itm</span>变钝了，无法再使用了。<br>";
						$itm = $itmk = $itmsk = \'\';
						$itme = $itms = 0;
					}
				}
				$item_misc_itemuse_ret = NULL;
break; 
			} elseif(strpos($itm,\'RP回复设备\')!==false){
				$rp = 0;
				$log .= "你使用了<span class=\\"yellow\\">$itm</span>。你的RP归零了。<br>";
				$item_misc_itemuse_ret = NULL;
break; 
			}
		}$autopower_itemuse_ret = NULL;

		//========Contents from mod autopower========
		do{
			
		
		
		eval(import_module(\'autopower\',\'sys\',\'player\',\'itemmain\',\'cooldown\',\'logger\',\'input\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos($itmk,\'Z\')===0 && ($itm==\'全自动订书机\' || $itm==\'全自动磨刀砂轮\'))
		{
			if (!$coldtimeon)
			{
				$log.=\'服务器没有开启冷却时间，本功能不可用。<br>\';
				$autopower_itemuse_ret = NULL;
break; 
			}
			if ($itme==0)
			{
				$lis = Array();
				for ($i=1; $i<=6; $i++)
				{
					if (strpos(${\'itmk\'.$i},\'Y\')===0 || strpos(${\'itmk\'.$i},\'Z\')===0)
					{
						if ($itm==\'全自动订书机\' && (preg_match("/钉$/",${\'itm\'.$i}) || preg_match("/钉\\[/",${\'itm\'.$i})))
							array_push($lis,$i);
					
						if ($itm==\'全自动磨刀砂轮\' && strpos(${\'itm\'.$i},\'磨刀石\')!==false)
							array_push($lis,$i);
					}
				}
				
				if (count($lis)==0)
				{
					if ($itm==\'全自动订书机\')
						$log.=\'你的背包中没有钉子。<br>\';
					else  $log.=\'你的背包中没有磨刀石。<br>\';
					$autopower_itemuse_ret = NULL;
break; 
				}
				
				if (count($lis)>1)
				{
					if (!isset($itemselect))
					{
						$cmd.=\'<input type="hidden" id="mode" name="mode" value="command">\';
						$cmd.=\'<input type="hidden" id="command" name="command" value="itm\'.$theitem[\'itmn\'].\'">\';
						$cmd.=\'<input type="hidden" id="itemselect" name="itemselect" value="999">\';
						$cmd.= "请选择你想装填进{$itm}的道具：<br><br>";
						foreach ($lis as $i)
						{
							$cmd.="<input type=\\"button\\" class=\\"cmdbutton\\"  style=\\"width:200\\" value=\\"".${\'itm\'.$i}.\'/\'.${\'itme\'.$i}.\'/\'.${\'itms\'.$i}."\\" onclick=\\"$(\'itemselect\').value=\'".$i."\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;\\">";
						}
						$cmd.="<input type=\\"button\\" class=\\"cmdbutton\\"  style=\\"width:200\\" value=\\"返回\\" onclick=\\"postCmd(\'gamecmd\',\'command.php\');this.disabled=true;\\">";
						$autopower_itemuse_ret = NULL;
break; 
					}
					else
					{
						$i=(int)$itemselect;
						if (!in_array($i,$lis))
						{
							$mode=\'command\'; $autopower_itemuse_ret = NULL;
break;  
						}
						$choice = $i;
					}
				}
				else  $choice = $lis[0];
				
				$num = min($max_autopower_num, ${\'itms\'.$choice});
				
				$itme = ${\'itme\'.$choice}; $itms = $num;
				
				$log.="你将{$num}个<span class=\\"yellow\\">".${\'itm\'.$choice}."</span>装填进了{$itm}。<br>";
				${\'itms\'.$choice} -= $num;
				if (${\'itms\'.$choice}<=0)
				{
					$log .= "<span class=\\"red\\">".${\'itm\'.$choice}."</span>用光了。<br>";
					${\'itm\'.$choice} = ${\'itmk\'.$choice} = ${\'itmsk\'.$choice} = \'\';
					${\'itme\'.$choice} = ${\'itms\'.$choice} = 0;
				}
			}
			else
			{
				$log.="<span class=\\"yellow\\">你启动了机器，饶有兴致地看着机器工作着……</span><br>";
				$success_count = 0;
				for ($i=1; $i<=$itms; $i++)
				{
					$log.=\'<span id="autopower\'.$i.\'" style="display:none">\';
					if ($itm==\'全自动订书机\') $funcname = \'\\empowers\\use_nail\'; else $funcname = \'\\empowers\\use_stone\';
					$flag = $funcname($itm,$itme);
					if (!$flag || $i==$itms) 
					{
						$log.=\'<span class="yellow">\'.$itm.\'停止了工作。<br></span></span>\';
						if (!$flag) break;
					}
					else  $log.=\'</span>\';
					$success_count++;
				}
				$log.=\'<span id="autopower_curnum" style="display:none">1</span>\';
				$log.=\'<span id="autopower_totnum" style="display:none">\'.$success_count.\'</span>\';
				$log.=\'<span id="autopower_cd" style="display:none">\'.round($itemusecoldtime*$autopower_penalty).\'</span>\';
				$cmdcdtime = round($itemusecoldtime*$autopower_penalty)*$success_count;
				if ($success_count==$itms)
				{
					$itme=0; $itms=1;
				}
				else
				{
					$itms-=$success_count;
				}
			}
			$autopower_itemuse_ret = NULL;
break; 
		}$trap_itemuse_ret = NULL;

		//========Contents from mod trap========
		do{
			
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'T\' ) === 0) 
		{
			\\trap\\trap_use ($theitem);
			$trap_itemuse_ret = NULL;
break; 
		}$song_itemuse_ret = NULL;

		//========Contents from mod song========
		do{
			
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		
		if (strpos ( $itmk, \'HM\' ) === 0) {
			$mss+=$itme;
			if($ss+$itme <= $mss) $ss+=$itme;
			elseif($ss <= $mss) $ss = $mss;
			
			$log .= "你使用了<span class=\\"red\\">$itm</span>，增加了<span class=\\"yellow\\">$itme</span>点歌魂。<br>";
			\\itemmain\\itms_reduce($theitem);
			$song_itemuse_ret = NULL;
break; 
		}elseif (strpos ( $itmk, \'HT\' ) === 0) {
			$ssup=$itme;
			if ($ss < $mss) {
				$oldss = $ss;
				$ss += $ssup;
				$ss = $ss > $mss ? $mss : $ss;
				$oldss = $ss - $oldss;
				$log .= "你使用了<span class=\\"red\\">$itm</span>，恢复了<span class=\\"yellow\\">$oldss</span>点歌魂。<br>";
				\\itemmain\\itms_reduce($theitem);
			} else {
				$log .= \'你的歌魂不需要恢复。<br>\';
			}
			$song_itemuse_ret = NULL;
break; 
		} 
		
		if (strpos ( $itmk, \'ss\' ) === 0)
		{
			$eqp = \'art\';
			$noeqp = \'\';
			
			if (($noeqp && strpos ( ${$eqp.\'k\'}, $noeqp ) === 0) || ! ${$eqp.\'s\'}) {
				${$eqp} = $itm;
				${$eqp.\'k\'} = $itmk;
				${$eqp.\'e\'} = $itme;
				${$eqp.\'s\'} = $itms;
				${$eqp.\'sk\'} = $itmsk;
				$log .= "装备了<span class=\\"yellow\\">$itm</span>。<br>";
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
			} else {
				swap(${$eqp},$itm);
				swap(${$eqp.\'k\'},$itmk);
				swap(${$eqp.\'e\'},$itme);
				swap(${$eqp.\'s\'},$itms);
				swap(${$eqp.\'sk\'},$itmsk);
				$log .= "卸下了<span class=\\"red\\">$itm</span>，装备了<span class=\\"yellow\\">${$eqp}</span>。<br>";
			}
			$song_itemuse_ret = NULL;
break; 
		}$item_uee_itemuse_ret = NULL;

		//========Contents from mod item_uee========
		do{
			
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'EE\' ) === 0) {
			\\item_uee\\itemuse_uee ($theitem[\'itmn\']);
			$item_uee_itemuse_ret = NULL;
break; 
		}$item_ub_itemuse_ret = NULL;

		//========Contents from mod item_ub========
		do{
			
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'B\' ) === 0) {
			\\item_ub\\itemuse_ub ($theitem);
			$item_ub_itemuse_ret = NULL;
break; 
		}$scpdrink_itemuse_ret = NULL;

		//========Contents from mod scpdrink========
		do{
			
		
		
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) {
			if ($itm == \'装有H173的注射器\') {
				$log .= \'你考虑了一会，<br>把袖子卷了起来，给自己注射了H173。<br>\';
				$deathdice = rand ( 0, 8191 );
				if ($deathdice == 8191 || $club == 15) {
					$log .= \'你突然感觉到一种不可思议的力量贯通全身！<br>\';
					$wp = $wk = $wg = $wc = $wd = $wf = 3000;
					$att = $def = 5000;
					$club = 15;
					addnews ( $now, \'suisidefail\', $name );
					$itm = $itmk = $itmsk = \'\';
					$itme = $itms = 0;
				} else {
					$state = 31;
					$log .= \'你失去了知觉。<br>\';
					\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = $itm;
					\\player\\kill($sdata,$sdata);
					\\player\\player_save($sdata);
					\\player\\load_playerdata($sdata);
				}
				$scpdrink_itemuse_ret = NULL;
break; 
			} elseif (strpos($itm, \'溶剂SCP-294\')===0) {
			
				if (defined(\'MOD_CLUBBASE\')) \\clubbase\\club_lost();
				$club = 17;
				if (defined(\'MOD_CLUBBASE\')) \\clubbase\\club_acquire($club);
				
				if($itm == \'溶剂SCP-294_PT_Poini_Kune\'){
					$log .= \'你考虑了一会，一扬手喝下了杯中中冒着紫色幽光的液体。<br><span class="yellow">你感到全身就像燃烧起来一样，不禁扪心自问这值得么？</span><br>\';
					if ($mhp > 573){
						$up = rand (0, $mhp + $msp);
					} else{
						$up = rand (0, 573);
					}

					if($club == 17){
						$hpdown = $spdown = round($up * 1.5);
					}elseif($club == 13){
						$hpdown = $up+200;
						$spdown = $up;
					}else{
						$hpdown = $spdown = $up;
					}
					$wp += $up;$wk += $up;$wg += $up;$wc += $up;$wd += $up;$wf += $up;
					$rp += 500;
					
					$mhp = $mhp - $hpdown;
					$msp = $msp - $spdown;				
					$log .= \'你的生命上限减少了<span class="yellow">\'.$hpdown.\'</span>点，体力上限减少了<span class="yellow">\'.$spdown.\'</span>点，而你的全系熟练度提升了<span class="yellow">\'.$up.\'</span>点！<br>\';
				} elseif ($itm == \'溶剂SCP-294_PT_Arnval\'){
					$log .= \'你考虑了一会，一扬手喝下了杯中中冒着白色气泡的清澈液体。<br><span class="yellow">你感到全身就像燃烧起来一样，不禁扪心自问这值得么？</span><br>\';
					if ($msp > 573){
						$up = rand (0, $msp * 1.5);
					} else{
						$up = rand (0, 573);
					}
					$mhp = $mhp + $up;
					$def = $def + $up;
					$down = $club == 17 ? round($up * 1.5) : $up;
					$rp += 200;
					$msp = $msp - $down;
					$att = $att - $down;
					
					$log .= \'你的体力上限和攻击力减少了<span class="yellow">\'.$down.\'</span>点，而你的生命上限和防御力提升了<span class="yellow">\'.$up.\'</span>点！<br>\';
				} elseif ($itm == \'溶剂SCP-294_PT_Strarf\') {
					$log .= \'你考虑了一会，一扬手喝下了杯中中冒着灰色气泡的清澈液体。<br><span class="yellow">你感到全身就像燃烧起来一样，不禁扪心自问这值得么？</span><br>\';
					if ($mhp > 573){
						$up = rand (0, $msp * 1.5);
					} else{
						$up = rand (0, 573);
					}
					$msp = $msp + $up;
					$att = $att + $up;
					$down = $club == 17 ? round($up * 1.5) : $up;
					$rp += 200;
					$mhp = $mhp - $down;
					$def = $def - $down;
					$log .= \'你的生命上限和防御力减少了<span class="yellow">\'.$down.\'</span>点，而你的体力上限和攻击力提升了<span class="yellow">\'.$up.\'</span>点！<br>\';
				} elseif ($itm == \'溶剂SCP-294_PT_ErulTron\') {
					$log .= \'你考虑了一会，<br>一扬手喝下了杯中中冒着粉红光辉的液体。<br>你感到你整个人貌似变得更普通了点。<br>\';
					$lvl = $exp = 0;
					$att = round($att * 0.8);
					$def = round($def * 0.8);
					$log .= \'<span class="yellow">你的等级和经验值都归0了！但是，你的攻击力和防御力也变得更加普通了。</span><br>\';
				}
				if($att < 0){$att = 0;}
				if($def < 0){$def = 0;}
				if($hp > $mhp){$hp = $mhp;}
				if($sp > $msp){$sp = $msp;}
				$deathflag = false;
				if($mhp <= 0){$hp = $mhp =0;$deathflag = true;}
				if($msp <= 0){$sp = $msp =0;$deathflag = true;}
				if($deathflag){
					$log .= \'<span class="yellow">看起来你的身体无法承受药剂的能量……<br>果然这一点都不值得……<br></span>\';
					$state = 34;
					\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = $itm;
					\\player\\kill($sdata,$sdata);
					\\player\\player_save($sdata);
					\\player\\load_playerdata($sdata);
				} else {
					addnews ( $now, \'notworthit\', $name );
				}
				\\itemmain\\itms_reduce($theitem);
				$scpdrink_itemuse_ret = NULL;
break; 
			}
		}$boxes_itemuse_ret = NULL;

		//========Contents from mod boxes========
		do{
			
		
		
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if(strpos ( $itmk, \'p\' ) === 0)
		{
			$log.="你打开了<span class=\\"yellow\\">$itm</span>。<br>";
			$file = \'E:\\www\\dts1\\dts\\./gamedata/run/base/items/boxes\'.\'/config/present.config.php\';
			$plist = openfile($file);
			while (1)
			{
				$rand = rand(0,count($plist)-1);
				list($in,$ik,$ie,$is,$isk) = explode(\',\',$plist[$rand]);
				$itm0 = $in;$itmk0=$ik;$itme0=$ie;$itms0=$is;$itmsk0=$isk;
				
				if (!in_array($gametype,$room_mode) || substr($ik,0,2)!=\'VO\') break;
			}
			addnews($now,\'present\',$name,$itm,$in);
			\\itemmain\\itms_reduce($theitem);
			\\itemmain\\itemget();		
			$boxes_itemuse_ret = NULL;
break; 
		} elseif(strpos ( $itmk, \'ygo\' ) === 0){
			$log.="你打开了<span class=\\"yellow\\">$itm</span>。<br>";
			$file = \'E:\\www\\dts1\\dts\\./gamedata/run/base/items/boxes\'.\'/config/ygobox.config.php\';
			$plist1 = openfile($file);
			$rand1 = rand(0,count($plist1)-1);
			list($in,$ik,$ie,$is,$isk) = explode(\',\',$plist1[$rand1]);
			$itm0 = $in;$itmk0=$ik;$itme0=$ie;$itms0=$is;$itmsk0=$isk;
			addnews($now,\'present\',$name,$itm,$in);
			\\itemmain\\itms_reduce($theitem);
			\\itemmain\\itemget();	
			$boxes_itemuse_ret = NULL;
break; 
		} elseif(strpos ( $itmk, \'fy\' ) === 0){
			$log.="你打开了<span class=\\"yellow\\">$itm</span>。<br>";
			$file = \'E:\\www\\dts1\\dts\\./gamedata/run/base/items/boxes\'.\'/config/fybox.config.php\';
			$plist1 = openfile($file);
			$rand1 = rand(0,count($plist1)-1);
			list($in,$ik,$ie,$is,$isk) = explode(\',\',$plist1[$rand1]);
			$itm0 = $in;$itmk0=$ik;$itme0=$ie;$itms0=$is;$itmsk0=$isk;
			addnews($now,\'present\',$name,$itm,$in);
			\\itemmain\\itms_reduce($theitem);
			\\itemmain\\itemget();	
			$boxes_itemuse_ret = NULL;
break; 
		} elseif(strpos ( $itmk, \'kj3\' ) === 0){
			$log.="你打开了<span class=\\"yellow\\">$itm</span>。<br>";
			$file = \'E:\\www\\dts1\\dts\\./gamedata/run/base/items/boxes\'.\'/config/kj3box.config.php\';
			$plist1 = openfile($file);
			$rand1 = rand(0,count($plist1)-1);
			list($in,$ik,$ie,$is,$isk) = explode(\',\',$plist1[$rand1]);
			$itm0 = $in;$itmk0=$ik;$itme0=$ie;$itms0=$is;$itmsk0=$isk;
			addnews($now,\'present\',$name,$itm,$in);
			\\itemmain\\itms_reduce($theitem);
			\\itemmain\\itemget();	
			$boxes_itemuse_ret = NULL;
break; 
		}$armor_art_itemuse_ret = NULL;

		//========Contents from mod armor_art========
		do{
			
		
		
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'A\' ) === 0)
		{
			$eqp = \'art\';
			$noeqp = \'\';
			
			if (($noeqp && strpos ( ${$eqp.\'k\'}, $noeqp ) === 0) || ! ${$eqp.\'s\'}) {
				${$eqp} = $itm;
				${$eqp.\'k\'} = $itmk;
				${$eqp.\'e\'} = $itme;
				${$eqp.\'s\'} = $itms;
				${$eqp.\'sk\'} = $itmsk;
				$log .= "装备了<span class=\\"yellow\\">$itm</span>。<br>";
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
			} else {
				swap(${$eqp},$itm);
				swap(${$eqp.\'k\'},$itmk);
				swap(${$eqp.\'e\'},$itme);
				swap(${$eqp.\'s\'},$itms);
				swap(${$eqp.\'sk\'},$itmsk);
				$log .= "卸下了<span class=\\"red\\">$itm</span>，装备了<span class=\\"yellow\\">${$eqp}</span>。<br>";
			}
			$armor_art_itemuse_ret = NULL;
break; 
		}$radar_itemuse_ret = NULL;

		//========Contents from mod radar========
		do{
			
		
		
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'ER\' ) === 0) {
			if ($itme > 0) {
				$log .= "使用了<span class=\\"red\\">$itm</span>。<br>";
				\\radar\\newradar ( $itmsk );
				$itme--;
				$log .= "消耗了<span class=\\"yellow\\">$itm</span>的电力。<br>";
				if ($itme <= 0) {
					$log .= $itm . \'的电力用光了，请使用电池充电。<br>\';
				}
			} else {
				$itme = 0;
				$log .= $itm . \'没有电了，请先充电。<br>\';
			}
			$radar_itemuse_ret = NULL;
break; 
		}$edible_itemuse_ret = NULL;

		//========Contents from mod edible========
		do{
			
		
		
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'HS\' ) === 0 || strpos ( $itmk, \'HH\' ) === 0 || strpos ( $itmk, \'HB\' ) === 0)
		{
			\\edible\\itemuse_edible ($theitem);
			$edible_itemuse_ret = NULL;
break; 
		}$itemmain_itemuse_ret = NULL;

		//========Contents from mod itemmain========
		do{
			
		
		
		
		
		$log .= "你使用了道具 <span class=\\"yellow\\">{$theitem[\'itm\']}</span> 。<br>但是什么也没有发生。<br>";
		}while(0);
		$itemmain_itemuse_ret;
		}while(0);
		$edible_itemuse_ret;
		}while(0);
		$radar_itemuse_ret;
		}while(0);
		$armor_art_itemuse_ret;
		}while(0);
		
		$boxes_itemuse_ret;
		}while(0);
		$scpdrink_itemuse_ret;
		}while(0);
		$item_ub_itemuse_ret;
		}while(0);
		
		$item_uee_itemuse_ret;
		}while(0);
		$song_itemuse_ret;
		}while(0);
		$trap_itemuse_ret;
		}while(0);
		$autopower_itemuse_ret;
		}while(0);
		$item_misc_itemuse_ret;
		}while(0);
		$skill301_itemuse_ret;
		}while(0);
		$skill307_itemuse_ret;
		}while(0);
		$skill318_itemuse_ret;
		}while(0);
		$skill322_itemuse_ret;
		}while(0);
		$skill323_itemuse_ret;
		}while(0);
		$weapon_itemuse_ret;
		}while(0);
		$item_um_itemuse_ret;
		}while(0);
		
		$item_uv_itemuse_ret;
		}while(0);
		$poison_itemuse_ret;
		}while(0);
		$armor_itemuse_ret;
		}while(0);
		$item_uc_itemuse_ret;
	'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\act ====> '
		return \\smartmix\\act();'

Array\get_ex_def_array ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill28\\get_ex_def_array\') 
		{
			return \\skill34\\get_ex_def_array($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'player\'));
		$ret = Array();
		foreach ($battle_equip_list as $itm)
			foreach (\\itemmain\\get_itmsk_array($pd[$itm.\'sk\']) as $key)
				array_push($ret,$key);
				
		return $ret;
	'

Array\get_ex_attack_array ====> '
		return \\skill26\\get_ex_attack_array($pa,$pd,$active);'

Array\attr_dmg_check_not_wpg ====> '
		return \\skill422\\attr_dmg_check_not_wpg($pa,$pd,$active);'

Array\get_def ====> '
		
		eval(import_module(\'weapon\'));
		$var_407=0;
		if (($pd[\'hp\']>($pd[\'mhp\']/2))&&(\\skillbase\\skill_query(407,$pd))&&(\\skill407\\check_unlocked407 ($pd))) $var_407=\\skill407\\get_att ($pd,$pa,1-$active);
		if ($var_407>100000) $var_407=100000;$armor_get_def_ret = NULL;

		//========Contents from mod armor========
		do{
			
		
		$pd[\'external_def\'] = \\armor\\get_external_def ($pa,$pd,$active)*\\armor\\get_external_def_multiplier ($pa,$pd,$active);$weapon_get_def_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		$pd[\'internal_def\'] = \\weapon\\get_internal_def ($pa,$pd,$active);
		$weapon_get_def_ret =  $pd[\'internal_def\'];
break; 
		}while(0);
		$armor_get_def_ret =  $weapon_get_def_ret+$pd[\'external_def\'];
break; 
		}while(0);
		return $armor_get_def_ret+($var_407/2);
	'

Array\get_att ====> '
		
		eval(import_module(\'armor\'));
		$var_407=0;
		if (($pa[\'hp\']<($pa[\'mhp\']/2))&&(\\skillbase\\skill_query(407,$pa))&&(\\skill407\\check_unlocked407 ($pa))) $var_407=\\skill407\\get_def ($pd,$pa,$active);$weapon_get_att_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		$weapon_get_att_ret =  \\weapon\\get_internal_att ($pa,$pd,$active)+\\weapon\\get_external_att ($pa,$pd,$active);
break; 
		}while(0);
		return $weapon_get_att_ret+($var_407/2);
	'

Array\use_nail ====> '
		return \\wepchange\\use_nail($itm,$itme);'

Array\use_stone ====> '
		return \\blessstone\\use_stone($itm,$itme);'

Array\use_anya ====> '
		return \\wepchange\\use_anya($itm);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_external_def ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill33\\get_external_def\') 
		{
			return \\skill33\\get_external_def($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		$armor_get_external_def_ret = NULL;

		//========Contents from mod armor========
		do{
			
		
		eval(import_module(\'armor\'));
		$sum = 0;
		foreach($armor_equip_list as $key) $sum+=$pd[$key.\'e\'];
		$armor_get_external_def_ret =  $sum;
break; 
		}while(0);
		
		return $armor_get_external_def_ret + \\skill32\\get_skill32_extra_def_gain ($pa, $pd, $active);
	'

Array\calculate_inf_rate ====> '
		return \\skill478\\calculate_inf_rate($pa,$pd,$active);'

Array\calculate_weapon_wound_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill205\\calculate_weapon_wound_multiplier\') 
		{
			return \\skill205\\calculate_weapon_wound_multiplier($pa,$pd,$active,$hurtposition);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(202,$pa) || !\\skill202\\check_unlocked202 ($pa)) return \\wound\\calculate_weapon_wound_multiplier($pa, $pd, $active, $hurtposition);
		return \\wound\\calculate_weapon_wound_multiplier($pa, $pd, $active, $hurtposition)*(1+\\skill202\\get_skill202_extra_wounds ($pa, $pd, $active));
	'

Array\apply_weapon_wound_real ====> '$wound_apply_weapon_wound_real_ret = NULL;

		//========Contents from mod wound========
		do{
			
		
		eval(import_module(\'wound\',\'logger\'));
		if ($active)
			$log .= "{$pd[\'name\']}的<span class=\\"red\\">".$infinfo[$hurtposition]."</span>部受伤了！<br>";
		else  $log .= "你的<span class=\\"red\\">".$infinfo[$hurtposition]."</span>部受伤了！<br>";
		if (\\wound\\get_inf ($hurtposition, $pd))
		{
			addnews($now,\'inf\',$pa[\'name\'],$pd[\'name\'],$hurtposition);
		}
		}while(0);
		
		$wound_apply_weapon_wound_real_ret;
		
		if ((\\skillbase\\skill_query(202,$pa))&&(\\skill202\\check_unlocked202 ($pa))&&($pa[\'wep_kind\']=="G" || $pa[\'wep_kind\']==\'J\'))
		{
			$pa[\'skill202_count\']++;
		}
	'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill30\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		$skill38_strike_prepare_ret = NULL;

		//========Contents from mod skill38========
		do{
			
		
		if ($pa[\'bskill\']!=38){ $skill38_strike_prepare_ret =  \\skill36\\strike_prepare($pa, $pd, $active);
break; }
		if (!\\skillbase\\skill_query(38,$pa) || !\\skill38\\check_unlocked38 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill38\\get_rage_cost38 ($pa);
			if ($pa[\'rage\']>=$rcost && $pa[\'wepk\']==\'WP\')
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「闷棍」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「闷棍」！</span><br>";
				if (!$pd[\'type\'])
					$pa[\'skill38_dmg_extra\']=max($pd[\'msp\']-$pd[\'sp\'],0);
				else  $pa[\'skill38_dmg_extra\']=0;
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill38\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill36\\strike_prepare($pa, $pd, $active);
		}while(0);
		
		
		$skill38_strike_prepare_ret;

		if ((\\skillbase\\skill_query(202,$pa))&&(\\skill202\\check_unlocked202 ($pa))&&($pa[\'wep_kind\']=="G" || $pa[\'wep_kind\']==\'J\'))
		{
			$pa[\'skill202_count\']=0;
		}
	'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\get_internal_def ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill42\\get_internal_def\') 
		{
			return \\skill42\\get_internal_def($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ((\\skillbase\\skill_query(445,$pd))&&(\\skill445\\check_unlocked445 ($pd))) return \\skill263\\get_internal_def($pa,$pd,$active)*1.7;
		return \\skill263\\get_internal_def($pa,$pd,$active);
	'

Array\get_internal_att ====> '
		
		if ((\\skillbase\\skill_query(445,$pa))&&(\\skill445\\check_unlocked445 ($pa))) return 1;$wep_j_get_internal_att_ret = NULL;

		//========Contents from mod wep_j========
		do{
			
		
		if ($pa[\'wep_kind\']==\'J\')
		{
			$val = \\wep_g\\get_internal_att($pa,$pd,$active);
			if ($val > 340) $val = 340 + ($val - 340) / 3;	
			$wep_j_get_internal_att_ret =  $val;
break; 
		}
		else{  $wep_j_get_internal_att_ret =  \\wep_g\\get_internal_att($pa,$pd,$active);
break; }
		}while(0);
		return $wep_j_get_internal_att_ret;
	'

Array\calculate_real_trap_obbs ====> '
		
		eval(import_module(\'sys\',\'player\'));
		$r = 0;
		if($pose==1)
			$r = 1;
		else if($pose==3)	
			$r = 3;$mapattr_calculate_real_trap_obbs_ret = NULL;

		//========Contents from mod mapattr========
		do{
			
		
		
		if($pls == 0){	
			$mapattr_calculate_real_trap_obbs_ret =  \\skill255\\calculate_real_trap_obbs()+15;
break; }
		else{  $mapattr_calculate_real_trap_obbs_ret =  \\skill255\\calculate_real_trap_obbs();
break; }
		}while(0);
		return $r+$mapattr_calculate_real_trap_obbs_ret;
	'

Array\init_battle ====> '
		return \\skill252\\init_battle($ismeet);'

Array\calculate_meetman_rate ====> '
		
		eval(import_module(\'sys\',\'player\'));
		
		$a = 0;
		if ($schmode == \'search\') 
		{
			if($pose==3) {
				$a = -25;
				
			}
			elseif($pose==4) {
				$a = 10;
				
			}
		}
		if ($schmode == \'move\') 
		{
			if($pose==3) {
				$a = -25;
				
			}elseif($pose==4) {
				$a = 10;
				
			}
		}$mapattr_calculate_meetman_rate_ret = NULL;

		//========Contents from mod mapattr========
		do{
			
		
		eval(import_module(\'mapattr\',\'logger\'));
		
		if (!isset($pls_meetman_obbs[$pls])) $r=0; else $r=$pls_meetman_obbs[$pls];$tactic_calculate_meetman_rate_ret = NULL;

		//========Contents from mod tactic========
		do{
			
		
		
		
		$a = 0;
		if ($tactic == 4) {
			$a = -10;
			
		}$skill214_calculate_meetman_rate_ret = NULL;

		//========Contents from mod skill214========
		do{
			
		
		if (!\\skillbase\\skill_query(214) || !\\skill214\\check_unlocked214 ()){ $skill214_calculate_meetman_rate_ret =  \\gameflow_combo\\calculate_meetman_rate($schmode);
break; }
		$choice = \\skillbase\\skill_getvalue(214,\'choice\');
		if ($choice==1){ $skill214_calculate_meetman_rate_ret =  1.15*\\gameflow_combo\\calculate_meetman_rate($schmode);
break; }
		$skill214_calculate_meetman_rate_ret =  \\gameflow_combo\\calculate_meetman_rate($schmode);
break; 
		}while(0);
		$tactic_calculate_meetman_rate_ret =  $skill214_calculate_meetman_rate_ret + $a;
break; 
		}while(0);
		
		$mapattr_calculate_meetman_rate_ret =  $tactic_calculate_meetman_rate_ret+$r;
break; 
		}while(0);
		return $mapattr_calculate_meetman_rate_ret + $a;
	'

Array\check_can_counter ====> '
		
		if ($pa[\'pose\'] == 5) return 0;$skill36_check_can_counter_ret = NULL;

		//========Contents from mod skill36========
		do{
			
		
		
		if ($pd[\'bskill\']!=36){$tactic_check_can_counter_ret = NULL;

		//========Contents from mod tactic========
		do{
			
		
		if ($pa[\'tactic\'] == 4){ $tactic_check_can_counter_ret =  0;
break; }$skill602_check_can_counter_ret = NULL;

		//========Contents from mod skill602========
		do{
			
		
		
		if (\\skill602\\check_skill602_state ($pa)){ $skill602_check_can_counter_ret =  0;
break; }$weapon_check_can_counter_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		if (\\weapon\\check_counterable_by_weapon_range ($pa, $pd, $active))
		{$battle_check_can_counter_ret = NULL;

		//========Contents from mod battle========
		do{
			
		
		$battle_check_can_counter_ret =  1;
break; 
		}while(0);
			if (!$battle_check_can_counter_ret){ $weapon_check_can_counter_ret =  0;
break; }
			$weapon_check_can_counter_ret =  \\weapon\\check_counter_dice ($pa, $pd, $active);
break; 
		}
		else{  $weapon_check_can_counter_ret =  0;
break; }
		}while(0); 
		$skill602_check_can_counter_ret =  $weapon_check_can_counter_ret;
break; 
		}while(0);	
		$tactic_check_can_counter_ret =  $skill602_check_can_counter_ret;
break; 
		}while(0); $skill36_check_can_counter_ret =  $tactic_check_can_counter_ret;
break; }
		$skill36_check_can_counter_ret =  0;
break; 
		}while(0);	
		return $skill36_check_can_counter_ret;
	'

Array\calculate_itemfind_obbs ====> '
		return \\weather\\calculate_itemfind_obbs();'

Array\calculate_hide_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill248\\calculate_hide_obbs\') 
		{
			return \\skill248\\calculate_hide_obbs($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'player\',\'pose\'));$skill405_calculate_hide_obbs_ret = NULL;

		//========Contents from mod skill405========
		do{
			
		
		if (!\\skillbase\\skill_query(405,$edata) || !\\skill405\\check_unlocked405 ($edata)){ $skill405_calculate_hide_obbs_ret =  \\tactic\\calculate_hide_obbs($edata);
break; }
		$skill405_calculate_hide_obbs_ret =  \\tactic\\calculate_hide_obbs($edata)+15;
break; 
		}while(0);
		return $skill405_calculate_hide_obbs_ret+$pose_hide_obbs[$edata[\'pose\']];
	'

Array\calculate_findman_obbs ====> '
		return \\weather\\calculate_findman_obbs($edata);'

Array\calculate_active_obbs ====> '
		return \\weather\\calculate_active_obbs($ldata,$edata);'

Array\get_att_multiplier ====> '
		return \\weather\\get_att_multiplier($pa,$pd,$active);'

Array\get_def_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'weather\\get_def_multiplier\') 
		{
			return \\weather\\get_def_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'pose\'));$skill9_get_def_multiplier_ret = NULL;

		//========Contents from mod skill9========
		do{
			
		
		if (\\skillbase\\skill_query(9,$pd)){		
			$skill9_get_def_multiplier_ret =  \\skill7\\get_def_multiplier($pa,$pd,$active)*0.7;
break; }
		else{  $skill9_get_def_multiplier_ret =  \\skill7\\get_def_multiplier($pa,$pd,$active);
break; }
		}while(0);
		
		return $skill9_get_def_multiplier_ret*(1+$pose_defend_modifier[$pd[\'pose\']]/100);
	'

Array\calculate_rest_upsp ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill1\\calculate_rest_upsp\') 
		{
			return \\skill1\\calculate_rest_upsp($rtime);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'player\'));
		if ($pose == 5) 	
			return \\rest\\calculate_rest_upsp($rtime)*2; 
		else  return \\rest\\calculate_rest_upsp($rtime);
	'

Array\calculate_rest_uphp ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill1\\calculate_rest_uphp\') 
		{
			return \\skill1\\calculate_rest_uphp($rtime);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'player\'));
		if ($pose == 5) 	
			return \\rest\\calculate_rest_uphp($rtime)*2; 
		else  return \\rest\\calculate_rest_uphp($rtime);
	'

Array\get_wound_recover_time ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill1\\get_wound_recover_time\') 
		{
			return \\skill1\\get_wound_recover_time();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'player\'));
		if ($pose == 5) 	
			return \\rest\\get_wound_recover_time() - 30; 
		else  return \\rest\\get_wound_recover_time();
	'

Array\act ====> '
		return \\smartmix\\act();'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\skill_onsave_event ====> '
		
		if (\\skillbase\\skill_query(1,$pa)) \\skillbase\\skill_lost(1,$pa);$skill9_skill_onsave_event_ret = NULL;

		//========Contents from mod skill9========
		do{
			
		
		if (\\skillbase\\skill_query(9,$pa)) \\skillbase\\skill_lost(9,$pa);$skill8_skill_onsave_event_ret = NULL;

		//========Contents from mod skill8========
		do{
			
		
		if (\\skillbase\\skill_query(8,$pa)) \\skillbase\\skill_lost(8,$pa);$skill7_skill_onsave_event_ret = NULL;

		//========Contents from mod skill7========
		do{
			
		
		if (\\skillbase\\skill_query(7,$pa)) \\skillbase\\skill_lost(7,$pa);$skill6_skill_onsave_event_ret = NULL;

		//========Contents from mod skill6========
		do{
			
		
		if (\\skillbase\\skill_query(6,$pa)) \\skillbase\\skill_lost(6,$pa);$skill5_skill_onsave_event_ret = NULL;

		//========Contents from mod skill5========
		do{
			
		
		eval(import_module(\'skillbase\'));
		if (\\skillbase\\skill_query(5,$pa)) \\skillbase\\skill_lost(5,$pa);$skill3_skill_onsave_event_ret = NULL;

		//========Contents from mod skill3========
		do{
			
		
		if (\\skillbase\\skill_query(3,$pa)) \\skillbase\\skill_lost(3,$pa);$skill2_skill_onsave_event_ret = NULL;

		//========Contents from mod skill2========
		do{
			
		
		if (\\skillbase\\skill_query(2,$pa)) \\skillbase\\skill_lost(2,$pa);$skill1010_skill_onsave_event_ret = NULL;

		//========Contents from mod skill1010========
		do{$skill1011_skill_onsave_event_ret = NULL;

		//========Contents from mod skill1011========
		do{$skill4_skill_onsave_event_ret = NULL;

		//========Contents from mod skill4========
		do{
			
		
		if (\\skillbase\\skill_query(4,$pa)) \\skillbase\\skill_lost(4,$pa);$skillbase_skill_onsave_event_ret = NULL;

		//========Contents from mod skillbase========
		do{
			
		
		}while(0);
		$skillbase_skill_onsave_event_ret;
		}while(0);
			
		
		$skill4_skill_onsave_event_ret;
		}while(0);
			
		
		$skill1011_skill_onsave_event_ret;
		}while(0);
		$skill1010_skill_onsave_event_ret;
		}while(0);
		$skill2_skill_onsave_event_ret;
		}while(0);
		$skill3_skill_onsave_event_ret;
		}while(0);
		$skill5_skill_onsave_event_ret;
		}while(0);
		$skill6_skill_onsave_event_ret;
		}while(0);
		$skill7_skill_onsave_event_ret;
		}while(0);
		$skill8_skill_onsave_event_ret;
		}while(0);
		$skill9_skill_onsave_event_ret;
	'

Array\get_def_multiplier ====> '
		return \\weather\\get_def_multiplier($pa,$pd,$active);'

Array\calculate_rest_upsp ====> '
		
		if (\\skillbase\\skill_query(1)) 	
			return round(\\pose\\calculate_rest_upsp($rtime)/2); 
		else  return \\pose\\calculate_rest_upsp($rtime);
	'

Array\calculate_rest_uphp ====> '
		
		if (\\skillbase\\skill_query(1)) 	
			return round(\\pose\\calculate_rest_uphp($rtime)/2); 
		else  return \\pose\\calculate_rest_uphp($rtime);
	'

Array\get_wound_recover_time ====> '
		
		if (\\skillbase\\skill_query(1)) 	
			return \\pose\\get_wound_recover_time() + 30; 
		else  return \\pose\\get_wound_recover_time();
	'

Array\chginf ====> '
		
		eval(import_module(\'logger\',\'sys\',\'player\',\'skill600\'));
		if ((\\skillbase\\skill_query(600))&&(\\skill600\\check_skill600_state ()==1)) 
		{
			$log .= \'你现在不能处理伤口或异常状态！\';
			$mode = \'command\';
			return;
		}$wound_chginf_ret = NULL;

		//========Contents from mod wound========
		do{
			
		
		eval(import_module(\'wound\'));
		$normalinf = Array(\'h\',\'b\',\'a\',\'f\');
		if(!$infpos)
		{
			$mode = \'command\'; $wound_chginf_ret = NULL;
break; 
		}
		if(in_array($infpos,$normalinf) && strpos($inf,$infpos) !== false){	
			if($sp <= $inf_recover_sp_cost) {
				$log .= "包扎伤口需要{$inf_recover_sp_cost}点体力，先回复体力吧！";
				$mode = \'command\';
				$wound_chginf_ret = NULL;
break; 
			} else {
				\\wound\\heal_inf ($infpos);
				$sp -= $inf_recover_sp_cost;
				$log .= "消耗<span class=\\"yellow\\">$inf_recover_sp_cost</span>点体力，{$infinfo[$infpos]}<span class=\\"red\\">部</span>的伤口已经包扎好了！";
				$mode = \'command\';
				$wound_chginf_ret = NULL;
break; 
			}
		}elseif(strpos($inf,$infpos) !== false){  
		














			$log .= \'异常状态不能被直接治疗！\';
			$mode = \'command\';
			$wound_chginf_ret = NULL;
break; 
		}else{
			$log .= \'你不需要包扎这个伤口！\';
			$mode = \'command\';
			$wound_chginf_ret = NULL;
break; 
		}
		}while(0);
		$wound_chginf_ret;
	'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\upgrade12 ====> '
		
		eval(import_module(\'player\',\'logger\',\'skill600\'));
		if ((\\skillbase\\skill_query(600))&&(\\skill600\\check_skill600_state ()==1))
		{
			$log.=\'你现在不能处理伤口或异常状态！<br>\';
			$mode = \'command\';
			return;
		}$skill12_upgrade12_ret = NULL;

		//========Contents from mod skill12========
		do{
			
		
		
		if (!\\skillbase\\skill_query(12))
		{
			$log.=\'你没有这个技能！<br>\';
			$skill12_upgrade12_ret = NULL;
break; 
		}
		if ($skillpoint<1) 
		{
			$log.=\'技能点不足。<br>\';
			$skill12_upgrade12_ret = NULL;
break; 
		}
		eval(import_module(\'wound\'));
		$flag=false;
		$log.="消耗了<span class=\'lime\'>1</span>点技能点，<br>";
		for ($i=0; $i<strlen($inf); $i++)
		{
			$log .= "{$infname[$inf[$i]]}状态解除了。<br>";
			$flag=true;
		}
		$inf = \'\';
		if(!$flag){
			$log .= \'但是什么也没发生。<br>\';
		}
		$skillpoint--; $inf=\'\';
		}while(0);
		$skill12_upgrade12_ret;
	'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\get_ex_phy_def_proc_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill254\\get_ex_phy_def_proc_rate\') 
		{
			return \\skill243\\get_ex_phy_def_proc_rate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return 90;
	'

Array\check_ex_phy_def_proc ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill243\\check_ex_phy_def_proc\') 
		{
			return \\skill243\\check_ex_phy_def_proc($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$proc_rate = \\ex_phy_def\\get_ex_phy_def_proc_rate ($pa, $pd, $active);
		$dice = rand(0,99);
		return ($dice<$proc_rate);
	'

Array\check_physical_def_attr ====> '
		return \\ex_attr_pierce\\check_physical_def_attr($pa,$pd,$active);'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\calculate_attack_rage_gain ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill37\\calculate_attack_rage_gain\') 
		{
			return \\skill410\\calculate_attack_rage_gain($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$rageup = round ( ($pa[\'lvl\'] - $pd[\'lvl\']) / 3 );
		$rageup = $rageup > 0 ? $rageup : 1;
		return $rageup;
	'

Array\strike_finish ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill448\\strike_finish\') 
		{
			return \\skill27\\strike_finish($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'is_hit\'])	
		{
			$pd[\'rage\']+=\\rage\\calculate_attack_rage_gain ($pa, $pd, $active);
			$pd[\'rage\']=min($pd[\'rage\'],100);
			if (\\attrbase\\check_itmsk(\'c\',$pa)){
				$pa[\'rage\']++;
				$pa[\'rage\']=min($pa[\'rage\'],100);
			}
		}$skill38_strike_finish_ret = NULL;

		//========Contents from mod skill38========
		do{
			
		
		if ($pa[\'bskill\']!=38){ $skill38_strike_finish_ret =  \\skill237\\strike_finish($pa, $pd, $active);
break; }
		eval(import_module(\'logger\'));
		if ($pa[\'is_hit\'])
		{
			if ($active)
				$log.="闷棍对体力不支的敌人造成了<span class=\\"yellow\\">{$pa[\'skill38_dmg_extra\']}</span>点额外伤害！<br>";
			else  $log.="闷棍对体力不支的你造成了<span class=\\"yellow\\">{$pa[\'skill38_dmg_extra\']}</span>点额外伤害！<br>";
			$pa[\'dmg_dealt\']+=$pa[\'skill38_dmg_extra\'];
		}
		\\skill237\\strike_finish($pa, $pd, $active);
		}while(0);
		$skill38_strike_finish_ret;
	'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\attack_prepare ====> '
		
		$pa[\'original_rage\']=$pa[\'rage\'];$npcchat_attack_prepare_ret = NULL;

		//========Contents from mod npcchat========
		do{$attack_attack_prepare_ret = NULL;

		//========Contents from mod attack========
		do{
			
		
		\\attack\\player_attack_enemy ($pa, $pd, $active);
		if ($pa[\'user_commanded\'])
			\\attack\\load_user_combat_command ($pa);
		else  \\attack\\load_auto_combat_command ($pa);
		\\attack\\load_auto_combat_command ($pd);
		$pa[\'dmg_dealt\']=0;
		}while(0);
			
		
		$attack_attack_prepare_ret;
		if ($pa[\'type\']) \\npcchat\\npcchat ($pa, $pd, $active, \'battle\');
		}while(0);
		$npcchat_attack_prepare_ret;
	'

Array\attack_finish ====> '
		return \\skill42\\attack_finish($pa,$pd,$active);'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_attr_charge\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=30) return \\skill202\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(30,$pa) || !\\skill30\\check_unlocked30 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill30\\get_rage_cost30 ($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				$hpcost = min($pa[\'hp\']-1, round($pa[\'mhp\']*0.15));
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「压制」！</span><br>
						<span class=\\"yellow\\">你消耗了<span class=\\"red\\">{$hpcost}</span>点生命值，发动了鲁莽的一击！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「压制」！</span><br>
						<span class=\\"yellow\\">其消耗了<span class=\\"red\\">{$hpcost}</span>点生命值，发动了鲁莽的一击！</span><br>";
				$pa[\'rage\']-=$rcost;
				$pa[\'hp\']-=$hpcost;
				
				$pa[\'skill30_hpcost\']=$hpcost;
				addnews ( 0, \'bskill30\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill202\\strike_prepare($pa, $pd, $active);
	'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\strike_prepare ====> '
		return \\skill244\\strike_prepare($pa,$pd,$active);'

Array\get_fixed_dmg ====> '
		
		eval(import_module(\'logger\',\'skill259\'));
		if ($pa[\'bskill\']!=259) return \\wep_j\\get_fixed_dmg($pa,$pd,$active);
		if ($active) $log .= "<span class=\\"red\\">你对着敌人打出了一屏幕的拳头！</span><br>";
			else $log .= "<span class=\\"red\\">敌人对着你打出了一屏幕的拳头！</span><br>";
		$r259=\\skill259\\get_skill259_adddmg ($pa);
		return 1+$r259+\\wep_j\\get_fixed_dmg($pa, $pd, $active);
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\calculate_wepimp_rate ====> '
		return \\skill422\\calculate_wepimp_rate($pa,$pd,$active);'

Array\calculate_inf_rate ====> '
		return \\skill478\\calculate_inf_rate($pa,$pd,$active);'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\get_rapid_accuracy_loss ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill444\\get_rapid_accuracy_loss\') 
		{
			return \\skill50\\get_rapid_accuracy_loss($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return 0.8;
	'

Array\check_rapid ====> '
		return \\skill258\\check_rapid($pa,$pd,$active);'

Array\weapon_strike ====> '
		
		if (!in_array(\'r\',\\ex_rapid_attr\\check_rapid ($pa, $pd, $active)))
		{$wep_j_weapon_strike_ret = NULL;

		//========Contents from mod wep_j========
		do{
			
		
		if (defined(\'MOD_NOISE\'))
			if ($pa[\'wep_kind\']==\'J\') 
				\\wep_j\\weapon_WJ_addnoise ($pa, $pd, $active);$wep_g_weapon_strike_ret = NULL;

		//========Contents from mod wep_g========
		do{
			
		
		if (defined(\'MOD_NOISE\'))
			if ($pa[\'wep_kind\']==\'G\') 
				\\wep_g\\weapon_WG_addnoise ($pa, $pd, $active);$wep_f_weapon_strike_ret = NULL;

		//========Contents from mod wep_f========
		do{
			
		
		if (defined(\'MOD_NOISE\'))
			if ($pa[\'wep_kind\']==\'F\' && \\wep_f\\check_WF_noise ($pa, $pd, $active)) 
				\\noise\\addnoise($pa[\'pls\'],\'F\',$pa[\'pid\'],$pd[\'pid\']);$weapon_weapon_strike_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		eval(import_module(\'logger\'));
		$dice=rand(0,99);
		if ($dice<$pa[\'fin_hitrate\'])	
		{
			$is_hit = 1;
			
			\\weapon\\calculate_physical_dmg ($pa, $pd, $active);
		}
		else  
		{	
			$is_hit = 0;
			$log .= "但是没有击中！<br>";
		}
		$pa[\'is_hit\'] = $is_hit;
		\\weapon\\post_weapon_strike_events ($pa, $pd, $active, $is_hit);
		}while(0);
		$weapon_weapon_strike_ret;
		}while(0);
		$wep_f_weapon_strike_ret;
		}while(0);
		$wep_g_weapon_strike_ret;
		}while(0);
			$wep_j_weapon_strike_ret;
			return;
		}
		
		eval(import_module(\'weapon\',\'ex_rapid_attr\',\'logger\'));
		$pa[\'is_rapid_strike\'] = 1;
		$rapid_times = \\ex_rapid_attr\\get_rapid_times ($pa, $pd, $active);
		$pa[\'actual_rapid_time\'] = 0; $pa[\'actual_hit_time\'] = 0; $is_hit = 0;
		for ($cur_rapid_time=0; $cur_rapid_time<$rapid_times; $cur_rapid_time++)
		{
			$pa[\'actual_rapid_time\']++;
			$dice=rand(0,99);
			if ($dice<$pa[\'fin_hitrate\'])	
			{
				$is_hit = 1;
				$pa[\'actual_hit_time\']++;
				\\weapon\\post_weapon_strike_events($pa, $pd, $active, 1);
			}
			else
			{
				\\weapon\\post_weapon_strike_events($pa, $pd, $active, 0);
			}
			if ($pa[\'weps\']!=$nosta && $pa[\'wepimp\']>=$pa[\'weps\']) break; 	
			$pa[\'fin_hitrate\']*=\\ex_rapid_attr\\get_rapid_accuracy_loss ($pa, $pd, $active);	
		}
		
		$pa[\'is_hit\']=$is_hit;
		if ($is_hit)
		{
			
			\\weapon\\calculate_physical_dmg($pa, $pd, $active);
		}
		else
		{
			$log .= "但是没有击中！<br>";
		}
	'

Array\strike_prepare ====> '
		return \\skill244\\strike_prepare($pa,$pd,$active);'

Array\weapon_wg_addnoise ====> ''

Array\weapon_wj_addnoise ====> ''

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\get_basic_ex_dmg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill210\\get_basic_ex_dmg\') 
		{
			return \\skill210\\get_basic_ex_dmg($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'ex_dmg_att\'));
		$damage = $ex_base_dmg[$key]+$pa[\'wepe\']/$ex_wep_dmg[$key]+$pa[\'fin_skill\']/$ex_skill_dmg[$key];
		return $damage;
	'

Array\get_ex_dmg_restriction ====> '
		return \\skill238\\get_ex_dmg_restriction($pa,$pd,$active,$key);'

Array\get_ex_inf_dmg_punish ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill25\\get_ex_inf_dmg_punish\') 
		{
			return \\skill25\\get_ex_inf_dmg_punish($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'ex_dmg_att\'));
		return $ex_inf_punish[$key];
	'

Array\calculate_ex_inf_multiple ====> '
		return \\skill26\\calculate_ex_inf_multiple($pa,$pd,$active,$key);'

Array\calculate_ex_single_dmg_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill222\\calculate_ex_single_dmg_multiple\') 
		{
			return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return \\ex_dmg_att\\calculate_ex_inf_multiple ($pa, $pd, $active, $key);
	'

Array\calculate_ex_inf_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill218\\calculate_ex_inf_rate\') 
		{
			return \\skill218\\calculate_ex_inf_rate($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'ex_dmg_att\',\'wound\',\'logger\'));
		if (!isset($ex_inf[$key])) return 0; 	
		if (\\skillbase\\skill_query($ex_inf[$key], $pd)) return 0;	
		$rate = $ex_inf_r[$key]+$pa[\'fin_skill\']*$ex_skill_inf_r[$key];
		return min($rate,$ex_max_inf_r[$key]);
	'

Array\get_ex_inf_rate_modifier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill231\\get_ex_inf_rate_modifier\') 
		{
			return \\skill478\\get_ex_inf_rate_modifier($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return 0;
	'

Array\check_ex_inf_infliction ====> '
		return \\tutorial\\check_ex_inf_infliction($pa,$pd,$active,$key);'

Array\calculate_ex_attack_dmg ====> '
		return \\skill215\\calculate_ex_attack_dmg($pa,$pd,$active);'

Array\strike ====> '$weapon_strike_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		\\weapon\\weapon_strike ($pa,$pd,$active);
		}while(0);
		
		
		$weapon_strike_ret;
		
		if ($pa[\'is_hit\'] && \\attrbase\\attr_dmg_check_not_WPG($pa, $pd, $active))	
		{
			$dmg = \\ex_dmg_att\\calculate_ex_attack_dmg ($pa, $pd, $active);
			$pa[\'dmg_dealt\'] += $dmg;
		}
	'

Array\strike_prepare ====> '
		return \\skill244\\strike_prepare($pa,$pd,$active);'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\post_traphit_events ====> '$skill251_post_traphit_events_ret = NULL;

		//========Contents from mod skill251========
		do{
			$sdata = $pd; 

		
		if (\\skillbase\\skill_query(251,$sdata) && $damage>=$sdata[\'mhp\']*0.35 && $sdata[\'hp\']>0)
		{
			eval(import_module(\'sys\',\'logger\'));
			
			$log .= \'<span class="yellow">你的技能「天佑」被触发，暂时进入了无敌状态！</span><br>\';
			\\skillbase\\skill_setvalue(251,\'start\',$now);
		}$trap_post_traphit_events_ret = NULL;

		//========Contents from mod trap========
		do{
			$pd = &$sdata; 

		
		}while(0);
		$skill251_post_traphit_events_ret =  $trap_post_traphit_events_ret;
break; 
		}while(0);
		
		$skill251_post_traphit_events_ret;
		eval(import_module(\'player\',\'logger\',\'ex_dmg_att\',\'wound\'));
		if (strpos($tritm[\'itm\'],\'毒性\')!==false) 
		{
			\\wound\\get_inf(\'p\');
			$log.="敌人的陷阱还使你{$infname[\'p\']}了！<br>";
		}
		if (strpos($tritm[\'itm\'],\'电气\')!==false) 
		{
			\\wound\\get_inf(\'e\');
			$log.="敌人的陷阱还使你{$infname[\'e\']}了！<br>";
		}
	'

Array\get_external_def_multiplier ====> '
		
		if (\\ex_attr_charge\\check_charge_proc ($pa, $pd, $active))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log .= "<span class=\\"yellow\\">你的攻击隔着{$pd[\'name\']}的防具造成了伤害！</span><br>";
			else  $log .= "<span class=\\"yellow\\">{$pa[\'name\']}的攻击隔着你的防具造成了伤害！</span><br>";
			return \\armor\\get_external_def_multiplier($pa, $pd, $active)/2;
		}
		else  return \\armor\\get_external_def_multiplier($pa, $pd, $active);
	'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill73\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$pa[\'physical_charge_success\'] = 0;$ex_dmg_att_strike_prepare_ret = NULL;

		//========Contents from mod ex_dmg_att========
		do{
			
		
		eval(import_module(\'ex_dmg_att\'));
		$pa[\'ex_dmg_dealt\'] = 0;
		foreach ( $ex_attack_list as $key ) $pa[\'ex_dmg_\'.$key.\'_dealt\'] = 0;$ex_rapid_attr_strike_prepare_ret = NULL;

		//========Contents from mod ex_rapid_attr========
		do{
			
		
		$pa[\'is_rapid_strike\'] = 0;$skill259_strike_prepare_ret = NULL;

		//========Contents from mod skill259========
		do{
			
		
		if ($pa[\'bskill\']!=259){ $skill259_strike_prepare_ret =  \\skill30\\strike_prepare($pa, $pd, $active);
break; }
		if (!\\skillbase\\skill_query(259,$pa) || !\\skill259\\check_unlocked259 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill259\\get_rage_cost259 ($pa);
			if (($pa[\'wepk\']=="WN")&&($pa[\'rage\']>=$rcost))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「乱击」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「乱击」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill259\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill30\\strike_prepare($pa, $pd, $active);
		}while(0);
		$skill259_strike_prepare_ret;
		}while(0);
		$ex_rapid_attr_strike_prepare_ret;
		}while(0);
		$ex_dmg_att_strike_prepare_ret;
	'

Array\calculate_hp_rev_dmg ====> '
		return \\skill432\\calculate_hp_rev_dmg($pa,$pd,$active);'

Array\apply_total_damage_change ====> '$skill412_apply_total_damage_change_ret = NULL;

		//========Contents from mod skill412========
		do{
			
		
		if (\\skillbase\\skill_query(412,$pd) && \\skill412\\check_unlocked412 ($pd) && $pa[\'dmg_dealt\']>0)
		{
			eval(import_module(\'logger\'));
			$t=\\skill412\\calculate_mobius_function ($pa[\'dmg_dealt\']);
			if ($t==0)
			{
				
				$log.=\'<span class="lime">只见敌人周围突然出现了奇怪的呈U形的力场，你的伤害似乎被力场完全吸收了。</span><br>\';
				$pa[\'dmg_dealt\']=0;
			}
			else  if ($t==1)
			{
				
				$log.=\'<span class="lime">只见敌人周围突然出现了奇怪的呈U形的力场，但是你的攻击势不可挡地击穿了它。</span><br>\';
			}
			else  
			{
				
				$pa[\'mobiusflag\'] = 1;
			}
		}$skill479_apply_total_damage_change_ret = NULL;

		//========Contents from mod skill479========
		do{
			
		
		if (\\skillbase\\skill_query(479, $pd)) {
			$pa[\'dmg_dealt\'] = \\skill479\\dmg_round479 ($pa[\'dmg_dealt\'], $active);
		}$attack_apply_total_damage_change_ret = NULL;

		//========Contents from mod attack========
		do{
			
		
		}while(0);
		$attack_apply_total_damage_change_ret;
		}while(0);
		$skill479_apply_total_damage_change_ret;
		}while(0);
		
		$skill412_apply_total_damage_change_ret;
		\\ex_hp_def\\check_dmg_def_attr ($pa, $pd, $active);
	'

Array\player_damaged_enemy ====> '
		return \\tutorial\\player_damaged_enemy($pa,$pd,$active);'

Array\act ====> '
		return \\smartmix\\act();'

Array\use_nail ====> '
		
		
		eval(import_module(\'player\',\'logger\'));
		if (strpos($wepsk,\'j\')!==false)
		{
			$log.=\'多重武器不能改造。<br>\';
			return 0;
		}$empowers_use_nail_ret = NULL;

		//========Contents from mod empowers========
		do{
			
		
		
		eval(import_module(\'sys\',\'itemmain\'));
		
		if (( strpos ( $wep, \'棍棒\' ) !== false) && ($wepk == \'WP\')) 
		{	
			$dice = rand ( 0, 100 );
			if ($dice >= 10) 
			{
				$wepe += $itme;
				$log .= "使用了<span class=\\"yellow\\">$itm</span>，<span class=\\"yellow\\">$wep</span>的攻击力变成了<span class=\\"yellow\\">$wepe</span>。<br>";
				if (strpos ( $wep, \'钉\' ) === false) {
					$wep = str_replace ( \'棍棒\', \'钉棍棒\', $wep );
				}
			} 
			else 
			{
				$wepe -= ceil ( $itme / 2 );
				if ($wepe <= 0) {
					$log .= "<span class=\\"red\\">$itm</span>使用失败，<span class=\\"red\\">$wep</span>损坏了！<br>";
					$wep = $wepk = $wepsk = \'\';
					$wepe = $weps = 0;
				} else {
					$log .= "<span class=\\"red\\">$itm</span>使用失败，<span class=\\"red\\">$wep</span>的攻击力变成了<span class=\\"red\\">$wepe</span>。<br>";
				}
			}
			$empowers_use_nail_ret =  1;
break; 
		} else {
			$log .= \'你没装备棍棒，不能安装钉子。<br>\';
			$empowers_use_nail_ret =  0;
break; 
		}
		}while(0);
		return $empowers_use_nail_ret;
	'

Array\use_stone ====> '
		return \\blessstone\\use_stone($itm,$itme);'

Array\use_anya ====> '
		
		
		eval(import_module(\'player\',\'logger\'));
		if (strpos($wepsk,\'j\')!==false)
		{
			$log.=\'多重武器不能改造。<br>\';
			return 0;
		}$empowers_use_anya_ret = NULL;

		//========Contents from mod empowers========
		do{
			
		
		
		eval(import_module(\'sys\',\'itemmain\'));
		
		if (! $weps || ! $wepe) {
			$log .= \'请先装备武器。<br>\';
			$empowers_use_anya_ret =  0;
break; 
		}
		
		$dice = rand ( 0, 99 );
		$dice2 = rand ( 0, 99 );
		$skill = array (\'WP\' => $wp, \'WK\' => $wk, \'WG\' => $wg, \'WC\' => $wc, \'WD\' => $wd, \'WF\' => $wf );
		arsort ( $skill );
		$skill_keys = array_keys ( $skill );
		$nowsk = substr ( $wepk, 0, 2 );
		$maxsk = $skill_keys [0];
		if (($skill [$nowsk] != $skill [$maxsk]) && ($dice < 30)) {
			$wepk = $maxsk;
			$kind = "更改了{$wep}的<span class=\\"yellow\\">类别</span>！";
		} elseif (($weps != $nosta) && ($dice2 < 70)) {
			$weps += ceil ( $wepe / 2 );
			$kind = "增强了{$wep}的<span class=\\"yellow\\">耐久</span>！";
		} else {
			$wepe += ceil ( $wepe / 2 );
			$kind = "提高了{$wep}的<span class=\\"yellow\\">攻击力</span>！";
		}
		$log .= "你使用了<span class=\\"yellow\\">$itm</span>，{$kind}";
		addnews ( $now, \'newwep\', $name, $itm, $wep );
		if (strpos ( $wep, \'-改\' ) === false) {
			$wep = $wep . \'-改\';
		}
		$empowers_use_anya_ret =  1;
break; 
		}while(0);
		return $empowers_use_anya_ret;
	'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\act ====> '
		return \\smartmix\\act();'

Array\use_stone ====> '
		
		
		eval(import_module(\'player\',\'logger\'));
		if(strpos ( $wepsk, \'Z\' ) !== false){
			$log .= \'咦……刀刃过于薄了，感觉稍微磨一点都会造成不可逆的损伤呢……<br>\';
			return 0;
		}$wepchange_use_stone_ret = NULL;

		//========Contents from mod wepchange========
		do{
			
		
		
		
		if (strpos($wepsk,\'j\')!==false)
		{
			$log.=\'多重武器不能改造。<br>\';
			$wepchange_use_stone_ret =  0;
break; 
		}$empowers_use_stone_ret = NULL;

		//========Contents from mod empowers========
		do{
			
		
		
		eval(import_module(\'sys\',\'itemmain\'));
		
		if (strpos ( $wepk, \'K\' ) == 1 && strpos ( $wepsk, \'Z\' ) === false) 
		{
			$dice = rand ( 0, 100 );
			if ($dice >= 15) 
			{
				$wepe += $itme;					
				$log .= "使用了<span class=\\"yellow\\">$itm</span>，<span class=\\"yellow\\">$wep</span>的攻击力变成了<span class=\\"yellow\\">$wepe</span>。<br>";
				if (strpos ( $wep, \'锋利的\' ) === false) {
					$wep = \'锋利的\'.$wep;
				}
			} 
			else 
			{
				$wepe -= ceil ( $itme / 2 );
				if ($wepe <= 0) {
					$log .= "<span class=\\"red\\">$itm</span>使用失败，<span class=\\"red\\">$wep</span>损坏了！<br>";
					$wep = $wepk = $wepsk = \'\';
					$wepe = $weps = 0;
				} else {
					$log .= "<span class=\\"red\\">$itm</span>使用失败，<span class=\\"red\\">$wep</span>的攻击力变成了<span class=\\"red\\">$wepe</span>。<br>";
				}
			}
			$empowers_use_stone_ret =  1;
break; 
		} else {
			$log .= \'你没装备锐器，不能使用磨刀石。<br>\';
			$empowers_use_stone_ret =  0;
break; 
		}
		}while(0);
		$wepchange_use_stone_ret =  $empowers_use_stone_ret;
break; 
		}while(0);
		return $wepchange_use_stone_ret;
	'

Array\parse_news ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill244\\parse_news\') 
		{
			return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\'));
		
		if($news == \'newwep2\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了{$b}，强化了<span class=\\"yellow\\">$c</span>！</span></li>";$skill259_parse_news_ret = NULL;

		//========Contents from mod skill259========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill259\'){ 
			$skill259_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「乱击」</span></span></li>";
break; }$skill30_parse_news_ret = NULL;

		//========Contents from mod skill30========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill30\'){ 
			$skill30_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「压制」</span></span></li>";
break; }$empowers_parse_news_ret = NULL;

		//========Contents from mod empowers========
		do{
			
		
		eval(import_module(\'player\'));
		
		if($news == \'newwep\'){ 
			$empowers_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了{$b}，改造了<span class=\\"yellow\\">$c</span>！</span></li>";
break; }$skill38_parse_news_ret = NULL;

		//========Contents from mod skill38========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill38\'){ 
			$skill38_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「闷棍」</span></span></li>";
break; }$skill36_parse_news_ret = NULL;

		//========Contents from mod skill36========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill36\'){ 
			$skill36_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「偷袭」</span></span></li>";
break; }$skill223_parse_news_ret = NULL;

		//========Contents from mod skill223========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill223\'){ 
			$skill223_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"red\\">「暗杀」</span></span></li>";
break; }$poison_parse_news_ret = NULL;

		//========Contents from mod poison========
		do{
			
		
		eval(import_module(\'player\'));
		
		if($news == \'poison\'){ 
			$poison_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"purple\\">{$a}食用了{$b}下毒的{$c}</span></li>";
break; }
		
		if($news == \'death26\') {
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e){
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			}else{
				$e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			}
			if($c) {
				$poison_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因食用了<span class=\\"yellow\\">$c</span>下毒的<span class=\\"red\\">$d</span>被毒死{$e0}</li>";
break; 
			} else {
				$poison_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因食用了有毒的<span class=\\"red\\">$d</span>被毒死{$e0}</li>";
break; 
			}
		}$skill6_parse_news_ret = NULL;

		//========Contents from mod skill6========
		do{
			
		
		eval(import_module(\'player\'));
		
		if($news == \'death18\') 
		{
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			$skill6_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因<span class=\\"red\\">烧伤发作</span>死亡{$e0}</li>";
break; 
		}$skill5_parse_news_ret = NULL;

		//========Contents from mod skill5========
		do{
			
		
		eval(import_module(\'player\'));
		
		if($news == \'death12\') 
		{
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			$skill5_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因<span class=\\"red\\">毒发</span>死亡{$e0}</li>";
break; 
		}$event_parse_news_ret = NULL;

		//========Contents from mod event========
		do{
			
		
		eval(import_module(\'player\'));
		
		if(isset($exarr[\'dword\'])) $e0 = $exarr[\'dword\'];
			
		if($news == \'death13\'){ 
			$event_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因<span class=\\"red\\">意外事故</span>死亡{$e0}</li>";
break; }
		if($news == \'death33\'){
			$event_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因卷入特殊部队『天使』的实弹演习，被坠落的少女和机体“亲吻”而死{$e0}</li>";
break; }
		if($news == \'death35\'){
			$event_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因为敌意过剩，被虚拟意识救♀济！{$e0}</li>";
break; }
		if($news == \'death36\'){
			$event_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因为敌意过剩，被虚拟意识腰★斩！{$e0}</li>";
break; }
		if($news == \'death37\'){
			$event_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因为敌意过剩，被虚拟意识断★头！{$e0}</li>";
break; }$skill237_parse_news_ret = NULL;

		//========Contents from mod skill237========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill237\'){ 
			$skill237_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「EMP」</span></span></li>";
break; }$skill236_parse_news_ret = NULL;

		//========Contents from mod skill236========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill236\'){ 
			$skill236_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「科学」</span></span></li>";
break; }$skill228_parse_news_ret = NULL;

		//========Contents from mod skill228========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill228\'){ 
			$skill228_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「神击」</span></span></li>";
break; }$skill427_parse_news_ret = NULL;

		//========Contents from mod skill427========
		do{
			
		
		eval(import_module(\'player\'));
		
		if($news == \'revival\'){ 
			$skill427_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}因为及时按下了BOMB键而原地满血复活了！</span></li>";
break; }$skill483_parse_news_ret = NULL;

		//========Contents from mod skill483========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill483\'){ 
			$skill483_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「氪金」</span></span></li>";
break; }
		
		if($news == \'revival483\'){ 
			$skill483_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}击杀了{$b}，却不料{$b}是传说中的氪金战士！{$b}又站了起来！</span></li>";
break; }$skill469_parse_news_ret = NULL;

		//========Contents from mod skill469========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'death40\') {	
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			$skill469_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>受到<span class=\\"yellow\\">$c</span>的袭击，自爆身亡了！{$e0}</li>";
break; 
		}
		if($news == \'death41\') {
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			$skill469_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>的自爆炸死了！{$e0}</li>";
break; 
		}$skill253_parse_news_ret = NULL;

		//========Contents from mod skill253========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill253\'){ 
			$skill253_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「天威」</span></span></li>";
break; }$skill246_parse_news_ret = NULL;

		//========Contents from mod skill246========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill246\'){ 
			$skill246_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「破隐一击」</span></span></li>";
break; }$skill446_parse_news_ret = NULL;

		//========Contents from mod skill446========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill446\'){ 
			$skill446_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「死线」</span></span></li>";
break; }$skill440_parse_news_ret = NULL;

		//========Contents from mod skill440========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill440\'){ 
			$skill440_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「父爱」</span></span></li>";
break; }$skill414_parse_news_ret = NULL;

		//========Contents from mod skill414========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill414\'){ 
			$skill414_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「鹰眼」</span></span></li>";
break; }$skill412_parse_news_ret = NULL;

		//========Contents from mod skill412========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'death39\') {
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			$skill412_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"red\\">$c</span>的反演力场反弹伤害而亡{$e0}</li>";
break; 
		}$skill216_parse_news_ret = NULL;

		//========Contents from mod skill216========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill216\'){ 
			$skill216_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"red\\">「双响」</span></span></li>";
break; }$skill74_parse_news_ret = NULL;

		//========Contents from mod skill74========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill74\'){ 
			$skill74_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「心火」</span></span></li>";
break; }$skill71_parse_news_ret = NULL;

		//========Contents from mod skill71========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill71\'){ 
			$skill71_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「解构」</span></span></li>";
break; }$skill203_parse_news_ret = NULL;

		//========Contents from mod skill203========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill203\'){ 
			$skill203_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「瞄准」</span></span></li>";
break; }$skill63_parse_news_ret = NULL;

		//========Contents from mod skill63========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill63\'){ 
			$skill63_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"red\\">「噩梦」</span></span></li>";
break; }$skill62_parse_news_ret = NULL;

		//========Contents from mod skill62========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill62\'){ 
			$skill62_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「腐蚀」</span></span></li>";
break; }$skill60_parse_news_ret = NULL;

		//========Contents from mod skill60========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill60\'){ 
			$skill60_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「恐惧」</span></span></li>";
break; }$skill46_parse_news_ret = NULL;

		//========Contents from mod skill46========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill46\'){ 
			$skill46_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"red\\">「暴打」</span></span></li>";
break; }$skill45_parse_news_ret = NULL;

		//========Contents from mod skill45========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'bskill45\'){ 
			$skill45_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「重拳」</span></span></li>";
break; }$item_uv_parse_news_ret = NULL;

		//========Contents from mod item_uv========
		do{
			
		
		
		eval(import_module(\'player\'));
		
		if($news == \'VOgetcard\'){ 
			$item_uv_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}打开了{$b}，获得了卡片“{$c}”！</span></li>";
break; }$wound_parse_news_ret = NULL;

		//========Contents from mod wound========
		do{
			
		
		
		
		if($news == \'inf\') 
		{
			eval(import_module(\'wound\'));
			if (strpos(\'bhaf\',$c)===false){	
				$wound_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}的攻击致使{$b}</span>{$infname[$c]}<span class=\\"red\\">了</span></li>";
break; }
			else{  $wound_parse_news_ret =  \'\';
break; }
		}$skill602_parse_news_ret = NULL;

		//========Contents from mod skill602========
		do{
			
		
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bstun1\'){ 
			$skill602_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}的攻击致使{$b}<span class=\\"clan\\">晕眩</span>了</span></li>";
break; }$skill261_parse_news_ret = NULL;

		//========Contents from mod skill261========
		do{
			
		
		
		
		
		if($news == \'bskill261\'){ 
			$skill261_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"red\\">「决战」</span></span></li>";
break; }$skill247_parse_news_ret = NULL;

		//========Contents from mod skill247========
		do{
			
		
		
		
		
		if($news == \'bskill247\'){ 
			$skill247_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「挖坑」</span></span></li>";
break; }$skill430_parse_news_ret = NULL;

		//========Contents from mod skill430========
		do{
			
		
		
		
		
		if($news == \'bskill430\'){ 
			$skill430_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「搬运」</span>，获得了<span class=\\"yellow\\">{$b}</span></span></li>";
break; }$skill424_parse_news_ret = NULL;

		//========Contents from mod skill424========
		do{
			
		
		
		
		
		if($news == \'skill424\'){ 
				$skill424_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}完成了第{$b}次<span class=\\"yellow\\">「除错」</span>尝试</span></li>";
break; }$skill420_parse_news_ret = NULL;

		//========Contents from mod skill420========
		do{
			
		
		
		
		
		if($news == \'bskill420\'){ 
			$skill420_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「结晶」</span></span></li>";
break; }$skill234_parse_news_ret = NULL;

		//========Contents from mod skill234========
		do{
			
		
		
		
		
		if($news == \'skill234\') 
			if ($b==51){
				$skill234_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"evergreen\\">{$a}完成了对幻境系统的破解</span></li>";
break; }
			else{
				$skill234_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}完成了第{$b}次<span class=\\"yellow\\">「破解」</span>尝试</span></li>";
break; }$skill232_parse_news_ret = NULL;

		//========Contents from mod skill232========
		do{
			
		
		
		
		
		if($news == \'bskill232\'){ 
			$skill232_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「力场」</span></span></li>";
break; }$skill58_parse_news_ret = NULL;

		//========Contents from mod skill58========
		do{
			
		
		
		
		if($news == \'revival\'){ 
			$skill58_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}因为及时按下了BOMB键而原地满血复活了！</span></li>";
break; }$skill1010_parse_news_ret = NULL;

		//========Contents from mod skill1010========
		do{
			
		
		
		
		if($news == \'admin_mani\'){ 
			$skill1010_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}发动了技能「降神」，直接传送到了「{$b}」面前！（管理员{$a}宣告自己正在进行战斗测试。）</span></li>";
break; }
		elseif($news == \'admin_exma\'){
			$skill1010_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}发动了技能「降神」，与「{$b}」交换了能力值和装备！（管理员{$a}宣告自己正在进行NPC测试。）</span></li>";
break; }$skill1011_parse_news_ret = NULL;

		//========Contents from mod skill1011========
		do{
			
		
		
		
		if($news == \'admin_cons\'){ 
			$skill1011_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}发动了技能「具现」，无中生有地创造了「{$b}」！（管理员{$a}宣告自己正在进行道具测试。）</span></li>";
break; }$skill480_parse_news_ret = NULL;

		//========Contents from mod skill480========
		do{
			
		
		
		
		
		if($news == \'bskill480\'){ 
			$skill480_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"gold\\">「泡沫」</span>，金钱数翻倍了。</span></li>";
break; }$set_gametype_parse_news_ret = NULL;

		//========Contents from mod set_gametype========
		do{
			
		
		
		
		if($news == \'setnextgametype\'){ 
			$set_gametype_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}把下一局游戏设置为「{$gtinfo[$b]}」。</span></li>";
break; }$skill21_parse_news_ret = NULL;

		//========Contents from mod skill21========
		do{
			
		
		
		
		if($news == \'evonpc\') {
			if($a == \'Dark Force幼体\'){
				$nword = "<span class=\\"lime\\">{$c}击杀了{$a}，却没料到这只是幻影……{$b}的封印已经被破坏了！</span>";
			}elseif($a == \'小莱卡\'){
				$nword = "<span class=\\"lime\\">{$c}击杀了{$a}，却发现这只是幻象……真正的{$b}受到惊动，方才加入战场！</span>";
			}else{
				$nword = "<span class=\\"lime\\">{$c}击杀了{$a}，却发现对方展现出了第二形态：{$b}！</span>";
			}
			$skill21_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，$nword</li>";
break; 
		}$attack_parse_news_ret = NULL;

		//========Contents from mod attack========
		do{
			
		
		
		if(isset($exarr[\'dword\'])) $e0 = $exarr[\'dword\'];

		if($news == \'death20\') {
			$attack_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>使用<span class=\\"red\\">$nowep</span>击飞$e0</li>";
break; 
		} elseif($news == \'death21\') {
			$attack_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>使用<span class=\\"red\\">$d</span>殴打致死$e0</li>";
break; 
		} elseif($news == \'death22\') {
			$attack_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>使用<span class=\\"red\\">$d</span>斩杀$e0</li>";
break; 
		} elseif($news == \'death23\') {
			$attack_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>使用<span class=\\"red\\">$d</span>射杀$e0</li>";
break; 
		} elseif($news == \'death24\') {
			$attack_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>投掷<span class=\\"red\\">$d</span>致死$e0</li>";
break; 
		} elseif($news == \'death25\') {
			$attack_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>埋设<span class=\\"red\\">$d</span>伏击炸死$e0</li>";
break; 
		} elseif($news == \'death29\') {
			$attack_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>发动<span class=\\"red\\">$d</span>以灵力杀死$e0</li>";
break; 
		} elseif($news == \'damage\') {
			$attack_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">$a</span></li>";
break; 
		} else{$gameflow_combo_parse_news_ret = NULL;

		//========Contents from mod gameflow_combo========
		do{
			
		
		
		
		if($news == \'combo\'){ 
			$gameflow_combo_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">游戏进入连斗阶段！</span></li>";
break; }
		if($news == \'comboupdate\'){ 
			$gameflow_combo_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">连斗判断死亡数修正为{$a}人，当前死亡数为{$b}人！</span></li>";
break; }$item_misc_parse_news_ret = NULL;

		//========Contents from mod item_misc========
		do{
			
		
		
		
		if(isset($exarr[\'dword\'])) $e0 = $exarr[\'dword\'];
		
		if($news == \'adminitem\'){ 
			$item_misc_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}使用了{$b}，变成了一条权限狗！（管理员{$a}宣告其正在进行测试。）</span></li>";
break; }	
		if($news == \'death28\'){ 
			$item_misc_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因<span class=\\"yellow\\">$d</span>意外身亡{$e0}</li>";
break; }
		if($news == \'death30\'){ 
			$item_misc_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因误触伪装成核弹按钮的蛋疼机关被炸死{$e0}</li>";
break; }
		if($news == \'death38\'){
			$item_misc_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因为敌意过剩，被虚拟意识救♀济！{$e0}</li>";
break; }$team_parse_news_ret = NULL;

		//========Contents from mod team========
		do{
			
		
		
		
		if($news == \'teammake\'){ 
			$team_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$b}创建了队伍{$a}</span></li>";
break; }
		if($news == \'teamjoin\'){ 
			$team_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$b}加入了队伍{$a}</span></li>";
break; }
		if($news == \'teamquit\'){ 
			$team_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$b}退出了队伍{$a}</span></li>";
break; }
		if($news == \'senditem\'){ 
			$team_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}将<span class=\\"yellow\\">$c</span>赠送给了{$b}</span></li>";
break; }$gameflow_duel_parse_news_ret = NULL;

		//========Contents from mod gameflow_duel========
		do{
			
		
		
		
		if($news == \'duel\'){ 
			$gameflow_duel_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">游戏进入死斗阶段！</span></li>";
break; }
		if($news == \'duelkey\'){ 
			$gameflow_duel_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}使用了{$b}，启动了死斗程序！</span></li>";
break; }$itemmix_overlay_parse_news_ret = NULL;

		//========Contents from mod itemmix_overlay========
		do{
			
		
		
		if($news == \'overmix\'){ 
			$itemmix_overlay_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}超量合成了{$b}</span></li>";
break; }$itemmix_sync_parse_news_ret = NULL;

		//========Contents from mod itemmix_sync========
		do{
			
		
		
		if($news == \'syncmix\'){ 
			$itemmix_sync_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}同调合成了{$b}</span></li>";
break; }$trap_parse_news_ret = NULL;

		//========Contents from mod trap========
		do{
			
		
		
		
		
		if($news == \'trap\') 
			if ($d>0){
				$trap_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}中了{$b}设置的陷阱{$c}，受到了{$d}点伤害！</span></li>";
break; }
			else{  $trap_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}中了{$b}设置的陷阱{$c}</span></li>";
break; }
		if($news == \'trapmiss\'){ 
			$trap_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}回避了{$b}设置的陷阱{$c}</span></li>";
break; }
		if($news == \'death27\') {
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			if($c){
				$trap_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因触发了<span class=\\"yellow\\">$c</span>设置的陷阱<span class=\\"red\\">$d</span>被杀死{$e0}</li>";
break; 
			} else {
				$trap_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因触发了陷阱<span class=\\"red\\">$d</span>被杀死{$e0}</li>";
break; 
			}
		}$skill23_parse_news_ret = NULL;

		//========Contents from mod skill23========
		do{
			
		
		
		
		
		if($news == \'gemming\'){ 
			$skill23_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用{$b}为{$c}添加了{$d}属性！</span></li>";
break; }$song_parse_news_ret = NULL;

		//========Contents from mod song========
		do{
			
		
		
		
		if($news == \'song\'){ 
			$song_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}</span>在<span class=\\"yellow\\">{$b}</span>歌唱了<span class=\\"red\\">{$c}</span>。</li>";
break; }$item_uee_parse_news_ret = NULL;

		//========Contents from mod item_uee========
		do{
			
		
		
		
		if($news == \'hack\'){ 
			$item_uee_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}启动了hack程序，全部禁区解除！</span></li>";
break; }
		
		if(isset($exarr[\'dword\'])) $e0 = $exarr[\'dword\'];
			
		if($news == \'death14\'){ 
			$item_uee_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因<span class=\\"red\\">入侵禁区系统失败</span>死亡{$e0}</li>";
break; }$scpdrink_parse_news_ret = NULL;

		//========Contents from mod scpdrink========
		do{
			
		
		
		
		if($news == \'death31\') 
		{
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			$scpdrink_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因L5发作自己挠破喉咙身亡！{$e0}</li>";
break; 
		} 
		
		if($news == \'death34\') 
		{
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			$scpdrink_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因摄入过量突变药剂，身体组织崩解而死！{$e0}</li>";
break; 
		} 
		
		if($news == \'notworthit\'){ 
			$scpdrink_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}做出了一个他自己可能会后悔很长一段时间的决定。</span></li>";
break; }
		
		if($news == \'suisidefail\'){ 
			$scpdrink_parse_news_ret =  "<li><font style=\\"background:url(img/backround4.gif) repeat-x\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}注射了H173，却由于RP太高进入了发狂状态！！</font></span><br>\\n";
break; }$boxes_parse_news_ret = NULL;

		//========Contents from mod boxes========
		do{
			
		
		
		
		if($news == \'present\'){ 
			$boxes_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}打开了{$b}，获得了{$c}！</span></li>";
break; }$itemshop_parse_news_ret = NULL;

		//========Contents from mod itemshop========
		do{
			
		
		
		if($news == \'itembuy\') {
			
			$itemshop_parse_news_ret =  \'\';
break; 
		}$itemmix_parse_news_ret = NULL;

		//========Contents from mod itemmix========
		do{
			
		
		
		if($news == \'itemmix\'){ 
			$itemmix_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}合成了{$b}</span></li>";
break; }$itemmain_parse_news_ret = NULL;

		//========Contents from mod itemmain========
		do{
			
		
		
		if($news == \'itemuse\'){ 
			$itemmain_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了{$b}</span></li>";
break; }$gameflow_antiafk_parse_news_ret = NULL;

		//========Contents from mod gameflow_antiafk========
		do{
			
		
		
		eval(import_module(\'map\'));
		if($news == \'death32\'){
			$gameflow_antiafk_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，躲藏于<span class=\\"red\\">$plsinfo[$c]</span>的<span class=\\"yellow\\">$a</span><span class=\\"red\\">挂机时间过长</span>，被在外等待的愤怒的玩家们私刑处死！</li>";
break; }$map_parse_news_ret = NULL;

		//========Contents from mod map========
		do{
			
		
		
		eval(import_module(\'map\'));
		if($news == \'death11\'){ 
			$map_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因滞留在<span class=\\"red\\">禁区【{$plsinfo[$c]}】</span>死亡</li>";
break; }
		
		if($news == \'addarea\') {
			$info = "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，增加禁区：";
			$alist = explode(\'_\',$a);
			foreach($alist as $ar) $info.="$plsinfo[$ar] ";
			$info .= "</li>";
			$map_parse_news_ret =  $info;
break; 
		}$sys_parse_news_ret = NULL;

		//========Contents from mod sys========
		do{
			
		
		
		
		if($news == \'newgame\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">第{$a}回ACFUN大逃杀开始了</span></li>";
break; }
		elseif($news == \'gameover\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">第{$a}回ACFUN大逃杀结束了</span></li>";
break; }
		elseif($news == \'newpc\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}({$b})进入了大逃杀战场</span></li>";
break; }
		elseif($news == \'newgm\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">管理员-{$a}({$b})华丽地乱入了战场</span></li>";
break; }
		elseif($news == \'end0\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">游戏出现故障，意外结束</span></li>";
break; }
		elseif($news == \'end1\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">参与者全部死亡！</span></li>";
break; }
		elseif($news == \'end2\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">优胜者——{$a}！</span></li>";
break; }
		elseif($news == \'end3\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}解除了精神锁定，游戏紧急中止</span></li>";
break; }
		elseif($news == \'end4\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">无人参加，游戏自动结束</span></li>";
break; }
		elseif($news == \'end5\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}引爆了核弹，毁坏了虚拟战场</span></li>";
break; }
		elseif($news == \'end6\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">本局游戏被GM中止</span></li>";
break; }
		elseif($news == \'end7\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"evergreen\\">{$a}完成了他的使命。</span></li>";
break; }
		elseif($news == \'end8\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">限制时间到，本局游戏结束。</span></li>";
break; }
		elseif($news == \'wintutorial\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}完成了教程。</span></li>";
break; }
		elseif(strpos($news,\'death\') === 0) {
			if(isset($exarr[\'dword\'])) $e0 = $exarr[\'dword\'];
			if($news == \'death15\') {
				$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"red\\">时空特使强行消除</span>{$e0}</li>";
break; 
			} elseif($news == \'death16\') {
				$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"red\\">由理直接拉入SSS团</span>{$e0}</li>";
break; 
			} else {
				$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因<span class=\\"red\\">不明原因</span>死亡{$e0}</li>";
break; 
			}
		}
		elseif($news == \'corpseclear\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了凸眼鱼，{$b}具尸体被吸走了！</span></li>";
break; }
		elseif($news == \'sysaddarea\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">奇迹和魔法都是存在的！禁区提前增加了！</span></li>";
break; }
		elseif($news == \'syshackchg\') {
			if($a){$hackword = \'全部禁区都被解除了\';$class = \'lime\';}
			else{$hackword = \'禁区恢复了未解除状态\';$class = \'yellow\';}
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"{$class}\\">奇迹和魔法都是存在的！{$hackword}！</span></li>";
break; 
		} 
		elseif($news == \'sysgschg\') {
			if($a == 20){
				$chgword = \'当前游戏立即开始了！\';
				$class = \'lime\';
			}	elseif($a == 30){
				$chgword = \'当前游戏停止激活！\';
				$class = \'yellow\';
			}	elseif($a == 40){
				$chgword = \'当前游戏进入连斗阶段！\';
				$class = \'red\';
			}	elseif($a == 50){
				$chgword = \'当前游戏进入死斗阶段！\';
				$class = \'red\';
			}	else{
				$chgword = \'异常语句，请联系管理员！\';
				$class = \'red\';
			}
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"{$class}\\">奇迹和魔法都是存在的！{$chgword}</span></li>";
break; 
		} 
		elseif($news == \'alive\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">神北 小毬许愿复活</span></li>";
break; }
		elseif($news == \'delcp\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}的尸体被时空特使别动队销毁了</span></li>";
break; }
		elseif($news == \'editpc\'){ 
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}遭到了黑幕的生化改造！</span></li>";
break; }
		elseif($news == \'roominfo\'){
			$sys_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，本局游戏为<span class=\\"yellow\\">{$a}</span>，{$b}</li>";
break; }
		
		$sys_parse_news_ret =  "<li>$time,$news,$a,$b,$c,$d<br>\\n";
break; 
		}while(0);
		
		$map_parse_news_ret =  $sys_parse_news_ret;
break; 
		}while(0);
		
		$gameflow_antiafk_parse_news_ret =  $map_parse_news_ret;
break; 
		}while(0);
		$itemmain_parse_news_ret =  $gameflow_antiafk_parse_news_ret;
break; 
		}while(0);
		$itemmix_parse_news_ret =  $itemmain_parse_news_ret;
break; 
		}while(0);
		$itemshop_parse_news_ret =  $itemmix_parse_news_ret;
break; 
		}while(0);
		
		$boxes_parse_news_ret =  $itemshop_parse_news_ret;
break; 
		}while(0);
		
		$scpdrink_parse_news_ret =  $boxes_parse_news_ret;
break; 
		}while(0);
	
		$item_uee_parse_news_ret =  $scpdrink_parse_news_ret;
break; 
		}while(0);
		
		$song_parse_news_ret =  $item_uee_parse_news_ret;
break; 
		}while(0);

		$skill23_parse_news_ret =  $song_parse_news_ret;
break; 
		}while(0);
		$trap_parse_news_ret =  $skill23_parse_news_ret;
break; 
		}while(0);
		$itemmix_sync_parse_news_ret =  $trap_parse_news_ret;
break; 
		}while(0);
		$itemmix_overlay_parse_news_ret =  $itemmix_sync_parse_news_ret;
break; 
		}while(0);
		
		$gameflow_duel_parse_news_ret =  $itemmix_overlay_parse_news_ret;
break; 
		}while(0);
			
		$team_parse_news_ret =  $gameflow_duel_parse_news_ret;
break; 
		}while(0);
			
		$item_misc_parse_news_ret =  $team_parse_news_ret;
break; 
		}while(0);
		
		$gameflow_combo_parse_news_ret =  $item_misc_parse_news_ret;
break; 
		}while(0); $attack_parse_news_ret =  $gameflow_combo_parse_news_ret;
break; }
		}while(0);
		
		$skill21_parse_news_ret =  $attack_parse_news_ret;
break; 
		}while(0);
		$set_gametype_parse_news_ret =  $skill21_parse_news_ret;
break; 
		}while(0);
		
		$skill480_parse_news_ret =  $set_gametype_parse_news_ret;
break; 
		}while(0);
		
		$skill1011_parse_news_ret =  $skill480_parse_news_ret;
break; 
		}while(0);
		$skill1010_parse_news_ret =  $skill1011_parse_news_ret;
break; 
		}while(0);
		
		$skill58_parse_news_ret =  $skill1010_parse_news_ret;
break; 
		}while(0);
		
		$skill232_parse_news_ret =  $skill58_parse_news_ret;
break; 
		}while(0);
		
		$skill234_parse_news_ret =  $skill232_parse_news_ret;
break; 
		}while(0);
		
		$skill420_parse_news_ret =  $skill234_parse_news_ret;
break; 
		}while(0);
		
		$skill424_parse_news_ret =  $skill420_parse_news_ret;
break; 
		}while(0);
		
		$skill430_parse_news_ret =  $skill424_parse_news_ret;
break; 
		}while(0);
		
		$skill247_parse_news_ret =  $skill430_parse_news_ret;
break; 
		}while(0);
		
		$skill261_parse_news_ret =  $skill247_parse_news_ret;
break; 
		}while(0);
		
		$skill602_parse_news_ret =  $skill261_parse_news_ret;
break; 
		}while(0);
		
		$wound_parse_news_ret =  $skill602_parse_news_ret;
break; 
		}while(0);
		
		$item_uv_parse_news_ret =  $wound_parse_news_ret;
break; 
		}while(0);
		
		$skill45_parse_news_ret =  $item_uv_parse_news_ret;
break; 
		}while(0);
		
		$skill46_parse_news_ret =  $skill45_parse_news_ret;
break; 
		}while(0);
		
		$skill60_parse_news_ret =  $skill46_parse_news_ret;
break; 
		}while(0);
		
		$skill62_parse_news_ret =  $skill60_parse_news_ret;
break; 
		}while(0);
		
		$skill63_parse_news_ret =  $skill62_parse_news_ret;
break; 
		}while(0);
		
		$skill203_parse_news_ret =  $skill63_parse_news_ret;
break; 
		}while(0);
		
		$skill71_parse_news_ret =  $skill203_parse_news_ret;
break; 
		}while(0);
		
		$skill74_parse_news_ret =  $skill71_parse_news_ret;
break; 
		}while(0);
		
		$skill216_parse_news_ret =  $skill74_parse_news_ret;
break; 
		}while(0);
		$skill412_parse_news_ret =  $skill216_parse_news_ret;
break; 
		}while(0);
		
		$skill414_parse_news_ret =  $skill412_parse_news_ret;
break; 
		}while(0);
		
		$skill440_parse_news_ret =  $skill414_parse_news_ret;
break; 
		}while(0);
		
		$skill446_parse_news_ret =  $skill440_parse_news_ret;
break; 
		}while(0);
		
		$skill246_parse_news_ret =  $skill446_parse_news_ret;
break; 
		}while(0);
		
		$skill253_parse_news_ret =  $skill246_parse_news_ret;
break; 
		}while(0);
		$skill469_parse_news_ret =  $skill253_parse_news_ret;
break; 
		}while(0);
		
		
		$skill483_parse_news_ret =  $skill469_parse_news_ret;
break; 
		}while(0);
		
		$skill427_parse_news_ret =  $skill483_parse_news_ret;
break; 
		}while(0);
		
		$skill228_parse_news_ret =  $skill427_parse_news_ret;
break; 
		}while(0);
		
		$skill236_parse_news_ret =  $skill228_parse_news_ret;
break; 
		}while(0);
		
		$skill237_parse_news_ret =  $skill236_parse_news_ret;
break; 
		}while(0);
		
		$event_parse_news_ret =  $skill237_parse_news_ret;
break; 
		}while(0); 
		
		$skill5_parse_news_ret =  $event_parse_news_ret;
break; 
		}while(0); 
		
		$skill6_parse_news_ret =  $skill5_parse_news_ret;
break; 
		}while(0);
		$poison_parse_news_ret =  $skill6_parse_news_ret;
break; 
		}while(0);
		
		$skill223_parse_news_ret =  $poison_parse_news_ret;
break; 
		}while(0);
		
		$skill36_parse_news_ret =  $skill223_parse_news_ret;
break; 
		}while(0);
		
		$skill38_parse_news_ret =  $skill36_parse_news_ret;
break; 
		}while(0);
		
		$empowers_parse_news_ret =  $skill38_parse_news_ret;
break; 
		}while(0);
		
		$skill30_parse_news_ret =  $empowers_parse_news_ret;
break; 
		}while(0);
		
		$skill259_parse_news_ret =  $skill30_parse_news_ret;
break; 
		}while(0);
		
		return $skill259_parse_news_ret;
	'

Array\get_external_def ====> '
		
		if (!\\skillbase\\skill_query(33,$pd) || !\\skill33\\check_unlocked33 ($pd)) return \\skill32\\get_external_def($pa, $pd, $active);
		$choice = \\skillbase\\skill_getvalue(33,\'choice\',$pd);
		$r = \\skill32\\get_skill32_extra_def_gain($pa, $pd, $active);
		if ($choice==2) $r = 0;
		if ($choice==3) $r *= -1;
		return \\skill32\\get_external_def($pa, $pd, $active) + $r;
	'

Array\get_external_att ====> '
		
		if (!\\skillbase\\skill_query(33,$pa) || !\\skill33\\check_unlocked33 ($pa)) return \\wep_j\\get_external_att($pa, $pd, $active);
		$choice = \\skillbase\\skill_getvalue(33,\'choice\',$pa);
		
		$r = \\skill32\\get_skill32_extra_def_gain($pd, $pa, $active);
		if ($choice==1) $r *= -0.7;
		if ($choice==2) $r = 0;
		if ($choice==3) $r *= 0.7;
		return \\wep_j\\get_external_att($pa, $pd, $active) + $r * 2;
	'

Array\calculate_weather_itemfind_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill245\\calculate_weather_itemfind_obbs\') 
		{
			return \\skill245\\calculate_weather_itemfind_obbs();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'weather\'));
		return $weather_itemfind_obbs[$weather];
	'

Array\calculate_itemfind_obbs ====> '$pose_calculate_itemfind_obbs_ret = NULL;

		//========Contents from mod pose========
		do{
			
		
		eval(import_module(\'sys\',\'player\',\'pose\'));$mapattr_calculate_itemfind_obbs_ret = NULL;

		//========Contents from mod mapattr========
		do{
			
		
		eval(import_module(\'mapattr\',\'logger\'));
		
		if (!isset($pls_itemfind_obbs[$pls])) $r=0; else $r=$pls_itemfind_obbs[$pls];$itemmain_calculate_itemfind_obbs_ret = NULL;

		//========Contents from mod itemmain========
		do{
			
		
		eval(import_module(\'itemmain\'));
		$itemmain_calculate_itemfind_obbs_ret =  $item_obbs;
break; 
		}while(0);
		$mapattr_calculate_itemfind_obbs_ret =  $itemmain_calculate_itemfind_obbs_ret+$r;
break; 
		}while(0);
		$pose_calculate_itemfind_obbs_ret =  $mapattr_calculate_itemfind_obbs_ret+$pose_itemfind_obbs[$pose];
break; 
		}while(0);
		
		return $pose_calculate_itemfind_obbs_ret+\\weather\\calculate_weather_itemfind_obbs ();
	'

Array\calculate_weather_meetman_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill245\\calculate_weather_meetman_obbs\') 
		{
			return \\skill245\\calculate_weather_meetman_obbs($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'weather\'));
		return $weather_meetman_obbs[$weather];
	'

Array\calculate_findman_obbs ====> '$pose_calculate_findman_obbs_ret = NULL;

		//========Contents from mod pose========
		do{
			
		
		eval(import_module(\'sys\',\'player\',\'pose\'));$mapattr_calculate_findman_obbs_ret = NULL;

		//========Contents from mod mapattr========
		do{
			
		
		eval(import_module(\'mapattr\',\'logger\'));
		
		if (!isset($pls_findman_obbs[$pls])) $r=0; else $r=$pls_findman_obbs[$pls];$tactic_calculate_findman_obbs_ret = NULL;

		//========Contents from mod tactic========
		do{
			
		
		eval(import_module(\'tactic\'));$metman_calculate_findman_obbs_ret = NULL;

		//========Contents from mod metman========
		do{
			
		
		eval(import_module(\'metman\'));
		$metman_calculate_findman_obbs_ret =  $metman_obbs;
break; 
		}while(0);
		$tactic_calculate_findman_obbs_ret =  $metman_calculate_findman_obbs_ret+$tactic_meetman_obbs[$tactic];
break; 
		}while(0);
		$mapattr_calculate_findman_obbs_ret =  $tactic_calculate_findman_obbs_ret+$r;
break; 
		}while(0);
		$pose_calculate_findman_obbs_ret =  $mapattr_calculate_findman_obbs_ret+$pose_meetman_obbs[$pose];
break; 
		}while(0);
		
		return $pose_calculate_findman_obbs_ret+\\weather\\calculate_weather_meetman_obbs ($edata);
	'

Array\calculate_weather_active_obbs ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill245\\calculate_weather_active_obbs\') 
		{
			return \\skill245\\calculate_weather_active_obbs($ldata,$edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'weather\'));
		return $weather_active_obbs[$weather];
	'

Array\calculate_active_obbs ====> '$pose_calculate_active_obbs_ret = NULL;

		//========Contents from mod pose========
		do{
			
		
		eval(import_module(\'sys\',\'pose\'));$enemy_calculate_active_obbs_ret = NULL;

		//========Contents from mod enemy========
		do{
			
		
		eval(import_module(\'enemy\'));
		
		if($edata[\'type\']){ $enemy_calculate_active_obbs_ret =  $active_obbs_npc;
break; }
		else{ $enemy_calculate_active_obbs_ret =  $active_obbs_pc;
break; }
		}while(0);
		
		$pose_calculate_active_obbs_ret =  $enemy_calculate_active_obbs_ret+$pose_active_obbs[$ldata[\'pose\']]+$pose_dactive_obbs[$edata[\'pose\']];
break; 
		}while(0);
		
		
		return $pose_calculate_active_obbs_ret+\\weather\\calculate_weather_active_obbs ($ldata,$edata);
	'

Array\calculate_weather_attack_modifier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill245\\calculate_weather_attack_modifier\') 
		{
			return \\skill245\\calculate_weather_attack_modifier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'weather\'));
		return 1+$weather_attack_modifier[$weather]/100;
	'

Array\get_att_multiplier ====> '$pose_get_att_multiplier_ret = NULL;

		//========Contents from mod pose========
		do{
			
		
		eval(import_module(\'sys\',\'pose\'));
		if (!$pa[\'is_counter\'])		
		{
			$pose_get_att_multiplier_ret =  \\skill7\\get_att_multiplier($pa,$pd,$active)*(1+$pose_attack_modifier[$pa[\'pose\']]/100);
break; 
		}
		else{  $pose_get_att_multiplier_ret =  \\skill7\\get_att_multiplier($pa,$pd,$active);
break; }
		}while(0);
		
		return $pose_get_att_multiplier_ret*\\weather\\calculate_weather_attack_modifier ($pa,$pd,$active);
	'

Array\calculate_weather_defend_modifier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill245\\calculate_weather_defend_modifier\') 
		{
			return \\skill245\\calculate_weather_defend_modifier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'weather\'));
		return 1+$weather_defend_modifier[$weather]/100;
	'

Array\get_def_multiplier ====> '$skill1_get_def_multiplier_ret = NULL;

		//========Contents from mod skill1========
		do{
			
		
		if (\\skillbase\\skill_query(1,$pd)){	
			$skill1_get_def_multiplier_ret =  \\pose\\get_def_multiplier($pa,$pd,$active)*0.75;
break; }
		else{  $skill1_get_def_multiplier_ret =  \\pose\\get_def_multiplier($pa,$pd,$active);
break; }
		}while(0);
		
		return $skill1_get_def_multiplier_ret*\\weather\\calculate_weather_defend_modifier ($pa,$pd,$active);
	'

Array\get_hitrate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill444\\get_hitrate\') 
		{
			return \\tutorial\\get_hitrate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'weather\'));
		if($weather == 12)
			return \\skill223\\get_hitrate($pa,$pd,$active)+20;
		else  return \\skill223\\get_hitrate($pa,$pd,$active);
	'

Array\deal_hailstorm_weather_damage ====> '
		return \\skill245\\deal_hailstorm_weather_damage();'

Array\apply_tornado_weather_effect ====> '
		return \\skill245\\apply_tornado_weather_effect();'

Array\move_to_area ====> '
		return \\searchmemory\\move_to_area($moveto);'

Array\search_area ====> '
		
		
		eval(import_module(\'sys\',\'map\',\'player\',\'logger\'));
		if($weather == 13) 
		{
			\\weather\\deal_hailstorm_weather_damage ();
			if ($hp<=0) return;
		} 
		elseif($weather == 14)	
		{
			$dice = rand(0,9);
			if($dice ==0 && strpos($inf,\'e\')===false){
				$log .= "空气中充斥着的<span class=\\"linen\\">狂暴电磁波</span>导致你<span class=\\"yellow\\">身体麻痹</span>了！<br>";
				\\wound\\get_inf(\'e\');
			}elseif($dice ==1 && strpos($inf,\'w\')===false){
				$log .= "空气中充斥着的<span class=\\"linen\\">狂暴电磁波</span>导致你<span class=\\"grey\\">混乱</span>了！<br>";
				\\wound\\get_inf(\'w\');
			}else{
				$log .= "空气中充斥着狂暴的电磁波……<br>";
			}
		} 
		elseif($weather == 15)	
		{
			$dice = rand(0,9);
			if($dice == 0){
				$mhpdown = rand(1,4);
				if($mhp > $mhpdown){
					$log .= "空气中弥漫着的<span class=\\"green\\">放射性尘埃</span>导致你的生命上限减少了<span class=\\"red\\">{$mhpdown}</span>点！<br>";
					$mhp -= $mhpdown;
					if($hp > $mhp){$hp = $mhp;}
				}
			}else{
				$log .= "空气中弥漫着放射性尘埃……<br>";
			}
		} 
		elseif($weather == 16)	
		{
			$dice = rand(0,9);
			if($dice == 0){
				$defdown = rand(2,5);
				if($def > $defdown){
					$log .= "高强度的<span class=\\"purple\\">紫外线照射</span>导致你的防御力减少了<span class=\\"red\\">{$defdown}</span>点！<br>";
					$def -= $defdown;if($def < 0) $def = 0;
				}
			}elseif($dice ==1 && strpos($inf,\'u\')===false){
				$log .= "高强度的<span class=\\"purple\\">紫外线照射</span>导致你<span class=\\"red\\">烧伤</span>了！<br>";
				\\wound\\get_inf(\'u\');
			}else{
				$log .= "高强度的紫外线灼烧着大地……<br>";
			}
		} 
		elseif($weather == 17)	
		{
			
		}$skill6_search_area_ret = NULL;

		//========Contents from mod skill6========
		do{
			
		
		
		if (\\skillbase\\skill_query(6))
		{
			$damage = round($mhp * 0.03125) + rand(0,10);
			\\skill6\\deal_burn_move_damage ($damage);
		}
		if ($hp>0){$skill5_search_area_ret = NULL;

		//========Contents from mod skill5========
		do{
			
		
		
		if (\\skillbase\\skill_query(5))
		{
			$damage = round($mhp * 0.03125) + rand(0,10);
			\\skill5\\deal_poison_move_damage ($damage);
		}
		if ($hp>0){$skill261_search_area_ret = NULL;

		//========Contents from mod skill261========
		do{
			
		
		eval(import_module(\'skill261\'));
		if (\\skillbase\\skill_query(261) && \\skill261\\check_skill261_state ($sdata)==2)
		{
			$wp-=5;
			if ($wp<50) $wp=50;
		}$explore_search_area_ret = NULL;

		//========Contents from mod explore========
		do{
			
		
		\\explore\\discover (\'search\');
		}while(0);
		$explore_search_area_ret;
		}while(0); $skill261_search_area_ret;}
		}while(0); $skill5_search_area_ret;}
		}while(0);
		$skill6_search_area_ret;
	'

Array\add_once_area ====> '
		
		
		eval(import_module(\'sys\'));
		
		if($weather <= 13) {
			$o_weather = $weather;
			do { $weather = rand(0,9); } while($weather == $o_weather);		
		}$map_add_once_area_ret = NULL;

		//========Contents from mod map========
		do{
			
		
		
		eval(import_module(\'map\'));
		if (($gamestate > 10)&&($now > $atime)) {
			$plsnum = sizeof($plsinfo) - 1;
			
			$areanum += $areaadd;
			





			
			if($areanum >= $plsnum) 
			{
				$areaaddlist = array_slice($arealist,$areanum - $areaadd +1);
				$areanum = $plsnum;
			}
			else
			{
				if($hack > 0){$hack--;}
				$areaaddlist = array_slice($arealist,$areanum - $areaadd +1,$areaadd);
				
			}
			
			\\map\\addarea_pc_process ($atime);
			
			addnews($atime, \'addarea\',$areaaddlist,$weather);
			systemputchat($atime,\'areaadd\',$areaaddlist);
			
			\\map\\check_addarea_gameover ($atime);
		} else {
			$map_add_once_area_ret = NULL;
break; 
		}
		}while(0);
		$map_add_once_area_ret;
	'

Array\rs_game ====> '
		return \\tutorial\\rs_game($xmode);'

Array\init_playerdata ====> '
		
		eval(import_module(\'sys\',\'player\'));
		if(($weather == 8)||($weather == 9)||($weather == 12)) 
		{
			$fog = true;
		}$lvlctl_init_playerdata_ret = NULL;

		//========Contents from mod lvlctl========
		do{
			
		
		eval(import_module(\'lvlctl\'));
		$upexp = \\lvlctl\\calc_upexp ($lvl);
		
		$lvlupexp = $upexp - $exp;$player_init_playerdata_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		
		
		$iconImg = $gd.\'_\'.$icon.\'.gif\';
		$iconImgB = $gd.\'_\'.$icon.\'a.gif\';
		

		if(!$weps) {
			$wep = $nowep;$wepk = \'WN\';$wepsk = \'\';
			$wepe = 0; $weps = $nosta;
		}
		if(!$arbs) {
			$arb = $noarb;$arbk = \'DN\'; $arbsk = \'\';
			$arbe = 0; $arbs = $nosta;
		}
		}while(0);
		$player_init_playerdata_ret;
		}while(0);
		$lvlctl_init_playerdata_ret;
	'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\newradar ====> '
		
		eval(import_module(\'sys\',\'logger\'));
		if($weather == 14)
		{
			$log .= \'由于<span class="linen">离子风暴</span>造成了电磁干扰，探测仪器完全显示不出信息……<br>\';
			return;
		}$radar_newradar_ret = NULL;

		//========Contents from mod radar========
		do{
			
		
		
		eval(import_module(\'player\',\'map\',\'radar\'));
		if(!$mode) {
			$log .= \'仪器使用失败！<br>\';
			$radar_newradar_ret = NULL;
break; 
		}
		
		$npctplist = Array(90,2,5,6,7,11,14);
		$tdheight = 20;
		$screenheight = count($plsinfo)*$tdheight;
		$result = $db->query("SELECT type,pls FROM {$tablepre}players WHERE hp>0");
		while($cd = $db->fetch_array($result)) {
			$chdata[] = $cd;
		}
		$radar = array();
		foreach ($chdata as $data){
			if(isset($radar[$data[\'pls\']][$data[\'type\']])){$radar[$data[\'pls\']][$data[\'type\']]+=1;}
			else{$radar[$data[\'pls\']][$data[\'type\']]=1;}
		}
		$radarscreen = \'<table height=\'.$screenheight.\'px width=720px border="0" cellspacing="0" cellpadding="0" valign="middle"><tbody>\';
		$radarscreen .= "<tr>
			<td class=b2 height={$tdheight}px width=120px><div class=nttx></div></td>
			<td class=b2><div class=nttx>{$typeinfo[0]}</div></td>";
		foreach ($npctplist as $value){
			$radarscreen .= "<td class=b2><div class=nttx>{$typeinfo[$value]}</div></td>";
		}
		$radarscreen .= \'</tr>\';
		for($i=0;$i<count($plsinfo);$i++) {
			$radarscreen .= "<tr><td class=b2 height={$tdheight}px><div class=nttx>{$plsinfo[$i]}</div></td>";
			if((array_search($i,$arealist) > $areanum) || $hack) {
				if($i==$pls) {
					$num0 = $radar[$i][0];
					foreach ($npctplist as $j){
						if($gamestate == 50){${\'num\'.$j} = 0;}
						else{
							${\'num\'.$j} = isset($radar[$i][$j]) ? $radar[$i][$j] : 0;
						}
					}
					if($num0){
						$pnum[$i] ="<span class=\\"yellow b\\">$num0</span>";
					} else {
						$pnum[$i] =\'<span class="yellow b">-</span>\';
					}
					foreach ($npctplist as $j){
						if(${\'num\'.$j}){
						${\'npc\'.$j.\'num\'}[$i] ="<span class=\\"yellow b\\">${\'num\'.$j}</span>";
						} else {
						${\'npc\'.$j.\'num\'}[$i] =\'<span class="yellow b">-</span>\';
						}
					}
				} elseif($mms == 2) {
					$num0 = isset($radar[$i][0]) ? $radar[$i][0] : 0;
					foreach ($npctplist as $j){
						if($gamestate == 50){${\'num\'.$j} = 0;}
						else{
							${\'num\'.$j} = isset($radar[$i][$j]) ? $radar[$i][$j] : 0;
						}
						
					}
					if($num0){
						$pnum[$i] =$num0;
					} else {
						$pnum[$i] =\'-\';
					}
					foreach ($npctplist as $j){
						if(${\'num\'.$j}){
						${\'npc\'.$j.\'num\'}[$i] =${\'num\'.$j};
						} else {
						${\'npc\'.$j.\'num\'}[$i] =\'-\';
						}
					}
				} else {
					$pnum[$i] = \'？\';
					foreach ($npctplist as $j){
						${\'npc\'.$j.\'num\'}[$i] = \'？\';
					}
				}
			} else {
				$pnum[$i] = \'<span class="red b">×</span>\';
				foreach ($npctplist as $j){
					${\'npc\'.$j.\'num\'}[$i] = \'<span class="red b">×</span>\';
				}
			}
			$radarscreen .= "<td class=b3><div class=nttx>{$pnum[$i]}</div></td>";
			foreach ($npctplist as $j){
				$radarscreen .= "<td class=b3><div class=nttx>{${\'npc\'.$j.\'num\'}[$i]}</div></td>";
			}	
			$radarscreen .= \'</tr>\';
		}
		$radarscreen .= \'</tbody></table>\';
		$log .= \'白色数字：该区域内的人数<br><span class="yellow b">黄色数字</span>：自己所在区域的人数<br><span class="red b">×</span>：禁区<br><br>\';
		include template(MOD_RADAR_RADARCMD);
		$cmd = ob_get_contents();
		ob_clean();
		$main = MOD_RADAR_RADAR;
		$radar_newradar_ret = NULL;
break; 
		}while(0);
		$radar_newradar_ret;
	'

Array\apply_fog_meetenemy_effect ====> '
		return \\skill252\\apply_fog_meetenemy_effect($ismeet);'

Array\init_battle ====> '
		return \\skill252\\init_battle($ismeet);'

Array\attack_finish ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill42\\attack_finish\') 
		{
			return \\skill42\\attack_finish($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\'));
		if(17 == $weather){
			\\weather\\weather_aurora_check ($pa, $pd, $active);
		}$rage_attack_finish_ret = NULL;

		//========Contents from mod rage========
		do{
			
		
		if (\\attrbase\\check_itmsk(\'c\',$pa))
		{
			$lost_rage = $pa[\'original_rage\']-$pa[\'rage\'];
			if ($lost_rage > 0)
			{
				$payback_rage = round($lost_rage/10);
				$pa[\'rage\']+=$payback_rage;
				if ($pa[\'rage\']>100) $pa[\'rage\']=100;
			}
		}$skill41_attack_finish_ret = NULL;

		//========Contents from mod skill41========
		do{
			
		
		if (\\skillbase\\skill_query(41,$pa) && \\skill41\\check_unlocked41 ($pa))
		{
			if (rand(0,99)<50) $pa[\'att\']++;
		}$skill40_attack_finish_ret = NULL;

		//========Contents from mod skill40========
		do{
			
		
		if (\\skillbase\\skill_query(40,$pa) && \\skill40\\check_unlocked40 ($pa))
		{
			$pa[\'att\']++;
		}
		if (\\skillbase\\skill_query(40,$pd) && \\skill40\\check_unlocked40 ($pd))
		{
			$pd[\'def\']++;
		}$npcchat_attack_finish_ret = NULL;

		//========Contents from mod npcchat========
		do{$weapon_attack_finish_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		
		\\weapon\\apply_attack_exp_gain ($pa, $pd, $active);$attack_attack_finish_ret = NULL;

		//========Contents from mod attack========
		do{
			
		
		\\attack\\player_damaged_enemy ($pa,$pd,$active);
		if ($pd[\'hp\']<=0){
			\\attack\\player_kill_enemy ($pa, $pd, $active);
			\\player\\player_save($pa);
			\\player\\player_save($pd);
			if ($active)
			{
				\\player\\load_playerdata($pa);
			}
			else
			{
				\\player\\load_playerdata($pd);
			}
		}
		if ($pa[\'hp\']<=0){
			\\attack\\player_kill_enemy ($pd, $pa, 1-$active);
			\\player\\player_save($pa);
			\\player\\player_save($pd);
			if ($active)
			{
				\\player\\load_playerdata($pa);
			}
			else
			{
				\\player\\load_playerdata($pd);
			}
		}
		unset($pa[\'physical_dmg_dealt\']);
		}while(0);
		
		$attack_attack_finish_ret;
		}while(0);
			
		
		$weapon_attack_finish_ret;
		if ($pd[\'type\'] && $pd[\'hp\']>0) \\npcchat\\npcchat ($pa, $pd, $active, \'battle\');
		}while(0);
		$npcchat_attack_finish_ret;
		}while(0);
		$skill40_attack_finish_ret;
		}while(0);
		$skill41_attack_finish_ret;
		}while(0);
		$rage_attack_finish_ret;
		\\weather\\weather_aurora_revive_process ($pa, $pd);
	'

Array\kill ====> '$skill427_kill_ret = NULL;

		//========Contents from mod skill427========
		do{$skill475_kill_ret = NULL;

		//========Contents from mod skill475========
		do{
			
		
		
		if (!\\skillbase\\skill_query(475,$pa) && !\\skillbase\\skill_query(475,$pd)){ $skill475_kill_ret =  \\skill483\\kill($pa, $pd);
break; }

		if ($pa[\'pid\']!=$pd[\'pid\'] && $pa[\'type\']==0 && $pd[\'type\']==0)	
		{
			$ebounty=(int)\\skillbase\\skill_getvalue(475,\'bounty\',$pd);
			$wptgain=round($ebounty*0.15);
			$btgain=round($ebounty*0.3);
			$nwpt=((int)\\skillbase\\skill_getvalue(475,\'wpt\',$pa))+$wptgain;
			$nbt=((int)\\skillbase\\skill_getvalue(475,\'bounty\',$pa))+$btgain;
			$nbt_pd=$ebounty-$wptgain-$btgain;
			\\skillbase\\skill_setvalue(475,\'wpt\',$nwpt,$pa);
			\\skillbase\\skill_setvalue(475,\'bounty\',$nbt,$pa);
			\\skillbase\\skill_setvalue(475,\'bounty\',$nbt_pd,$pd);
			eval(import_module(\'sys\',\'player\',\'logger\'));
			if ($pa[\'pid\']==$sdata[\'pid\'])
				$log.=\'<span class="orange">你获得了\'.$wptgain.\'点胜利点数！</span><br>\';
			else
			{
				if (in_array($pd[\'state\'],Array(20,21,22,23,24,25,29)))	
					$pa[\'battlelog\'].=\'<span class="orange">你获得了\'.$wptgain.\'点胜利点数！</span><br>\';
				else
				{
					$w_log.=\'<span class="orange">你获得了\'.$wptgain.\'点胜利点数！</span><br>\';
					\\logger\\logsave ( $pa[\'pid\'], $now, $w_log ,\'b\');
				}
			}
		}
		else if ($pa[\'type\']==0 && $pd[\'type\']>0)	
		{
			$wptarr=Array(
				2=>250,	
				5=>1200,	
				6=>2500,	
				11=>750,	
				45=>750,	
				90=>20	
			);
			if (isset($wptarr[$pd[\'type\']]))
			{
				$wptgain=$wptarr[$pd[\'type\']];
				$nwpt=((int)\\skillbase\\skill_getvalue(475,\'wpt\',$pa))+$wptgain;
				\\skillbase\\skill_setvalue(475,\'wpt\',$nwpt,$pa);
				eval(import_module(\'logger\'));
				$log.=\'<span class="orange">你获得了\'.$wptgain.\'点胜利点数！</span><br>\';
			}
		}
		else if ($pd[\'type\']==0) 
		{
			$cnt=(int)\\skillbase\\skill_getvalue(475,\'dc\',$pd);
			$cnt++;
			if ($cnt>3) 
			{
				$pd[\'mhp\']=ceil($pd[\'mhp\']*0.95);
				$nwpt=(int)\\skillbase\\skill_getvalue(475,\'wpt\',$pd);
				$nwpt=round($nwpt*0.97);
				\\skillbase\\skill_setvalue(475,\'wpt\',$nwpt,$pd);
			}
			\\skillbase\\skill_setvalue(475,\'dc\',$cnt,$pd);
		}
				
		$skill475_kill_ret =  \\skill483\\kill($pa,$pd);
break; 
		}while(0);
			
		
		
		$skill475_kill_ret;
		
		eval(import_module(\'sys\',\'logger\'));
		
		if (in_array($pd[\'state\'],Array(20,21,22,23,24,25,27,29)))
			if (\\skillbase\\skill_query(427,$pd))
			{
				if (($pa[\'type\']==88)||($pa[\'type\']==1)){
					$log.= "<span class=\\"linen\\">都告诉你了，对某些NPC无效……快去死吧。</span><br>";
					$skill427_kill_ret = NULL;
break; 
				}
				\\skillbase\\skill_setvalue(427,\'r\',\'1\',$pd);
				if ($pd[\'state\']==27 && !$pd[\'sourceless\'])	
				{
					$log.= "<span class=\\"lime\\">但是，由于你及时按下了BOMB键，你原地满血复活了！</span><br>";
					$w_log = "<span class=\\"lime\\">但是，由于{$pd[\'name\']}及时按下了BOMB键，其原地满血复活了！</span><br>";
					\\logger\\logsave ( $pa[\'pid\'], $now, $w_log ,\'b\');
				}
				else
				{
					
				}
				$pd[\'state\']=0; $pd[\'hp\']=$pd[\'mhp\'];
				$pd[\'skill427_flag\']=1;
				$deathnum--;
				if ($pd[\'type\']==0) $alivenum++;
				save_gameinfo();
				
				if (\\skillbase\\skill_query(424,$pd)){
					$clv=\\skillbase\\skill_getvalue(424,\'lvl\',$pd); 
					$clv=$clv-2;
					if ($clv<0) $clv=0;
					\\skillbase\\skill_setvalue(424,\'lvl\',$clv,$pd); 
				}
				
				
				if ($pd[\'state\']==27){
					$pa[\'skillpoint\']+=3;
				}
				
				addnews ( $now, \'revival\', $pd[\'name\'] );
			}
		}while(0);
		
		
		$skill427_kill_ret;
		
		eval(import_module(\'sys\',\'logger\'));
		\\weather\\weather_aurora_revive_process ($pa, $pd);
	'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\get_ex_def_array ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill34\\get_ex_def_array\') 
		{
			return \\skill34\\get_ex_def_array($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(28, $pd) || !\\skill28\\check_unlocked28 ($pd)) return \\attrbase\\get_ex_def_array($pa, $pd, $active);
		$r = \\attrbase\\get_ex_def_array($pa, $pd, $active);
		if (\\itemmain\\count_itmsk_num($pd[\'wepsk\'])===0) array_push($r, \'A\');
		return $r;
	'

Array\get_ex_phy_def_proc_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill243\\get_ex_phy_def_proc_rate\') 
		{
			return \\skill243\\get_ex_phy_def_proc_rate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(254,$pa) || !\\skill254\\check_unlocked254 ($pa)) return \\ex_phy_def\\get_ex_phy_def_proc_rate($pa, $pd, $active);
		return max(100-max(100-\\ex_phy_def\\get_ex_phy_def_proc_rate($pa, $pd, $active),0)*3,0);
	'

Array\get_ex_attack_array ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill47\\get_ex_attack_array\') 
		{
			return \\skill26\\get_ex_attack_array($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		$attrbase_get_ex_attack_array_ret = NULL;

		//========Contents from mod attrbase========
		do{
			
		
		if (\\attrbase\\attr_dmg_check_not_WPG ($pa, $pd, $active))
			$ret = \\itemmain\\get_itmsk_array($pa[\'wepsk\']);
		else $ret = array();
		
		if (defined(\'MOD_ARMOR\'))
		{		
			eval(import_module(\'armor\'));
			foreach ($armor_equip_list as $itm)
				foreach (\\itemmain\\get_itmsk_array($pa[$itm.\'sk\']) as $key)
					array_push($ret,$key);	
		}
		
		if (defined(\'MOD_ARMOR_ART\'))
		{
			$ret = array_merge($ret,\\itemmain\\get_itmsk_array($pa[\'artsk\']));
			
			if ($pa[\'artk\']==\'Al\') array_push($ret,\'l\');
			if ($pa[\'artk\']==\'Ag\') array_push($ret,\'g\');
		}
		$attrbase_get_ex_attack_array_ret =  $ret;
break; 
		}while(0);
		
		$ret = $attrbase_get_ex_attack_array_ret;
		if (\\skillbase\\skill_query(254,$pa) && \\skill254\\check_unlocked254 ($pa)) array_push($ret,\'N\');
		return $ret;
	'

Array\calculate_attack_rage_gain ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill410\\calculate_attack_rage_gain\') 
		{
			return \\skill410\\calculate_attack_rage_gain($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(37,$pd) || !\\skill37\\check_unlocked37 ($pd)) return \\rage\\calculate_attack_rage_gain($pa, $pd, $active);
		return \\rage\\calculate_attack_rage_gain($pa, $pd, $active)+rand(1,2);
	'

Array\attack_finish ====> '
		return \\skill42\\attack_finish($pa,$pd,$active);'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill49\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=73) return \\ex_attr_charge\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(73,$pa) || !\\skill73\\check_unlocked73 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill73\\get_rage_cost73 ($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「必杀」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「必杀」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill73\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\ex_attr_charge\\strike_prepare($pa, $pd, $active);
	'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\attack_finish ====> '
		return \\skill42\\attack_finish($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\calculate_attack_rage_gain ====> '
		
		if (!\\skillbase\\skill_query(410,$pd) || !\\skill410\\check_unlocked410 ($pd)) return \\skill37\\calculate_attack_rage_gain($pa, $pd, $active);
		return \\skill37\\calculate_attack_rage_gain($pa, $pd, $active)+4;
	'

Array\calculate_search_sp_cost ====> '
		
		if ((\\skillbase\\skill_query(410))&&(\\skill410\\check_unlocked410 ())) return \\skill8\\calculate_search_sp_cost()-12;
		return \\skill8\\calculate_search_sp_cost();
	'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\check_rapid ====> '$ex_rapid_attr_check_rapid_ret = NULL;

		//========Contents from mod ex_rapid_attr========
		do{
			
		
		$r=\\attrbase\\get_ex_attack_array($pa, $pd, $active);
		$ex_rapid_attr_check_rapid_ret =  $r;
break; 
		}while(0);
		
		$ret = $ex_rapid_attr_check_rapid_ret;
		eval(import_module(\'skill258\'));
		if ($pa[\'wepk\']=="WN" && \\skillbase\\skill_query(258,$pa) && \\skill258\\check_unlocked258 ($pa) && \\skill258\\check_skill258_proc ($pa)) array_push($ret,\'r\');
		return $ret;
	'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\get_hitrate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill207\\get_hitrate\') 
		{
			return \\tutorial\\get_hitrate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(444,$pa) || !\\skill444\\check_unlocked444 ($pa)) return \\weather\\get_hitrate($pa, $pd, $active);
		return \\weather\\get_hitrate($pa, $pd, $active)*0.45;
	'

Array\get_rapid_accuracy_loss ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill207\\get_rapid_accuracy_loss\') 
		{
			return \\skill50\\get_rapid_accuracy_loss($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(444,$pa) || !\\skill444\\check_unlocked444 ($pa)) return \\ex_rapid_attr\\get_rapid_accuracy_loss($pa, $pd, $active);
		return \\ex_rapid_attr\\get_rapid_accuracy_loss($pa, $pd, $active)*0.9;
	'

Array\get_rapid_accuracy_loss ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill49\\get_rapid_accuracy_loss\') 
		{
			return \\skill50\\get_rapid_accuracy_loss($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(207,$pa) || !\\skill207\\check_unlocked207 ($pa)) return \\skill444\\get_rapid_accuracy_loss($pa, $pd, $active);
		return \\skill444\\get_rapid_accuracy_loss($pa, $pd, $active)*\\skill207\\get_skill207_extra_rb_gain ($pa, $pd, $active);
	'

Array\get_hitrate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill49\\get_hitrate\') 
		{
			return \\tutorial\\get_hitrate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(207,$pa) || !\\skill207\\check_unlocked207 ($pa)) return \\skill444\\get_hitrate($pa, $pd, $active);
		return \\skill444\\get_hitrate($pa, $pd, $active)*\\skill207\\get_skill207_extra_acc_gain ($pa, $pd, $active);
	'

Array\get_weapon_fluc_max_range ====> '
		
		if (!\\skillbase\\skill_query(207,$pa) || !\\skill207\\check_unlocked207 ($pa)) return \\weapon\\get_weapon_fluc_max_range($pa, $pd, $active);
		return \\weapon\\get_weapon_fluc_max_range($pa, $pd, $active)*\\skill207\\get_skill207_fluc_bonus ($pa, $pd, $active);
	'

Array\check_counterable_by_weapon_range ====> '
		
		if (!\\skillbase\\skill_query(207,$pa) || !\\skill207\\check_unlocked207 ($pa)) return \\weapon\\check_counterable_by_weapon_range($pa, $pd, $active);
		if (rand(0,99)<\\skill207\\get_skill207_rangerate ($pa, $active) && \\weapon\\get_weapon_range($pd, 1-$active)!=0) 
			return 1;
		return \\weapon\\check_counterable_by_weapon_range($pa, $pd, $active);
	'

Array\calculate_counter_rate_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill478\\calculate_counter_rate_multiplier\') 
		{
			return \\skill478\\calculate_counter_rate_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(207,$pa) || !\\skill207\\check_unlocked207 ($pa)) return \\skill9\\calculate_counter_rate_multiplier($pa, $pd, $active);
		if ($pa[\'wepk\']!=\'WK\') return \\skill9\\calculate_counter_rate_multiplier($pa, $pd, $active);
		eval(import_module(\'skill207\'));
		$clv = (int)\\skillbase\\skill_getvalue(207,\'lvl\',$pa);
		$r=1;
		if ($clv>=6) $r=1.3;
		return \\skill9\\calculate_counter_rate_multiplier($pa, $pd, $active)*$r;
	'

Array\get_hitrate ====> '
		return \\tutorial\\get_hitrate($pa,$pd,$active);'

Array\get_rapid_accuracy_loss ====> '
		return \\skill50\\get_rapid_accuracy_loss($pa,$pd,$active);'

Array\get_wf_sp_cost ====> ''

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_nullify\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=49) return \\skill73\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(49,$pa) || !\\skill49\\check_unlocked49 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill49\\get_rage_cost49 ($pa);
			if ($pa[\'rage\']>=$rcost && $pa[\'wep_kind\']==\'C\')
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「潜能」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「潜能」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill49\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill73\\strike_prepare($pa, $pd, $active);
	'

Array\get_hitrate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill478\\get_hitrate\') 
		{
			return \\tutorial\\get_hitrate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=49){$skill65_get_hitrate_ret = NULL;

		//========Contents from mod skill65========
		do{
			
		
		if (!\\skillbase\\skill_query(65,$pa) || !\\skill65\\check_unlocked65 ($pa)){ $skill65_get_hitrate_ret =  \\skill207\\get_hitrate($pa, $pd, $active);
break; }
		eval(import_module(\'skill65\'));
		$clv = (int)\\skillbase\\skill_getvalue(65,\'lvl\',$pa);
		$skill65_get_hitrate_ret =  \\skill207\\get_hitrate($pa, $pd, $active)*(1-$dodgerate[$clv]/100);
break; 
		}while(0); return $skill65_get_hitrate_ret;}
		return 10000;
	'

Array\get_rapid_accuracy_loss ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill248\\get_rapid_accuracy_loss\') 
		{
			return \\skill50\\get_rapid_accuracy_loss($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=49){$skill65_get_rapid_accuracy_loss_ret = NULL;

		//========Contents from mod skill65========
		do{
			
		
		if (!\\skillbase\\skill_query(65,$pa) || !\\skill65\\check_unlocked65 ($pa)){ $skill65_get_rapid_accuracy_loss_ret =  \\skill207\\get_rapid_accuracy_loss($pa, $pd, $active);
break; }
		eval(import_module(\'skill65\'));
		$clv = (int)\\skillbase\\skill_getvalue(65,\'lvl\',$pa);
		$skill65_get_rapid_accuracy_loss_ret =  \\skill207\\get_rapid_accuracy_loss($pa, $pd, $active)*(1-$rhitpunish[$clv]/100);
break; 
		}while(0); return $skill65_get_rapid_accuracy_loss_ret;}
		return 10.0;
	'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_rapid_accuracy_loss ====> '
		return \\skill50\\get_rapid_accuracy_loss($pa,$pd,$active);'

Array\get_hitrate ====> '
		return \\tutorial\\get_hitrate($pa,$pd,$active);'

Array\calculate_hide_obbs ====> '
		
		if (!\\skillbase\\skill_query(248,$edata)) return \\pose\\calculate_hide_obbs($edata);
		$lv=(int)\\skillbase\\skill_getvalue(248,\'lvl1\',$edata);
		return \\pose\\calculate_hide_obbs($edata)+\\skill248\\calculate_skill248_hide_gain ($lv);
	'

Array\calculate_active_obbs_multiplier ====> '
		return \\searchmemory\\calculate_active_obbs_multiplier($ldata,$edata);'

Array\calculate_counter_rate_multiplier ====> '
		return \\skill478\\calculate_counter_rate_multiplier($pa,$pd,$active);'

Array\get_hitrate ====> '
		return \\tutorial\\get_hitrate($pa,$pd,$active);'

Array\get_rapid_accuracy_loss ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill50\\get_rapid_accuracy_loss\') 
		{
			return \\skill50\\get_rapid_accuracy_loss($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		$skill201_get_rapid_accuracy_loss_ret = NULL;

		//========Contents from mod skill201========
		do{
			
		
		if (!\\skillbase\\skill_query(201,$pa) || !\\skill201\\check_unlocked201 ($pa)){ $skill201_get_rapid_accuracy_loss_ret =  \\skill49\\get_rapid_accuracy_loss($pa, $pd, $active);
break; }
		$skill201_get_rapid_accuracy_loss_ret =  \\skill49\\get_rapid_accuracy_loss($pa, $pd, $active)*\\skill201\\get_skill201_extra_rb_gain ($pa, $pd, $active);
break; 
		}while(0);
		
		$val=$skill201_get_rapid_accuracy_loss_ret;
		if (\\skillbase\\skill_query(248,$pa))
		{
			$lv = (int)\\skillbase\\skill_getvalue(248,\'lvl3\',$pa);
			$r = \\skill248\\calculate_skill248_hitrate_r_gain ($lv);
			$val = $val*(1+$r/100);
		}
		if (\\skillbase\\skill_query(248,$pd))
		{
			$lv = (int)\\skillbase\\skill_getvalue(248,\'lvl2\',$pd);
			$r = \\skill248\\calculate_skill248_dodge_r_gain ($lv);
			$val = $val*(1-$r/100);
		}
		return $val;
	'

Array\get_trap_escape_rate ====> '
		
		if (\\attrbase\\check_itmsk(\'M\'))
			return \\ex_attr_trap\\calculate_trapdetect_rate ()+\\tactic\\get_trap_escape_rate();
		else  return \\tactic\\get_trap_escape_rate();
	'

Array\check_trapdef_proc ====> '
		return \\miracletrap\\check_trapdef_proc();'

Array\trap_deal_damage ====> '
		
		eval(import_module(\'sys\',\'player\',\'trap\',\'logger\'));
		
		if (\\attrbase\\check_itmsk(\'m\'))
			if (\\ex_attr_trap\\check_trapdef_proc ())
				return;$skill250_trap_deal_damage_ret = NULL;

		//========Contents from mod skill250========
		do{
			
		
		if (\\skillbase\\skill_query(250)) 
		{
			
			$log.=\'<span class="clan">“为什么莫名地感到有些不安……” </span><br>\';
		}$trap_trap_deal_damage_ret = NULL;

		//========Contents from mod trap========
		do{
			
		
		eval(import_module(\'sys\',\'player\',\'trap\',\'logger\'));
		
		$bid = $itmsk0;
		if($bid) {
			$pa=\\player\\fetch_playerdata_by_pid($bid);
		}else {
			$pa=\\player\\create_dummy_playerdata();
		}
		$damage = \\trap\\get_trap_damage ();
		
		$log .= "糟糕，你触发了{$trprefix}陷阱<span class=\\"yellow\\">$itm0</span>！";
	
		$tritm=Array();
		$tritm[\'itm\']=$itm0; $tritm[\'itmk\']=$itmk0; 
		$tritm[\'itme\']=$itme0; $tritm[\'itms\']=$itms0; $tritm[\'itmsk\']=$itmsk0;
		$multiplier = \\trap\\get_trap_damage_multiplier ($pa, $sdata, $tritm, $damage);
		
		if (count($multiplier)>0)
		{
			$fin_dmg=$damage; $mult_words=\'\';
			foreach ($multiplier as $key)
			{
				$fin_dmg=$fin_dmg*$key;
				$mult_words.="×{$key}";
			}
			$fin_dmg=round($fin_dmg);
			if ($fin_dmg < 1) $fin_dmg = 1;
			$log .= "你受到了{$damage}{$mult_words}＝<span class=\\"dmg\\">{$fin_dmg}</span>点伤害。<br>";
			$damage = $fin_dmg;
		}
		else
		{
			$log.="你受到了<span class=\\"dmg\\">$damage</span>点伤害！<br>";
		}
		
		$damage = \\trap\\get_trap_final_damage_modifier_up ($pa, $sdata, $tritm, $damage);
		
		$damage = \\trap\\get_trap_final_damage_modifier_down ($pa, $sdata, $tritm, $damage);
		
		$damage = \\trap\\get_trap_final_damage_change ($pa, $sdata, $tritm, $damage);

		$hp -= $damage;
		
		if ($damage>0) \\trap\\post_traphit_events ($pa, $sdata, $tritm, $damage);
		
		if($playerflag){
			addnews($now,\'trap\',$name,$trname,$itm0,$damage);
		}
		
		\\trap\\send_trap_enemylog (1);
		}while(0);
		$skill250_trap_deal_damage_ret =  $trap_trap_deal_damage_ret;
break; 
		}while(0);
	
		$skill250_trap_deal_damage_ret;
	'

Array\trap_miss_broken ====> '
		
		eval(import_module(\'logger\'));
		if (\\attrbase\\check_itmsk(\'M\')) $log.=\'在探雷装备的帮助下，\';$trap_trap_miss_broken_ret = NULL;

		//========Contents from mod trap========
		do{
			
		
		eval(import_module(\'sys\',\'player\',\'trap\'));
		$log .= "你发现了{$trprefix}陷阱<span class=\\"yellow\\">$itm0</span>，不过你成功地回避了它。<br>";
		$itm0 = $itmk0 = $itmsk0 = \'\';
		$itme0 = $itms0 = 0;
		$mode = \'command\';
		}while(0);
		$trap_trap_miss_broken_ret;
	'

Array\trap_miss_reused ====> '
		
		eval(import_module(\'logger\'));
		if (\\attrbase\\check_itmsk(\'M\')) $log.=\'在探雷装备的帮助下，\';$trap_trap_miss_reused_ret = NULL;

		//========Contents from mod trap========
		do{
			
		
		eval(import_module(\'sys\',\'player\',\'trap\'));
		$log .= "你发现了{$trprefix}陷阱<span class=\\"yellow\\">$itm0</span>，不过你并没有触发它。陷阱看上去还可以重复使用。<br>";			
		$itmsk0 = \'\';$itmk0 = str_replace(\'TO\',\'TN\',$itmk0);
		$mode = \'itemfind\';
		}while(0);
		$trap_trap_miss_reused_ret;
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_wg_att_as_wp_modifier ====> ''

Array\get_wj_att_as_wp_modifier ====> ''

Array\calculate_wepimp_rate ====> '
		
		eval(import_module(\'weapon\'));
		$r=1;
		if ((\\skillbase\\skill_query(422,$pa))&&(\\skill422\\check_unlocked422 ($pa))){
			if ($pa[\'wep_kind\']==\'P\' && substr($pa[\'wepk\'],1,1) == \'J\') $r=0.15;
			if ($pa[\'wep_kind\']==\'P\' && substr($pa[\'wepk\'],1,1) == \'G\') $r=0.4;
		}$ex_rapid_attr_calculate_wepimp_rate_ret = NULL;

		//========Contents from mod ex_rapid_attr========
		do{
			
		
		$z = \\ex_rapid_attr\\get_rapid_wepimp_increase ($pa, $pd, $active);$wep_j_calculate_wepimp_rate_ret = NULL;

		//========Contents from mod wep_j========
		do{
			
		
		
		$r=1; 
		if ($pa[\'wep_kind\']==\'P\' && substr($pa[\'wepk\'],1,1) == \'J\') $r=6;$wep_g_calculate_wepimp_rate_ret = NULL;

		//========Contents from mod wep_g========
		do{
			
		
		
		$r=1; 
		if ($pa[\'wep_kind\']==\'P\' && substr($pa[\'wepk\'],1,1) == \'G\') $r=2.5;$wep_k_calculate_wepimp_rate_ret = NULL;

		//========Contents from mod wep_k========
		do{
			
		
		
		$r=1;
		if ($pa[\'wep_kind\']==\'K\' && $pa[\'weps\']==$nosta) $r=2.5;$wep_p_calculate_wepimp_rate_ret = NULL;

		//========Contents from mod wep_p========
		do{
			
		
		
		$r=1;
		if ($pa[\'wep_kind\']==\'P\' && $pa[\'weps\']==$nosta) $r=2.5;$weapon_calculate_wepimp_rate_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		
		$weapon_calculate_wepimp_rate_ret =  $wepimprate[$pa[\'wep_kind\']];
break; 
		}while(0);	
		$wep_p_calculate_wepimp_rate_ret =  $weapon_calculate_wepimp_rate_ret*$r;
break; 
		}while(0);	
		$wep_k_calculate_wepimp_rate_ret =  $wep_p_calculate_wepimp_rate_ret*$r;
break; 
		}while(0);	
		$wep_g_calculate_wepimp_rate_ret =  $wep_k_calculate_wepimp_rate_ret*$r;
break; 
		}while(0);	
		$wep_j_calculate_wepimp_rate_ret =  $wep_g_calculate_wepimp_rate_ret*$r;
break; 
		}while(0);
		$r = $wep_j_calculate_wepimp_rate_ret;
		for ($i=1; $i<$pa[\'actual_rapid_time\']; $i++) $r*=$z;
		$ex_rapid_attr_calculate_wepimp_rate_ret =  $r;
break; 
		}while(0);
		return $ex_rapid_attr_calculate_wepimp_rate_ret*$r;
	'

Array\attr_dmg_check_not_wpg ====> ''

Array\get_ex_inf_rate_modifier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill478\\get_ex_inf_rate_modifier\') 
		{
			return \\skill478\\get_ex_inf_rate_modifier($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (($key==\'e\')&&(\\skillbase\\skill_query(231,$pa))) return (\\ex_dmg_att\\get_ex_inf_rate_modifier($pa,$pd,$active,$key)+20);
		return \\ex_dmg_att\\get_ex_inf_rate_modifier($pa,$pd,$active,$key);
	'

Array\act ====> '
		return \\smartmix\\act();'

Array\get_ex_inf_rate_modifier ====> '
		return \\skill478\\get_ex_inf_rate_modifier($pa,$pd,$active,$key);'

Array\strike_prepare ====> '
		return \\skill244\\strike_prepare($pa,$pd,$active);'

Array\calculate_ex_attack_dmg ====> '
		return \\skill215\\calculate_ex_attack_dmg($pa,$pd,$active);'

Array\calculate_ex_single_dmg_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_dmg_def\\calculate_ex_single_dmg_multiple\') 
		{
			return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (($key==\'p\')&&($pa[\'bskill\']==222)) 
		{
			return \\ex_dmg_att\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key)*1.5;
		}
		return \\ex_dmg_att\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key);
	'

Array\get_skill221_lasttime ====> '
		
		if ($pa[\'bskill\']==222) return 3*\\skill221\\get_skill221_lasttime($pa, $pd, $active);
		return \\skill221\\get_skill221_lasttime($pa, $pd, $active);
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\calculate_ex_inf_rate ====> '
		
		if (!\\skillbase\\skill_query(218,$pa) || !\\skill218\\check_unlocked218 ($pa)) return \\ex_dmg_att\\calculate_ex_inf_rate($pa, $pd, $active,$key);
		$t=\\skill218\\get_skill218_extra_inf_rate ($pa, $pd, $active);
		return $t*\\ex_dmg_att\\calculate_ex_inf_rate($pa, $pd, $active,$key);;
	'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\calculate_ex_single_dmg_multiple ====> '
		return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);'

Array\act ====> '
		return \\smartmix\\act();'

Array\get_ex_dmg_def_proc_rate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill243\\get_ex_dmg_def_proc_rate\') 
		{
			return \\skill243\\get_ex_dmg_def_proc_rate($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return 90;
	'

Array\check_ex_dmg_def_proc ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill243\\check_ex_dmg_def_proc\') 
		{
			return \\skill243\\check_ex_dmg_def_proc($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$proc_rate = \\ex_dmg_def\\get_ex_dmg_def_proc_rate ($pa, $pd, $active, $key);
		$dice = rand(0,99);
		return ($dice<$proc_rate);
	'

Array\check_ex_single_dmg_def_attr ====> '
		return \\skill26\\check_ex_single_dmg_def_attr($pa,$pd,$active,$key);'

Array\calculate_ex_inf_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill26\\calculate_ex_inf_multiple\') 
		{
			return \\skill26\\calculate_ex_inf_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		
		if ($pd[\'ex_dmg_\'.$key.\'_defend_success\'] == 1) return 1.0;$ex_dmg_att_calculate_ex_inf_multiple_ret = NULL;

		//========Contents from mod ex_dmg_att========
		do{
			
		
		
		eval(import_module(\'ex_dmg_att\',\'wound\',\'logger\'));
		$r = 1;
		if (isset($ex_inf[$key]))
		{
			if (\\skillbase\\skill_query($ex_inf[$key], $pd))
			{
				$infkey = array_search($ex_inf[$key], $infskillinfo);
				$punish = \\ex_dmg_att\\get_ex_inf_dmg_punish ($pa, $pd, $active, $key);
				if ($punish != 1)
				{
					if ($punish > 1) $punish_word = "倍增"; else $punish_word = "减少";
					if ($active)
						$log .= "由于{$pd[\'name\']}已经{$infname[$infkey]}，{$exdmgname[$key]}伤害{$punish_word}！";
					else  $log .= "由于你已经{$infname[$infkey]}，{$exdmgname[$key]}伤害{$punish_word}！";
				}
				$r *= $punish;
			}
		}
		$ex_dmg_att_calculate_ex_inf_multiple_ret =  $r;
break; 
		}while(0);
		return $ex_dmg_att_calculate_ex_inf_multiple_ret;
	'

Array\check_ex_inf_infliction ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\check_ex_inf_infliction\') 
		{
			return \\tutorial\\check_ex_inf_infliction($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		
		if ($pd[\'ex_dmg_\'.$key.\'_defend_success\'] == 1) return;$ex_dmg_att_check_ex_inf_infliction_ret = NULL;

		//========Contents from mod ex_dmg_att========
		do{
			
		
		eval(import_module(\'sys\',\'ex_dmg_att\',\'wound\',\'logger\'));
		
		$inf_rate = \\ex_dmg_att\\calculate_ex_inf_rate ($pa, $pd, $active, $key)+\\ex_dmg_att\\get_ex_inf_rate_modifier ($pa, $pd, $active, $key);
		$inf_dice = rand(0,99);
		if ($inf_dice < $inf_rate)
		{
			$infkey = array_search($ex_inf[$key], $infskillinfo);
			if ($active)
				$log .= "并造成{$pd[\'name\']}{$infname[$infkey]}了！";
			else  $log .= "并造成你{$infname[$infkey]}了！";
			\\wound\\get_inf($infkey,$pd);
			addnews($now,\'inf\',$pa[\'name\'],$pd[\'name\'],$infkey);
		}
		}while(0);
		return $ex_dmg_att_check_ex_inf_infliction_ret;
	'

Array\calculate_ex_single_dmg_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill25\\calculate_ex_single_dmg_multiple\') 
		{
			return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$r = \\ex_dmg_def\\check_ex_single_dmg_def_attr ($pa, $pd, $active, $key);$skill217_calculate_ex_single_dmg_multiple_ret = NULL;

		//========Contents from mod skill217========
		do{
			
		
		if (\\skillbase\\skill_query(217,$pa) && \\skill217\\check_unlocked217 ($pa)){
			$skill217_calculate_ex_single_dmg_multiple_ret =  \\skill222\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key)*\\skill217\\get_skill217_extra_dmg_gain ($pa, $pd, $active);
break; }
		else{	$skill217_calculate_ex_single_dmg_multiple_ret =  \\skill222\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key);
break; }
		}while(0);
		return $r*$skill217_calculate_ex_single_dmg_multiple_ret;
	'

Array\strike_prepare ====> '
		return \\skill244\\strike_prepare($pa,$pd,$active);'

Array\check_ex_dmg_nullify ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill26\\check_ex_dmg_nullify\') 
		{
			return \\skill26\\check_ex_dmg_nullify($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'ex_dmg_att\',\'logger\'));
		$ex_att_array = \\attrbase\\get_ex_attack_array($pa, $pd, $active);
		$ex_def_array = \\attrbase\\get_ex_def_array($pa, $pd, $active);
		
		$flag = 0; $exnum = 0;
		foreach ($ex_attack_list as $key) if (in_array($key,$ex_att_array)) { $flag = 1; $exnum++; }
		if ($flag && in_array(\'b\', $ex_def_array))
		{
			$proc_rate = \\ex_dmg_nullify\\get_ex_dmg_nullify_proc_rate ($pa, $pd, $active);
			$dice = rand(0,99);
			if ($dice<$proc_rate)
			{
				$log .= "<span class=\\"red\\">属性攻击的力量完全被防具吸收了！</span>只造成了<span class=\\"red\\">{$exnum}</span>点伤害！<br>";
				$pa[\'ex_dmg_dealt\'] = $exnum;
				$pd[\'exdmg_nullify_success\'] = 1;
				return 1;
			}
			else
			{
				$log .= "纳尼？防具使属性攻击无效化的属性竟然失效了！<br>";
				return 0;
			}
		}
		return 0;
	'

Array\calculate_ex_attack_dmg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill47\\calculate_ex_attack_dmg\') 
		{
			return \\skill215\\calculate_ex_attack_dmg($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\ex_dmg_nullify\\check_ex_dmg_nullify ($pa, $pd, $active))
			return $pa[\'ex_dmg_dealt\'];
		else{$skill222_calculate_ex_attack_dmg_ret = NULL;

		//========Contents from mod skill222========
		do{
			
		
		if ($pa[\'bskill\']==222) 
		{
			$ex_att_array = \\attrbase\\get_ex_attack_array($pa, $pd, $active);
			if (in_array(\'p\', $ex_att_array))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.=\'<span class="yellow">「催化」使你造成的毒性伤害提高了50%！</span><br>\';
				else  $log.=\'<span class="yellow">「催化」使敌人造成的毒性伤害提高了50%！</span><br>\';
			}
		}$ex_dmg_att_calculate_ex_attack_dmg_ret = NULL;

		//========Contents from mod ex_dmg_att========
		do{
			
		
		eval(import_module(\'ex_dmg_att\'));
		$tot = 0;
		$ex_attack_array = \\attrbase\\get_ex_attack_array($pa, $pd, $active);
		foreach ( $ex_attack_list as $key )
			if (in_array($key, $ex_attack_array))
			{
				$damage = \\ex_dmg_att\\calculate_ex_single_dmg ($pa, $pd, $active, $key);
				$pa[\'ex_dmg_dealt\'] +=$damage;
				$tot += $damage;
			}
		$ex_dmg_att_calculate_ex_attack_dmg_ret =  $tot;
break; 
		}while(0);
		$skill222_calculate_ex_attack_dmg_ret =  $ex_dmg_att_calculate_ex_attack_dmg_ret;
break; 
		}while(0);  return $skill222_calculate_ex_attack_dmg_ret;}
	'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill47\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$pd[\'exdmg_nullify_success\'] = 0;$ex_dmg_def_strike_prepare_ret = NULL;

		//========Contents from mod ex_dmg_def========
		do{
			
		
		eval(import_module(\'ex_dmg_att\'));
		foreach ( $ex_attack_list as $key ) $pd[\'ex_dmg_\'.$key.\'_defend_success\'] = 0;$skill222_strike_prepare_ret = NULL;

		//========Contents from mod skill222========
		do{
			
		
		if ($pa[\'bskill\']!=222){ $skill222_strike_prepare_ret =  \\skill49\\strike_prepare($pa, $pd, $active);
break; }
		if (!\\skillbase\\skill_query(222,$pa) || !\\skill222\\check_unlocked222 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill222\\get_rage_cost222 ($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「催化」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「催化」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill222\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill49\\strike_prepare($pa, $pd, $active);
		}while(0);
		$skill222_strike_prepare_ret;
		}while(0);
		$ex_dmg_def_strike_prepare_ret;
	'

Array\get_ex_inf_dmg_punish ====> '	
		
		if (\\skillbase\\skill_query(25,$pa) && \\skill25\\check_unlocked25 ($pa))
			return \\ex_dmg_att\\get_ex_inf_dmg_punish($pa, $pd, $active, $key)+0.5;
		else	return \\ex_dmg_att\\get_ex_inf_dmg_punish($pa, $pd, $active, $key);
	'

Array\calculate_ex_single_dmg_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill44\\calculate_ex_single_dmg_multiple\') 
		{
			return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(25,$pa) && \\skill25\\check_unlocked25 ($pa))
			return \\ex_dmg_def\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key)*1.15;
		else	return \\ex_dmg_def\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key);
	'

Array\get_fixed_dmg_multiplier ====> '
		
		if (!\\skillbase\\skill_query(44,$pd) || !\\skill44\\check_unlocked44 ($pd)) return \\weapon\\get_fixed_dmg_multiplier($pa, $pd, $active);
		$choice = \\skillbase\\skill_getvalue(44,\'choice\',$pd);
		$choice = (int)$choice; 
		if ($choice==0) 
		{
			eval(import_module(\'skill44\',\'logger\'));
			$clv = \\skillbase\\skill_getvalue(44,\'lvl\',$pd);
			$r=min(50,$dmgreduction[$clv]*$pd[\'internal_def\']); 
			if ($active)
				$log.=\'<span class="yellow">敌人健硕的身躯使你的固定伤害降低了\'.round($r).\'%！</span><br>\';
			else  $log.=\'<span class="yellow">你健硕的身躯使敌人的固定伤害降低了\'.round($r).\'%！</span><br>\';
			$r=1-$r/100;
		}
		else  $r=1;
		return \\weapon\\get_fixed_dmg_multiplier($pa, $pd, $active)*$r;
	'

Array\calculate_ex_single_dmg_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill48\\calculate_ex_single_dmg_multiple\') 
		{
			return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(44,$pd) || !\\skill44\\check_unlocked44 ($pd)) return \\skill25\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key);
		$choice = \\skillbase\\skill_getvalue(44,\'choice\',$pd);
		$choice = (int)$choice; 
		if ($choice==1 && $key==\'d\') 
		{
			eval(import_module(\'skill44\',\'logger\'));
			$clv = \\skillbase\\skill_getvalue(44,\'lvl\',$pd);
			$r=min(50,$dmgreduction[$clv]*$pd[\'internal_def\']); 
			if ($active)
				$log.=\'<span class="yellow">敌人健硕的身躯抵挡了\'.round($r).\'%的爆炸伤害！</span><br>\';
			else  $log.=\'<span class="yellow">你健硕的身躯抵挡了\'.round($r).\'%的爆炸伤害！</span><br>\';
			$r=1-$r/100;
		}
		else  $r=1;
		return \\skill25\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key)*$r;
	'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill48\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=47) return \\ex_dmg_nullify\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(47,$pa) || !\\skill47\\check_unlocked47 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill47\\get_rage_cost47 ($pa);
			if ($pa[\'rage\']>=$rcost && $pa[\'wep_kind\']==\'C\')
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「花雨」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「花雨」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill47\', $pa[\'name\'], $pd[\'name\'] );
				
				eval(import_module(\'ex_dmg_att\'));
				$lis=Array();
				foreach ($ex_attack_list as $key) if ($key!=\'f\' && $key!=\'k\' && $key!=\'d\') array_push($lis,$key);
				$pa[\'skill47_flag\']=$lis[rand(0,count($lis)-1)];
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\ex_dmg_nullify\\strike_prepare($pa, $pd, $active);
	'

Array\calculate_ex_attack_dmg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill48\\calculate_ex_attack_dmg\') 
		{
			return \\skill215\\calculate_ex_attack_dmg($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=47) return \\ex_dmg_nullify\\calculate_ex_attack_dmg($pa, $pd, $active);
		eval(import_module(\'itemmain\',\'logger\'));
		$log.=\'技能「花雨」附加了<span class="yellow">\'.$itemspkinfo[$pa[\'skill47_flag\']].\'</span>属性伤害！<br>\';
		return \\ex_dmg_nullify\\calculate_ex_attack_dmg($pa, $pd, $active);
	'

Array\get_ex_attack_array ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill26\\get_ex_attack_array\') 
		{
			return \\skill26\\get_ex_attack_array($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=47) return \\skill254\\get_ex_attack_array($pa, $pd, $active);
		$r=\\skill254\\get_ex_attack_array($pa, $pd, $active);
		array_push($r,$pa[\'skill47_flag\']);
		return $r;
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill205\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=48) return \\skill47\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(48,$pa) || !\\skill48\\check_unlocked48 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill48\\get_rage_cost48 ($pa);
			if ($pa[\'rage\']>=$rcost && $pa[\'wep_kind\']==\'C\')
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「附魔」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「附魔」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill48\', $pa[\'name\'], $pd[\'name\'] );
				
				
				$ori_val=(int)\\skillbase\\skill_getvalue(48,\'tot\',$pa);
				$ori_val++;
				\\skillbase\\skill_setvalue(48,\'tot\',$ori_val,$pa);
		
				eval(import_module(\'ex_dmg_att\',\'skill48\'));
				$lis=Array();
				$ex_attack_array = \\attrbase\\get_ex_attack_array($pa, $pd, $active);
				foreach ( $ex_attack_list as $key )
					if (in_array($key, $ex_attack_array))
						if (isset($skill48_ex_map[$key]))
							array_push($lis,$skill48_ex_map[$key]);
						else  array_push($lis,$key);
				
				if (count($lis)>0)
					$pa[\'skill48_flag\']=$lis[rand(0,count($lis)-1)];
				else  unset($pa[\'skill48_flag\']);
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill47\\strike_prepare($pa, $pd, $active);
	'

Array\calculate_ex_attack_dmg ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill215\\calculate_ex_attack_dmg\') 
		{
			return \\skill215\\calculate_ex_attack_dmg($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=48) return \\skill47\\calculate_ex_attack_dmg($pa, $pd, $active);
		
		$r=\\skill47\\calculate_ex_attack_dmg($pa, $pd, $active);
		
		eval(import_module(\'itemmain\',\'logger\'));
		if (isset($pa[\'skill48_flag\']))
		{
			if ($active)
				$log.=\'技能「附魔」使你的<span class="yellow">\'.$itemspkinfo[$pa[\'skill48_flag\']].\'</span>伤害永久提高了<span class="yellow">3%</span>。<br>\';
			else  $log.=\'技能「附魔」使敌人的<span class="yellow">\'.$itemspkinfo[$pa[\'skill48_flag\']].\'</span>伤害永久提高了<span class="yellow">3%</span>。<br>\';
			$ori_val=(int)\\skillbase\\skill_getvalue(48,$pa[\'skill48_flag\'],$pa);
			$ori_val+=3;
			if ($ori_val>150) $ori_val=150;
			\\skillbase\\skill_setvalue(48,$pa[\'skill48_flag\'],$ori_val,$pa);
		}
		return $r;
	'

Array\calculate_ex_single_dmg_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill54\\calculate_ex_single_dmg_multiple\') 
		{
			return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(48,$pa) || !\\skill48\\check_unlocked48 ($pa)) return \\skill44\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key);
		
		eval(import_module(\'skill48\'));
		$z=$key; if (isset($skill48_ex_map[$z])) $z=$skill48_ex_map[$z];
		$ori_val=(int)\\skillbase\\skill_getvalue(48,$z,$pa);
		return \\skill44\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key)*(1+$ori_val/100);
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\calculate_ex_attack_dmg ====> '
		return \\skill215\\calculate_ex_attack_dmg($pa,$pd,$active);'

Array\calculate_ex_single_dmg_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill205\\calculate_ex_single_dmg_multiple\') 
		{
			return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(54,$pd) || !\\skill54\\check_unlocked54 ($pd)) return \\skill48\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key);
		eval(import_module(\'skill54\'));
		$clv = \\skillbase\\skill_getvalue(54,\'lvl\',$pd);
		$clv = (int)$clv;
		return \\skill48\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key)*(1-$dmgreduction[$clv]/100);
	'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_phy_nullify\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=205) return \\skill48\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(205,$pa) || !\\skill205\\check_unlocked205 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill205\\get_rage_cost205 ($pa);
			if (($pa[\'rage\']>=$rcost)&&($pa[\'wep_kind\']=="G"))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「咆哮」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「咆哮」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill205\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill48\\strike_prepare($pa, $pd, $active);
	'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\calculate_ex_attack_dmg ====> '
		return \\skill215\\calculate_ex_attack_dmg($pa,$pd,$active);'

Array\calculate_ex_single_dmg_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill238\\calculate_ex_single_dmg_multiple\') 
		{
			return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']==205) 
		{
			return \\skill54\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key)*1.8;
		}
		return \\skill54\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key);
	'

Array\calculate_weapon_wound_multiplier ====> '
		
		if ($pa[\'bskill\']!=205) return \\skill202\\calculate_weapon_wound_multiplier($pa, $pd, $active, $hurtposition);
		return \\skill202\\calculate_weapon_wound_multiplier($pa, $pd, $active, $hurtposition)*2;
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\strike_prepare ====> '
		return \\skill244\\strike_prepare($pa,$pd,$active);'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\bufficons_list ====> '
		return \\skill210\\bufficons_list();'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_basic_ex_dmg ====> '
		
		if (!\\skillbase\\skill_query(210,$pa) || !(\\skill210\\check_skill210_state ($pa)==1) || $pa[\'wepk\']!=\'WK\') return \\ex_dmg_att\\get_basic_ex_dmg($pa, $pd, $active,$key);
		eval(import_module(\'ex_dmg_att\'));
		$var_210=$pa[\'att\']/$ex_wep_dmg[$key];
		if ($pa[\'club\']!=2) $var_210=$var_210/2;
		return $var_210+\\ex_dmg_att\\get_basic_ex_dmg($pa,$pd,$active,$key);
	'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\get_final_dmg_multiplier ====> '
		return \\skill208\\get_final_dmg_multiplier($pa,$pd,$active);'

Array\bufficons_list ====> '
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(210,$sdata))&&\\skill210\\check_unlocked210 ($sdata))
		{
			eval(import_module(\'skill210\'));
			$skill210_lst = (int)\\skillbase\\skill_getvalue(210,\'lastuse\'); 
			$skill210_time = $now-$skill210_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「歼灭」\',
				\'activate_hint\' => \'点击发动技能「歼灭」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill210_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill210_time<$skill210_act_time)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=$skill210_act_time;
				$z[\'nowsec\']=$skill210_time;
			}
			else  if ($skill210_time<$skill210_act_time+$skill210_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill210_cd;
				$z[\'nowsec\']=$skill210_time-$skill210_act_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill210.gif\',$z);
		}$skill76_bufficons_list_ret = NULL;

		//========Contents from mod skill76========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(76,$sdata))&&\\skill76\\check_unlocked76 ($sdata))
		{
			eval(import_module(\'skill76\'));
			$skill76_lst = (int)\\skillbase\\skill_getvalue(76,\'lastuse\'); 
			$skill76_time = $now-$skill76_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「充能」\',
				\'activate_hint\' => \'点击发动技能「充能」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill76_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			$r=(int)\\skillbase\\skill_getvalue(76,\'rmt\',$pa);
			if ($r>0) $z[\'corner-text\'] = $r;
			if ($r==0 && $skill76_time<$skill76_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill76_cd;
				$z[\'nowsec\']=$skill76_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill76.gif\',$z);
		}$skill75_bufficons_list_ret = NULL;

		//========Contents from mod skill75========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(75,$sdata))&&\\skill75\\check_unlocked75 ($sdata))
		{
			eval(import_module(\'skill75\'));
			$skill75_lst = (int)\\skillbase\\skill_getvalue(75,\'lastuse\'); 
			$skill75_time = $now-$skill75_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'战斗技「剑心」\',
				\'activate_hint\' => \'战斗技「剑心」已就绪<br>在战斗界面可以发动\',
				\'onclick\' => "",
			);
			if ($skill75_time<$skill75_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill75_cd;
				$z[\'nowsec\']=$skill75_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill75.gif\',$z);
		}$skill600_bufficons_list_ret = NULL;

		//========Contents from mod skill600========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if (\\skillbase\\skill_query(600,$sdata))
		{
			eval(import_module(\'skill600\',\'skillbase\'));
			$skill600_start = (int)\\skillbase\\skill_getvalue(600,\'start\'); 
			$skill600_end = (int)\\skillbase\\skill_getvalue(600,\'end\'); 
			$z=Array(
				\'disappear\' => 1,
				\'clickable\' => 0,
				\'hint\' => \'状态「衰弱」<br>无法解除异常状态或包扎伤口\',
			);
			if ($now<$skill600_end)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=$skill600_end-$skill600_start;
				$z[\'nowsec\']=$now-$skill600_start;
			}
			else 
			{
				$z[\'style\']=4;
			}
			\\bufficons\\bufficon_show(\'img/skill600.gif\',$z);
		}$skill425_bufficons_list_ret = NULL;

		//========Contents from mod skill425========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(425,$sdata))&&\\skill425\\check_unlocked425 ($sdata))
		{
			eval(import_module(\'skill425\'));
			$skill425_lst = (int)\\skillbase\\skill_getvalue(425,\'lastuse\'); 
			$skill425_time = $now-$skill425_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「重载」\',
				\'activate_hint\' => \'点击发动技能「重载」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill425_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill425_time<$skill425_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill425_cd;
				$z[\'nowsec\']=$skill425_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill425.gif\',$z);
		}$skill483_bufficons_list_ret = NULL;

		//========Contents from mod skill483========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(483,$sdata))&&\\skill483\\check_unlocked483 ($sdata))
		{
			eval(import_module(\'skill483\'));
			$skill483_lst = (int)\\skillbase\\skill_getvalue(483,\'lastuse\'); 
			$skill483_dur = (int)\\skillbase\\skill_getvalue(483,\'dur\'); 
			$skill483_cost = \\skillbase\\skill_getvalue(483,\'cost\'); 
			$skill483_time = $now-$skill483_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「氪金」\',
				\'activate_hint\' => \'点击发动技能「氪金」，消耗\'.$skill483_cost.\'元\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill483_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill483_time<$skill483_dur)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=$skill483_dur;
				$z[\'nowsec\']=$skill483_time;
			}
			else  if ($skill483_time<$skill483_dur+$skill483_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill483_cd;
				$z[\'nowsec\']=$skill483_time-$skill483_dur;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill483.gif\',$z);
		}$skill456_bufficons_list_ret = NULL;

		//========Contents from mod skill456========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(456,$sdata))&&\\skill456\\check_unlocked456 ($sdata))
		{
			eval(import_module(\'skill456\'));
			$skill456_time = $now-$starttime; 
			$z=Array(
				\'disappear\' => 0,
			);
			if ($skill456_time<$skill456_act_time)
			{
				$z[\'clickable\'] = 1;
				$z[\'style\']=1;
				$z[\'totsec\']=$skill456_act_time;
				$z[\'nowsec\']=$skill456_time;
				$skill456_rm = $skill456_act_time-$skill456_time;
				$z[\'hint\'] = "技能「突击」";
			}
			else  
			{
				$z[\'clickable\'] = 0;
				$z[\'style\']=3;
				$z[\'activate_hint\'] = "技能「突击」生效时间已经结束";
			}
			\\bufficons\\bufficon_show(\'img/skill456.gif\',$z);
		}$skill455_bufficons_list_ret = NULL;

		//========Contents from mod skill455========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(455,$sdata))&&\\skill455\\check_unlocked455 ($sdata))
		{
			eval(import_module(\'skill455\'));
			$skill455_time = $now-$starttime; 
			$z=Array(
				\'disappear\' => 0,
			);
			if ($skill455_time<$skill455_act_time)
			{
				$z[\'clickable\'] = 1;
				$z[\'style\']=1;
				$z[\'totsec\']=$skill455_act_time;
				$z[\'nowsec\']=$skill455_time;
				$skill455_rm = $skill455_act_time-$skill455_time;
				$z[\'hint\'] = "技能「无敌」";
			}
			else  
			{
				$z[\'clickable\'] = 0;
				$z[\'style\']=3;
				$z[\'activate_hint\'] = "技能「无敌」生效时间已经结束";
			}
			\\bufficons\\bufficon_show(\'img/skill455.gif\',$z);
		}$skill453_bufficons_list_ret = NULL;

		//========Contents from mod skill453========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(453,$sdata))&&\\skill453\\check_unlocked453 ($sdata))
		{
			\\skill453\\sk453_skill_status_update ();
			
			eval(import_module(\'skill453\'));
			$skill453_lst = (int)\\skillbase\\skill_getvalue(453,\'lasthit\'); 
			$skill453_target = \\skillbase\\skill_getvalue(453,\'target\'); 
			$skill453_count = (int)\\skillbase\\skill_getvalue(453,\'cnt\'); 
			$rat=$skill453_count*13;
			
			$nlostime = $skill453_buff_lose_time-($now-$skill453_lst);
			
			$z=Array(
				\'style\' => 3,
				\'disappear\' => 0,
				\'clickable\' => 1,
			);
			if ($skill453_count>0)
			{
				$z[\'activate_hint\'] = "你对{$skill453_target}造成的最终伤害将增加{$rat}%<br>{$nlostime}秒内没有攻击将会自动失去一层效果";
				$z[\'corner-text\'] = $skill453_count;
			}
			else
			{
				$z[\'activate_hint\'] = "你连续主动攻击同一目标时<br>造成的伤害每次增加10%";
			}
			
			\\bufficons\\bufficon_show(\'img/skill453.gif\',$z);
		}$skill246_bufficons_list_ret = NULL;

		//========Contents from mod skill246========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(246,$sdata))&&\\skill246\\check_unlocked246 ($sdata))
		{
			eval(import_module(\'skill246\'));
			$skill246_lst = (int)\\skillbase\\skill_getvalue(246,\'lastuse\'); 
			$skill246_time = $now-$skill246_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「隐身」\',
				\'activate_hint\' => \'点击发动技能「隐身」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill246_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill246_time<$skill246_act_time)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=$skill246_act_time;
				$z[\'nowsec\']=$skill246_time;
			}
			else  if ($skill246_time<$skill246_act_time+$skill246_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill246_cd;
				$z[\'nowsec\']=$skill246_time-$skill246_act_time;
				\\skillbase\\skill_lost(246);	
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill246.gif\',$z);
		}$skill446_bufficons_list_ret = NULL;

		//========Contents from mod skill446========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(446,$sdata))&&\\skill446\\check_unlocked446 ($sdata))
		{
			eval(import_module(\'skill446\'));
			$skill446_lst = (int)\\skillbase\\skill_getvalue(446,\'lastuse\'); 
			$skill446_time = $now-$skill446_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「死线」\',
				\'activate_hint\' => \'点击发动技能「死线」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill446_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill446_time<$skill446_act_time)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=$skill446_act_time;
				$z[\'nowsec\']=$skill446_time;
			}
			else  if ($skill446_time<$skill446_act_time+$skill446_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill446_cd;
				$z[\'nowsec\']=$skill446_time-$skill446_act_time;
				\\skillbase\\skill_lost(446);	
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill446.gif\',$z);
		}$skill440_bufficons_list_ret = NULL;

		//========Contents from mod skill440========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(440,$sdata))&&\\skill440\\check_unlocked440 ($sdata))
		{
			eval(import_module(\'skill440\'));
			$skill440_lst = (int)\\skillbase\\skill_getvalue(440,\'lastuse\'); 
			$skill440_time = $now-$skill440_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'战斗技「父爱」\',
				\'activate_hint\' => \'战斗技「父爱」已就绪<br>在战斗界面可以发动\',
				\'onclick\' => "",
			);
			if ($skill440_time<$skill440_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill440_cd;
				$z[\'nowsec\']=$skill440_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill440.gif\',$z);
		}$skill414_bufficons_list_ret = NULL;

		//========Contents from mod skill414========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(414,$sdata))&&\\skill414\\check_unlocked414 ($sdata))
		{
			eval(import_module(\'skill414\'));
			$skill414_lst = (int)\\skillbase\\skill_getvalue(414,\'lastuse\'); 
			$skill414_dur = (int)\\skillbase\\skill_getvalue(414,\'dur\'); 
			$skill414_time = $now-$skill414_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「鹰眼」\',
				\'activate_hint\' => \'点击发动技能「鹰眼」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill414_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill414_time<$skill414_dur)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=$skill414_dur;
				$z[\'nowsec\']=$skill414_time;
			}
			else  if ($skill414_time<$skill414_dur+$skill414_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill414_cd;
				$z[\'nowsec\']=$skill414_time-$skill414_dur;
				\\skillbase\\skill_lost(414);
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill414.gif\',$z);
		}$skill602_bufficons_list_ret = NULL;

		//========Contents from mod skill602========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if (\\skillbase\\skill_query(602,$sdata))
		{
			eval(import_module(\'skill602\',\'skillbase\'));
			$skill602_start = (int)\\skillbase\\skill_getvalue(602,\'start\'); 
			$skill602_end = (int)\\skillbase\\skill_getvalue(602,\'end\'); 
			$z=Array(
				\'disappear\' => 1,
				\'clickable\' => 0,
				\'hint\' => \'你处于晕眩状态！<br>无法进行任何行动或战斗，受到的伤害增加\',
			);
			$ct = floor(getmicrotime()*1000);
			if ($ct<$skill602_end)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=round(($skill602_end-$skill602_start)/1000);
				$z[\'nowsec\']=round(($ct-$skill602_start)/1000);
				\\bufficons\\bufficon_show(\'img/skill602.gif\',$z);
			}
			else 
			{
				\\skillbase\\skill_lost(602);
			}
		}$skill261_bufficons_list_ret = NULL;

		//========Contents from mod skill261========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(261,$sdata))&&\\skill261\\check_unlocked261 ($sdata))
		{
			eval(import_module(\'skill261\'));
			$skill261_lst = (int)\\skillbase\\skill_getvalue(261,\'lastuse\'); 
			$skill261_time = $now-$skill261_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「决战」\',
				\'activate_hint\' => \'点击发动技能「决战」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill261_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill261_time<$skill261_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill261_cd;
				$z[\'nowsec\']=$skill261_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill261.gif\',$z);
		}$skill251_bufficons_list_ret = NULL;

		//========Contents from mod skill251========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(251,$sdata))&&\\skill251\\check_unlocked251 ($sdata))
		{
			eval(import_module(\'skill251\'));
			$s=(int)\\skillbase\\skill_getvalue(251,\'start\',$pd);
			$skill251_time = $now-$s; 
			$z=Array(
				\'disappear\' => 0,
			);
			if ($skill251_time<$skill251_act_time)
			{
				$z[\'clickable\'] = 1;
				$z[\'style\']=1;
				$z[\'totsec\']=$skill251_act_time;
				$z[\'nowsec\']=$skill251_time;
				$skill251_rm = $skill251_act_time-$skill251_time;
				$z[\'hint\'] = "技能「天佑」生效中<br>免疫一切战斗或陷阱伤害";
			}
			else  
			{
				$z[\'clickable\'] = 0;
				$z[\'style\']=3;
				$z[\'activate_hint\'] = "技能「天佑」";
			}
			\\bufficons\\bufficon_show(\'img/skill251.gif\',$z);
		}$skill247_bufficons_list_ret = NULL;

		//========Contents from mod skill247========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(247,$sdata))&&\\skill247\\check_unlocked247 ($sdata))
		{
			eval(import_module(\'skill247\'));
			$skill247_lst = (int)\\skillbase\\skill_getvalue(247,\'lastuse\'); 
			$skill247_time = $now-$skill247_lst; 
			$sk247_eff = \\skill247\\get_skill247_trap_eff ();
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「挖坑」\',
				\'activate_hint\' => \'点击发动技能「挖坑」<br>在当前地图布设2个\'.$sk247_eff.\'效果的毒性陷阱\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill247_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill247_time<$skill247_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill247_cd;
				$z[\'nowsec\']=$skill247_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill247.gif\',$z);
		}$skill430_bufficons_list_ret = NULL;

		//========Contents from mod skill430========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(430,$sdata))&&\\skill430\\check_unlocked430 ($sdata))
		{
			eval(import_module(\'skill430\'));
			$skill430_lst = (int)\\skillbase\\skill_getvalue(430,\'lastuse\'); 
			$skill430_time = $now-$skill430_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「搬运」\',
				\'activate_hint\' => \'点击发动技能「搬运」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill430_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill430_time<$skill430_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill430_cd;
				$z[\'nowsec\']=$skill430_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill430.gif\',$z);
		}$skill426_bufficons_list_ret = NULL;

		//========Contents from mod skill426========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(426,$sdata))&&\\skill426\\check_unlocked426 ($sdata))
		{
			eval(import_module(\'skill426\'));
			$skill426_lst = (int)\\skillbase\\skill_getvalue(426,\'lastuse\'); 
			$skill426_clv = (int)\\skillbase\\skill_getvalue(426,\'lvl\'); 
			$skill426_time = $now-$skill426_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「整备」\',
				\'activate_hint\' => \'点击发动技能「整备」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill426_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill426_time<$skill426_cd[$skill426_clv])
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill426_cd[$skill426_clv];
				$z[\'nowsec\']=$skill426_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill426.gif\',$z);
		}$skill420_bufficons_list_ret = NULL;

		//========Contents from mod skill420========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(420,$sdata))&&\\skill420\\check_unlocked420 ($sdata))
		{
			eval(import_module(\'skill420\'));
			$skill420_lst = (int)\\skillbase\\skill_getvalue(420,\'lastuse\'); 
			$skill420_time = $now-$skill420_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「结晶」\',
				\'activate_hint\' => \'点击发动技能「结晶」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill420_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill420_time<$skill420_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill420_cd;
				$z[\'nowsec\']=$skill420_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill420.gif\',$z);
		}$skill232_bufficons_list_ret = NULL;

		//========Contents from mod skill232========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(232,$sdata))&&\\skill232\\check_unlocked232 ($sdata))
		{
			eval(import_module(\'skill232\'));
			$skill232_lst = (int)\\skillbase\\skill_getvalue(232,\'lastuse\'); 
			$skill232_time = $now-$skill232_lst; 
			$clv = (int)\\skillbase\\skill_getvalue(232,\'lvl\');
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「力场」\',
				\'activate_hint\' => \'点击发动技能「力场」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill232_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill232_time<$skill232_cd[$clv])
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill232_cd[$clv];
				$z[\'nowsec\']=$skill232_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill232.gif\',$z);
		}$skill601_bufficons_list_ret = NULL;

		//========Contents from mod skill601========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if (\\skillbase\\skill_query(601,$sdata))
		{
			eval(import_module(\'skill601\',\'skillbase\'));
			$skill601_start = (int)\\skillbase\\skill_getvalue(601,\'start\'); 
			$skill601_end = (int)\\skillbase\\skill_getvalue(601,\'end\'); 
			$z=Array(
				\'disappear\' => 1,
				\'clickable\' => 0,
				\'hint\' => \'状态「EMP」<br>行动冷却时间延长\',
			);
			if ($now<$skill601_end)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=$skill601_end-$skill601_start;
				$z[\'nowsec\']=$now-$skill601_start;
			}
			else 
			{
				$z[\'style\']=4;
			}
			\\bufficons\\bufficon_show(\'img/skill601.gif\',$z);
		}$bufficons_bufficons_list_ret = NULL;

		//========Contents from mod bufficons========
		do{
			
		
		}while(0);
		$bufficons_bufficons_list_ret;
		}while(0);
		$skill601_bufficons_list_ret;
		}while(0);
		$skill232_bufficons_list_ret;
		}while(0);
		$skill420_bufficons_list_ret;
		}while(0);
		$skill426_bufficons_list_ret;
		}while(0);
		$skill430_bufficons_list_ret;
		}while(0);
		$skill247_bufficons_list_ret;
		}while(0);
		$skill251_bufficons_list_ret;
		}while(0);
		$skill261_bufficons_list_ret;
		}while(0);
		$skill602_bufficons_list_ret;
		}while(0);
		$skill414_bufficons_list_ret;
		}while(0);
		$skill440_bufficons_list_ret;
		}while(0);
		$skill446_bufficons_list_ret;
		}while(0);
		$skill246_bufficons_list_ret;
		}while(0);
		$skill453_bufficons_list_ret;
		}while(0);
		$skill455_bufficons_list_ret;
		}while(0);
		$skill456_bufficons_list_ret;
		}while(0);
		$skill483_bufficons_list_ret;
		}while(0);
		$skill425_bufficons_list_ret;
		}while(0);
		$skill600_bufficons_list_ret;
		}while(0);
		$skill75_bufficons_list_ret;
		}while(0);
		$skill76_bufficons_list_ret;
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\calculate_ex_single_dmg_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill434\\calculate_ex_single_dmg_multiple\') 
		{
			return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ((\\skillbase\\skill_query(238,$pa))&&(\\skill238\\check_unlocked238 ($pa))&&($key==\'e\'))
		{
			if ($pa[\'card\']==63) return \\skill205\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key)*1.5;
			if ($pa[\'card\']==64) return \\skill205\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key)*1.25;
		}
		return \\skill205\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key);
	'

Array\get_ex_dmg_restriction ====> '
		
		if ((\\skillbase\\skill_query(238,$pa))&&(\\skill238\\check_unlocked238 ($pa))&&($key==\'e\'))
		{
			return 0;
		}$ex_dmg_att_get_ex_dmg_restriction_ret = NULL;

		//========Contents from mod ex_dmg_att========
		do{
			
		
		eval(import_module(\'ex_dmg_att\'));
		$ex_dmg_att_get_ex_dmg_restriction_ret =  $ex_max_dmg[$key];
break; 
		}while(0);
		return $ex_dmg_att_get_ex_dmg_restriction_ret;
	'

Array\calculate_ex_single_dmg_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill448\\calculate_ex_single_dmg_multiple\') 
		{
			return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ((\\skillbase\\skill_query(434,$pa))&&(\\skill434\\check_unlocked434 ($pa))&&($key==\'d\'))
		{
			return \\skill238\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key)*1.7;
		}
		return \\skill238\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key);
	'

Array\calculate_ex_single_dmg_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill463\\calculate_ex_single_dmg_multiple\') 
		{
			return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ((\\skillbase\\skill_query(448,$pa))&&(\\skill448\\check_unlocked448 ($pa))&&($key==\'p\'))
		{
			return \\skill434\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key)*1.1;
		}
		return \\skill434\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key);
	'

Array\strike_finish ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill27\\strike_finish\') 
		{
			return \\skill27\\strike_finish($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (\\skillbase\\skill_query(448,$pd)&&(\\skill448\\check_unlocked448 ($pd)))
		{
			eval(import_module(\'logger\'));
			if (strpos($pa[\'inf\'],\'p\')===false)
			{
				$pa[\'inf\'].=\'p\';
				if ($active)
					$log.=\'<span class="purple">创世龙的力量使你中毒了！</span><br>\';
				else  $log.="<span class=\\"purple\\">创世龙的力量使{$pa[\'name\']}中毒了！</span><br>";
			}
		}$skill75_strike_finish_ret = NULL;

		//========Contents from mod skill75========
		do{
			
		
		if ($pa[\'bskill\']==75 && $pa[\'is_hit\'])
		{
			eval(import_module(\'logger\'));
			$d=$pa[\'lvl\']+30;
			$log.=\'<span class="yellow">「剑心」附加了\'.$d.\'点伤害！</span><br>\';
			$pa[\'dmg_dealt\']+=$d;
		}$ex_dmg_att_strike_finish_ret = NULL;

		//========Contents from mod ex_dmg_att========
		do{
			
		
		\\ex_dmg_att\\add_ex_att_noise ($pa, $pd, $active);$skill30_strike_finish_ret = NULL;

		//========Contents from mod skill30========
		do{
			
		
		if ($pa[\'bskill\']!=30){ $skill30_strike_finish_ret =  \\rage\\strike_finish($pa, $pd, $active);
break; }
		if ($pa[\'dmg_dealt\']>0){
			$pa[\'dmg_dealt\']+=$pa[\'skill30_hpcost\'];
		}
		\\rage\\strike_finish($pa, $pd, $active);
		}while(0);
		$skill30_strike_finish_ret;
		}while(0);
		$ex_dmg_att_strike_finish_ret;
		}while(0);
		$skill75_strike_finish_ret;
	'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\calculate_ex_single_dmg_multiple ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill215\\calculate_ex_single_dmg_multiple\') 
		{
			return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if (!\\skillbase\\skill_query(463,$pd) || ($key!=\'f\' && $key!=\'u\')) return \\skill448\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key);
		eval(import_module(\'logger\'));
		if ($active)
			$log.=\'<span class="yellow">敌人的藤甲烧起来了！疼疼疼疼疼疼疼！</span><br>\';
		else  $log.=\'<span class="yellow">你的藤甲烧起来了！疼疼疼疼疼疼疼！</span><br>\';
		return \\skill448\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key)*2.5;
	'

Array\calculate_ex_single_dmg_multiple ====> '
		return \\skill215\\calculate_ex_single_dmg_multiple($pa,$pd,$active,$key);'

Array\get_hitrate ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'tutorial\\get_hitrate\') 
		{
			return \\tutorial\\get_hitrate($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$r=1;
		if (\\skillbase\\skill_query(478,$pa)) $r*=0.9;
		if (\\skillbase\\skill_query(478,$pd)) $r*=1.1;$skill248_get_hitrate_ret = NULL;

		//========Contents from mod skill248========
		do{$skill201_get_hitrate_ret = NULL;

		//========Contents from mod skill201========
		do{
			
		
		if (!\\skillbase\\skill_query(201,$pa) || !\\skill201\\check_unlocked201 ($pa)){ $skill201_get_hitrate_ret =  \\skill49\\get_hitrate($pa, $pd, $active);
break; }
		$skill201_get_hitrate_ret =  \\skill49\\get_hitrate($pa, $pd, $active)*\\skill201\\get_skill201_extra_acc_gain ($pa, $pd, $active);
break; 
		}while(0);
			
		
		$val=$skill201_get_hitrate_ret;
		if (\\skillbase\\skill_query(248,$pa))
		{
			$lv = (int)\\skillbase\\skill_getvalue(248,\'lvl3\',$pa);
			$r = \\skill248\\calculate_skill248_hitrate_gain ($lv);
			$val = $val*(1+$r/100);
		}
		if (\\skillbase\\skill_query(248,$pd))
		{
			$lv = (int)\\skillbase\\skill_getvalue(248,\'lvl2\',$pd);
			$r = \\skill248\\calculate_skill248_dodge_gain ($lv);
			$val = $val*(1-$r/100);
		}
		$skill248_get_hitrate_ret =  $val;
break; 
		}while(0);
		
		return $skill248_get_hitrate_ret*$r;
	'

Array\calculate_counter_rate_multiplier ====> '
		
		$r=1;
		if (\\skillbase\\skill_query(478,$pa)) $r*=0.9;$skill248_calculate_counter_rate_multiplier_ret = NULL;

		//========Contents from mod skill248========
		do{
			
		
		if (!\\skillbase\\skill_query(248,$pa)){ $skill248_calculate_counter_rate_multiplier_ret =  \\skill207\\calculate_counter_rate_multiplier($pa, $pd, $active);
break; }
		$lv = (int)\\skillbase\\skill_getvalue(248,\'lvl2\',$pa);
		$r=1+\\skill248\\calculate_skill248_counter_gain ($lv)/100;
		$skill248_calculate_counter_rate_multiplier_ret =  \\skill207\\calculate_counter_rate_multiplier($pa, $pd, $active)*$r;
break; 
		}while(0);
		
		return $skill248_calculate_counter_rate_multiplier_ret*$r;
	'

Array\calculate_inf_rate ====> '
		
		$r=1;
		if (\\skillbase\\skill_query(478,$pd)) $r*=1.1;$ex_rapid_attr_calculate_inf_rate_ret = NULL;

		//========Contents from mod ex_rapid_attr========
		do{
			
		
		$z = \\ex_rapid_attr\\get_rapid_inf_rate_loss ($pa, $pd, $active);$skill202_calculate_inf_rate_ret = NULL;

		//========Contents from mod skill202========
		do{
			
		
		if (!\\skillbase\\skill_query(202,$pa) || !\\skill202\\check_unlocked202 ($pa)){ $skill202_calculate_inf_rate_ret =  \\wound\\calculate_inf_rate($pa, $pd, $active);
break; }
		$t=\\skill202\\get_skill202_extra_inf_rate ($pa, $pd, $active);
		$skill202_calculate_inf_rate_ret =  $t*\\wound\\calculate_inf_rate($pa, $pd, $active);
break; 
		}while(0);
		$r = $skill202_calculate_inf_rate_ret;
		for ($i=1; $i<$pa[\'actual_rapid_time\']; $i++) $r*=$z;
		$ex_rapid_attr_calculate_inf_rate_ret =  $r;
break; 
		}while(0);
		
		return $ex_rapid_attr_calculate_inf_rate_ret*$r;
	'

Array\get_ex_inf_rate_modifier ====> '
		
		$a=0;
		if (\\skillbase\\skill_query(478,$pd)) $a += 10;$skill224_get_ex_inf_rate_modifier_ret = NULL;

		//========Contents from mod skill224========
		do{
			
		
		if (($key==\'p\')&&(\\skillbase\\skill_query(224,$pa))){ $skill224_get_ex_inf_rate_modifier_ret =  (\\skill231\\get_ex_inf_rate_modifier($pa,$pd,$active,$key)+12);
break; }
		$skill224_get_ex_inf_rate_modifier_ret =  \\skill231\\get_ex_inf_rate_modifier($pa,$pd,$active,$key);
break; 
		}while(0);
		
		return $skill224_get_ex_inf_rate_modifier_ret+$a;
	'

Array\check_physical_nullify ====> '
		return \\ex_attr_pierce\\check_physical_nullify($pa,$pd,$active);'

Array\get_physical_dmg_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_attr_pierce\\get_physical_dmg_multiplier\') 
		{
			return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		$skill463_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill463========
		do{
			
		
		$r=Array();
		if (\\skillbase\\skill_query(463,$pd)) 
		{
			eval(import_module(\'logger\'));
			$r=Array(0.83);
			if ($active)
				$log.=\'<span class="yellow">敌人的藤甲降低了其受到的物理伤害！</span><br>\';
			else  $log.=\'<span class="yellow">藤甲降低了你受到的物理伤害！</span><br>\';
		}$skill210_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill210========
		do{
			
		
		$r=Array();
		eval(import_module(\'logger\',\'skill210\'));
		$var_210=20;
		if ($pa[\'card\']==5) $var_210=40;
		if ((\\skillbase\\skill_query(210,$pa))&&(\\skill210\\check_skill210_state ($pa)==1)&&(rand(0,99)<$var_210)&&($pa[\'wep_kind\']==\'K\')&&($pa[\'club\']!=2)) 
		{
			$z=2;
			if ($active)
				$log.=\'<span class="red">暴击！</span><span class="lime">「歼灭」使你造成了\'.$z.\'倍物理伤害！</span><br>\';
			else  $log.=\'<span class="red">暴击！</span><span class="lime">「歼灭」使敌人造成了\'.$z.\'倍物理伤害！</span><br>\';
			$r=Array($z);
		}$skill205_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill205========
		do{
			
		
		$r=Array();
		if ($pa[\'bskill\']==205) 
		{
			
			if ($active)
				$log.=\'<span class="yellow">「咆哮」使你造成的物理伤害提高了20%！</span><br>\';
			else  $log.=\'<span class="yellow">「咆哮」使敌人造成的物理伤害提高了20%！</span><br>\';
			$r=Array(1.2);
		}$skill49_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill49========
		do{
			
		
		$r=Array();
		if ($pa[\'bskill\']==49) 
		{
			eval(import_module(\'logger\'));
			$r=Array(1.2);
			if ($active)
				$log.=\'<span class="yellow">你爆发潜能打出了致命一击！</span><br>\';
			else  $log.=\'<span class="yellow">敌人爆发潜能打出了致命一击！</span><br>\';
		}$skill73_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill73========
		do{
			
		
		$r=Array();
		if ($pa[\'bskill\']==73) 
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="lime">你对敌人释放出必杀技！</span><br>\';
			else  $log.=\'<span class="lime">敌人对你释放出必杀技！</span><br>\';
			$r=Array(2);
		}$ex_rapid_attr_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod ex_rapid_attr========
		do{
			
		
		$r = \\ex_rapid_attr\\get_rapid_dmg_multiplier ($pa, $pd, $active);$skill441_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill441========
		do{
			
		
		$r = \\skill441\\check_skill441_proc ($pa,$pd,$active);$ex_phy_def_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod ex_phy_def========
		do{$wep_j_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod wep_j========
		do{
			
		
		$r=Array();
		if ($pd[\'wepk\']==\'WJ\')	
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"red\\">由于{$pd[\'name\']}手中的武器过于笨重，受到的伤害大增！</span><br>";
			else  $log.="<span class=\\"red\\">由于你手中的武器过于笨重，受到的伤害大增！真是大快人心啊！</span><br>";
			$r=Array(1.5);
		}$skill482_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill482========
		do{
			
		
		$r=Array();$skill468_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill468========
		do{
			
		
		\\skill468\\check_skill468_proc ($pa,$pd,$active);$skill467_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill467========
		do{
			
		
		\\skill467\\check_skill467_proc ($pa,$pd,$active);$skill35_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill35========
		do{
			
		
		$r = \\skill35\\check_skill35_proc ($pa,$pd,$active);$skill237_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill237========
		do{
			
		
		$r=Array();
		if ($pa[\'bskill\']==237) 
		{
			eval(import_module(\'logger\'));
			$r=Array(1.3);
			if ($active)
				$log.=\'<span class="yellow">你向敌人扔出了一颗电磁干扰弹！</span><br>\';
			else  $log.=\'<span class="yellow">敌人向你扔出了一颗电磁干扰弹！</span><br>\';
		}$skill262_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill262========
		do{
			
		
		$r=Array();
		if (\\skillbase\\skill_query(262,$pa) && \\skill262\\check_unlocked262 ($pa) && $pa[\'user_commanded\']==1 && $active && !$pa[\'is_counter\'] && (!isset($pa[\'sk262flag\']) || !$pa[\'sk262flag\'])) 
		{
			eval(import_module(\'logger\'));
			$ct = floor(getmicrotime()*1000);
			$st = (int)\\skillbase\\skill_getvalue(262,\'ct\',$pa); 
			$t = $ct - $st;
			
			$pretime = \\skill262\\skill262_get_pretime ($pa);
			$dmgperc = \\skill262\\skill262_get_dmgperc ($pa);
			$maxdmgperc = \\skill262\\skill262_get_maxdmgperc ($pa);
			
			
			if ($t<$pretime) 
				$z=0;
			else
			{
				$z=($t-$pretime)/1000*$dmgperc;
				$z=min($z,$maxdmgperc);
				$z=round($z);
				$log.=\'<span class="lime">你积蓄力量打出了致命的一拳！伤害增加了\'.$z.\'%！</span><br>\';
			}
			$r=Array(1+$z/100);
		}$skill401_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill401========
		do{
			
		
		$r = \\skill401\\check_skill401_proc ($pa,$pd,$active);$skill400_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill400========
		do{
			
		
		$r = \\skill400\\check_skill400_proc ($pa,$pd,$active);$skill71_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill71========
		do{
			
		
		$r=Array();
		if ($pa[\'bskill\']==71) 
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="yellow">「解构」使你造成的物理伤害提高了20%！</span><br>\';
			else  $log.=\'<span class="yellow">「解构」使敌人造成的物理伤害提高了20%！</span><br>\';
			$r=Array(1.2);
		}$skill203_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill203========
		do{
			
		
		$r=Array();
		if ($pa[\'bskill\']==203) 
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="yellow">「瞄准」使你造成的物理伤害提高了20%！</span><br>\';
			else  $log.=\'<span class="yellow">「瞄准」使敌人造成的物理伤害提高了20%！</span><br>\';
			$r=Array(1.2);
		}$skill60_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill60========
		do{
			
		
		$r=Array();
		if ($pa[\'bskill\']==60) 
		{
			eval(import_module(\'logger\'));
			$r=Array(1+$pa[\'skill60_flag\']/100);
			if ($active)
				$log.=\'<span class="yellow">敌人因惊吓过度，受到的物理伤害增加了\'.$pa[\'skill60_flag\'].\'%！</span><br>\';
			else  $log.=\'<span class="yellow">你因惊吓过度，受到的物理伤害增加了\'.$pa[\'skill60_flag\'].\'%！</span><br>\';
		}$skill46_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill46========
		do{
			
		
		$r=Array();
		if ($pa[\'bskill\']==46) 
		{
			eval(import_module(\'logger\'));
			$r=Array(1.65);
			if ($active)
				$log.=\'<span class="yellow">你把敌人按在地上一顿暴打！</span><br>\';
			else  $log.=\'<span class="yellow">敌人把你按在地上一顿暴打！</span><br>\';
		}$skill45_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill45========
		do{
			
		
		$r=Array();
		if ($pa[\'bskill\']==45) 
		{
			eval(import_module(\'logger\'));
			$r=Array(1.3);
			if ($active)
				$log.=\'<span class="yellow">你向敌人打出了一记重拳！</span><br>\';
			else  $log.=\'<span class="yellow">敌人向你打出了一记重拳！</span><br>\';
		}$wep_f_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod wep_f========
		do{
			
		
		$r=\\wep_f\\get_WF_dmg_multiplier ($pa, $pd, $active);
		if (isset($r[0]) && $r[0]==1) $r=Array();$weapon_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		$weapon_get_physical_dmg_multiplier_ret =  Array();
break; 
		}while(0);
		$wep_f_get_physical_dmg_multiplier_ret =  array_merge($r,$weapon_get_physical_dmg_multiplier_ret);
break; 	
		}while(0);
		$skill45_get_physical_dmg_multiplier_ret =  array_merge($r,$wep_f_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill46_get_physical_dmg_multiplier_ret =  array_merge($r,$skill45_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill60_get_physical_dmg_multiplier_ret =  array_merge($r,$skill46_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill203_get_physical_dmg_multiplier_ret =  array_merge($r,$skill60_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill71_get_physical_dmg_multiplier_ret =  array_merge($r,$skill203_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill400_get_physical_dmg_multiplier_ret =  array_merge($r,$skill71_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill401_get_physical_dmg_multiplier_ret =  array_merge($r,$skill400_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill262_get_physical_dmg_multiplier_ret =  array_merge($r,$skill401_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill237_get_physical_dmg_multiplier_ret =  array_merge($r,$skill262_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill35_get_physical_dmg_multiplier_ret =  array_merge($r,$skill237_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill467_get_physical_dmg_multiplier_ret =  $skill35_get_physical_dmg_multiplier_ret;
break; 
		}while(0);
		$skill468_get_physical_dmg_multiplier_ret =  $skill467_get_physical_dmg_multiplier_ret;
break; 
		}while(0);
		$ret=$skill468_get_physical_dmg_multiplier_ret;
		if (\\skillbase\\skill_query(482,$pa) && rand(1,100)<=30 && $pa[\'wepk\']==\'WF\')
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="red">你身体中的灵力仿佛与武器融为了一体，打出了爆炸般的伤害！</span><br>\';
			else  $log.=\'<span class="red">敌人身体中的灵力仿佛与武器融为了一体，打出了爆炸般的伤害！</span><br>\';
			$r=Array(2);
		}
		$skill482_get_physical_dmg_multiplier_ret =  array_merge($r,$ret);
break; 
		}while(0);
		$wep_j_get_physical_dmg_multiplier_ret =  array_merge($r,$skill482_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
			
		
		$ex_phy_def_get_physical_dmg_multiplier_ret =  array_merge(\\ex_phy_def\\check_physical_def_attr ($pa, $pd, $active), $wep_j_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill441_get_physical_dmg_multiplier_ret =  array_merge($r,$ex_phy_def_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$ex_rapid_attr_get_physical_dmg_multiplier_ret =  array_merge($r,$skill441_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill73_get_physical_dmg_multiplier_ret =  array_merge($r,$ex_rapid_attr_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill49_get_physical_dmg_multiplier_ret =  array_merge($r,$skill73_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill205_get_physical_dmg_multiplier_ret =  array_merge($r,$skill49_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill210_get_physical_dmg_multiplier_ret =  array_merge($r,$skill205_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		$skill463_get_physical_dmg_multiplier_ret =  array_merge($r,$skill210_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		
		return array_merge(\\ex_phy_nullify\\check_physical_nullify ($pa, $pd, $active), $skill463_get_physical_dmg_multiplier_ret);
	'

Array\check_physical_def_attr ====> '
		return \\ex_attr_pierce\\check_physical_def_attr($pa,$pd,$active);'

Array\get_physical_dmg ====> '
		
		
		if ($pd[\'physical_nullify_success\']) return 1;$weapon_get_physical_dmg_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		$primary_dmg=\\weapon\\get_primary_dmg ($pa, $pd, $active) * \\weapon\\get_primary_dmg_multiplier ($pa, $pd, $active);
		$fixed_dmg=\\weapon\\get_fixed_dmg ($pa, $pd, $active);
		if ($fixed_dmg>0) $fixed_dmg *= \\weapon\\get_fixed_dmg_multiplier ($pa, $pd, $active);
		$weapon_get_physical_dmg_ret =  round($primary_dmg + $fixed_dmg);
break; 
		}while(0);
		return $weapon_get_physical_dmg_ret;
	'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill208\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$pd[\'physical_nullify_success\'] = 0;$skill75_strike_prepare_ret = NULL;

		//========Contents from mod skill75========
		do{
			
		
		if ($pa[\'bskill\']!=75){ $skill75_strike_prepare_ret =  \\skill205\\strike_prepare($pa, $pd, $active);
break; }
		if (!\\skillbase\\skill_query(75,$pa) || !\\skill75\\check_unlocked75 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			eval(import_module(\'sys\',\'skill75\'));
			$l=\\skillbase\\skill_getvalue(75,\'lastuse\',$pa);
			if ($now-$l>=$skill75_cd && $pa[\'wep_kind\']==\'K\')
			{
				
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「剑心」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「剑心」！</span><br>";
				\\skillbase\\skill_setvalue(75,\'lastuse\',$now,$pa);
				addnews ( 0, \'bskill75\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'冷却时间未到或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill205\\strike_prepare($pa, $pd, $active);
		}while(0);
		$skill75_strike_prepare_ret;
	'

Array\calculate_hp_rev_dmg ====> '
		
		if ((\\skillbase\\skill_query(432,$pa))&&(\\skill432\\check_unlocked432 ($pa))){
			return 0;
		}$ex_hp_def_calculate_hp_rev_dmg_ret = NULL;

		//========Contents from mod ex_hp_def========
		do{
			
		
		
		if ($pa[\'dmg_dealt\']<1000){ $ex_hp_def_calculate_hp_rev_dmg_ret =  0;
break; }
		$rate = 0.5;
		if ($pa[\'dmg_dealt\']>=2000) $rate = 2.0/3.0;
		if ($pa[\'dmg_dealt\']>=5000) $rate = 0.8;
		if (\\attrbase\\check_itmsk(\'H\',$pa)) $rate *= 0.1;
		$damage = round($pa[\'hp\']*$rate);
		if ($damage >= $pa[\'hp\']) $damage = $pa[\'hp\'] - 1;
		$ex_hp_def_calculate_hp_rev_dmg_ret =  $damage;
break; 
		}while(0);
		return $ex_hp_def_calculate_hp_rev_dmg_ret;
	'

Array\prepare_new_game ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gtype2\\prepare_new_game\') 
		{
			return \\gtype3\\prepare_new_game();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\'));
		if (room_check_subroom($room_prefix)) return \\sys\\prepare_new_game();
		list($sec,$min,$hour,$day,$month,$year,$wday) = explode(\',\',date("s,i,H,j,n,Y,w",$now));
		$tg=$gamenum-3;
		$res=$db->query("SELECT gametype FROM {$gtablepre}winners WHERE gid=\'$tg\'");
		$gt=1;
		if ($db->num_rows($res)){
			$zz=$db->fetch_array($res); $gt=$zz[\'gametype\'];
		}
		if ($wday==3){
 			if (($hour>=19)&&($hour<21)&&($gt!=1)){ 
 				$gametype=1;
 			}else{
 				$gametype=0;
 			}
 		}
 		if ($disable_event) $gametype=0; 
		\\sys\\prepare_new_game();
	'

Array\meetman_alternative ====> '
		return \\tutorial\\meetman_alternative($edata);'

Array\senditem_check ====> '
		return \\tutorial\\senditem_check($edata);'

Array\checkcombo ====> '
		return \\tutorial\\checkcombo();'

Array\rs_game ====> '
		return \\tutorial\\rs_game($xmode);'

Array\check_addarea_gameover ====> '
		return \\gtype3\\check_addarea_gameover($atime);'

Array\lvlup ====> '$skill70_lvlup_ret = NULL;

		//========Contents from mod skill70========
		do{$skill241_lvlup_ret = NULL;

		//========Contents from mod skill241========
		do{$skill67_lvlup_ret = NULL;

		//========Contents from mod skill67========
		do{
			
		
		if (\\skillbase\\skill_query(67,$pa) && \\skill67\\check_unlocked67 ($pa))
		{
			$pa[\'money\']+=($pa[\'club\']==11?200:150);
		}$skill29_lvlup_ret = NULL;

		//========Contents from mod skill29========
		do{
			
		
		eval(import_module(\'lvlctl\'));
		if (\\skillbase\\skill_query(29,$pa)) $lvuphp += rand ( 6, 9 );$skill39_lvlup_ret = NULL;

		//========Contents from mod skill39========
		do{
			
		
		
		if (\\skillbase\\skill_query(39,$pa)) 
		{
			$lvupatt += 2;	
			$lvupdef += rand(2,3);	
		}$skill411_lvlup_ret = NULL;

		//========Contents from mod skill411========
		do{
			
		
		if (\\skillbase\\skill_query(411,$pa)){
			$pa[\'wp\']+=rand(2,4);
			$pa[\'wk\']+=rand(2,4);
			$pa[\'wc\']+=rand(2,4);
			$pa[\'wg\']+=rand(2,4);
			$pa[\'wd\']+=rand(2,4);
			$pa[\'wf\']+=rand(2,4);
		}$skill24_lvlup_ret = NULL;

		//========Contents from mod skill24========
		do{
			
		
		
		if (rand(0,2)==0) $lvuphp += 2; else $lvuphp += 1;$skill18_lvlup_ret = NULL;

		//========Contents from mod skill18========
		do{
			
		
		if (\\skillbase\\skill_query(18,$pa)) $pa[\'wf\']+=rand(3,5);$skill17_lvlup_ret = NULL;

		//========Contents from mod skill17========
		do{
			
		
		if (\\skillbase\\skill_query(17,$pa)) $pa[\'wd\']+=rand(5,7);$skill16_lvlup_ret = NULL;

		//========Contents from mod skill16========
		do{
			
		
		if (\\skillbase\\skill_query(16,$pa)) $pa[\'wc\']+=rand(4,6);$skill15_lvlup_ret = NULL;

		//========Contents from mod skill15========
		do{
			
		
		if (\\skillbase\\skill_query(15,$pa)) $pa[\'wg\']+=rand(4,6);$skill14_lvlup_ret = NULL;

		//========Contents from mod skill14========
		do{
			
		
		if (\\skillbase\\skill_query(14,$pa)) $pa[\'wk\']+=rand(4,6);$skill13_lvlup_ret = NULL;

		//========Contents from mod skill13========
		do{
			
		
		if (\\skillbase\\skill_query(13,$pa)) $pa[\'wp\']+=rand(4,6);$lvlctl_lvlup_ret = NULL;

		//========Contents from mod lvlctl========
		do{
			
		
		eval(import_module(\'sys\',\'logger\'));
		$lvuphp += rand ( 9, 11 );
		$lvupsp += rand( 4, 6 );
		$lvupatt += rand ( 2, 4 );
		$lvupdef += rand ( 3, 5 );
				
		
		
		
		
		
		
		
		$lvupspref += round($pa[\'msp\'] * 0.1);	
		
		$lvupskpt ++;
		$pa[\'lvl\']++;
		}while(0);
		$lvlctl_lvlup_ret;
		}while(0);
		$skill13_lvlup_ret;
		}while(0);
		$skill14_lvlup_ret;
		}while(0);
		$skill15_lvlup_ret;
		}while(0);
		$skill16_lvlup_ret;
		}while(0);
		$skill17_lvlup_ret;
		}while(0);
		$skill18_lvlup_ret;
		}while(0);
		$skill24_lvlup_ret;
		}while(0);
		$skill411_lvlup_ret;
		}while(0);
		$skill39_lvlup_ret;
		}while(0);
		$skill29_lvlup_ret;
		}while(0);
			
		
		$skill67_lvlup_ret;
		eval(import_module(\'lvlctl\'));
		if (\\skillbase\\skill_query(241,$pa) && rand(0,99)<50) $lvupskpt++;
		}while(0);
			
		
		$skill241_lvlup_ret;
		eval(import_module(\'lvlctl\'));
		if (\\skillbase\\skill_query(70,$pa) && $pa[\'lvl\']%2==0)
			$lvupskpt ++;
		}while(0);
		
		$skill70_lvlup_ret;
		eval(import_module(\'sys\',\'lvlctl\'));
		if ($gametype==1) $lvupskpt=0;
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\deathnote_process ====> '
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'metman\'));
		if($gametype==1 && $dnname){
			$edata = \\player\\fetch_playerdata(\'黑熊\',21);
			if(isset($edata[\'pid\'])){
				$o_fog = $fog; $fog = 0;
				extract($edata,EXTR_PREFIX_ALL,\'w\');
				$battle_title = \'发现敌人\';
				\\metman\\init_battle();
				$main = MOD_METMAN_MEETMAN;
				$cmd = <<<EOH
<input type="button" class="cmdbutton" value="返回" onclick="postCmd(\'gamecmd\',\'command.php\');this.disabled=true;">
EOH;
				$log .= <<<EOT
你将<span class="yellow b">$dnname</span>的名字写在了红暮的脸上。但是什么都没有发生。<br>哪里出错了？<br>
还没等你合上■DeathNote■，就听到<span class="red b">英灵殿</span>的方向传来一声愤怒的咆哮。你扭头一看，发现一只长得很像<span class="yellow">熊本熊</span>的东西站在你身后，他看起来很生气。<br>
“熊本熊”伸出手来，指了指他自己，又指了指你，然后做了个“<span class="yellow">60</span>”的手势。<br>
虽然你不知道他的意思，但你看得懂气氛，乖乖交出了■DeathNote■，想了想，又<span class="yellow">掏出了60元钱</span>，一起交给了他。<br>
“熊本熊”接过钱愣了几秒，之后把■DeathNote■紧紧抱在怀里，钻进旁边的树丛里不见了踪影。<br>之后，似乎传来了舔什么的声音。<br>
不知为何，你决定还是把这件事完全忘掉。<br>
EOT;
				$money -= 60;if($money < 0) $money = 0;
				$fog = $o_fog;
			}else{
				$log .= \'■DeathNote■忽然直接燃烧了起来。<br><span class="red">这不是火焰，是灼焰！你被■DeathNote■点燃的灼焰烧伤了！</span><br>■DeathNote■很快化为了灰烬。<br>\';
				$inf = str_replace(\'u\',\'\',$inf);
				$inf .= \'u\';
			}
			return true;
		}$item_misc_deathnote_process_ret = NULL;

		//========Contents from mod item_misc========
		do{
			
		
		
		if(!$dndeath){$dndeath = \'心脏麻痹\';}
		$log .= "你将<span class=\\"yellow b\\">$dnname</span>的名字写在了■DeathNote■上。";
		$result = $db->query("SELECT * FROM {$tablepre}players WHERE name=\'$dnname\' AND type = 0 AND hp > 0");
		if(!$db->num_rows($result)) { 
			$log .= "但是什么都没有发生。<br>哪里出错了？<br>"; 
		} else {
			$edata = \\player\\fetch_playerdata($dnname);
			if(($dngender != $edata[\'gd\'])||($dnicon != $edata[\'icon\'])) {
				$log .= "但是什么都没有发生。<br>哪里出错了？<br>"; 
			} else {
				$log .= "<br><span class=\\"yellow b\\">$dnname</span>被你杀死了。";
				$edata[\'state\'] = 28; $sdata[\'attackwith\']=$dndeath;
				\\player\\update_sdata(); 
				\\player\\kill($sdata,$edata);
				\\player\\player_save($edata);
				\\player\\player_save($sdata);
				\\player\\load_playerdata($sdata);
				
			}
		}
		$item_misc_deathnote_process_ret = NULL;
break; 
		}while(0);
		return $item_misc_deathnote_process_ret;
	'

Array\get_shoplist ====> '
		return \\gtype2\\get_shoplist();'

Array\checkcombo ====> '
		return \\tutorial\\checkcombo();'

Array\rs_game ====> '
		return \\tutorial\\rs_game($xmode);'

Array\act ====> '
		return \\smartmix\\act();'

Array\check_addarea_gameover ====> '
		return \\gtype3\\check_addarea_gameover($atime);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\get_club_choice_array ====> '
		
		eval(import_module(\'sys\',\'player\',\'clubbase\'));
		
		if ($gametype==15) {
			$res = array(0);
			foreach($clublist as $key=>$val){
				if ($val[\'probability\']) $res[] = $key;
			}
			return $res;
		}$clubbase_get_club_choice_array_ret = NULL;

		//========Contents from mod clubbase========
		do{
			
		
		
		
		
		$curgid=$gamenum;
		$curuid=233;
		$curpid=$pid+3;
		
		$mod_value = 5000077;
		$base_value = 6397;
		
		$sttime = $starttime;
		$vatime = 233;
		
		$ret = Array(0);
		for ($clubtype = 0; $clubtype <= 1; $clubtype++)
		{
			$clubcnt = 0; $club_waitlist = Array(); $p_sum = 0;
			foreach ($clublist as $key => $value) 
				if ($value[\'type\']==$clubtype)
				{ 
					$clubcnt ++; 
					array_push($club_waitlist, Array(\'id\' => $key, \'pr\' => $value[\'probability\']));
					$p_sum += $value[\'probability\'];
				}
			
			for ($k=0; $k<min($max_club_choice_num[$clubtype],$clubcnt); $k++)
			{
				if ($p_sum == 0) break;
				$base_value = ($base_value + \\clubbase\\club_randseed_calc ($mod_value, $base_value, $curgid, $curuid, $curpid, $sttime, $vatime)) % $mod_value;
				$dice = \\clubbase\\club_randseed_calc ($mod_value, $base_value, $curgid, $curuid, $curpid, $sttime, $vatime);
				$dice = $dice % $p_sum + 1;
				for ($i=0; $i<count($club_waitlist); $i++)
				{
					if ($dice <= $club_waitlist[$i][\'pr\'])
					{
						array_push($ret,$club_waitlist[$i][\'id\']);
						$p_sum -= $club_waitlist[$i][\'pr\'];
						$club_waitlist[$i][\'pr\']=0;
						break;
					}
					else  $dice -= $club_waitlist[$i][\'pr\'];
				}
			}
		}
		
		sort($ret);
		$clubbase_get_club_choice_array_ret =  $ret;
break; 
		}while(0);
		return $clubbase_get_club_choice_array_ret;
	'

Array\checkcombo ====> '
		return \\tutorial\\checkcombo();'

Array\rs_game ====> '
		return \\tutorial\\rs_game($xmode);'

Array\check_addarea_gameover ====> '
		return \\gtype3\\check_addarea_gameover($atime);'

Array\get_internal_def ====> '
		
		if (!\\skillbase\\skill_query(42,$pd) || !\\skill42\\check_unlocked42 ($pd)) return \\skill445\\get_internal_def($pa,$pd,$active);
		return \\skill445\\get_internal_def($pa,$pd,$active)*1.35;
	'

Array\attack_finish ====> '
		
		if (\\skillbase\\skill_query(42,$pd) && \\skill42\\check_unlocked42 ($pd))
		{
			$pd[\'def\']+=2;
		}$skill73_attack_finish_ret = NULL;

		//========Contents from mod skill73========
		do{
			
		
		if (\\attrbase\\check_itmsk(\'c\',$pa) && $pa[\'bskill\']==73 && $pa[\'club\']==9)
		{
			
			$pa[\'rage\']+=15;
		}$skill37_attack_finish_ret = NULL;

		//========Contents from mod skill37========
		do{
			
		
		if (!\\skillbase\\skill_query(37,$pa) || !\\skill37\\check_unlocked37 ($pa)){ $skill37_attack_finish_ret =  \\weather\\attack_finish($pa, $pd, $active);
break; }
		if ($pa[\'wepk\']==\'WP\' && !$pd[\'type\'])	
		{
			$pd[\'sp\']=max( $pd[\'sp\']-round($pa[\'dmg_dealt\']*2/3), 1 );
		}
		\\weather\\attack_finish($pa, $pd, $active);
		}while(0);
		$skill37_attack_finish_ret;
		}while(0);
		$skill73_attack_finish_ret;
	'

Array\player_kill_enemy ====> '
		return \\tutorial\\player_kill_enemy($pa,$pd,$active);'

Array\calculate_active_obbs_multiplier ====> '
		return \\searchmemory\\calculate_active_obbs_multiplier($ldata,$edata);'

Array\battle_prepare ====> '
		
		eval(import_module(\'logger\'));
		if (\\skillbase\\skill_query(42,$pa) && \\skill42\\check_unlocked42 ($pa))
		{
			
			\\skill42\\skill42_temp_acquire41 ($pd);
		}
		if (\\skillbase\\skill_query(42,$pd) && \\skill42\\check_unlocked42 ($pd))
		{
			
			\\skill42\\skill42_temp_acquire41 ($pa);
		}$skill41_battle_prepare_ret = NULL;

		//========Contents from mod skill41========
		do{
			
		
		if (\\skillbase\\skill_query(41,$pd) && \\skill41\\check_unlocked41 ($pd))
		{
			$pd[\'skill41_proced\']=0;
		}$npcchat_battle_prepare_ret = NULL;

		//========Contents from mod npcchat========
		do{$clubbase_battle_prepare_ret = NULL;

		//========Contents from mod clubbase========
		do{
			
		
		eval(import_module(\'clubbase\'));
		if ($pa[\'type\'] && $pa[\'club\']) \\clubbase\\check_npc_clubskill_load ($pa);
		if ($pd[\'type\'] && $pd[\'club\']) \\clubbase\\check_npc_clubskill_load ($pd);$battle_battle_prepare_ret = NULL;

		//========Contents from mod battle========
		do{
			
		
		\\battle\\send_battle_msg ($pa, $pd, $active);
		}while(0);
		$battle_battle_prepare_ret;
		}while(0);
			
		
		$clubbase_battle_prepare_ret;
		if (($pa[\'type\'] && $pa[\'state\']==1) || ($pd[\'type\'] && $pd[\'state\']==1)) \\npcchat\\npcchat ($pa, $pd, $active, \'meet\');
		}while(0);
		$npcchat_battle_prepare_ret;
		}while(0);
		$skill41_battle_prepare_ret;
	'

Array\battle_finish ====> '
		
		
		\\skill42\\skill42_restore_skill41 ($pa);
		\\skill42\\skill42_restore_skill41 ($pd);$skill452_battle_finish_ret = NULL;

		//========Contents from mod skill452========
		do{
			
		
		if (\\skillbase\\skill_query(452,$pd)&&(\\skill452\\check_unlocked452 ($pd))&&($pa[\'dmg_dealt\']>=150)&&($pd[\'hp\']>0))
		{
			eval(import_module(\'logger\',\'map\',\'sys\'));
			$plsnum = sizeof($plsinfo) - 1;
			$pls452 = $arealist[rand($areanum+1,$plsnum)];	
			if ($areanum+1 < $plsnum){
				while ($pls452==34) {$pls452 = $arealist[rand($areanum+1,$plsnum)];}
			}
			if ($active)
				$log.="<span class=\\"clan\\">{$pd[\'name\']}通过相位裂隙紧急转移到了{$plsinfo[$pls452]}！</span><br>";
			else  $log.="<span class=\\"clan\\">你通过相位裂隙紧急转移到了{$plsinfo[$pls452]}！</span><br>";
			$pd[\'pls\']=$pls452;
		}$battle_battle_finish_ret = NULL;

		//========Contents from mod battle========
		do{
			
		
		}while(0);
		$battle_battle_finish_ret;
		}while(0);
		$skill452_battle_finish_ret;
	'

Array\get_addnpclist ====> '
		return \\tutorial\\get_addnpclist();'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_hitrate ====> '
		return \\tutorial\\get_hitrate($pa,$pd,$active);'

Array\get_rapid_accuracy_loss ====> '
		
		if (!\\skillbase\\skill_query(50,$pd) || !\\skill50\\check_unlocked50 ($pd)) return \\skill248\\get_rapid_accuracy_loss($pa, $pd, $active);
		if (!\\skill50\\check_skill50_proc ($pd, $pa, 1-$active)) return \\skill248\\get_rapid_accuracy_loss($pa, $pd, $active);
		return \\skill248\\get_rapid_accuracy_loss($pa, $pd, $active)*0.92;
	'

Array\calculate_active_obbs_multiplier ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'searchmemory\\calculate_active_obbs_multiplier\') 
		{
			return \\searchmemory\\calculate_active_obbs_multiplier($ldata,$edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$r = 1;
		if (\\skillbase\\skill_query(50,$ldata) && \\skill50\\check_unlocked50 ($ldata) && \\skill50\\check_skill50_proc ($ldata, $edata, 1)) $r*=1.1;
		if (\\skillbase\\skill_query(50,$edata) && \\skill50\\check_unlocked50 ($edata) && \\skill50\\check_skill50_proc ($edata, $ldata, 0)) $r/=1.1;$skill42_calculate_active_obbs_multiplier_ret = NULL;

		//========Contents from mod skill42========
		do{
			
		
		$r = 1;
		if (\\skillbase\\skill_query(42,$ldata) && \\skill42\\check_unlocked42 ($ldata)) $r*=1.12;
		if (\\skillbase\\skill_query(42,$edata) && \\skill42\\check_unlocked42 ($edata)) $r/=1.12;$skill248_calculate_active_obbs_multiplier_ret = NULL;

		//========Contents from mod skill248========
		do{
			
		
		$r = 1;
		if (\\skillbase\\skill_query(248,$ldata)) 
		{
			$lv=(int)\\skillbase\\skill_getvalue(248,\'lvl1\',$ldata);
			$r*=1+\\skill248\\calculate_skill248_obbs_gain ($lv)/100;
		}
		if (\\skillbase\\skill_query(248,$edata)) 
		{
			$lv=(int)\\skillbase\\skill_getvalue(248,\'lvl1\',$edata);
			$r/=1+\\skill248\\calculate_skill248_obbs_gain ($lv)/100;
		}$skill9_calculate_active_obbs_multiplier_ret = NULL;

		//========Contents from mod skill9========
		do{
			
		
		if (\\skillbase\\skill_query(9,$ldata)){ 
			$skill9_calculate_active_obbs_multiplier_ret =  \\skill8\\calculate_active_obbs_multiplier($ldata,$edata)*0.8;
break; }
		else{  $skill9_calculate_active_obbs_multiplier_ret =  \\skill8\\calculate_active_obbs_multiplier($ldata,$edata);
break; }
		}while(0);
		$skill248_calculate_active_obbs_multiplier_ret =  $skill9_calculate_active_obbs_multiplier_ret*$r;
break; 
		}while(0);
		$skill42_calculate_active_obbs_multiplier_ret =  $skill248_calculate_active_obbs_multiplier_ret*$r;
break; 
		}while(0);
		return $skill42_calculate_active_obbs_multiplier_ret*$r;
	'

Array\calculate_weather_itemfind_obbs ====> '
		
		if (\\skillbase\\skill_query(245)) return abs(\\weather\\calculate_weather_itemfind_obbs()); else return \\weather\\calculate_weather_itemfind_obbs();
	'

Array\calculate_weather_meetman_obbs ====> '
		
		if (\\skillbase\\skill_query(245)) return abs(\\weather\\calculate_weather_meetman_obbs($edata)); else return \\weather\\calculate_weather_meetman_obbs($edata);
	'

Array\calculate_weather_active_obbs ====> '
		
		if (\\skillbase\\skill_query(245,$ldata)) return abs(\\weather\\calculate_weather_active_obbs($ldata,$edata)); else return \\weather\\calculate_weather_active_obbs($ldata,$edata);
	'

Array\calculate_weather_attack_modifier ====> '
		
		if (\\skillbase\\skill_query(245,$pa)) return abs(\\weather\\calculate_weather_attack_modifier($pa,$pd,$active)); else return \\weather\\calculate_weather_attack_modifier($pa,$pd,$active);
	'

Array\calculate_weather_defend_modifier ====> '
		
		if (\\skillbase\\skill_query(245,$pd)) return abs(\\weather\\calculate_weather_defend_modifier($pa,$pd,$active)); else return \\weather\\calculate_weather_defend_modifier($pa,$pd,$active);
	'

Array\deal_hailstorm_weather_damage ====> '
		
		if (!\\skillbase\\skill_query(245)){$weather_deal_hailstorm_weather_damage_ret = NULL;

		//========Contents from mod weather========
		do{
			
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		$damage = \\weather\\calculate_hailstorm_weather_damage ();
		$hp -= $damage;
		$log .= "被<span class=\\"blue\\">冰雹</span>击中，生命减少了<span class=\\"red\\">$damage</span>点！<br>";
		if($hp <= 0 ) {
			$state = 17;
			\\player\\update_sdata();
			$sdata[\'selflag\'] = 1;
			\\player\\kill($sdata,$sdata);
			$weather_deal_hailstorm_weather_damage_ret = NULL;
break; 
		}
		}while(0); return $weather_deal_hailstorm_weather_damage_ret;}
		eval(import_module(\'sys\',\'player\',\'logger\'));
		$heal = \\weather\\calculate_hailstorm_weather_damage();
		$hpup = min($heal, $mhp-$hp); $hpup = max($hpup, 0);
		$hp+=$hpup;
		$log .= "你被<span class=\\"blue\\">冰雹</span>击中了，但是你不仅没有受到伤害，还回复了<span class=\\"lime\\">$heal</span>点生命！<br>";
	'

Array\apply_tornado_weather_effect ====> '
		
		if (!\\skillbase\\skill_query(245)){$weather_apply_tornado_weather_effect_ret = NULL;

		//========Contents from mod weather========
		do{
			
		
		eval(import_module(\'sys\',\'map\',\'player\',\'logger\'));
		if($hack)
		{
			$pls = rand(0,sizeof($plsinfo)-1);
		}
		else 
		{
			$pls = rand($areanum+1,sizeof($plsinfo)-1);$pls=$arealist[$pls];
		}
		$log .= "但是强烈的龙卷风把你吹到了<span class=\\"yellow\\">$plsinfo[$pls]</span>！<br>";
		}while(0); return $weather_apply_tornado_weather_effect_ret;}
		eval(import_module(\'logger\'));
		$log .= "<span class=\\"lime\\">即使强烈的龙卷风已经把目力所及的一切都搅的一片狼藉，你竟没有受到任何影响便到达了目的地。</span><br>";
	'

Array\apply_fog_meetenemy_effect ====> '
		
		if (\\skillbase\\skill_query(252)) return;$weather_apply_fog_meetenemy_effect_ret = NULL;

		//========Contents from mod weather========
		do{
			
		
		eval(import_module(\'sys\',\'player\',\'metman\'));
		if ($fog && !$ismeet)
		{
			$tdata[\'sNoinfo\'] = \'？？？\';
			$tdata[\'iconImg\'] = \'question.gif\';
			$tdata[\'name\'] = \'？？？\';
			$tdata[\'wep\'] = \'？？？\';
			$tdata[\'infdata\'] = \'？？？\';
			$tdata[\'pose\'] = \'？？？\';
			$tdata[\'tactic\'] = \'？？？\';
			$tdata[\'lvl\'] = \'？\';
			$tdata[\'hpstate\'] = \'？？？\';
			$tdata[\'spstate\'] = \'？？？\';
			$tdata[\'ragestate\'] = \'？？？\';
			$tdata[\'wepestate\'] = \'？？？\';
			$tdata[\'wepk\'] = \'？？？\';
		}
		}while(0);
		return $weather_apply_fog_meetenemy_effect_ret;
	'

Array\init_battle ====> '
		
		eval(import_module(\'player\'));$weather_init_battle_ret = NULL;

		//========Contents from mod weather========
		do{$pose_init_battle_ret = NULL;

		//========Contents from mod pose========
		do{
			
		
		
		eval(import_module(\'sys\',\'metman\'));$wound_init_battle_ret = NULL;

		//========Contents from mod wound========
		do{$tactic_init_battle_ret = NULL;

		//========Contents from mod tactic========
		do{
			
		
		
		eval(import_module(\'sys\',\'metman\'));$metman_init_battle_ret = NULL;

		//========Contents from mod metman========
		do{
			
		
		
		eval(import_module(\'sys\',\'metman\'));
		
		$tdata=Array();
		$w_upexp = \\lvlctl\\calc_upexp($w_lvl);
		
		
		if($w_hp <= 0) {
			$tdata[\'hpstate\'] = "<span class=\\"red\\">$hpinfo[3]</span>";
			$tdata[\'spstate\'] = "<span class=\\"red\\">$spinfo[3]</span>";
			$tdata[\'ragestate\'] = "<span class=\\"red\\">$rageinfo[3]</span>";
			$tdata[\'isdead\'] = true;
		} else{
			if($w_hp < $w_mhp*0.2) {
			$tdata[\'hpstate\'] = "<span class=\\"red\\">$hpinfo[2]</span>";
			} elseif($w_hp < $w_mhp*0.5) {
			$tdata[\'hpstate\'] = "<span class=\\"yellow\\">$hpinfo[1]</span>";
			} else {
			$tdata[\'hpstate\'] = "<span class=\\"clan\\">$hpinfo[0]</span>";
			}
			if($w_sp < $w_msp*0.2) {
			$tdata[\'spstate\'] = "$spinfo[2]";
			} elseif($w_sp < $w_msp*0.5) {
			$tdata[\'spstate\'] = "$spinfo[1]";
			} else {
			$tdata[\'spstate\'] = "$spinfo[0]";
			}
			if($w_rage >= 100) {
			$tdata[\'ragestate\'] = "<span class=\\"red\\">$rageinfo[2]</span>";
			} elseif($w_rage >= 30) {
			$tdata[\'ragestate\'] = "<span class=\\"yellow\\">$rageinfo[1]</span>";
			} else {
			$tdata[\'ragestate\'] = "$rageinfo[0]";
			}
		}
		
		if($w_wepe >= 400) {
			$tdata[\'wepestate\'] = "$wepeinfo[3]";
		} elseif($w_wepe >= 200) {
			$tdata[\'wepestate\'] = "$wepeinfo[2]";
		} elseif($w_wepe >= 60) {
			$tdata[\'wepestate\'] = "$wepeinfo[1]";
		} else {
			$tdata[\'wepestate\'] = "$wepeinfo[0]";
		}
		
		$tdata[\'cardinfo\'] = $w_cardname;
		$tdata[\'sNoinfo\'] = "$typeinfo[$w_type]({$sexinfo[$w_gd]}{$w_sNo}号)";
		$w_i = $w_type > 0 ? \'n\' : $w_gd;
		$tdata[\'iconImg\'] = $w_i.\'_\'.$w_icon.\'.gif\';
		if ($w_type==0) $tdata[\'iconImg\'] = $w_i.\'_\'.$w_icon.\'a.gif\';
		$tdata[\'name\']=$w_name;
		$tdata[\'wep\']=$w_wep;
		$tdata[\'lvl\']=$w_lvl;
		$tdata[\'wepk\']=$w_wepk;
		$metman_init_battle_ret = NULL;
break; 
		}while(0);
		$metman_init_battle_ret;
		$tdata[\'tactic\']=$w_tactic;
		}while(0);
			
		
		
		$tactic_init_battle_ret;
		
		eval(import_module(\'sys\',\'player\',\'metman\',\'wound\'));
		if($w_inf) {
			$w_infdata = \'\';
			foreach ($infinfo as $inf_ky => $inf_nm) {
				if(strpos($w_inf,$inf_ky) !== false) {
					$w_infdata .= $inf_nm;
				}
			}
		$tdata[\'infdata\']=$w_infdata;
		} else {
			$tdata[\'infdata\'] = \'\';
		}
		}while(0);
		$wound_init_battle_ret;
		$tdata[\'pose\']=$w_pose;
		}while(0);
			
		
		$pose_init_battle_ret;
		\\weather\\apply_fog_meetenemy_effect ($ismeet);
		}while(0);
		$weather_init_battle_ret;
		if (\\skillbase\\skill_query(252) && \\skill252\\check_unlocked252 ($sdata)) \\skill252\\apply_sk252_effect ();
	'

Array\prepare_new_game ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'gtype3\\prepare_new_game\') 
		{
			return \\gtype3\\prepare_new_game();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		return \\gtype1\\prepare_new_game();
		
		eval(import_module(\'sys\'));
		if (room_check_subroom($room_prefix)) return \\gtype1\\prepare_new_game();
		list($sec,$min,$hour,$day,$month,$year,$wday) = explode(\',\',date("s,i,H,j,n,Y,w",$now));
		$tg=$gamenum-3;
		$res=$db->query("SELECT gametype FROM {$gtablepre}winners WHERE gid=\'$tg\'");
		$gt=2;
		if ($db->num_rows($res)){
			$zz=$db->fetch_array($res); $gt=$zz[\'gametype\'];
		}
		if ($wday==5){
			if (($hour>=19)&&($hour<21)&&($gt!=2)){ 
				$gametype=2;
			}else{
				$gametype=0;
			}
		}
 		if ($disable_event) $gametype=0; 
		\\gtype1\\prepare_new_game();
	'

Array\check_player_discover ====> '
		
		eval(import_module(\'sys\'));
		if ($edata[\'type\']==0 && $edata[\'hp\']<=0 && $gametype == 2) return 0;$gameflow_duel_check_player_discover_ret = NULL;

		//========Contents from mod gameflow_duel========
		do{
			
		
		
		if ($edata[\'type\']>0 && $gamestate >= 50){ $gameflow_duel_check_player_discover_ret =  0;
break; }$metman_check_player_discover_ret = NULL;

		//========Contents from mod metman========
		do{
			
		
		if($edata[\'hp\'] > 0){
			$metman_check_player_discover_ret =  \\metman\\check_alive_discover ($edata);
break; }
		else  
		{
			
			if (!\\metman\\check_corpse_discover ($edata)){ $metman_check_player_discover_ret =  -1;
break; }
			$metman_check_player_discover_ret =  \\metman\\check_corpse_discover_dice ($edata);
break; 
		}
		}while(0);	
		$gameflow_duel_check_player_discover_ret =  $metman_check_player_discover_ret;
break; 
		}while(0);	
		return $gameflow_duel_check_player_discover_ret;
	'

Array\checkcombo ====> '
		return \\tutorial\\checkcombo();'

Array\rs_game ====> '
		return \\tutorial\\rs_game($xmode);'

Array\itemuse ====> '
		return \\tutorial\\itemuse($theitem);'

Array\check_initnpcadd ====> '
		 
		eval(import_module(\'sys\'));
		if ($gametype==2) return !in_array($typ,Array(1,9,14,20,21,22,88));$npc_check_initnpcadd_ret = NULL;

		//========Contents from mod npc========
		do{
			
		 
		$npc_check_initnpcadd_ret =  1;
break; 
		}while(0);
		return $npc_check_initnpcadd_ret;
	'

Array\get_shoplist ====> '
		 
		eval(import_module(\'sys\'));
		if ($gametype==2){
			$file = \'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/main\'.\'/config/shopitem.config.php\';
			$sl5 = openfile($file);
			return $sl5;
		}else{$instance5_get_shoplist_ret = NULL;

		//========Contents from mod instance5========
		do{
			
		 
		eval(import_module(\'instance5\'));
		if ($gametype==15){
			$file = \'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/instance5\'.\'/config/shopitem.config.php\';
			$sl5 = openfile($file);
			$instance5_get_shoplist_ret =  $sl5;
break; 
		}else{$gtype17_get_shoplist_ret = NULL;

		//========Contents from mod gtype17========
		do{
			
		 
		
		if ($gametype!=17){$itemshop_get_shoplist_ret = NULL;

		//========Contents from mod itemshop========
		do{
			
		 
		
		$file = \'E:\\www\\dts1\\dts\\./gamedata/run/base/itemshop\'.\'/config/shopitem.config.php\';
		$sl = openfile($file);
		$itemshop_get_shoplist_ret =  $sl;
break; 
		}while(0); $gtype17_get_shoplist_ret =  $itemshop_get_shoplist_ret;
break; }		
		$file = \'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial\'.\'/config/shopitem.config.php\';
		$l = openfile($file);
		$gtype17_get_shoplist_ret =  $l;
break; 
		}while(0); $instance5_get_shoplist_ret =  $gtype17_get_shoplist_ret;
break; }
		}while(0); return $instance5_get_shoplist_ret;}
	'

Array\post_enterbattlefield_events ====> '
		
		eval(import_module(\'sys\'));
		if ($gametype==2) 
		{
			\\skillbase\\skill_acquire(475,$pa);
			\\skillbase\\skill_acquire(235,$pa);
			\\skillbase\\skill_setvalue(235,\'lvl\',\'1\',$pa);
			$pa[\'itm6\']=\'任务指令书B\';
			$pa[\'itmk6\']=\'Y\';
			$pa[\'itme6\']=\'1\';
			$pa[\'itms6\']=\'1\';
			$pa[\'itmsk6\']=\'\';
		}$player_post_enterbattlefield_events_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		}while(0);
		return $player_post_enterbattlefield_events_ret;
	'

Array\check_addarea_gameover ====> '
		return \\gtype3\\check_addarea_gameover($atime);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\prepare_new_game ====> '
		
		eval(import_module(\'sys\'));
		
		return \\gtype2\\prepare_new_game();
		
		if (room_check_subroom($room_prefix)) return \\gtype2\\prepare_new_game();
		list($sec,$min,$hour,$day,$month,$year,$wday) = explode(\',\',date("s,i,H,j,n,Y,w",$now));
		$tg=$gamenum-4;
		$res=$db->query("SELECT gametype FROM {$gtablepre}winners WHERE gid=\'$tg\'");
		$gt=3;
		if ($db->num_rows($res)){
			$zz=$db->fetch_array($res); $gt=$zz[\'gametype\'];
		}
		if ($wday==0){
 			if (($hour>=20)&&($hour<23)&&($gt!=3)){ 
 				$gametype=3;
 			}else{
 				$gametype=0;
 			}
 		}
 		if ($disable_event) $gametype=0; 
		\\gtype2\\prepare_new_game();
	'

Array\check_addarea_gameover ====> '
		
		eval(import_module(\'sys\',\'map\'));
		if ($gametype==3){
			if($alivenum <= 0){
				\\sys\\gameover($atime,\'end1\');
				return;
			}
			if ($areanum>=($areaadd*2)){
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE hp>0 AND type=0 ORDER BY killnum DESC LIMIT 1");
				$wdata = $db->fetch_array($result);
				$winner = $wdata[\'name\'];
				\\sys\\gameover($atime,\'end8\',$winner);
				return;
			}
			\\sys\\rs_game(16+32);
			return;
		}$gtype2_check_addarea_gameover_ret = NULL;

		//========Contents from mod gtype2========
		do{
			
		
		
		if ($gametype==2){
			if($alivenum <= 0){
				\\sys\\gameover($atime,\'end1\');
				$gtype2_check_addarea_gameover_ret = NULL;
break; 
			}
			if ($areanum>=($areaadd*2)){
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE type=0 ORDER BY pid DESC");
				$ml=-1;
				$winner=\'\';
				$wl=array();
				$wc=0;
				while($pt = $db->fetch_array($result)) {
					$pa=\\player\\fetch_playerdata_by_pid($pt[\'pid\']);
					$cl=(int)\\skillbase\\skill_getvalue(475,\'wpt\',$pa);
					
					if ($cl>$ml){
						$ml=$cl;
						$winner=$pa[\'name\'];
					}
					$wc++;
					$wl[$wc][\'n\']=$pa[\'name\'];
					$wl[$wc][\'p\']=$pa[\'pid\'];
					$wl[$wc][\'c\']=$cl;
				}
				
				for ($i=1;$i<$wc;$i++){
					for ($j=$i+1;$j<=$wc;$j++){
						if (($wl[$i][\'c\']<$wl[$j][\'c\'])||($wl[$i][\'c\']==$wl[$j][\'c\'])&&($wl[$i][\'p\']<$wl[$j][\'p\'])){
							$tt=$wl[$i];
							$wl[$i]=$wl[$j];
							$wl[$j]=$tt;
						}
					}
				}
				$rk=0; 
				$max_announce_num = 3;	
				$bestlist = Array();	
				
				for ($rk=1;$rk<=$wc;$rk++){
					
					$kk=$wl[$rk][\'n\'];
					$v=$wl[$rk][\'c\'];
					$k=\\player\\fetch_playerdata($kk);
					if ($rk==1){
						\\cardbase\\get_card(151,$k);
						\\cardbase\\get_card(152,$k);
						\\cardbase\\get_qiegao(1200,$k);
					}
					$qiegaogain = Array(2=>1000,3=>800,4=>700,5=>550);
					if (2<=$rk && $rk<=5){
						\\cardbase\\get_card(152,$k);
						\\cardbase\\get_qiegao($qiegaogain[$rk],$k);
					}
					if (6<=$rk && $rk<=10){
						\\cardbase\\get_qiegao(400,$k);
					}
					if ($rk<=$max_announce_num){
						$bestlist[$rk] = Array(0=>$kk, 1=>$v);
					}		
				}
				
				for ($i=$max_announce_num; $i>=1; $i--) 
					if (isset($bestlist[$i]))
						addnews(0,\'g2announce\',$i,$bestlist[$i][0],$bestlist[$i][1]);
						
				\\sys\\gameover($atime,\'end8\',$winner);
				$gtype2_check_addarea_gameover_ret = NULL;
break; 
			}
			\\sys\\rs_game(16+32);
			$gtype2_check_addarea_gameover_ret = NULL;
break; 
		}$instance6_check_addarea_gameover_ret = NULL;

		//========Contents from mod instance6========
		do{
			
		
		
		if ($gametype==16){
			if($alivenum <= 0){
				\\sys\\gameover($atime,\'end1\');
				$instance6_check_addarea_gameover_ret = NULL;
break; 
			}
			if ($areanum>=($areaadd*4)){
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE hp>0 AND type=0 ORDER BY card LIMIT 1");
				$wdata = $db->fetch_array($result);
				$winner = $wdata[\'name\'];
				\\sys\\gameover($atime,\'end8\',$winner);
				$instance6_check_addarea_gameover_ret = NULL;
break; 
			}
			\\sys\\rs_game(16+32);
			$instance6_check_addarea_gameover_ret = NULL;
break; 
		}$instance5_check_addarea_gameover_ret = NULL;

		//========Contents from mod instance5========
		do{
			
		
		
		if ($gametype==15){
			if($alivenum <= 0){
				\\sys\\gameover($atime,\'end1\');
				$instance5_check_addarea_gameover_ret = NULL;
break; 
			}
			$alimit = 3;
			if(isset($roomvars[\'current_game_option\'])){
				$option = $roomvars[\'current_game_option\'];
				if(isset($option[\'area-mode\']) && \'extreme\'==$option[\'area-mode\']){
					$alimit = 1;
				}
			}
			if (ceil($areanum/$areaadd) >= $alimit){
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE hp>0 AND type=0");
				$wdata = $db->fetch_array($result);
				$winner = $wdata[\'name\'];
				\\sys\\gameover($atime,\'end8\',$winner);
				$instance5_check_addarea_gameover_ret = NULL;
break; 
			}
			\\sys\\rs_game(16+32);
			$instance5_check_addarea_gameover_ret = NULL;
break; 
		}$gtype1_check_addarea_gameover_ret = NULL;

		//========Contents from mod gtype1========
		do{
			
		
		
		if ($gametype==1){
			if($alivenum <= 0){
				\\sys\\gameover($atime,\'end1\');
				$gtype1_check_addarea_gameover_ret = NULL;
break; 
			}
			if ($areanum>=($areaadd*2)){
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE type=0 ORDER BY pid DESC");
				$ml=-1;
				$winner=\'\';
				$wl=array();
				$wc=0;
				while($pt = $db->fetch_array($result)) {
					$pa=\\player\\fetch_playerdata_by_pid($pt[\'pid\']);
					$cl=(int)\\skillbase\\skill_getvalue(424,\'lvl\',$pa);
					
					if ($cl>$ml){
						$ml=$cl;
						$winner=$pa[\'name\'];
					}
					$wc++;
					$wl[$wc][\'n\']=$pa[\'name\'];
					$wl[$wc][\'p\']=$pa[\'pid\'];
					$wl[$wc][\'c\']=$cl;
				}
				
				for ($i=1;$i<$wc;$i++){
					for ($j=$i+1;$j<=$wc;$j++){
						if (($wl[$i][\'c\']<$wl[$j][\'c\'])||($wl[$i][\'c\']==$wl[$j][\'c\'])&&($wl[$i][\'p\']<$wl[$j][\'p\'])){
							$tt=$wl[$i];
							$wl[$i]=$wl[$j];
							$wl[$j]=$tt;
						}
					}
				}
				$rk=0; 
				$max_announce_num = 3;	
				$bestlist = Array();	
				
				for ($rk=1;$rk<=$wc;$rk++){
					
					$kk=$wl[$rk][\'n\'];
					$v=$wl[$rk][\'c\'];
					$k=\\player\\fetch_playerdata($kk);
					if ($v>=5){
						\\cardbase\\get_qiegao(150,$k);
					}
					if ($v>=10){
						\\cardbase\\get_qiegao(300,$k);
					}
					if ($v>=20){
						\\cardbase\\get_qiegao(600,$k);
					}
					if ($v>=30){
						\\cardbase\\get_card(94,$k);
						\\cardbase\\get_qiegao(500,$k);
					}
					if ($rk==1){
						\\cardbase\\get_card(96,$k);
						\\cardbase\\get_card(95,$k);
					}
					if ($rk<=2){
						\\cardbase\\get_card(95,$k);
					}
					if ($rk<=$max_announce_num){
						\\cardbase\\get_qiegao(500,$k);
						$bestlist[$rk] = Array(0=>$kk, 1=>$v);
					}		
				}
				
				for ($i=$max_announce_num; $i>=1; $i--) 
					if (isset($bestlist[$i]))
						addnews(0,\'g1announce\',$i,$bestlist[$i][0],$bestlist[$i][1]);
						
				\\sys\\gameover($atime,\'end8\',$winner);
				$gtype1_check_addarea_gameover_ret = NULL;
break; 
			}
			\\sys\\rs_game(16+32);
			$gtype1_check_addarea_gameover_ret = NULL;
break; 
		}$map_check_addarea_gameover_ret = NULL;

		//========Contents from mod map========
		do{
			
		
		
		$plsnum = sizeof($plsinfo) - 1;
		if($areanum >= $plsnum) 
		{
			\\sys\\gameover($atime,\'end1\');
			$map_check_addarea_gameover_ret = NULL;
break; 
		}
			
		if(($alivenum == 1)&&($gamestate >= 30)) { 
			\\sys\\gameover($atime);
			$map_check_addarea_gameover_ret = NULL;
break; 
		} elseif(($alivenum <= 0)&&($gamestate >= 30)) {
			\\sys\\gameover($atime,\'end1\');
		} else {
			\\sys\\rs_game(16+32);
		}
		}while(0);
		$map_check_addarea_gameover_ret;	
		}while(0);
		$gtype1_check_addarea_gameover_ret;	
		}while(0);
		$instance5_check_addarea_gameover_ret;	
		}while(0);
		$instance6_check_addarea_gameover_ret;	
		}while(0);
		$gtype2_check_addarea_gameover_ret;	
	'

Array\apply_total_damage_modifier_up ====> '
		return \\skill244\\apply_total_damage_modifier_up($pa,$pd,$active);'

Array\trapcheck ====> '
		
		
		eval(import_module(\'sys\',\'player\'));
		$trapresult = $db->query("SELECT * FROM {$tablepre}maptrap WHERE pls = \'$pls\' ORDER BY itmk DESC");
		$xtrp = $db->fetch_array($trapresult);
		if($xtrp[\'itmk\'] == \'TOc\') { \\trap\\trapget($xtrp); return 1; }$trap_trapcheck_ret = NULL;

		//========Contents from mod trap========
		do{
			
		
		eval(import_module(\'map\',\'itemmain\',\'trap\'));
		$real_trap_obbs = \\trap\\calculate_real_trap_obbs ();
		$trap_dice=rand(0,$trap_max_obbs-1);
		if($trap_dice < $real_trap_obbs){
			$trapresult = \\trap\\get_traplist ();
			$trpnum = $db->num_rows($trapresult);
			if ($trpnum == 0){ $trap_trapcheck_ret =  0;
break; }
			$itemno = rand(0,$trpnum-1);
			$db->data_seek($trapresult,$itemno);
			$mi=$db->fetch_array($trapresult);
			\\trap\\trapget ($mi);
			$trap_trapcheck_ret =  1;
break; 
		}
		$trap_trapcheck_ret =  0;
break; 
		}while(0);
		return $trap_trapcheck_ret;
	'

Array\trap ====> '
		
		
		eval(import_module(\'player\'));
		if ($itmk0 == \'TOc\') { \\trap\\trap_hit(); return; }$trap_trap_ret = NULL;

		//========Contents from mod trap========
		do{
			
		
		
		eval(import_module(\'sys\',\'trap\'));
		
		$escrate = \\trap\\get_trap_escape_rate ();
		$escrate = $escrate >= 90 ? 90 : $escrate;

		$dice=rand(0,99);
		if($dice >= $escrate){
			\\trap\\trap_hit ();
		} else {
			\\trap\\trap_miss ();
		}
		}while(0);
		$trap_trap_ret;
	'

Array\get_trap_damage ====> '
		
		
		eval(import_module(\'player\'));
		if ($itmk0 == \'TOc\') return 999983;$tactic_get_trap_damage_ret = NULL;

		//========Contents from mod tactic========
		do{
			
		
		eval(import_module(\'sys\'));$skill428_get_trap_damage_ret = NULL;

		//========Contents from mod skill428========
		do{
			
		
		eval(import_module(\'sys\',\'skill428\'));
		if (is_numeric($itmsk0)){
			$wdata=\\player\\fetch_playerdata_by_pid($itmsk0);
			if ((\\skillbase\\skill_query(428,$wdata))){
				$var_428=\\skill428\\get_skill428_dmg_gain ($wdata);
				$skill428_get_trap_damage_ret =  round($var_428*\\trap\\get_trap_damage());
break; 
			}
		}
		
		$skill428_get_trap_damage_ret =  \\trap\\get_trap_damage();
break; 
		}while(0);
		$damage = $skill428_get_trap_damage_ret;
		if ($tactic == 2) if (rand(0,99)<75) $damage = round($damage * 0.75);	
		$tactic_get_trap_damage_ret =  $damage;
break; 
		}while(0);
		return $tactic_get_trap_damage_ret;
	'

Array\check_trapdef_proc ====> '
		
		
		eval(import_module(\'player\'));
		if ($itmk0 == \'TOc\') return 0;$ex_attr_trap_check_trapdef_proc_ret = NULL;

		//========Contents from mod ex_attr_trap========
		do{
			
		
		eval(import_module(\'sys\',\'trap\',\'logger\'));
		$proc_rate = \\ex_attr_trap\\calculate_trapdef_proc_rate ();
		$dice = rand(0,99);
		if ($dice < $proc_rate)
		{
			
			if ($playerflag) 
			{
				addnews($now,\'trapdef\',$name,$trname,$itm0);
				if(!$selflag)
				{
					$w_log = "<span class=\\"yellow\\">{$name}触发了你设置的陷阱{$itm0}，但是没有受到任何伤害！</span><br>";
					\\logger\\logsave ( $itmsk0, $now, $w_log ,\'b\');
				}	
			}	
			$log .= "糟糕，你触发了{$trprefix}陷阱<span class=\\"yellow\\">$itm0</span>！<br>不过，身上装备着的自动迎击系统启动了！<span class=\\"yellow\\">在迎击功能的保护下你毫发无伤。</span><br>";
			$ex_attr_trap_check_trapdef_proc_ret =  1;
break; 
		}
		$ex_attr_trap_check_trapdef_proc_ret =  0;
break; 
		}while(0);
		return $ex_attr_trap_check_trapdef_proc_ret;
	'

Array\get_ex_phy_def_proc_rate ====> '
		
		if (!\\skillbase\\skill_query(243,$pa) || !\\skill243\\check_unlocked243 ($pa)) return \\skill254\\get_ex_phy_def_proc_rate($pa,$pd,$active);
		eval(import_module(\'ex_phy_def\'));
		$s=\\skillbase\\skill_getvalue(243,\'l\',$pa);
		if (strpos($s,$def_kind[$pa[\'wep_kind\']])===false) return \\skill254\\get_ex_phy_def_proc_rate($pa,$pd,$active);
		return 0;
	'

Array\check_ex_phy_def_proc ====> '
		
		if (!\\skillbase\\skill_query(243,$pa) || !\\skill243\\check_unlocked243 ($pa)) return \\ex_phy_def\\check_ex_phy_def_proc($pa,$pd,$active); 
		$z=\\ex_phy_def\\check_ex_phy_def_proc($pa, $pd, $active);
		if (!$z)	
		{
			eval(import_module(\'ex_phy_def\'));
			$s=\\skillbase\\skill_getvalue(243,\'l\',$pa);
			if (strpos($s,$def_kind[$pa[\'wep_kind\']])===false)
			{
				$s.=$def_kind[$pa[\'wep_kind\']];
				\\skillbase\\skill_setvalue(243,\'l\',$s,$pa);
			}
		}
		return $z;
	'

Array\get_ex_dmg_def_proc_rate ====> '
		
		if (!\\skillbase\\skill_query(243,$pa) || !\\skill243\\check_unlocked243 ($pa)) return \\ex_dmg_def\\get_ex_dmg_def_proc_rate($pa,$pd,$active,$key);
		eval(import_module(\'ex_dmg_def\'));
		$s=\\skillbase\\skill_getvalue(243,\'l\',$pa);
		if (strpos($s,$def_kind[$key])===false) return \\ex_dmg_def\\get_ex_dmg_def_proc_rate($pa,$pd,$active,$key);
		return 0;
	'

Array\check_ex_dmg_def_proc ====> '
		
		if (!\\skillbase\\skill_query(243,$pa) || !\\skill243\\check_unlocked243 ($pa)) return \\ex_dmg_def\\check_ex_dmg_def_proc($pa,$pd,$active,$key); 
		$z=\\ex_dmg_def\\check_ex_dmg_def_proc($pa, $pd, $active, $key);
		if (!$z)	
		{
			eval(import_module(\'ex_dmg_def\'));
			$s=\\skillbase\\skill_getvalue(243,\'l\',$pa);
			if (strpos($s,$def_kind[$key])===false)
			{
				$s.=$def_kind[$key];
				\\skillbase\\skill_setvalue(243,\'l\',$s,$pa);
			}
		}
		return $z;
	'

Array\get_ex_def_array ====> '
		
		if (!\\skillbase\\skill_query(34,$pd) || !\\skill34\\check_unlocked34 ($pd)) return \\skill28\\get_ex_def_array($pa, $pd, $active);
		$choice = \\skillbase\\skill_getvalue(34,\'choice\',$pd);
		$ret = \\skill28\\get_ex_def_array($pa, $pd, $active);
		if ($choice!=\'\') array_push($ret,$choice);
		return $ret;
	'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill215\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=208) return \\ex_phy_nullify\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(208,$pa) || !\\skill208\\check_unlocked208 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill208\\get_rage_cost208 ($pa);
			if (($pa[\'rage\']>=$rcost)&&($pa[\'wep_kind\']=="K"))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「强袭」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「强袭」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill208\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\ex_phy_nullify\\strike_prepare($pa, $pd, $active);
	'

Array\check_physical_def_attr ====> '
		return \\ex_attr_pierce\\check_physical_def_attr($pa,$pd,$active);'

Array\check_ex_single_dmg_def_attr ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill26\\check_ex_single_dmg_def_attr\') 
		{
			return \\skill26\\check_ex_single_dmg_def_attr($pa,$pd,$active,$key);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=208){$ex_dmg_def_check_ex_single_dmg_def_attr_ret = NULL;

		//========Contents from mod ex_dmg_def========
		do{
			
		
		eval(import_module(\'ex_dmg_att\',\'ex_dmg_def\',\'logger\'));
		$r = 1;
		if (isset($def_kind[$key])) 
		{
			$ex_def_array = \\attrbase\\get_ex_def_array($pa, $pd, $active);
			if (in_array($def_kind[$key], $ex_def_array) || in_array(\'a\', $ex_def_array))
			{
				if (\\ex_dmg_def\\check_ex_dmg_def_proc ($pa, $pd, $active, $key))
				{
					$log .= "{$exdmgname[$key]}被防具防御了！";
					$r = 0.5;
					$pd[\'ex_dmg_\'.$key.\'_defend_success\'] = 1;
				}
				else
				{
					$log .= "属性防御装备没能发挥应有的作用！";
				}
			}
		}
		$ex_dmg_def_check_ex_single_dmg_def_attr_ret =  $r;
break; 
		}while(0); return $ex_dmg_def_check_ex_single_dmg_def_attr_ret;}
		return 1;
	'

Array\get_final_dmg_multiplier ====> '
		
		$r=Array();
		if ($pa[\'bskill\']==208) 
		{
			eval(import_module(\'logger\'));
			if ($pa[\'card\']==5){
				if ($active)
					$log.=\'<span class="yellow">「强袭」使你造成的最终伤害提高了100%！</span><br>\';
				else  $log.=\'<span class="yellow">「强袭」使敌人造成的最终伤害提高了100%！</span><br>\';
				$r=Array(2);
			}else{
				if ($active)
					$log.=\'<span class="yellow">「强袭」使你造成的最终伤害提高了40%！</span><br>\';
				else  $log.=\'<span class="yellow">「强袭」使敌人造成的最终伤害提高了40%！</span><br>\';
				$r=Array(1.4);
			}
		}$skill210_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill210========
		do{
			
		
		$r=Array();
		eval(import_module(\'logger\',\'skill210\'));
		$var_210=20;
		if ($pa[\'card\']==5) $var_210=40;
		if ((\\skillbase\\skill_query(210,$pa))&&(\\skill210\\check_skill210_state ($pa)==1)&&(rand(0,99)<$var_210)&&($pa[\'wep_kind\']==\'K\')&&($pa[\'club\']==2)) 
		{
			$z=2;
			if ($active)
				$log.=\'<span class="red">暴击！</span><span class="lime">「歼灭」使你造成了\'.$z.\'倍最终伤害！</span><br>\';
			else  $log.=\'<span class="red">暴击！</span><span class="lime">「歼灭」使敌人造成了\'.$z.\'倍最终伤害！</span><br>\';
			$r=Array($z);
		}$skill218_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill218========
		do{
			
		
		$r=Array();
		if ((\\skillbase\\skill_query(218,$pa))&&(\\skill218\\check_unlocked218 ($pa))&&(strlen($pd[\'original_inf\'])>0))
		{
			$var_218=\\skill218\\get_skill218_extra_dmgrate ($pa,$pd,$active);
			
			if ($var_218>0)
			{
				if ($active)
					$log.="<span class=\\"yellow\\">「渗透」使你造成的最终伤害提高了{$var_218}%！</span><br>";
				else  $log.="<span class=\\"yellow\\">「渗透」使敌人造成的最终伤害提高了{$var_218}%！</span><br>";
				$r=Array(1+$var_218/100);
			}	
		}$skill444_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill444========
		do{
			
		
		$r=Array();
		if ((\\skillbase\\skill_query(444,$pa))&&(\\skill444\\check_unlocked444 ($pa)))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">“就杀那个最菜的！”「怒吼」使你造成的最终伤害提高了100%！</span><br>";
			else  $log.="<span class=\\"yellow\\">“就杀那个最菜的！”「怒吼」使敌人造成的最终伤害提高了100%！</span><br>";
			$r=Array(2);	
		}$skill258_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill258========
		do{
			
		
		$r=Array();
		if ((\\skillbase\\skill_query(258,$pa))&&(\\skill258\\check_unlocked258 ($pa))&&($pa[\'wepk\']!="WN"))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">「尊严」使你造成的最终伤害降低了90%！</span><br>";
			else  $log.="<span class=\\"yellow\\">「尊严」使敌人造成的最终伤害降低了90%！</span><br>";
			$r=Array(0.1);	
		}$skill202_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill202========
		do{
			
		
		$r=Array();
		if ((\\skillbase\\skill_query(202,$pa))&&(\\skill202\\check_unlocked202 ($pa))&&($pa[\'wep_kind\']=="G" || $pa[\'wep_kind\']==\'J\'))
		{
			$var_202=$pa[\'skill202_count\']*\\skill202\\get_skill202_extra_dmgrate ($pa,$pd,$active);
			eval(import_module(\'logger\'));
			if ($var_202>0)
			{
				if ($active)
					$log.="<span class=\\"yellow\\">「破甲」使你造成的最终伤害提高了{$var_202}%！</span><br>";
				else  $log.="<span class=\\"yellow\\">「破甲」使敌人造成的最终伤害提高了{$var_202}%！</span><br>";
				$r=Array(1+$var_202/100);
			}	
			unset($pa[\'skill202_count\']);
		}$skill223_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill223========
		do{
			
		
		$r=Array();
		if ($pa[\'bskill\']==223) 
		{
			eval(import_module(\'logger\'));
			$var_223=50;
			if (isset($pd[\'original_inf\'])){
				$var_223+=(50*strlen($pd[\'original_inf\']));
			}
			if ($active)
				$log.="<span class=\\"yellow\\">「暗杀」使你造成的最终伤害提高了{$var_223}%！</span><br>";
			else  $log.="<span class=\\"yellow\\">「暗杀」使敌人造成的最终伤害提高了{$var_223}！</span><br>";
			$var_223=($var_223+100)/100;
			$r=Array($var_223);
		}$skill481_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill481========
		do{
			
		
		if (\\skillbase\\skill_query(481,$pa))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="yellow">一股神秘的力量使敌人晕眩了1秒，你仿佛感觉获得了新的能量。</span><br>\';
			else  $log.=\'<span class="yellow">一股神秘的力量使你晕眩了1秒，但你仿佛感觉刚刚完成了一件很有意义的事情。</span><br>\';
			\\skill602\\set_stun_period(100,$pd);
		}$skill228_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill228========
		do{
			
		
		$r=Array();
		if ($pa[\'bskill\']==228) 
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="lime">你有如天神下凡，对敌人打出雷霆一击！</span><span class="clan">敌人被你击晕了！</span><br>\';
			else  $log.=\'<span class="lime">敌人有如天神下凡，对你打出雷霆一击！</span><span class="clan">你被敌人击晕了！</span><br>\';
			$r=Array(1.6);
			\\skill602\\set_stun_period(1500,$pd);
			\\skill602\\send_stun_battle_news($pa[\'name\'],$pd[\'name\']);
		}$skill476_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill476========
		do{
			
		
		$r=Array();
		if ((\\skillbase\\skill_query(476,$pa))&&(\\skill476\\check_unlocked476 ($pa)))
		{
			eval(import_module(\'logger\'));
			if (strpos($pa[\'wep\'],"精工")===false){
				if ($active)
					$log.="<span class=\\"yellow\\">「尊严」使你造成的最终伤害降低了60%！</span><br>";
				else  $log.="<span class=\\"yellow\\">「尊严」使敌人造成的最终伤害降低了60%！</span><br>";
				$r=Array(0.4);
			}else{
				if ($active)
					$log.="<span class=\\"yellow\\">「尊严」使你造成的最终伤害提高了10%！</span><br>";
				else  $log.="<span class=\\"yellow\\">「尊严」使敌人造成的最终伤害提高了10%！</span><br>";
				$r=Array(1.1);
			}
		}$skill470_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill470========
		do{
			
		
		$r=Array();
		if (isset($pa[\'bskill\']) && $pa[\'bskill\']>0 && \\skillbase\\skill_query(470,$pa))	
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="yellow">「狙击」使敌人受到的最终伤害增加了12%！</span><br>\';
			else  $log.=\'<span class="yellow">「狙击」使你受到的最终伤害增加了12%！</span><br>\';
			$r=Array(1.12);
		}$skill456_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill456========
		do{
			
		
		$r=Array();
		if (\\skillbase\\skill_query(456,$pa)) 
		{
			eval(import_module(\'sys\',\'logger\',\'skill456\'));
			$x=$now-$starttime; 
			if ($x<$skill456_act_time)
			{
				if ($active)
					$log.=\'<span class="yellow">你抱着破釜沉舟之心，对敌人打出致命一击！</span><br>\';
				else  $log.=\'<span class="yellow">敌人抱着破釜沉舟之心，对你打出致命一击！</span><br>\';
				$r=Array(1.4);
			}
		}$skill453_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill453========
		do{
			
		
		$r=Array();
		if (\\skillbase\\skill_query(453,$pa) && !$pa[\'is_counter\']) 	
		{
			\\skill453\\sk453_skill_status_update ();
			eval(import_module(\'sys\',\'logger\'));
			$tarpid = (int)\\skillbase\\skill_getvalue(453,\'tarpid\',$pa); 
			$skill453_count = (int)\\skillbase\\skill_getvalue(453,\'cnt\',$pa); 
			
			if ($pd[\'pid\']!=$tarpid || $skill453_count==0)
			{
				
				$skill453_count=0;
				\\skillbase\\skill_setvalue(453,\'target\',$pd[\'name\'],$pa); 
				\\skillbase\\skill_setvalue(453,\'tarpid\',$pd[\'pid\'],$pa); 
			}
			$skill453_count++;
			$rat=$skill453_count*10;
			if ($active)
				$log.=\'<span class="yellow">你对敌人的连续攻击使伤害增加了\'.$rat.\'%！</span><br>\';
			else  $log.=\'<span class="yellow">敌人对你的连续攻击使伤害增加了\'.$rat.\'%！</span><br>\';
			$r=Array(1+$rat/100.0);
			\\skillbase\\skill_setvalue(453,\'cnt\',$skill453_count,$pa); 
			\\skillbase\\skill_setvalue(453,\'lasthit\',$now,$pa);
		}$skill450_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill450========
		do{
			
		
		$r=Array();
		if ((\\skillbase\\skill_query(450,$pa))&&(\\skill450\\check_unlocked450 ($pa)))
		{
			eval(import_module(\'skill450\',\'logger\'));
			if ($pd[\'hp\']<($pd[\'mhp\']*0.2)){
				if ($active)
					$log.="<span class=\\"yellow\\">「淘汰」使你造成的最终伤害提高了15%！</span><br>";
				else  $log.="<span class=\\"yellow\\">「淘汰」使敌人造成的最终伤害提高了15%！</span><br>";
				$r=Array(1.15);
			}
		}$skill449_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill449========
		do{
			
		
		$r=Array();
		if ((\\skillbase\\skill_query(449,$pa))&&(\\skill449\\check_unlocked449 ($pa)))
		{
			eval(import_module(\'skill449\',\'logger\'));
			if ($pd[\'type\']==90){
				if ($active)
					$log.="<span class=\\"yellow\\">你对小兵的仇恨使你造成的最终伤害提高了8%！</span><br>";
				else  $log.="<span class=\\"yellow\\">敌人对小兵的仇恨使其造成的最终伤害提高了8%！</span><br>";
				$r=Array(1.08);
			}
		}$skill438_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill438========
		do{
			
		
		$r=Array();
		if ((\\skillbase\\skill_query(438,$pa))&&(\\skill438\\check_unlocked438 ($pa)))
		{
			eval(import_module(\'logger\',\'skill438\'));
			$r438=\\skillbase\\skill_getvalue(438,\'rate\',$pa);
			$r=Array(($r438/100));	
			$r438-=100;
			if ($active)
				$log.="<span class=\\"yellow\\">「挽鸽」使你造成的最终伤害提高了{$r438}%！</span><br>";
			else  $log.="<span class=\\"yellow\\">「挽鸽」使敌人造成的最终伤害提高了{$r438}%！</span><br>";
			
		}$skill419_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill419========
		do{
			
		
		$r=Array();
		if ((\\skillbase\\skill_query(419,$pa))&&(\\skill419\\check_unlocked419 ($pa)))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">「暗夜」使你造成的最终伤害提高了12%！</span><br>";
			else  $log.="<span class=\\"yellow\\">「暗夜」使敌人造成的最终伤害提高了12%！</span><br>";
			$r=Array(1.12);	
		}$skill416_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill416========
		do{
			
		
		$r=Array();
		if ((\\skillbase\\skill_query(416,$pa))&&(\\skill416\\check_unlocked416 ($pa)))
		{
			eval(import_module(\'skill416\',\'logger\'));
			$l416=\\skillbase\\skill_getvalue(416,\'lvl\',$pa);
			if ($pd[\'type\']==0){
				if ($l416==0){
					if ($active)
						$log.="<span class=\\"yellow\\">「团结」使你造成的最终伤害降低了50%！</span><br>";
					else  $log.="<span class=\\"yellow\\">「团结」使敌人造成的最终伤害降低了50%！</span><br>";
					$r=Array(0.5);
				}else if ($l416==1){
					if ($active)
						$log.="<span class=\\"yellow\\">「独斗」使你造成的最终伤害提高了10%！</span><br>";
					else  $log.="<span class=\\"yellow\\">「独斗」使敌人造成的最终伤害提高了10%！</span><br>";
					$r=Array(1.1);
				}
			}else{
				if ($l416==0){
					if ($active)
						$log.="<span class=\\"yellow\\">「团结」使你造成的最终伤害提高了30%！</span><br>";
					else  $log.="<span class=\\"yellow\\">「团结」使敌人造成的最终伤害提高了30%！</span><br>";
					$r=Array(1.3);
				}else if ($l416==1){
					if ($active)
						$log.="<span class=\\"yellow\\">「独斗」使你造成的最终伤害降低了10%！</span><br>";
					else  $log.="<span class=\\"yellow\\">「独斗」使敌人造成的最终伤害降低了10%！</span><br>";
					$r=Array(0.9);
				}
			}
		}$skill409_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill409========
		do{
			
		
		$r=Array();
		if ((\\skillbase\\skill_query(409,$pd))&&(\\skill409\\check_unlocked409 ($pd)))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">「不动」使敌人受到的最终伤害降低了10%！</span><br>";
			else  $log.="<span class=\\"yellow\\">「不动」使你受到的最终伤害降低了10%！</span><br>";
			$r=Array(0.9);	
		}$skill408_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill408========
		do{
			
		
		$r=Array();
		if ((\\skillbase\\skill_query(408,$pa))&&(\\skill408\\check_unlocked408 ($pa)))
		{
			eval(import_module(\'logger\',\'skill408\',\'weapon\'));
			$l408=\\skillbase\\skill_getvalue(408,\'lvl\',$pa);
			$var_408=0;
			if ($l408==1){
				if ($pa[\'wep_kind\']==\'P\') $var_408=20;
				if ($pa[\'wep_kind\']==\'N\') $var_408=40;
			}else if ($l408==2){
				if ($pa[\'wep_kind\']==\'G\') $var_408=20;
			}else if ($l408==3){
				if ($pa[\'wep_kind\']==\'K\') $var_408=20;
				if ($pa[\'wep_kind\']==\'C\') $var_408=15;
			}else if ($l408==4){
				if ($pa[\'wep_kind\']==\'D\') $var_408=15;
			}else if ($l408==5){
				$var_408=$rangeinfo[$pd[\'wepk\'][1]]*3;
				if ($var_408==0) $var_408=24;
			}
			if ($var_408>0){
				if ($active)
					$log.="<span class=\\"yellow\\">「菁英」使你造成的最终伤害提高了{$var_408}%！</span><br>";
				else  $log.="<span class=\\"yellow\\">「菁英」使敌人造成的最终伤害提高了{$var_408}%！</span><br>";
				$r=Array(1+$var_408/100);
			}
		}$skill406_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill406========
		do{
			
		
		$r=Array();
		if ((\\skillbase\\skill_query(406,$pa))&&(\\skill406\\check_unlocked406 ($pa)))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">「心火」使你造成的最终伤害提高了100%！</span><br>";
			else  $log.="<span class=\\"yellow\\">「心火」使敌人造成的最终伤害提高了100%！</span><br>";
			$r=Array(2);	
		}$skill405_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill405========
		do{
			
		
		$r=Array();
		if ((\\skillbase\\skill_query(405,$pa))&&(\\skill405\\check_unlocked405 ($pa))&&(($pa[\'wep_kind\']==\'K\')||($pa[\'wep_kind\']==\'D\')))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">「疾走」使你造成的最终伤害提高了20%！</span><br>";
			else  $log.="<span class=\\"yellow\\">「疾走」使敌人造成的最终伤害提高了20%！</span><br>";
			$r=Array(1.2);	
		}$skill74_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill74========
		do{
			
		
		$r=Array();
		if ($pa[\'bskill\']==74) 
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="lime">你对敌人释放出必杀技！</span><br>\';
			else  $log.=\'<span class="lime">敌人对你释放出必杀技！</span><br>\';
			$x=($pa[\'club\']==9?2:1.7);
			$r=Array($x);
		}$skill63_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill63========
		do{
			
		
		$r=Array();
		if (\\skillbase\\skill_query(63,$pd) && \\skill63\\check_unlocked63 ($pd)) 
		{
			eval(import_module(\'logger\'));
			$clv = (int)\\skillbase\\skill_getvalue(63,\'t\',$pd);
			if ($clv==0)	
			{
				$ep = (int)\\skillbase\\skill_getvalue(63,\'p\',$pd);
				if ($pa[\'pid\']==$ep)	
				{
					if ($active)
						$log.=\'<span class="yellow">由于你被噩梦缠绕，你对其造成的最终伤害减少了20%！</span><br>\';
					else  $log.=\'<span class="yellow">由于敌人被噩梦缠绕，其对你造成的最终伤害减少了20%！</span><br>\';
					$r=Array(0.8);
				}
			}
		}$skill62_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill62========
		do{
			
		
		$r=Array();
		if (\\skillbase\\skill_query(62,$pa) && \\skill62\\check_unlocked62 ($pa))
		{
			eval(import_module(\'skill62\',\'logger\'));
			$x = 7*($numlim62-((int)\\skillbase\\skill_getvalue(62,\'t\',$pa)));
			if ($x>0)
			{
				if ($active)
					$log.=\'「腐蚀」技能使敌人受到的伤害减少了\'.$x.\'%！<br>\';
				else  $log.=\'「腐蚀」技能使你受到的伤害减少了\'.$x.\'%！<br>\';
				$r=Array((100-$x)/100);
			}
		}$skill462_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill462========
		do{
			
		
		$r=Array();
		if (isset($pa[\'bskill\']) && $pa[\'bskill\']>0 && \\skillbase\\skill_query(462,$pd))	
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="yellow">「抗性」使敌人受到的最终伤害降低了35%！</span><br>\';
			else  $log.=\'<span class="yellow">「抗性」使你受到的最终伤害降低了35%！</span><br>\';
			$r=Array(0.65);
		}$skill477_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod skill477========
		do{
			
		
		$r=Array();
		if (\\skillbase\\skill_query(477,$pa) && $pd[\'ss\']<30)
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">由于敌人没戏唱了，你的伤害增加了30%！</span><br>";
			else  $log.="<span class=\\"yellow\\">由于你没戏唱了，你受到的伤害增加了30%</span><br>";
			$r=Array(1.30);	
		}$attack_get_final_dmg_multiplier_ret = NULL;

		//========Contents from mod attack========
		do{
			
		
		$attack_get_final_dmg_multiplier_ret =  Array();
break; 
		}while(0);
		$skill477_get_final_dmg_multiplier_ret =  array_merge($r,$attack_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill462_get_final_dmg_multiplier_ret =  array_merge($r,$skill477_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill62_get_final_dmg_multiplier_ret =  array_merge($r,$skill462_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill63_get_final_dmg_multiplier_ret =  array_merge($r,$skill62_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill74_get_final_dmg_multiplier_ret =  array_merge($r,$skill63_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill405_get_final_dmg_multiplier_ret =  array_merge($r,$skill74_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill406_get_final_dmg_multiplier_ret =  array_merge($r,$skill405_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill408_get_final_dmg_multiplier_ret =  array_merge($r,$skill406_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill409_get_final_dmg_multiplier_ret =  array_merge($r,$skill408_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill416_get_final_dmg_multiplier_ret =  array_merge($r,$skill409_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill419_get_final_dmg_multiplier_ret =  array_merge($r,$skill416_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill438_get_final_dmg_multiplier_ret =  array_merge($r,$skill419_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill449_get_final_dmg_multiplier_ret =  array_merge($r,$skill438_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill450_get_final_dmg_multiplier_ret =  array_merge($r,$skill449_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill453_get_final_dmg_multiplier_ret =  array_merge($r,$skill450_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill456_get_final_dmg_multiplier_ret =  array_merge($r,$skill453_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill470_get_final_dmg_multiplier_ret =  array_merge($r,$skill456_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill476_get_final_dmg_multiplier_ret =  array_merge($r,$skill470_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill228_get_final_dmg_multiplier_ret =  array_merge($r,$skill476_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill481_get_final_dmg_multiplier_ret =  $skill228_get_final_dmg_multiplier_ret;
break; 
		}while(0);
		$skill223_get_final_dmg_multiplier_ret =  array_merge($r,$skill481_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill202_get_final_dmg_multiplier_ret =  array_merge($r,$skill223_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill258_get_final_dmg_multiplier_ret =  array_merge($r,$skill202_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill444_get_final_dmg_multiplier_ret =  array_merge($r,$skill258_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill218_get_final_dmg_multiplier_ret =  array_merge($r,$skill444_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		$skill210_get_final_dmg_multiplier_ret =  array_merge($r,$skill218_get_final_dmg_multiplier_ret);
break; 
		}while(0);
		return array_merge($r,$skill210_get_final_dmg_multiplier_ret);
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'ex_attr_pierce\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		if ($pa[\'bskill\']!=215) return \\skill208\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(215,$pa) || !\\skill215\\check_unlocked215 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill215\\get_rage_cost215 ($pa);
			if (($pa[\'rage\']>=$rcost)&&($pa[\'wep_kind\']=="D"))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「高能」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「高能」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill215\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill208\\strike_prepare($pa, $pd, $active);
	'

Array\calculate_ex_attack_dmg ====> '
		
		if ($pa[\'bskill\']==215) 
		{
			$ex_att_array = \\attrbase\\get_ex_attack_array($pa, $pd, $active);
			if (in_array(\'d\', $ex_att_array))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.=\'<span class="yellow">「高能」使你造成的爆炸伤害不受影响！</span><br>\';
				else  $log.=\'<span class="yellow">「高能」使敌人造成的爆炸伤害不受影响！</span><br>\';
			}
		}$skill205_calculate_ex_attack_dmg_ret = NULL;

		//========Contents from mod skill205========
		do{
			
		
		if ($pa[\'bskill\']==205) 
		{
			if (count(\\attrbase\\get_ex_attack_array($pa,$pd,$active))>0)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.=\'<span class="yellow">「咆哮」使你造成的属性伤害提高了80%！</span><br>\';
				else  $log.=\'<span class="yellow">「咆哮」使敌人造成的属性伤害提高了80%！</span><br>\';
			}
		}$skill54_calculate_ex_attack_dmg_ret = NULL;

		//========Contents from mod skill54========
		do{
			
		
		if (!\\skillbase\\skill_query(54,$pd) || !\\skill54\\check_unlocked54 ($pd)){ $skill54_calculate_ex_attack_dmg_ret =  \\skill48\\calculate_ex_attack_dmg($pa, $pd, $active);
break; }
		if (count(\\attrbase\\get_ex_attack_array($pa,$pd,$active))>0)
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="yellow">技能「圣盾」降低了敌人受到的属性伤害！</span><br>\';
			else  $log.=\'<span class="yellow">技能「圣盾」降低了你受到的属性伤害！</span><br>\';
		}
		$skill54_calculate_ex_attack_dmg_ret =  \\skill48\\calculate_ex_attack_dmg($pa, $pd, $active);
break; 
		}while(0);
		$skill205_calculate_ex_attack_dmg_ret =  $skill54_calculate_ex_attack_dmg_ret;
break; 
		}while(0);
		return $skill205_calculate_ex_attack_dmg_ret;
	'

Array\calculate_ex_single_dmg_multiple ====> '
		
		if (($key==\'d\')&&($pa[\'bskill\']==215)) 
		{
			return 1;
		}$skill465_calculate_ex_single_dmg_multiple_ret = NULL;

		//========Contents from mod skill465========
		do{
			
		
		if (!\\skillbase\\skill_query(465,$pa) || ($key!=\'f\' && $key!=\'u\')) 
		{
			$skill465_calculate_ex_single_dmg_multiple_ret =  \\skill463\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key);
break; 
		} else {
			eval(import_module(\'logger\'));
			$pn = $active ? \'你\' : $pa[\'name\'];
			$log .= \'这不是火焰，这是「圣火」！\'.$pn.\'造成的伤害增加了50%！<br>\';
			$skill465_calculate_ex_single_dmg_multiple_ret =  \\skill463\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $key)*1.5;
break; 
		}
		}while(0);
		return $skill465_calculate_ex_single_dmg_multiple_ret;
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\check_ex_inf_infliction ====> '
		return \\tutorial\\check_ex_inf_infliction($pa,$pd,$active,$key);'

Array\calculate_ex_inf_multiple ====> '
		
		if ($pa[\'bskill\']!=26) return \\ex_dmg_def\\calculate_ex_inf_multiple($pa, $pd, $active, $key);
		$attack_type = \'u\';
		if (\\skillbase\\skill_getvalue(26,\'lvl\',$pa)==2) $attack_type = \'f\';
		if ($pa[\'skill26_flag3\']==1) return \\ex_dmg_def\\calculate_ex_inf_multiple($pa, $pd, $active, $attack_type);
		return \\ex_dmg_def\\calculate_ex_inf_multiple($pa, $pd, $active, $key);
	'

Array\check_ex_single_dmg_def_attr ====> '
		
		if ($pa[\'bskill\']!=26) return \\skill208\\check_ex_single_dmg_def_attr($pa, $pd, $active, $key);
		$attack_type = \'u\';
		if (\\skillbase\\skill_getvalue(26,\'lvl\',$pa)==2) $attack_type = \'f\';
		if ($pa[\'skill26_flag3\']==1) return \\skill208\\check_ex_single_dmg_def_attr($pa, $pd, $active, $attack_type);
		return \\skill208\\check_ex_single_dmg_def_attr($pa, $pd, $active, $key);
	'

Array\get_ex_attack_array ====> '
		
		if ($pa[\'bskill\']!=26) return \\skill47\\get_ex_attack_array($pa, $pd, $active);
		if ($pa[\'skill26_flag2\']==1) 
		{
			$ret = \\skill47\\get_ex_attack_array($pa, $pd, $active); array_push($ret,\'u\');
			return $ret;
		}
		return \\skill47\\get_ex_attack_array($pa, $pd, $active);
	'

Array\check_ex_dmg_nullify ====> '
		
		if ($pa[\'bskill\']!=26) return \\ex_dmg_nullify\\check_ex_dmg_nullify($pa, $pd, $active);
		if ($pa[\'skill26_flag1\']==2) return $pd[\'exdmg_nullify_success\'];
		return \\ex_dmg_nullify\\check_ex_dmg_nullify($pa, $pd, $active);
	'

Array\calculate_physical_dmg ====> '
		
		if ($pa[\'bskill\']!=26){$weapon_calculate_physical_dmg_ret = NULL;

		//========Contents from mod weapon========
		do{
			
		
		eval(import_module(\'logger\'));
		
		$multiplier = \\weapon\\get_physical_dmg_multiplier ($pa, $pd, $active);
		$dmg = \\weapon\\get_physical_dmg ($pa, $pd, $active);
		
		$fin_dmg=$dmg; $mult_words=\'\';
		foreach ($multiplier as $key)
		{
			$fin_dmg=$fin_dmg*$key;
			$mult_words.="×{$key}";
		}
		$fin_dmg=round($fin_dmg);
		if ($fin_dmg < 1) $fin_dmg = 1;
		if ($mult_words==\'\')
			$log .= "造成<span class=\\"red\\">{$dmg}</span>点伤害！<br>";
		else  $log .= "造成{$dmg}{$mult_words}＝<span class=\\"red\\">{$fin_dmg}</span>点伤害！<br>";
		$pa[\'physical_dmg_dealt\']+=$fin_dmg;
		$pa[\'dmg_dealt\']+=$fin_dmg;
		}while(0); return $weapon_calculate_physical_dmg_ret;}
		
		eval(import_module(\'logger\',\'itemmain\'));
		$attack_type = \'u\';
		if (\\skillbase\\skill_getvalue(26,\'lvl\',$pa)==2) $attack_type = \'f\';	
		$log .= \'在技能的作用下，伤害全部转化为了<span class="red">\'.$itemspkinfo[$attack_type].\'</span>伤害！<br>\';
		
		
		
		
		$r = \\wep_f\\get_WF_dmg_multiplier($pa, $pd, $active);
		$r = array_merge($r,\\ex_rapid_attr\\get_rapid_dmg_multiplier($pa, $pd, $active));
		
		
		$flag=\\skill26\\check_ex_dmg_nullify ($pa, $pd, $active);
		
		$pa[\'skill26_flag1\'] = 2;	
		$pa[\'skill26_flag2\'] = 2;	
		
		if ($flag)
		{
			$log .= "<span class=\\"red\\">属性攻击的力量完全被防具吸收了！</span>只造成了<span class=\\"red\\">".round($zdmg)."</span>点伤害！<br>";
			$pa[\'physical_dmg_dealt\'] += $pa[\'ex_dmg_dealt\'];
			$pa[\'dmg_dealt\'] += $pa[\'ex_dmg_dealt\'];
			$pa[\'ex_dmg_dealt\'] = 0;
			return;
		}
		
		$multiple = \\ex_dmg_att\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $attack_type);
		$dmg = \\weapon\\get_physical_dmg($pa, $pd, $active);
		$dmg *= $multiple; $dmg = round($dmg); if ($dmg<1) $dmg = 1;
		eval(import_module(\'ex_dmg_att\'));
		
		$fin_dmg = $dmg; $mult_words=\'\';
		foreach ($r as $key)
		{
			$fin_dmg=$fin_dmg*$key;
			$mult_words.="×{$key}";
		}
		$fin_dmg=round($fin_dmg);
		if ($fin_dmg < 1) $fin_dmg = 1;

		if ($mult_words==\'\')
		{
			$log.="武器攻击造成了<span class=\\"red\\">{$dmg}</span>点".$itemspkinfo[$attack_type]."伤害！<br>";
		}
		else
		{
			$tdmg = round($dmg * $zdmg);
			$log.="武器攻击造成了{$dmg}{$mult_words}＝<span class=\\"red\\">{$fin_dmg}</span>点".$itemspkinfo[$attack_type]."伤害！<br>";
			$dmg = $tdmg;
		}
		$pa[\'physical_dmg_dealt\'] += $fin_dmg;
		$pa[\'dmg_dealt\'] += $fin_dmg;
	'

Array\strike_prepare ====> '
		return \\skill244\\strike_prepare($pa,$pd,$active);'

Array\strike_finish ====> '
		return \\skill27\\strike_finish($pa,$pd,$active);'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\get_physical_dmg_multiplier ====> '
		return \\ex_attr_pierce\\get_physical_dmg_multiplier($pa,$pd,$active);'

Array\check_physical_def_attr ====> '
		
		
		if ($pa[\'physical_pierce_success\']) return Array();$skill208_check_physical_def_attr_ret = NULL;

		//========Contents from mod skill208========
		do{
			
		
		if ($pa[\'bskill\']!=208){$ex_phy_nullify_check_physical_def_attr_ret = NULL;

		//========Contents from mod ex_phy_nullify========
		do{
			
		
		
		if ($pd[\'physical_nullify_success\']){ $ex_phy_nullify_check_physical_def_attr_ret =  Array();
break; }$ex_phy_def_check_physical_def_attr_ret = NULL;

		//========Contents from mod ex_phy_def========
		do{
			
		
		eval(import_module(\'ex_phy_def\',\'logger\'));
		if (isset($def_kind[$pa[\'wep_kind\']])) 
		{
			$ex_def_array = \\attrbase\\get_ex_def_array($pa, $pd, $active);
			if (in_array($def_kind[$pa[\'wep_kind\']], $ex_def_array) || in_array(\'A\', $ex_def_array))
			{
				if (\\ex_phy_def\\check_ex_phy_def_proc ($pa,$pd,$active))
				{
					if ($active)
						$log .= "<span class=\\"yellow\\">{$pd[\'name\']}的装备使你的攻击伤害减半了！</span><br>";
					else  $log .= "<span class=\\"yellow\\">你的装备使{$pa[\'name\']}的攻击伤害减半了！</span><br>";
					$ex_phy_def_check_physical_def_attr_ret =  Array(0.5);
break; 
				}
				else
				{
					if ($active)
						$log .= "<span class=\\"yellow\\">{$pd[\'name\']}的装备没能发挥攻击伤害减半的效果！</span><br>";
					else  $log .= "<span class=\\"yellow\\">你的装备没能发挥攻击伤害减半的效果！</span><br>";
					$ex_phy_def_check_physical_def_attr_ret =  Array();
break; 
				}
			}
		}
		$ex_phy_def_check_physical_def_attr_ret =  Array();
break; 
		}while(0);
		$ex_phy_nullify_check_physical_def_attr_ret =  $ex_phy_def_check_physical_def_attr_ret;
break; 
		}while(0); $skill208_check_physical_def_attr_ret =  $ex_phy_nullify_check_physical_def_attr_ret;
break; }
		$skill208_check_physical_def_attr_ret =  Array();
break; 
		}while(0);
		return $skill208_check_physical_def_attr_ret;
	'

Array\check_physical_nullify ====> '
		
		
		if ($pa[\'physical_pierce_success\']) return array();$ex_phy_nullify_check_physical_nullify_ret = NULL;

		//========Contents from mod ex_phy_nullify========
		do{
			
		
		eval(import_module(\'logger\'));
		$ex_def_array = \\attrbase\\get_ex_def_array($pa, $pd, $active);
		if (in_array(\'B\', $ex_def_array))
		{
			$proc_rate = \\ex_phy_nullify\\get_ex_phy_nullify_proc_rate ($pa, $pd, $active);
			$dice = rand(0,99);
			if ($dice<$proc_rate)
			{
				if ($active)
					$log .= "<span class=\\"yellow\\">你的攻击完全被{$pd[\'name\']}的装备吸收了！</span><br>";
				else  $log .= "<span class=\\"yellow\\">{$pa[\'name\']}的攻击完全被你的装备吸收了！</span><br>";
				$pd[\'physical_nullify_success\'] = 1;
			}
			else
			{
				if ($active)
					$log .= "纳尼？{$pd[\'name\']}的装备使攻击无效化的属性竟然失效了！<br>";
				else  $log .= "纳尼？你的装备使攻击无效化的属性竟然失效了！<br>";
			}
		}
		$ex_phy_nullify_check_physical_nullify_ret =  Array();
break; 
		}while(0);
		return $ex_phy_nullify_check_physical_nullify_ret;
	'

Array\get_physical_dmg_multiplier ====> '$ex_gender_attr_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod ex_gender_attr========
		do{
			
		
		$r = \\ex_gender_attr\\check_gender_proc ($pa, $pd, $active);$skill51_get_physical_dmg_multiplier_ret = NULL;

		//========Contents from mod skill51========
		do{
			
		
		if (!\\skillbase\\skill_query(51,$pa) || !\\skill51\\check_unlocked51 ($pa)){ $skill51_get_physical_dmg_multiplier_ret =  \\ex_phy_nullify\\get_physical_dmg_multiplier($pa, $pd, $active);
break; }
		if (substr($pa[\'wepk\'],0,2)!=\'WC\'){ $skill51_get_physical_dmg_multiplier_ret =  \\ex_phy_nullify\\get_physical_dmg_multiplier($pa, $pd, $active);
break; }
		eval(import_module(\'logger\'));
		$z=\\skill51\\get_skill51_multiplier ($pa);
		$r=Array((100+$z)/100);
		if ($active)
			$log.=\'<span class="yellow">你打得敌人落花流水，物理伤害增加了\'.$z.\'%！</span><br>\';
		else  $log.=\'<span class="yellow">敌人打得你落花流水，物理伤害增加了\'.$z.\'%！</span><br>\';
		$skill51_get_physical_dmg_multiplier_ret =  array_merge($r,\\ex_phy_nullify\\get_physical_dmg_multiplier($pa, $pd, $active));
break; 
		}while(0);
		$ex_gender_attr_get_physical_dmg_multiplier_ret =  array_merge($r, $skill51_get_physical_dmg_multiplier_ret);
break; 
		}while(0);
		
		return array_merge(\\ex_attr_pierce\\check_pierce_proc ($pa, $pd, $active), $ex_gender_attr_get_physical_dmg_multiplier_ret);
	'

Array\strike_prepare ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill244\\strike_prepare\') 
		{
			return \\skill244\\strike_prepare($pa,$pd,$active);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		$pa[\'physical_pierce_success\'] = 0;$skill26_strike_prepare_ret = NULL;

		//========Contents from mod skill26========
		do{
			
		
		if ($pa[\'bskill\']!=26){ $skill26_strike_prepare_ret =  \\skill215\\strike_prepare($pa, $pd, $active);
break; }
		if (!\\skillbase\\skill_query(26,$pa) || !\\skill26\\check_unlocked26 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill26\\get_rage_cost26 ($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「聚能」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「聚能」！</span><br>";
				$pa[\'rage\']-=$rcost;
				$pa[\'skill26_flag1\']=1;
				$pa[\'skill26_flag2\']=1;
				$pa[\'skill26_flag3\']=1;
				$pa[\'skill26_flag4\']=1;
				addnews ( 0, \'bskill26\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\skill215\\strike_prepare($pa, $pd, $active);
		}while(0);
		$skill26_strike_prepare_ret;
	'

Array\pre_act ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill435\\pre_act\') 
		{
			return \\skill435\\pre_act();
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		eval(import_module(\'sys\',\'player\',\'skill56\'));
		if (!\\skillbase\\skill_query(56) || !\\skill56\\check_unlocked56 ($sdata)) return \\skill475\\pre_act();
		
		
		
		$mercnum=(int)\\skillbase\\skill_getvalue(56,\'t\');
		for ($i=1; $i<=$mercnum; $i++)
		{
			$lastsal=(int)\\skillbase\\skill_getvalue(56,\'l\'.$i);
			$ty=(int)\\skillbase\\skill_getvalue(56,\'s\'.$i);
			
			if (($now-$lastsal>=60 && $money>=$skill56_npc[\'sub\'][$ty][\'mercsalary\']) || $now-$lastsal>=$merc_leave_timeout)
			{
				$is_hired=(int)\\skillbase\\skill_getvalue(56,\'h\'.$i);
				if ($is_hired==1)
				{
					$rs=(int)floor(($now-$lastsal)/60);
					if ($rs>0)
					{
						$spid=(int)\\skillbase\\skill_getvalue(56,\'p\'.$i);
						
						$pdata=\\player\\fetch_playerdata_by_pid($spid);
						if ($pdata[\'hp\']<=0)
						{
							
							\\skillbase\\skill_setvalue(56,\'l\'.$i,2147483647);
						}
						\\player\\player_save($pdata);
					}
				}
			}
		}
		\\skill475\\pre_act();
	'

Array\act ====> '
		return \\smartmix\\act();'

Array\check_alive_discover ====> '
		$___TEMP_backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2); 
		array_shift($___TEMP_backtrace);
		if (count($___TEMP_backtrace)==0) $___TEMP_PARENT_NAME=\'\'; else $___TEMP_PARENT_NAME=strtolower($___TEMP_backtrace[0][\'function\']);
		if ($___TEMP_PARENT_NAME!=\'skill435\\check_alive_discover\') 
		{
			return \\skill435\\check_alive_discover($edata);
		}
		unset($___TEMP_PARENT_NAME); unset($___TEMP_backtrace); 
	
		
		
		
		eval(import_module(\'player\'));
		if (!\\skillbase\\skill_query(56) || !\\skill56\\check_unlocked56 ($sdata)) return \\skill246\\check_alive_discover($edata);
		$x=(int)\\skillbase\\skill_getvalue(56,\'t\');
		for ($i=1; $i<=$x; $i++)
		{
			$spid = (int)\\skillbase\\skill_getvalue(56,\'p\'.$i);
			if ($edata[\'pid\']==$spid)
				return 0;
		}
		return \\skill246\\check_alive_discover($edata);
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\pre_act ====> '
		
		eval(import_module(\'sys\',\'player\',\'skill435\'));
		if (!\\skillbase\\skill_query(435) || !\\skill435\\check_unlocked435 ($sdata)) return \\skill56\\pre_act();
		
		
		
		$mercnum=(int)\\skillbase\\skill_getvalue(435,\'t\');
		for ($i=1; $i<=$mercnum; $i++)
		{
			$lastsal=(int)\\skillbase\\skill_getvalue(435,\'l\'.$i);
			$ty=(int)\\skillbase\\skill_getvalue(435,\'s\'.$i);
			
			if (($now-$lastsal>=60 && $money>=$skill435_npc[\'sub\'][$ty][\'mercsalary\']) || $now-$lastsal>=$merc_leave_timeout)
			{
				$is_hired=(int)\\skillbase\\skill_getvalue(435,\'h\'.$i);
				if ($is_hired==1)
				{
					$rs=(int)floor(($now-$lastsal)/60);
					if ($rs>0)
					{
						$spid=(int)\\skillbase\\skill_getvalue(435,\'p\'.$i);
						
						$pdata=\\player\\fetch_playerdata_by_pid($spid);
						if ($pdata[\'hp\']<=0)
						{
							
							\\skillbase\\skill_setvalue(435,\'l\'.$i,2147483647);
						}
						\\player\\player_save($pdata);
					}
				}
			}
		}
		\\skill56\\pre_act();
	'

Array\act ====> '
		return \\smartmix\\act();'

Array\check_alive_discover ====> '
		
		
		eval(import_module(\'player\'));
		if (!\\skillbase\\skill_query(435) || !\\skill435\\check_unlocked435 ($sdata)) return \\skill56\\check_alive_discover($edata);
		$x=(int)\\skillbase\\skill_getvalue(435,\'t\');
		for ($i=1; $i<=$x; $i++)
		{
			$spid = (int)\\skillbase\\skill_getvalue(435,\'p\'.$i);
			if ($edata[\'pid\']==$spid)
				return 0;
		}
		return \\skill56\\check_alive_discover($edata);
	'

Array\parse_news ====> '
		return \\skill244\\parse_news($nid,$news,$hour,$min,$sec,$a,$b,$c,$d,$e,$exarr);'

Array\act ====> '
		return \\smartmix\\act();'

Array\get_addnpclist ====> '
		
		eval(import_module(\'sys\',\'addnpc\',\'tutorial\'));
		list($tno, $tstep, $tprog) = \\tutorial\\get_current_tutorial_step ();
		if($gametype == 17 && isset($tutorial_npc[$tno])){
			$anpcinfo = $tutorial_npc[$tno];
			return $anpcinfo;
		}$addnpc_get_addnpclist_ret = NULL;

		//========Contents from mod addnpc========
		do{
			
		
		eval(import_module(\'player\'));
		$addnpc_get_addnpclist_ret =  $anpcinfo;
break; 
		}while(0);
		return $addnpc_get_addnpclist_ret;
	'

Array\move ====> '
		
		eval(import_module(\'sys\',\'player\',\'map\',\'logger\',\'itemshop\'));
		$opls = $pls;$skill480_move_ret = NULL;

		//========Contents from mod skill480========
		do{$cooldown_move_ret = NULL;

		//========Contents from mod cooldown========
		do{
			
		
		
		eval(import_module(\'cooldown\'));
		if($coldtimeon){
			$cdover = $cdsec*1000 + $cdmsec;
			$nowmtime = floor(getmicrotime()*1000);
			$rmcdtime = $nowmtime >= $cdover ? 0 : $cdover - $nowmtime;
		}
		
		if($coldtimeon && $rmcdtime > 0)
		{
			$log .= \'<span class="yellow">冷却时间尚未结束！</span><br>\';
			$mode = \'command\';
			$cooldown_move_ret = NULL;
break; 
		}
		
		if($coldtimeon) $cmdcdtime=\\cooldown\\get_move_coldtime ($moveto);$explore_move_ret = NULL;

		//========Contents from mod explore========
		do{
			
		
		
		
		$plsnum = sizeof($plsinfo);
		if(($moveto == \'main\')||($moveto < 0 )||($moveto >= $plsnum)){
			$log .= \'请选择正确的移动地点。<br>\';
			$explore_move_ret = NULL;
break; 
		} elseif($pls == $moveto){
			$log .= \'相同地点，不需要移动。<br>\';
			$explore_move_ret = NULL;
break; 
		} elseif(array_search($moveto,$arealist) <= $areanum && !$hack){
			$log .= $plsinfo[$moveto].\'是禁区，还是离远点吧！<br>\';
			$explore_move_ret = NULL;
break; 
		}
		
		$movesp=max(\\explore\\calculate_move_sp_cost (),1);
		
		if($sp <= $movesp){
			$log .= "体力不足，不能移动！<br>还是先睡会儿吧！<br>";
			$explore_move_ret = NULL;
break; 
		}

		$sp -= $movesp;
		
		$log .= "你消耗<span class=\\"yellow\\">{$movesp}</span>点体力，移动到了$plsinfo[$moveto]。<br>";
		
		$pls = $moveto;
		
		\\explore\\move_to_area ($moveto);
		
		$explore_move_ret = NULL;
break; 

		}while(0);
		
		$explore_move_ret;
		
		}while(0);
			
		
		$cooldown_move_ret;
		\\skill480\\skill480_post_activated_effect ();
		}while(0);
		$skill480_move_ret;
		if($gametype == 17) {
			$ct = \\tutorial\\get_tutorial ();
			if($ct[\'object\'] == \'move\'){
				if((in_array(\'leave\',$ct[\'obj2\']) && $opls != $pls) || (in_array(\'shop\',$ct[\'obj2\']) && \\itemshop\\check_in_shop_area($pls))){
					\\tutorial\\tutorial_pushforward_process ();
				}				
			}
		}
		return;
	'

Array\search ====> '
		
		eval(import_module(\'sys\',\'player\',\'map\',\'logger\'));
		if($gametype == 17) {
			
			$ct = \\tutorial\\get_tutorial ();
			if($ct[\'object\'] == \'search\'){
				\\tutorial\\tutorial_pushforward_process ();
			}
		}$skill480_search_ret = NULL;

		//========Contents from mod skill480========
		do{$cooldown_search_ret = NULL;

		//========Contents from mod cooldown========
		do{
			
		
		
		eval(import_module(\'cooldown\'));
		if($coldtimeon){
			$cdover = $cdsec*1000 + $cdmsec;
			$nowmtime = floor(getmicrotime()*1000);
			$rmcdtime = $nowmtime >= $cdover ? 0 : $cdover - $nowmtime;
		}

		if ($coldtimeon && $rmcdtime > 0)
		{
			$log .= \'<span class="yellow">冷却时间尚未结束！</span><br>\';
			$mode = \'command\';
			$cooldown_search_ret = NULL;
break; 
		}
	
		if($coldtimeon) $cmdcdtime=\\cooldown\\get_search_coldtime ();$explore_search_ret = NULL;

		//========Contents from mod explore========
		do{
			
		
		
		
		if(array_search($pls,$arealist) <= $areanum && !$hack){
			$log .= $plsinfo[$pls].\'是禁区，还是赶快逃跑吧！<br>\';
			$explore_search_ret = NULL;
break; 
		}

		$schsp=max(1,\\explore\\calculate_search_sp_cost ());

		if($sp <= $schsp){
			$log .= "体力不足，不能探索！<br>还是先睡会儿吧！<br>";
			$explore_search_ret = NULL;
break; 	
		}

		$sp -= $schsp;
		
		$log .= "消耗<span class=\\"yellow\\">{$schsp}</span>点体力，你搜索着周围的一切。。。<br>";
		
		\\explore\\search_area ();
	
		$explore_search_ret = NULL;
break; 

		}while(0);
		
		$explore_search_ret;
	
		}while(0);
			
		
		$cooldown_search_ret;
		\\skill480\\skill480_post_activated_effect ();
		}while(0);
		return $skill480_search_ret;
	'

Array\discover ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if($gametype == 17){
			$ct = \\tutorial\\get_tutorial ();
			$ct_prev = \\tutorial\\get_tutorial (\'PREV\');
			list($tno, $tstep, $tprog) = \\tutorial\\get_current_tutorial_step ();
			
			if($schmode == \'move\'){
				$log .= "但是什么都没有发现。<br>";
				return;
			}
			if($schmode == \'search\' && (isset($ct[\'obj2\'][\'itm\']) || isset($ct[\'obj2\'][\'meetnpc\']))){
				if(isset($ct[\'obj2\'][\'itm\'])){
					\\tutorial\\discover_item ();
					return;
				}elseif(isset($ct[\'obj2\'][\'meetnpc\'])){
					\\tutorial\\discover_player ();
					return;
				}




			}
		}$event_discover_ret = NULL;

		//========Contents from mod event========
		do{
			
		
		eval(import_module(\'map\',\'event\'));
		$event_dice = rand(0,99);
		if(($event_dice < $event_obbs)||(($art!="Untainted Glory")&&($pls==34)&&($gamestate != 50))){
			\\event\\event ();
			$mode = \'command\';
			$event_discover_ret = NULL;
break; 
		}$trap_discover_ret = NULL;

		//========Contents from mod trap========
		do{
			
		
		
		eval(import_module(\'trap\'));
		$trap_dice=rand(0,99);
		if($trap_dice < $trap_max_obbs)
			if (\\trap\\trapcheck ()){ 
				$trap_discover_ret = NULL;
break; }$metman_discover_ret = NULL;

		//========Contents from mod metman========
		do{
			
		
		$dice = rand(0,99);
		
		$meetman_rate = \\metman\\calculate_meetman_rate ($schmode);
		if($meetman_rate < 20) $meetman_rate = 20;
		
		if($dice < $meetman_rate) {
			\\metman\\discover_player ();
			$metman_discover_ret = NULL;
break; 
		}$itemmain_discover_ret = NULL;

		//========Contents from mod itemmain========
		do{
			
		
		$find_obbs = \\itemmain\\calculate_itemfind_obbs ()*\\itemmain\\calculate_itemfind_obbs_multiplier ();
		$dice = rand(0,99);
		if($dice < $find_obbs) {
			\\itemmain\\discover_item ();
			$itemmain_discover_ret = NULL;
break; 
		}$explore_discover_ret = NULL;

		//========Contents from mod explore========
		do{
			
		
		
		$log .= "但是什么都没有发现。<br>";
		}while(0);
		$explore_discover_ret;
		}while(0); 
		$itemmain_discover_ret;
		}while(0);
				
		$metman_discover_ret;
		}while(0);
		$trap_discover_ret;
		}while(0);
		$event_discover_ret;
	'

Array\discover_item ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'itemmain\'));
		if($gametype == 17){
			$ct = \\tutorial\\get_tutorial ();
			if(isset($ct[\'obj2\'][\'itm\'])){
				$itm0 = $itmk0 = $itmsk0 = \'\';
				$itme0 = $itms0 = 0;
				$itm0=$ct[\'obj2\'][\'itm\'];
				$itmk0=$ct[\'obj2\'][\'itmk\'];
				$itme0=$ct[\'obj2\'][\'itme\'];
				$itms0=$ct[\'obj2\'][\'itms\'];
				$itmsk0=$ct[\'obj2\'][\'itmsk\'];
				$tpldata[\'itmk0_words\'] = \\itemmain\\parse_itmk_words($itmk0);
				$tpldata[\'itmsk0_words\'] = \\itemmain\\parse_itmsk_words($itmsk0);
				ob_clean();
				$uip[\'tutorial_cmd_inner_tpl\'] = MOD_ITEMMAIN_ITEMFIND;
				include template(MOD_TUTORIAL_TUTORIAL_CMD);
				$cmd = ob_get_contents();
				ob_clean();
				return;
			}
		}$itemmain_discover_item_ret = NULL;

		//========Contents from mod itemmain========
		do{
			
		
		
		
		
		$result = $db->query("SELECT * FROM {$tablepre}mapitem WHERE pls = \'$pls\'");
		$itemnum = $db->num_rows($result);
		if($itemnum <= 0){
			$log .= \'<span class="yellow">周围找不到任何物品。</span><br>\';
			$mode = \'command\';
			$itemmain_discover_item_ret = NULL;
break; 
		}
		$itemno = rand(0,$itemnum-1);
		$db->data_seek($result,$itemno);
		$mi=$db->fetch_array($result);
		$itms0 = \\itemmain\\focus_item ($mi);
		if($itms0){
			\\itemmain\\itemfind ();
			$itemmain_discover_item_ret = NULL;
break; 
		} else {
			$log .= "但是什么都没有发现。<br>";
		}
		$mode = \'command\';
		}while(0);
		$itemmain_discover_item_ret;
	'

Array\itemget ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\'));$itemmain_itemget_ret = NULL;

		//========Contents from mod itemmain========
		do{
			
		
		
		
		$log .= "获得了物品<span class=\\"yellow\\">$itm0</span>。<br>";
		if(preg_match(\'/^(WC|WD|WF|Y|B|C|TN|GB|M|V)/\',$itmk0) && $itms0 !== $nosta){
			if($wep == $itm0 && $wepk == $itmk0 && $wepe == $itme0 && $wepsk == $itmsk0){
				$weps += $itms0;
				$log .= "与装备着的武器<span class=\\"yellow\\">$wep</span>合并了。";
				$itm0 = $itmk0 = $itmsk0 = \'\';
				$itme0 = $itms0 = 0;
				$mode = \'command\';
				$itemmain_itemget_ret = NULL;
break; 
			}else{
				for($i = 1;$i <= 6;$i++){
					if((${\'itms\'.$i})&&($itm0 == ${\'itm\'.$i})&&($itmk0 == ${\'itmk\'.$i})&&($itme0 == ${\'itme\'.$i})&&($itmsk0 == ${\'itmsk\'.$i})){
						${\'itms\'.$i} += $itms0;
						$log .= "与包裹里的<span class=\\"yellow\\">$itm0</span>合并了。";
						$itm0 = $itmk0 = $itmsk0 = \'\';
						$itme0 = $itms0 = 0;
						$mode = \'command\';
						$itemmain_itemget_ret = NULL;
break; 
					}
				}
			}
		} elseif(preg_match(\'/^H|^P/\',$itmk0) && $itms0 !== $nosta){
			$sameitem = array();
			for($i = 1;$i <= 6;$i++){
				if(${\'itms\'.$i}&&($itm0 == ${\'itm\'.$i})&&($itme0 == ${\'itme\'.$i})&&(preg_match(\'/^(H|P)/\',${\'itmk\'.$i}))){
					$sameitem[] = $i;
				}
			}
			if(isset($sameitem[0])){
				include template(MOD_ITEMMAIN_ITEMMERGE0);
				$cmd = ob_get_contents();
				ob_clean();
	
	
	
	
				$itemmain_itemget_ret = NULL;
break; 
			}
			
		}

		\\itemmain\\itemadd ();
		$itemmain_itemget_ret = NULL;
break; 
		}while(0);
		$r = $itemmain_itemget_ret;
		if($gametype == 17) {
			$ct = \\tutorial\\get_tutorial ();
			if($ct[\'object\'] == \'itemget\'){
				\\tutorial\\tutorial_pushforward_process ();
			}
		}
		return;
	'

Array\discover_player ====> '
				
		eval(import_module(\'sys\',\'player\',\'logger\',\'metman\'));
		if($gametype == 17){
			$ct = \\tutorial\\get_tutorial ();
			
			
			if(isset($ct[\'obj2\'][\'meetnpc\'])){
				if(!isset($ct[\'obj2\'][\'corpse\'])){
					$nid = \\tutorial\\tutorial_movenpc ($ct[\'obj2\'][\'meetnpc\'],$ct[\'obj2\'][\'meetsub\'],$pid);
					if(isset($ct[\'obj2\'][\'changehp\'])){
						$n = \\tutorial\\tutorial_changehp_npc ($ct[\'obj2\'][\'meetnpc\'],$ct[\'obj2\'][\'meetsub\'],$pid,1,$nid);
					}
					\\metman\\meetman($nid);
					return;
				}else{
					$mnpcd = \\tutorial\\tutorial_checknpc ($ct[\'obj2\'][\'meetnpc\'], $ct[\'obj2\'][\'meetsub\'], $pid, 0, 1);
					if($mnpcd[\'pls\'] == $pls) \\metman\\meetman($mnpcd[\'pid\']);
					return;
				}				
			}





		}$metman_discover_player_ret = NULL;

		//========Contents from mod metman========
		do{
			
		
		
		
		$result = $db->query("SELECT pid FROM {$tablepre}players WHERE pls=\'$pls\' AND pid!=\'$pid\' AND (hp>\'0\' OR corpse_clear_flag!=\'1\')");
		if(!$db->num_rows($result)){
			$log .= \'<span class="yellow">周围一个人都没有。</span><br>\';
			$mode = \'command\';
			$metman_discover_player_ret = NULL;
break; 
		}

		$enemynum = $db->num_rows($result);
		$enemyarray = range(0, $enemynum - 1);
		shuffle($enemyarray);
		
		$hideflag = false;
		foreach($enemyarray as $enum){
			$db->data_seek($result, $enum);
			$z=$db->fetch_array($result);
			$edata = \\player\\fetch_playerdata_by_pid($z[\'pid\']);
			if (isset($edata[\'infochanged\']) && $edata[\'infochanged\']) \\player\\player_save($edata);
			if ($edata[\'pls\']==$pls)	
			{
				$z=\\metman\\check_player_discover ($edata);
				if ($z==-1)
				{
					
					\\explore\\discover(\'search2\');
					$metman_discover_player_ret = NULL;
break; 
				}
				if ($z)
				{
					\\metman\\meetman ($edata[\'pid\']);
					$metman_discover_player_ret = NULL;
break; 
				}
			}
			else {
				$log .= \'你发现了\'.$edata[\'name\'].\'，但对方匆匆离去，你追之不及。<br>\';
			}
		}
		if($hideflag == true){
			$log .= \'似乎有人隐藏着……<br>\';
		}else{
			$log .= \'<span class="yellow">周围似乎一个人都没有。</span><br>\';
		}
		$mode = \'command\';
		$metman_discover_player_ret = NULL;
break; 
		}while(0);
		return $metman_discover_player_ret;
	'

Array\get_battlecmd_filename ====> '
		
		eval(import_module(\'sys\'));
		if($gametype == 17) {
			$uip[\'tutorial_cmd_inner_tpl\'] = MOD_ENEMY_BATTLECMD;
			return MOD_TUTORIAL_TUTORIAL_CMD;
		}$enemy_get_battlecmd_filename_ret = NULL;

		//========Contents from mod enemy========
		do{
			
		
		eval(import_module(\'logger\',\'player\',\'metman\'));
		$enemy_get_battlecmd_filename_ret =  MOD_ENEMY_BATTLECMD;
break; 
		}while(0);
		return $enemy_get_battlecmd_filename_ret;
	'

Array\get_battleresult_filename ====> '
		
		eval(import_module(\'sys\'));
		if($gametype == 17) {
			$uip[\'tutorial_cmd_inner_tpl\'] = MOD_BATTLE_BATTLERESULT;
			return MOD_TUTORIAL_TUTORIAL_CMD;
		}$battle_get_battleresult_filename_ret = NULL;

		//========Contents from mod battle========
		do{
			
		
		eval(import_module(\'logger\',\'player\',\'metman\'));
		$battle_get_battleresult_filename_ret =  MOD_BATTLE_BATTLERESULT;
break; 
		}while(0);
		return $battle_get_battleresult_filename_ret;
	'

Array\get_corpse_filename ====> '
		
		eval(import_module(\'sys\'));
		if($gametype == 17) {
			$uip[\'tutorial_cmd_inner_tpl\'] = MOD_TUTORIAL_TUTORIAL_CORPSE;
			return MOD_TUTORIAL_TUTORIAL_CMD;
		}$corpse_get_corpse_filename_ret = NULL;

		//========Contents from mod corpse========
		do{
			
		
		eval(import_module(\'logger\',\'player\',\'metman\'));
		$corpse_get_corpse_filename_ret =  MOD_CORPSE_CORPSE;
break; 
		}while(0);
		return $corpse_get_corpse_filename_ret;
	'

Array\get_sp_shop_filename ====> '
		
		eval(import_module(\'sys\'));
		if($gametype == 17) {
			$uip[\'tutorial_cmd_inner_tpl\'] = MOD_ITEMSHOP_SP_SHOP;
			return MOD_TUTORIAL_TUTORIAL_CMD;
		}$itemshop_get_sp_shop_filename_ret = NULL;

		//========Contents from mod itemshop========
		do{
			
		
		eval(import_module(\'logger\',\'player\'));
		$itemshop_get_sp_shop_filename_ret =  MOD_ITEMSHOP_SP_SHOP;
break; 
		}while(0);
		return $itemshop_get_sp_shop_filename_ret;
	'

Array\get_itemshop_filename ====> '
		
		eval(import_module(\'sys\'));
		if($gametype == 17) {
			$uip[\'tutorial_cmd_inner_tpl\'] = MOD_ITEMSHOP_SHOP;
			return MOD_TUTORIAL_TUTORIAL_CMD;
		}$itemshop_get_itemshop_filename_ret = NULL;

		//========Contents from mod itemshop========
		do{
			
		
		eval(import_module(\'logger\',\'player\'));
		$itemshop_get_itemshop_filename_ret =  MOD_ITEMSHOP_SHOP;
break; 
		}while(0);
		return $itemshop_get_itemshop_filename_ret;
	'

Array\get_itemmix_filename ====> '
		return \\smartmix\\get_itemmix_filename();'

Array\meetman_alternative ====> '
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'metman\',\'tutorial\'));
		if($gametype == 17){
			$ct = \\tutorial\\get_tutorial ();	
			if(!$edata[\'type\'] && $tutorial_force_teamer){
				$log .= \'你看到了似乎处于同样状况的玩家。<br>\';
				\\team\\findteam($edata);
				return;
			}elseif($edata[\'type\'] && $edata[\'teamID\'] && $edata[\'teamID\'] != $pid){
				$log .= \'你似乎看到了什么东西，但是耳机里的声音命令你把目光从那里移开，你照做了。<br>\';
				return;
			}
			if ($edata[\'hp\']>0){
				extract($edata,EXTR_PREFIX_ALL,\'w\');
				if(isset($ct[\'obj2\'][\'active\']) && $ct[\'obj2\'][\'active\']){
					$action = \'enemy\'.$edata[\'pid\'];
					\\enemy\\findenemy($edata);
					return;
				} elseif(isset($ct[\'obj2\'][\'active\']) && !$ct[\'obj2\'][\'active\']) {
					\\enemy\\battle_wrapper($edata,$sdata,0);
					return;
				}
				
			}
		}$gtype1_meetman_alternative_ret = NULL;

		//========Contents from mod gtype1========
		do{
			
		
		
		if($gametype == 1){
			if(!$edata[\'type\']){
				$log .= \'你看到了同为测试工程师的玩家，你们似乎有点尴尬地笑了笑。<br>\';
				\\team\\findteam($edata);
				$gtype1_meetman_alternative_ret = NULL;
break; 
			}
		}$team_meetman_alternative_ret = NULL;

		//========Contents from mod team========
		do{
			
		
		
		
		if($edata[\'hp\']>0 && $teamID && (!$fog) && $gamestate<40 && $teamID == $edata[\'teamID\'] && !in_array($gametype,$teamwin_mode))
		{
			\\team\\findteam ($edata);
			$team_meetman_alternative_ret = NULL;
break; 
		}$enemy_meetman_alternative_ret = NULL;

		//========Contents from mod enemy========
		do{
			
		
		
		if ($edata[\'hp\']>0)
		{
			extract($edata,EXTR_PREFIX_ALL,\'w\');
			if (\\enemy\\check_enemy_meet_active ($sdata,$edata)) {
				$action = \'enemy\'.$edata[\'pid\'];
				\\enemy\\findenemy ($edata);
				$enemy_meetman_alternative_ret = NULL;
break; 
			} else {
				\\enemy\\battle_wrapper ($edata,$sdata,0);
				$enemy_meetman_alternative_ret = NULL;
break; 
			}
		}
		else{$metman_meetman_alternative_ret = NULL;

		//========Contents from mod metman========
		do{
			
		
		
		$battle_title = \'发现人物\';
		extract($edata,EXTR_PREFIX_ALL,\'w\');
		\\metman\\init_battle (1);
		$log .= "你发现了人物<span class=\\"yellow\\">$w_name</span>。<br>你友善地打了个招呼。<br>";
		include template(MOD_METMAN_MEETMAN_CMD);
		$cmd = ob_get_contents();
		ob_clean();
		$main = MOD_METMAN_MEETMAN;
		$metman_meetman_alternative_ret = NULL;
break; 
		}while(0); $metman_meetman_alternative_ret;}
		}while(0); 
		$enemy_meetman_alternative_ret;
		}while(0);
		$gtype1_meetman_alternative_ret =  $team_meetman_alternative_ret;
break; 
		}while(0);
		return $gtype1_meetman_alternative_ret;
	'

Array\senditem_check ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if ($gametype == 17)
		{
			if(isset($edata) && !$edata[\'type\'] && $edata[\'pls\'] == $pls && $edata[\'hp\'] > 0 && $edata[\'pid\'] != $pid){
				return true;
			}
		}$gtype1_senditem_check_ret = NULL;

		//========Contents from mod gtype1========
		do{
			
		
		
		
		if ($gametype == 1)
		{
			if(isset($edata) && !$edata[\'type\'] && $edata[\'pls\'] == $pls && $edata[\'hp\'] > 0 && $edata[\'pid\'] != $pid){
				$gtype1_senditem_check_ret =  true;
break; 
			}
		}$gameflow_combo_senditem_check_ret = NULL;

		//========Contents from mod gameflow_combo========
		do{
			
		
		
		if (defined(\'MOD_TEAM\'))
		{
			if($gamestate>=40 && !in_array($gametype,$teamwin_mode)){
				$log .= \'<span class="yellow">连斗阶段无法赠送物品！</span><br>\';
				$gameflow_combo_senditem_check_ret =  false;
break; 
			}
		}$team_senditem_check_ret = NULL;

		//========Contents from mod team========
		do{
			
		
		eval(import_module(\'map\'));
		if(!isset($edata)){
			$log .= "对方不存在！<br>";
			$team_senditem_check_ret =  false;
break; 
		} elseif($edata[\'pls\'] != $pls) {
			$log .= \'<span class="yellow">\'.$edata[\'name\'].\'</span>已经离开了<span class="yellow">\'.$plsinfo[$pls].\'</span>。<br>\';
			$team_senditem_check_ret =  false;
break; 
		} elseif($edata[\'hp\'] <= 0) {
			$log .= \'<span class="yellow">\'.$edata[\'name\'].\'</span>已经死亡，不能接受物品。<br>\';
			$team_senditem_check_ret =  false;
break; 
		} elseif(!$teamID || $edata[\'teamID\']!=$teamID || $pid==$edata[\'pid\']){
			$log .= \'<span class="yellow">\'.$edata[\'name\'].\'</span>并非你的队友，不能接受物品。<br>\';
			$team_senditem_check_ret =  false;
break; 
		}
		$team_senditem_check_ret =  true;
break; 
		}while(0);
		$gameflow_combo_senditem_check_ret =  $team_senditem_check_ret;
break; 
		}while(0);
		$gtype1_senditem_check_ret =  $gameflow_combo_senditem_check_ret;
break; 
		}while(0);
		return $gtype1_senditem_check_ret;
	'

Array\player_damaged_enemy ====> '
		
		eval(import_module(\'sys\',\'logger\',\'tutorial\'));
		$o_pa_hp = $pa[\'hp\']; $o_pd_hp = $pd[\'hp\'];$ex_hp_def_player_damaged_enemy_ret = NULL;

		//========Contents from mod ex_hp_def========
		do{
			
		
		
		$attack_player_damaged_enemy_ret = NULL;

		//========Contents from mod attack========
		do{
			
		
		
		$dmg=$pa[\'dmg_dealt\'];
		
		
		
		
		if ($dmg>0){
			$multiplier = \\attack\\get_final_dmg_multiplier ($pa, $pd, $active);
		}else{
			$multiplier= Array();
		}
		
		if ((isset($pa[\'physical_dmg_dealt\']) && $dmg>0 && $dmg!=$pa[\'physical_dmg_dealt\']) 
			|| ($dmg>0 && count($multiplier)>0))	
			{
				$fin_dmg=$dmg; $mult_words=\'\';
				foreach ($multiplier as $key)
				{
					$fin_dmg=$fin_dmg*$key;
					$mult_words.="×{$key}";
				}
				$fin_dmg=round($fin_dmg);
				if ($fin_dmg < 1) $fin_dmg = 1;
				if ($mult_words==\'\')
					$log .= "<span class=\\"yellow\\">造成的总伤害：<span class=\\"red\\">{$dmg}</span>。</span><br>";
				else  $log .= "<span class=\\"yellow\\">造成的总伤害：</span>{$dmg}{$mult_words}＝<span class=\\"red\\">{$fin_dmg}</span><span class=\\"yellow\\">。</span><br>";
				$pa[\'dmg_dealt\']=$fin_dmg;
			}
		
		
		
		\\attack\\apply_total_damage_modifier_down ($pa,$pd,$active);
		\\attack\\apply_total_damage_modifier_up ($pa,$pd,$active);
		
		\\attack\\apply_total_damage_change ($pa,$pd,$active);
		
		
		\\attack\\apply_damage ($pa,$pd,$active);
		
		 
		if (!$pa[\'type\'] && $pa[\'dmg_dealt\']>$hdamage)
		{
			$hdamage = $pa[\'dmg_dealt\'];
			$hplayer = $pa[\'name\'];
			\\sys\\save_combatinfo();
		}
		
		
		if (!$active)
			if ($pa[\'is_counter\'])
				$pa[\'battlelog\'] .= "对其做出了<span class=\\"yellow\\">{$pa[\'dmg_dealt\']}</span>点反击。<br>";
			else  $pa[\'battlelog\'] .= "你对其做出<span class=\\"yellow\\">{$pa[\'dmg_dealt\']}</span>点攻击，";
		else  if ($pa[\'is_counter\'])
				$pd[\'battlelog\'] .= "受到其<span class=\\"yellow\\">{$pa[\'dmg_dealt\']}</span>点反击。<br>";
			else  $pd[\'battlelog\'] .= "你受到其<span class=\\"yellow\\">{$pa[\'dmg_dealt\']}</span>点攻击，";
			
		
		\\attack\\post_damage_news ($pa, $pd, $active, $pa[\'dmg_dealt\']);
		}while(0);
		
		
		
		
		$attack_player_damaged_enemy_ret;
		
		
		$damage = \\ex_hp_def\\calculate_hp_rev_dmg ($pa, $pd, $active);
		if ($damage > 0)
		{
			if ($active)
				$log .= "惨无人道的攻击对你自身造成了<span class=\\"red\\">$damage</span>点<span class=\\"red\\">反噬伤害！</span><br>";
			else  $log .= "惨无人道的攻击对{$pa[\'name\']}自身造成了<span class=\\"red\\">$damage</span>点<span class=\\"red\\">反噬伤害！</span><br>";
			$pa[\'hp\']-=$damage;
		}
		}while(0);
		$ex_hp_def_player_damaged_enemy_ret;
		if($gametype == 17){
			if(isset($tutorial_tough_hp) && 
			(($active && $pd[\'type\'] && $o_pa_hp > $tutorial_tough_hp && $pa[\'hp\'] < $tutorial_tough_hp)
			 || (!$active && $pa[\'type\'] && $o_pd_hp > $tutorial_tough_hp && $pd[\'hp\'] < $tutorial_tough_hp))){
				$pd[\'hp\'] = $tutorial_tough_hp;
				$log.=\'<span class="linen">“你也太脆了，真是伤脑筋啊……”</span>不知为何，你忽然觉得受到的伤害没那么严重了。<br>\';
			}
		}
	'

Array\get_hitrate ====> '
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'tutorial\'));
		if($gametype == 17){
			$ct = \\tutorial\\get_tutorial ();
			if(isset($ct[\'obj2\'][\'always_hit\']) && $ct[\'obj2\'][\'always_hit\']){
				return 100;
			}
		}$skill50_get_hitrate_ret = NULL;

		//========Contents from mod skill50========
		do{
			
		
		if (!\\skillbase\\skill_query(50,$pd) || !\\skill50\\check_unlocked50 ($pd)){ $skill50_get_hitrate_ret =  \\skill478\\get_hitrate($pa, $pd, $active);
break; }
		if (!\\skill50\\check_skill50_proc ($pd, $pa, 1-$active)){ $skill50_get_hitrate_ret =  \\skill478\\get_hitrate($pa, $pd, $active);
break; }
		$skill50_get_hitrate_ret =  \\skill478\\get_hitrate($pa, $pd, $active)*0.88;
break; 
		}while(0);
		return $skill50_get_hitrate_ret;
	'

Array\apply_weapon_inf ====> '
		
		eval(import_module(\'sys\',\'wound\',\'logger\',\'tutorial\'));
		if($gametype == 17 && $active==0){
			$ct = \\tutorial\\get_tutorial ();
			if(isset($ct[\'obj2\'][\'meetnpc\']) && isset($ct[\'obj2\'][\'inf\'])){
				\\wound\\apply_weapon_wound_real($pa, $pd, $active, $ct[\'obj2\'][\'inf\']);	
				return;
			}
		}$armor_apply_weapon_inf_ret = NULL;

		//========Contents from mod armor========
		do{
			
		
		eval(import_module(\'armor\'));
		for ($i=0; $i<strlen($inf_place); $i++)
			if (isset($pa[\'attack_wounded_\'.$inf_place[$i]]) && $pa[\'attack_wounded_\'.$inf_place[$i]]>0)
			{
				$pa[\'attack_wounded_\'.$inf_place[$i]] -= \\armor\\armor_hurt ($pa, $pd, $active, \'ar\'.$inf_place[$i], $pa[\'attack_wounded_\'.$inf_place[$i]]);
			}$wound_apply_weapon_inf_ret = NULL;

		//========Contents from mod wound========
		do{
			
		
		
		for ($i=0; $i<strlen($inf_place); $i++)
		{
			if (isset($pa[\'attack_wounded_\'.$inf_place[$i]]) && $pa[\'attack_wounded_\'.$inf_place[$i]]>0)
			{
				\\wound\\apply_weapon_wound_real ($pa, $pd, $active, $inf_place[$i]);	
			}
		}
		}while(0);
		
		$wound_apply_weapon_inf_ret;
		}while(0);
		return $armor_apply_weapon_inf_ret;
	'

Array\check_ex_inf_infliction ====> '
		
		eval(import_module(\'sys\',\'ex_dmg_att\',\'wound\',\'logger\'));
		if($gametype == 17 && $active==0){
			$ct = \\tutorial\\get_tutorial ();
			if(isset($ct[\'obj2\'][\'meetnpc\']) && isset($ct[\'obj2\'][\'ex_inf\'])){
				$infkey = array_search($ex_inf[$ct[\'obj2\'][\'ex_inf\']], $infskillinfo);
				$log .= "并造成你{$infname[$infkey]}了！";
				\\wound\\get_inf($infkey,$pd);
				return;
			}
		}$skill26_check_ex_inf_infliction_ret = NULL;

		//========Contents from mod skill26========
		do{
			
		
		if ($pa[\'bskill\']!=26){ $skill26_check_ex_inf_infliction_ret =  \\ex_dmg_def\\check_ex_inf_infliction($pa, $pd, $active,$key);
break; }
		if ($pa[\'skill26_flag3\']==1){ $skill26_check_ex_inf_infliction_ret = NULL;
break; }
		\\ex_dmg_def\\check_ex_inf_infliction($pa, $pd, $active, $key);
		}while(0);
		return $skill26_check_ex_inf_infliction_ret;
	'

Array\itemuse ====> '
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\',\'tutorial\'));
		$oitmk = $theitem[\'itmk\'];$gtype2_itemuse_ret = NULL;

		//========Contents from mod gtype2========
		do{
			
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		
		if (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) {
			if ($itm == \'装有H173的注射器\' && $gametype==2) {
				
				$log .= \'你把注射器的包装撕开，却发现没有针头。“妈的智障”，你念叨着，把注射器随手扔掉了。<br>\';
				\\itemmain\\itms_reduce($theitem);
				$gtype2_itemuse_ret = NULL;
break; 
			}
		}$addnpc_itemuse_ret = NULL;

		//========Contents from mod addnpc========
		do{
			
		
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) 
		{
			if ($itm == \'挑战者之印\') {
				if (in_array($gametype,$pve_ignore_mode))
				{
					$log.="你使用了{$itm}，但是什么也没有发生（当前游戏模式下不允许PVE）。<br>";
					$addnpc_itemuse_ret = NULL;
break; 
				}
				$log .= \'你已经呼唤了幻影执行官，现在寻找并击败他们，<br>并且搜寻他们的ID卡吧！<br>\';
				\\addnpc\\addnpc ( 7, 0,1);
				\\addnpc\\addnpc ( 7, 1,1);
				\\addnpc\\addnpc ( 7, 2,1);
				addnews ($now , \'secphase\', $name);
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
				$addnpc_itemuse_ret = NULL;
break; 
			} elseif ($itm == \'破灭之诗\') {
				if (in_array($gametype,$pve_ignore_mode))
				{
					$log.="你使用了{$itm}，但是什么也没有发生（当前游戏模式下不允许PVE）。<br>";
					$addnpc_itemuse_ret = NULL;
break; 
				}
				$rp = 0;
				$log .= \'在你唱出那单一的旋律的霎那，<br>整个虚拟世界起了翻天覆地的变化……<br>\';
				\\addnpc\\addnpc ( 4, 0,1);
				eval(import_module(\'weather\'));
				$log .= \'世界响应着这旋律，产生了异变……<br>\';
				\\weather\\wthchange( $itm,$itmsk);
				addnews ($now , \'thiphase\', $name);
				$hack = 1;
				$log .= \'因为破灭之歌的作用，全部锁定被打破了！<br>\';
				
				addnews($now,\'hack2\',$name);
				save_gameinfo();
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
				$addnpc_itemuse_ret = NULL;
break; 
			} elseif ($itm == \'黑色碎片\') {
				if (in_array($gametype,$pve_ignore_mode))
				{
					$log.="你使用了{$itm}，但是什么也没有发生（当前游戏模式下不允许PVE）。<br>";
					$addnpc_itemuse_ret = NULL;
break; 
				}
				$log .= \'你已经呼唤了一个未知的存在，现在寻找并击败她，<br>并且搜寻她的游戏解除钥匙吧！<br>\';
				addnews ($now , \'dfphase\', $name);
				\\addnpc\\addnpc ( 12, 0,1);
				
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
				$addnpc_itemuse_ret = NULL;
break; 
			}
		}$instance5_itemuse_ret = NULL;

		//========Contents from mod instance5========
		do{
			
		
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) {
			if ($itm == \'伐木解除钥匙\') 
			{
				$url = \'end.php\';
				addnews ( $now, \'itemuse\', $name, $itm );
				\\sys\\gameover ( $now, \'end8\', $name );
			}
		}$weather_itemuse_ret = NULL;

		//========Contents from mod weather========
		do{
			
		
		
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if ( strpos( $itmk,\'EW\' ) ===0 )	
		{
			\\weather\\wthchange ( $itm,$itmsk);
			\\itemmain\\itms_reduce($theitem);
			$weather_itemuse_ret = NULL;
break; 
		}$blessstone_itemuse_ret = NULL;

		//========Contents from mod blessstone========
		do{
			
		
		
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0)
			if ($itm == \'『灵魂宝石』\' || $itm == \'『祝福宝石』\')
			{
				$cmd = \'<input type="hidden" name="mode" value="item"><input type="hidden" name="usemode" value="blessstone"><input type="hidden" name="itmp" value="\' . $theitem[\'itmn\'] . \'">你想强化哪一件装备？<br><input type="radio" name="command" id="menu" value="menu" checked><a onclick=sl("menu"); href="javascript:void(0);" >返回</a><br>\';
				for($i = 1; $i <= 6; $i ++) {
					if ((strpos ( ${\'itmsk\' . $i}, \'Z\' ) !== false) && (strpos ( ${\'itm\' . $i}, \'宝石』\' ) === false)) {
						$cmd .= \'<input type="radio" name="command" id="itm\' . $i . \'" value="itm\' . $i . \'"><a onclick=sl("itm\' . $i . \'"); href="javascript:void(0);" >\' . "${\'itm\'.$i}/${\'itme\'.$i}/${\'itms\'.$i}" . \'</a><br>\';
						$flag = true;
					}
				}
				$cmd .= \'<br><input type="button" id="z" onclick="postCmd(\\\'gamecmd\\\',\\\'command.php\\\');" value="[Z]提交">\';
				if (! $flag) {
					$log .=\'唔？你的包裹里没有可以强化的装备，是不是没有脱下来呢？DA☆ZE<br><br>\';
				}else{
					$log .="宝石在你的手上发出异样的光芒，似乎有个奇怪的女声在你耳边说道<span class=\\"yellow\\">\\"我是从天界来的凯丽\\"</span>.";
				}				
				$blessstone_itemuse_ret = NULL;
break; 
			}$ex_attr_silencer_itemuse_ret = NULL;

		//========Contents from mod ex_attr_silencer========
		do{
			
		
		
		
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) 
			if ($itm == \'消音器\') 
			{
				if (strpos ( $wepk, \'WG\' ) !== 0) {
					$log .= \'你没有装备枪械，不能使用消音器。<br>\';
				} elseif (strpos ( $wepsk, \'S\' ) === false) {
					$wepsk .= \'S\';
					$log .= "你给<span class=\\"yellow\\">$wep</span>安装了<span class=\\"yellow\\">$itm</span>。<br>";
					\\itemmain\\itms_reduce($theitem);
				} else {
					$log .= "你的武器已经安装了消音器。<br>";
				}
				$ex_attr_silencer_itemuse_ret = NULL;
break; 
			}$rage_itemuse_ret = NULL;

		//========Contents from mod rage========
		do{
			
		
		
		eval(import_module(\'wound\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'HR\' ) === 0) 
		{
			$rageup = min(100-$rage,$itme);
			if ($rageup<=0)
			{
				$log.=\'你已经出离愤怒了，动怒伤肝，还是歇歇吧！<br>\';
				$rage_itemuse_ret = NULL;
break; 
			}
			$rage += $rageup;
			$log.="你吃了一口{$itm}，顿时感觉心中充满了愤怒。你的怒气值增加了<span class=\\"yellow\\">{$rageup}</span>点！<br>";
			\\itemmain\\itms_reduce($theitem);
			$rage_itemuse_ret = NULL;
break; 
		}$skill600_itemuse_ret = NULL;

		//========Contents from mod skill600========
		do{
			
		
		eval(import_module(\'skill600\'));
		if ((strpos ( $theitem[\'itmk\'], \'C\' ) === 0)&&(\\skillbase\\skill_query(600))&&(\\skill600\\check_skill600_state ()==1)) 
		{
			$log .= \'你喝了一小口药剂，感觉自己根本就喝不下去！\';
			$mode = \'command\';
			$skill600_itemuse_ret = NULL;
break; 
		}$empowers_itemuse_ret = NULL;

		//========Contents from mod empowers========
		do{
			
		
		
		eval(import_module(\'armor\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) 
		{
			if (strpos ( $itm, \'磨刀石\' ) !== false) 
			{
				if (\\empowers\\use_stone ($itm,$itme)) \\itemmain\\itms_reduce($theitem);
				$empowers_itemuse_ret = NULL;
break; 
			} 
			else  if (preg_match ( "/钉$/", $itm ) || preg_match ( "/钉\\[/", $itm )) 
			{
				if (\\empowers\\use_nail ($itm,$itme)) \\itemmain\\itms_reduce($theitem);
				$empowers_itemuse_ret = NULL;
break; 
			} 
			else  if ($itm == \'针线包\') 
			{
				if (($arb == $noarb) || ! $arb) {
					$log .= \'你没有装备防具，不能使用针线包。<br>\';
				} elseif(strpos($arbsk,\'Z\')!==false){
					$log .= \'<span class="yellow">该防具太单薄以至于不能使用针线包。</span><br>你感到一阵蛋疼菊紧，你的蛋疼度增加了<span class="yellow">233</span>点。<br>\';
				}else {
					$arbe += (rand ( 0, 2 ) + $itme);
					$log .= "用<span class=\\"yellow\\">$itm</span>给防具打了补丁，<span class=\\"yellow\\">$arb</span>的防御力变成了<span class=\\"yellow\\">$arbe</span>。<br>";
					\\itemmain\\itms_reduce($theitem);
				}
				$empowers_itemuse_ret = NULL;
break; 
			}
			elseif ($itm == \'武器师安雅的奖赏\') 
			{
				if (\\empowers\\use_anya ($itm)) \\itemmain\\itms_reduce($theitem);
				$empowers_itemuse_ret = NULL;
break; 
			}
		}$skill458_itemuse_ret = NULL;

		//========Contents from mod skill458========
		do{
			
		
		if (\\skillbase\\skill_query(458) && $theitem[\'itmk\'][0]==\'P\')
		{
			$theitem[\'itmk\'][0]=\'H\';
			$ret=\\ammunition\\itemuse($theitem);
			if ($theitem[\'itmk\']!=\'\') $theitem[\'itmk\'][0]=\'P\';
			$skill458_itemuse_ret =  $ret;
break; 
		}
		else{	$skill458_itemuse_ret =  \\ammunition\\itemuse($theitem);
break; }
		}while(0);
		$skill458_itemuse_ret;
		}while(0);
		$empowers_itemuse_ret;
		}while(0);
		
		$skill600_itemuse_ret;
		}while(0);
		$rage_itemuse_ret;
		}while(0);
		
		$ex_attr_silencer_itemuse_ret;
		}while(0);
		$blessstone_itemuse_ret;
		}while(0);
		$weather_itemuse_ret;
		}while(0);
		$instance5_itemuse_ret;
		}while(0);
		$addnpc_itemuse_ret;
		}while(0);
		$gtype2_itemuse_ret;
		if($gametype == 17) {
			$ct = \\tutorial\\get_tutorial ();
			if($ct[\'object\'] == \'itemuse\' && isset($ct[\'obj2\'][\'itmk\']) && in_array($oitmk,$ct[\'obj2\'][\'itmk\'])){
				\\tutorial\\tutorial_pushforward_process ();
			}
		}
		return;
	'

Array\heal_inf ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'tutorial\'));$wound_heal_inf_ret = NULL;

		//========Contents from mod wound========
		do{
			
		
		eval(import_module(\'wound\'));
 		if ($pa == NULL) 
 		{
			
			$inf = str_replace($hurtposition,\'\',$inf);
		}
		else
		{
			$pa[\'inf\'] = str_replace($hurtposition,\'\',$pa[\'inf\']);
		}
		\\skillbase\\skill_lost($infskillinfo[$hurtposition],$pa);
		}while(0);
		$wound_heal_inf_ret;
		if($gametype == 17) {
			$ct = \\tutorial\\get_tutorial ();
			if(strpos($ct[\'object\'] ,\'inf\')===0 && $hurtposition = substr($ct[\'object\'],3,1)){
				\\tutorial\\tutorial_pushforward_process ();
			}
		}
		return;
	'

Array\player_kill_enemy ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'tutorial\'));
		if($gametype == 17) {
			$ct = \\tutorial\\get_tutorial ();
			if($ct[\'object\']==\'kill\' && $active){
				\\tutorial\\tutorial_pushforward_process ();
			}
		}$skill42_player_kill_enemy_ret = NULL;

		//========Contents from mod skill42========
		do{
			
		
		if (\\skillbase\\skill_query(42,$pa) && \\skill42\\check_unlocked42 ($pa))
		{
			$pa[\'att\']+=2; $pa[\'def\']+=4;
		}$weather_player_kill_enemy_ret = NULL;

		//========Contents from mod weather========
		do{$skill427_player_kill_enemy_ret = NULL;

		//========Contents from mod skill427========
		do{$skill483_player_kill_enemy_ret = NULL;

		//========Contents from mod skill483========
		do{$skill71_player_kill_enemy_ret = NULL;

		//========Contents from mod skill71========
		do{$skill64_player_kill_enemy_ret = NULL;

		//========Contents from mod skill64========
		do{
			
		
		
		if (\\skillbase\\skill_query(64,$pa) && \\skill64\\check_unlocked64 ($pa))
		{
			eval(import_module(\'weapon\'));
			if ($pa[\'bskill\']==60)
				$arr=Array(0,1,2,3);
			else  $arr=Array(rand(0,3));
			$tmp_log = array();
			for ($i=0; $i<=3; $i++){
				if (in_array($i,$arr))
				{
					$dice = rand(3,5);
					if ($i==0)
					{
						
						$pa[\'mhp\']+=$dice; $pa[\'msp\']+=$dice;
						$tmp_log[] = "<span class=\'yellow\'>最大生命和最大体力</span>增加了{$dice}点";
					}
					if ($i==1)
					{
						
						\\lvlctl\\getexp($dice,$pa);
						$tmp_log[] = "<span class=\'yellow\'>经验值</span>增加了{$dice}点";
					}
					if ($i==2)
					{
						
						foreach (array_unique(array_values($skillinfo)) as $key)
							$pa[$key]+=$dice;
						$tmp_log[] = "<span class=\'yellow\'>全系熟练度</span>增加了{$dice}点";
					}
					if ($i==3)
					{
						
						$pa[\'att\']+=$dice; $pa[\'def\']+=$dice;
						$tmp_log[] = "<span class=\'yellow\'>攻击力与防御力</span>增加了{$dice}点";
					}
				}	
			}
			if(!empty($tmp_log)){
				$log .= "你的".implode(\'，\',$tmp_log)."！<br>";
			}
		}$skill58_player_kill_enemy_ret = NULL;

		//========Contents from mod skill58========
		do{$skill325_player_kill_enemy_ret = NULL;

		//========Contents from mod skill325========
		do{
			
		
		eval(import_module(\'map\'));
		if (\\skillbase\\skill_query(325,$pa) && $pd[\'type\']>0 && $pa[\'attackwith\']==\'精灵球\' && $areanum==0 && (!isset($pa[\'bskill\']) || $pa[\'bskill\']==0))
		{
			$x=(int)\\skillbase\\skill_getvalue(325,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(325,\'cnt\',$x,$pa);
		}$skill443_player_kill_enemy_ret = NULL;

		//========Contents from mod skill443========
		do{
			
		
		if ((\\skillbase\\skill_query(443,$pa))&&(\\skill443\\check_unlocked443 ($pa)))
		{
			
			$log.=\'<span class="yellow">「决斗」使你的基础攻击力提升了10点！<br></span>\';
			$pa[\'att\']+=10;
		}$skill315_player_kill_enemy_ret = NULL;

		//========Contents from mod skill315========
		do{
			
		
		if ((\\skillbase\\skill_query(315,$pa))&&($pd[\'type\']==0))
		{
			$x=(int)\\skillbase\\skill_getvalue(315,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(315,\'cnt\',$x,$pa);
		}$skill314_player_kill_enemy_ret = NULL;

		//========Contents from mod skill314========
		do{
			
		
		if ((\\skillbase\\skill_query(314,$pa))&&($pd[\'type\']>0))
		{
			$x=(int)\\skillbase\\skill_getvalue(314,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(314,\'cnt\',$x,$pa);
		}$skill312_player_kill_enemy_ret = NULL;

		//========Contents from mod skill312========
		do{
			
		
		if ((\\skillbase\\skill_query(312,$pa))&&($pd[\'type\']==88))
		{
			$x=(int)\\skillbase\\skill_getvalue(312,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(312,\'cnt\',$x,$pa);
		}$skill311_player_kill_enemy_ret = NULL;

		//========Contents from mod skill311========
		do{
			
		
		if ((\\skillbase\\skill_query(311,$pa))&&($pd[\'type\']==0))
		{
			$x=(int)\\skillbase\\skill_getvalue(311,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(311,\'cnt\',$x,$pa);
		}$skill310_player_kill_enemy_ret = NULL;

		//========Contents from mod skill310========
		do{
			
		
		if ((\\skillbase\\skill_query(310,$pa))&&($pd[\'type\']>0))
		{
			$x=(int)\\skillbase\\skill_getvalue(310,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(310,\'cnt\',$x,$pa);
		}$skill204_player_kill_enemy_ret = NULL;

		//========Contents from mod skill204========
		do{
			
		
		if ((\\skillbase\\skill_query(204,$pa))&&(\\skill204\\check_unlocked204 ($pa)))
		{
			eval(import_module(\'logger\'));
			$gold_r = ($pa[\'club\']==3?2.5:1.5);
			$var_204=round($pa[\'lvl\']*$gold_r);
			if ($active)
				$log.=\'<span class="yellow">「掠夺」技能使你立即获得了\'.$var_204.\'元！<br></span>\';
			else  $log.=\'<span class="yellow">「掠夺」技能使敌人立即获得了\'.$var_204.\'元！<br></span>\';
			
			$pa[\'money\']+=$var_204;
		}$skill21_player_kill_enemy_ret = NULL;

		//========Contents from mod skill21========
		do{$npcchat_player_kill_enemy_ret = NULL;

		//========Contents from mod npcchat========
		do{
			
		
		if ($pa[\'type\'] || $pd[\'type\']) \\npcchat\\npcchat ($pa, $pd, $active, \'kill\');$cardbase_player_kill_enemy_ret = NULL;

		//========Contents from mod cardbase========
		do{$skill321_player_kill_enemy_ret = NULL;

		//========Contents from mod skill321========
		do{
			
		
		if ((\\skillbase\\skill_query(321,$pa))&&($pd[\'type\']==2))
		{
			$x=(int)\\skillbase\\skill_getvalue(321,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(321,\'cnt\',$x,$pa);
		}$skill316_player_kill_enemy_ret = NULL;

		//========Contents from mod skill316========
		do{
			
		
		if ((\\skillbase\\skill_query(316,$pa))&&($pd[\'type\']==90))
		{
			$x=(int)\\skillbase\\skill_getvalue(316,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(316,\'cnt\',$x,$pa);
		}$attack_player_kill_enemy_ret = NULL;

		//========Contents from mod attack========
		do{
			
		
		
		eval(import_module(\'sys\',\'logger\',\'player\'));
		if ($active)
		{
			$log .= "<span class=\\"yellow\\">{$pd[\'name\']}</span><span class=\\"red\\">被你杀死了！</span><br>";
			$pd[\'battlelog\'] .= "<span class=\\"red\\">你被{$pa[\'name\']}杀死了！</span><br>";
		}
		else
		{
			$log .= "<span class=\\"red\\">你被{$pa[\'name\']}杀死了！</span><br>";
			$pa[\'battlelog\'] .= "<span class=\\"yellow\\">{$pd[\'name\']}</span><span class=\\"red\\">被你杀死了！</span><br>";
		}
		
		$pd[\'state\']=$pd[\'deathmark\'];
		
		$kilmsg = \\player\\kill($pa, $pd);
		
		if ($active)
		{
			if ($kilmsg!=\'\') $log.="<span class=\\"yellow\\">你对{$pd[\'name\']}说：“{$kilmsg}”</span><br>";
		}
		else
		{
			if ($kilmsg!=\'\') $log.="<span class=\\"yellow\\">{$pa[\'name\']}对你说：“{$kilmsg}”</span><br>";
		}
		}while(0);
		$attack_player_kill_enemy_ret;
		}while(0);
		$skill316_player_kill_enemy_ret;		
		}while(0);
			
		
		$skill321_player_kill_enemy_ret;
		eval(import_module(\'cardbase\',\'sys\',\'logger\',\'map\'));
		$qiegaogain=\\cardbase\\calc_qiegao_drop ($pa,$pd,$active);
		if ($qiegaogain>0){
			\\cardbase\\get_qiegao ($qiegaogain,$pa);
			$log.="<span class=\\"orange\\">敌人掉落了{$qiegaogain}单位的切糕！</span><br>";
		}
		}while(0);
		$cardbase_player_kill_enemy_ret;
		}while(0);
			
		
		$npcchat_player_kill_enemy_ret;
		eval(import_module(\'logger\',\'skillbase\'));
		if (\\skillbase\\skill_query(21,$pd))
		{
			$npcdata = \\skill21\\evonpc ($pd[\'type\'],$pd[\'name\']);
			$log .= \'<span class="yellow">\'.$pd[\'name\'].\'却没死去，反而爆发出真正的实力！</span><br>\';
			if($npcdata){
				addnews($now , \'evonpc\',$pd[\'name\'], $npcdata[\'name\'], $pa[\'name\']);
				foreach($npcdata as $key => $val){
					$pd[$key] = $val;
				}
				\\skillbase\\skill_lost(21,$pd);
				
				foreach (\\skillbase\\get_acquired_skill_array($pd) as $key) 
					if (defined(\'MOD_SKILL\'.$key.\'_INFO\') && !\\skillbase\\check_skill_info($key, \'achievement\') && \\skillbase\\check_skill_info($key, \'unique\')) 
						\\skillbase\\skill_lost($key,$pd);
				
				if (is_array($npcdata[\'skills\'])){
					$npcdata[\'skills\'][\'460\']=\'0\';
					foreach ($npcdata[\'skills\'] as $key=>$value){
						if (defined(\'MOD_SKILL\'.$key)){
							\\skillbase\\skill_acquire($key,$pd);
							if ($value>0){
								\\skillbase\\skill_setvalue($key,\'lvl\',$value,$pd);
							}
						}	
					}
				}
				$pd[\'npc_evolved\'] = 1;
			}	
		}
		}while(0);
		$skill21_player_kill_enemy_ret;
		}while(0);
		$skill204_player_kill_enemy_ret;
		}while(0);
		$skill310_player_kill_enemy_ret;
		}while(0);
		$skill311_player_kill_enemy_ret;
		}while(0);
		$skill312_player_kill_enemy_ret;
		}while(0);
		$skill314_player_kill_enemy_ret;
		}while(0);
		$skill315_player_kill_enemy_ret;
		}while(0);
		$skill443_player_kill_enemy_ret;
		}while(0);
			
		
		
		$skill325_player_kill_enemy_ret;
		
		eval(import_module(\'sys\',\'logger\'));
		if (isset($pd[\'skill58_flag\']) && $pd[\'skill58_flag\'])
		{
			if ($active)
			{
				$log.=\'<span class="lime">但是，由于敌人及时按下了BOMB键，其原地满血复活了！</span><br>\';
				$pd[\'battlelog\'].=\'<span class="lime">但是，由于你及时按下了BOMB键，你原地满血复活了，</span>\';
			}
			else
			{
				$log.=\'<span class="lime">但是，由于你及时按下了BOMB键，你原地满血复活了！</span><br>\';
				$pd[\'battlelog\'].=\'<span class="lime">但是，由于敌人及时按下了BOMB键，其原地满血复活了，</span>\';
			}
		}
		}while(0);
		$skill58_player_kill_enemy_ret;
		}while(0);
			
		
		$skill64_player_kill_enemy_ret;
		if ($pa[\'bskill\']==71)
		{
			eval(import_module(\'logger\'));
			$expgain=\\skill71\\calculate_skill71_expgain ($pa,$pd,$active);
			if ($active)
				$log.=\'<span class="yellow">「解构」使你获得了额外\'.$expgain.\'点经验！</span><br>\';
			else  $log.=\'<span class="yellow">「解构」使敌人获得了额外\'.$expgain.\'点经验！</span><br>\';
			\\lvlctl\\getexp($expgain,$pa);
		}
		}while(0);
			
		
		
		$skill71_player_kill_enemy_ret;
		
		eval(import_module(\'sys\',\'logger\'));
		if (isset($pd[\'skill483_flag\']) && $pd[\'skill483_flag\'])
		{
			if ($active)
			{
				$log.=\'<span class="lime">但是氪金战士不可能死！敌人又站了起来！</span><br>\';
				$pd[\'battlelog\'].=\'<span class="lime">但是氪金战士不可能死！</span>你又站了起来，\';
			}
			else
			{
				$log.=\'<span class="lime">但是氪金战士不可能死！你又站了起来！</span><br>\';
				$pa[\'battlelog\'].=\'<span class="lime">但是氪金战士不可能死！</span>敌人又站了起来，\';
			}
		}
		}while(0);
			
		
		
		$skill483_player_kill_enemy_ret;
		
		eval(import_module(\'sys\',\'logger\'));
		if (isset($pd[\'skill427_flag\']) && $pd[\'skill427_flag\'])
		{
			if ($active)
			{
				$log.=\'<span class="lime">但是，由于敌人及时按下了BOMB键，其原地满血复活了！</span><br>\';
				$pd[\'battlelog\'].=\'<span class="lime">但是，由于你及时按下了BOMB键，你原地满血复活了，</span>\';
			}
			else
			{
				$log.=\'<span class="lime">但是，由于你及时按下了BOMB键，你原地满血复活了！</span><br>\';
				$pd[\'battlelog\'].=\'<span class="lime">但是，由于敌人及时按下了BOMB键，其原地满血复活了，</span>\';
			}
		}
		}while(0);
			
		
		
		$skill427_player_kill_enemy_ret;
		
		eval(import_module(\'sys\',\'logger\'));

		if (!empty($pd[\'aurora_revive_flag\']))
		{
			addnews ( $now, \'aurora_revival\', $pd[\'name\'] );
			if ($active)
			{
				$log.=\'但是，空气中弥漫着的<span class="clan">奥罗拉</span><span class="lime">让敌人重新站了起来！</span><br>\';
				$log .= \'并且，敌人的生命回复了<span class="clan">\'.$pd[\'aurora_revive_flag\'].\'</span>点！<br>\';
				$pd[\'battlelog\'].=\'<span class="lime">但是，空气中弥漫着的奥罗拉让你重新站了起来！</span>\';
			}
			else
			{
				$log.=\'但是，空气中弥漫着的<span class="clan">奥罗拉</span><span class="lime">让你重新站了起来！</span><br>\';
				$log .= \'并且，你的生命回复了<span class="clan">\'.$pd[\'aurora_revive_flag\'].\'</span>点！<br>\';
				$pd[\'battlelog\'].=\'<span class="lime">但是，空气中弥漫着的奥罗拉让敌人重新站了起来！</span>\';
			}
			unset($pd[\'aurora_revive_flag\']);
		}
		}while(0);
		$weather_player_kill_enemy_ret;
		}while(0);
		$skill42_player_kill_enemy_ret;
		return;
	'

Array\getcorpse_action ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'tutorial\'));
		if($gametype == 17 && $item == \'destroy\'){
			$log .= \'教程模式下不允许销毁尸体！\';
			$action = \'\';
			$mode = \'command\';
			return;
		}$skill475_getcorpse_action_ret = NULL;

		//========Contents from mod skill475========
		do{
			
		
		
		if (!\\skillbase\\skill_query(475)){ $skill475_getcorpse_action_ret =  \\corpse\\getcorpse_action($edata, $item);
break; }
		
		if ($edata[\'type\']!=0)	
		{
			if ($item==\'money\')	
			{
				$btgain=$edata[\'money\'];
				$nbt=((int)\\skillbase\\skill_getvalue(475,\'bounty\'))+$btgain;
				\\skillbase\\skill_setvalue(475,\'bounty\',$nbt);
			}
			$skill475_getcorpse_action_ret =  \\corpse\\getcorpse_action($edata, $item);
break; 
		}
		
		$w_log=\'\';
		
		if ($item==\'money1\')
		{
			$t=round($edata[\'money\']*0.3);
			$edata[\'money\']-=$t;
			$log.="销毁了对方{$t}元金钱。<br>";
			$w_log="敌人销毁了你的{$t}元金钱！<br>";
		}
		else if ($item==\'money2\')
		{
			$t=round($edata[\'money\']*0.3);
			$edata[\'money\']-=$t;
			$money+=$t;
			$wpt=(int)\\skillbase\\skill_getvalue(475,\'wpt\');
			$wpt=max($wpt-$t,0);
			\\skillbase\\skill_setvalue(475,\'wpt\',$wpt);
			$log.="获得了对方{$t}元金钱。<br>";
			$w_log="敌人抢走了你的{$t}元金钱！<br>";
			
			$nbt=((int)\\skillbase\\skill_getvalue(475,\'bounty\'))+$t;
			\\skillbase\\skill_setvalue(475,\'bounty\',$nbt);
		}
		else if ($item==\'wep\')
		{
			$edata[\'wepe\']=round($edata[\'wepe\']*0.88);
			$log.="削弱了对方的武器。<br>";
			$w_log="敌人削弱了你的武器！<br>";
		}
		else if ($item==\'arb\' || $item==\'ara\' || $item==\'arh\' || $item==\'arf\')
		{
			$edata[$item.\'e\']=round($edata[$item.\'e\']*0.8);
			$log.="削弱了对方的指定防具。<br>";
			if ($item==\'arb\') $w_log=\'敌人削弱了你的身体防具！<br>\';
			if ($item==\'ara\') $w_log=\'敌人削弱了你的手臂防具！<br>\';
			if ($item==\'arh\') $w_log=\'敌人削弱了你的头部防具！<br>\';
			if ($item==\'arf\') $w_log=\'敌人削弱了你的足部防具！<br>\';
		}
		if ($item==\'art\')
		{
			$edata[\'art\']=\'\';
			$edata[\'ark\']=\'\';
			$edata[\'arte\']=0;
			$edata[\'arts\']=0;
			$edata[\'artsk\']=\'\';
			$log.="摧毁了对方装备的饰品。<br>";
			$w_log=\'敌人摧毁了你的饰品！<br>\';
		}
		else if ($item==\'itm0\' || $item==\'itm1\' || $item==\'itm2\' || $item==\'itm3\' || $item==\'itm4\' || $item==\'itm5\' || $item==\'itm6\')
		{
			$w_log=\'敌人摧毁了你背包中的物品<span class="yellow">\'.$edata[$item].\'</span>！<br>\';
			$edata[$item]=\'\';
			$edata[\'itmk\'.$item[3]]=\'\';
			$edata[\'itme\'.$item[3]]=0;
			$edata[\'itms\'.$item[3]]=0;
			$edata[\'itmsk\'.$item[3]]=\'\';
			$log.="摧毁了对方的指定背包物品。<br>";
		}
		$mode = \'command\';
		$action = \'\';
		if ($w_log!=\'\') \\logger\\logsave ( $edata[\'pid\'], $now, $w_log ,\'b\');
		}while(0);
		$skill475_getcorpse_action_ret;
		if($gametype == 17) {
			$ct = \\tutorial\\get_tutorial ();
			if($ct[\'object\']==\'money\' && $item == \'money\'){
				\\tutorial\\tutorial_pushforward_process ();
			}
		}
		return;
	'

Array\itembuy ====> '
				
		eval(import_module(\'sys\',\'map\',\'player\',\'logger\',\'itemmain\',\'tutorial\'));
		if($gametype == 17) {
			$ct = \\tutorial\\get_tutorial ();
			$shopiteminfo = \\itemshop\\get_shopiteminfo($item);
			if($ct[\'object\']==\'itembuy\' && $shopiteminfo[\'item\'] == $ct[\'obj2\'][\'item\']){
				\\tutorial\\tutorial_pushforward_process ();
			}
		}$itemshop_itembuy_ret = NULL;

		//========Contents from mod itemshop========
		do{
			
		
		
		
		$shopiteminfo = \\itemshop\\get_shopiteminfo ($item);
		$price = $shopiteminfo[\'price\'];
		
		if($price<0) {
			$log .= \'要购买的道具不存在！<br><br>\';
			$mode = \'command\';
			$itemshop_itembuy_ret = NULL;
break; 
		}

		$bnum = (int)$bnum;
		$cost=\\itemshop\\calculate_shop_itembuy_cost ($price,$bnum);
		
		
		if($shopiteminfo[\'num\'] <= 0) {
			$log .= \'此物品已经售空！<br><br>\';
			$mode = \'command\';
			$itemshop_itembuy_ret = NULL;
break; 
		} elseif($bnum<=0) {
			$log .= \'购买数量必须为大于0的整数。<br><br>\';
			$mode = \'command\';
			$itemshop_itembuy_ret = NULL;
break; 
		} elseif($bnum>$shopiteminfo[\'num\']) {
			$log .= \'购买数量必须小于存货数量。<br><br>\';
			$mode = \'command\';
			$itemshop_itembuy_ret = NULL;
break; 
		} elseif($money < $cost) {
			$log .= \'你的钱不够，不能购买此物品！<br><br>\';
			$mode = \'command\';
			$itemshop_itembuy_ret = NULL;
break; 
		} elseif( ($shopiteminfo[\'itms\']===\'∞\' || !preg_match(\'/^(WC|WD|WF|Y|B|C|TN|GB|H|P|V|M|X|p|ygo)/\',$shopiteminfo[\'itmk\']) )&&$bnum>1) {
			$log .= \'此物品一次只能购买一个。<br><br>\';
			$mode = \'command\';
			$itemshop_itembuy_ret = NULL;
break; 
		}elseif($shopiteminfo[\'area\']> $areanum/$areaadd){
			$log .= \'此物品尚未开放出售！<br><br>\';
			$mode = \'command\';
			$itemshop_itembuy_ret = NULL;
break; 
		}

		$inum = $shopiteminfo[\'num\']-$bnum;
		$sid = $shopiteminfo[\'sid\'];
		$db->query("UPDATE {$tablepre}shopitem SET num = \'$inum\' WHERE sid = \'$sid\'");

		$money -= $cost;
	
		addnews($now,\'itembuy\',$name,$iteminfo[\'item\']);
		$log .= "购买成功。";
		$itm0 = $shopiteminfo[\'item\'];
		$itmk0 = $shopiteminfo[\'itmk\'];
		$itme0 = $shopiteminfo[\'itme\'];
		$itms0 = $shopiteminfo[\'itms\'] === \'∞\' ? $shopiteminfo[\'itms\'] : $shopiteminfo[\'itms\']*$bnum;
		$itmsk0 = $shopiteminfo[\'itmsk\'];

		\\itemmain\\itemget();	
		$itemshop_itembuy_ret = NULL;
break; 
		}while(0);
		return $itemshop_itembuy_ret;
	'

Array\player_selectclub ====> '
				
		eval(import_module(\'sys\',\'player\',\'clubbase\',\'tutorial\',\'logger\'));$clubbase_player_selectclub_ret = NULL;

		//========Contents from mod clubbase========
		do{
			
		
		
		
		if ($club!=0){ $clubbase_player_selectclub_ret =  1;
break; }
		if ($id==0){ $clubbase_player_selectclub_ret =  2;
break; }
		if ($id<0){ $clubbase_player_selectclub_ret =  3;
break; }
		$ret = \\clubbase\\get_club_choice_array ();
		if ($id>=count($ret)){ $clubbase_player_selectclub_ret =  3;
break; }
		\\clubbase\\club_acquire ($ret[$id]);
		$clubbase_player_selectclub_ret =  0;
break; 
		}while(0);
		$r = $clubbase_player_selectclub_ret;
		if($gametype == 17) {
			$ct = \\tutorial\\get_tutorial ();
			if($ct[\'object\']==\'clubsel\' && !$r){
				\\tutorial\\tutorial_pushforward_process ();
			}
		}
		return $r;
	'

Array\itemmix_success ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if($gametype == 17) {
			$ct = \\tutorial\\get_tutorial ();
			if($ct[\'object\']==\'itemmix\' && $itm0 == $ct[\'obj2\'][\'item\']){
				\\tutorial\\tutorial_pushforward_process ();
			}
		}$cardbase_itemmix_success_ret = NULL;

		//========Contents from mod cardbase========
		do{$skill431_itemmix_success_ret = NULL;

		//========Contents from mod skill431========
		do{
			
		
		
		if(\\skillbase\\skill_query(431)){
			$wp+=3;$wk+=3;$wc+=3;$wf+=3;$wg+=3;$wd+=2;
			\\lvlctl\\getexp(3);
		}$skill320_itemmix_success_ret = NULL;

		//========Contents from mod skill320========
		do{
			
		
		eval(import_module(\'map\'));
		if ($itm0=="【KEY系催泪弹】"){
			$x=(int)\\skillbase\\skill_getvalue(320,\'cnt\');
			$x++;
			\\skillbase\\skill_setvalue(320,\'cnt\',$x);
		}$skill319_itemmix_success_ret = NULL;

		//========Contents from mod skill319========
		do{
			
		
		eval(import_module(\'map\'));
		if (strlen($itmk0)>=4){
			$x=(int)\\skillbase\\skill_getvalue(319,\'cnt\');
			$x++;
			\\skillbase\\skill_setvalue(319,\'cnt\',$x);
		}$skill317_itemmix_success_ret = NULL;

		//========Contents from mod skill317========
		do{
			
		
		eval(import_module(\'map\'));
		if (strpos($itmsk0,\'x\') !== false){
			$x=(int)\\skillbase\\skill_getvalue(317,\'cnt\');
			$x++;
			\\skillbase\\skill_setvalue(317,\'cnt\',$x);
		}$skill309_itemmix_success_ret = NULL;

		//========Contents from mod skill309========
		do{
			
		
		eval(import_module(\'map\'));
		if ($itm0=="火水木金土符『贤者之石』"){
			if ((int)(\\skillbase\\skill_getvalue(309,\'cnt\'))==0)
				\\skillbase\\skill_setvalue(309,\'cnt\',$now-$starttime);
		}$skill308_itemmix_success_ret = NULL;

		//========Contents from mod skill308========
		do{
			
		
		eval(import_module(\'map\'));
		if ($itm0=="【KEY系催泪弹】"){
			if ((int)(\\skillbase\\skill_getvalue(308,\'cnt\'))==0)
				\\skillbase\\skill_setvalue(308,\'cnt\',$now-$starttime);
		}$skill304_itemmix_success_ret = NULL;

		//========Contents from mod skill304========
		do{
			
		
		eval(import_module(\'map\'));
		if ($itm0=="【KEY系生命弹】"){
			$x=(int)\\skillbase\\skill_getvalue(304,\'cnt\');
			$x++;
			\\skillbase\\skill_setvalue(304,\'cnt\',$x);
		}$skill303_itemmix_success_ret = NULL;

		//========Contents from mod skill303========
		do{
			
		
		eval(import_module(\'map\'));
		if ($itm0=="【KEY系燃烧弹】"){
			$x=(int)\\skillbase\\skill_getvalue(303,\'cnt\');
			$x++;
			\\skillbase\\skill_setvalue(303,\'cnt\',$x);
		}$skill302_itemmix_success_ret = NULL;

		//========Contents from mod skill302========
		do{
			
		
		eval(import_module(\'map\'));
		if ($itm0=="【KEY系催泪弹】"){
			$x=(int)\\skillbase\\skill_getvalue(302,\'cnt\');
			$x++;
			\\skillbase\\skill_setvalue(302,\'cnt\',$x);
		}$skill413_itemmix_success_ret = NULL;

		//========Contents from mod skill413========
		do{
			
		
		
		if(\\skillbase\\skill_query(413) && (strpos($itm0,\'【KEY系\') === 0)&&($itms0 !== $nosta))
			$itms0 = ceil($itms0*1.2);$skill20_itemmix_success_ret = NULL;

		//========Contents from mod skill20========
		do{
			
		
		
		if(\\skillbase\\skill_query(20) && (strpos($itmk0,\'WD\') === 0)&&($itms0 !== $nosta))
			$itms0 = ceil($itms0*1.5);$itemmix_itemmix_success_ret = NULL;

		//========Contents from mod itemmix========
		do{
			
		
		
		$itmstr = $uip[\'itmstr\'];
		$log .= "<span class=\\"yellow\\">$itmstr</span>合成了<span class=\\"yellow\\">{$itm0}</span><br>";
		addnews($now,\'itemmix\',$name,$itm0);
	
		$wd+=1;
		if((strpos($itmk0,\'H\') === 0)&&($club == 16)&&($itms0 !== $nosta)){ $itms0 = ceil($itms0*2); }
		elseif(($itmk0 == \'EE\' || $itmk0 == \'ER\') && ($club == 7)){ $itme0 *= 5; }

		\\itemmain\\itemget();
		}while(0); 
			
		$itemmix_itemmix_success_ret;
		}while(0); 
			
		$skill20_itemmix_success_ret;
		}while(0);
		$skill413_itemmix_success_ret;	
		}while(0);
		$skill302_itemmix_success_ret;	
		}while(0);
		$skill303_itemmix_success_ret;	
		}while(0);
		$skill304_itemmix_success_ret;	
		}while(0);
		$skill308_itemmix_success_ret;	
		}while(0);
		$skill309_itemmix_success_ret;	
		}while(0);
		$skill317_itemmix_success_ret;	
		}while(0);
		$skill319_itemmix_success_ret;	
		}while(0);
		$skill320_itemmix_success_ret;
		}while(0);
			
		
		










		$skill431_itemmix_success_ret;	
		}while(0);
		return $cardbase_itemmix_success_ret;
	'

Array\addnews ====> '
		
		eval(import_module(\'sys\'));
		if($gametype == 17 && $n==\'addnpc\'){
			return;
		}$sys_addnews_ret = NULL;

		//========Contents from mod sys========
		do{
			
		
		
		$t = $t ? $t : $now;
		$newsfile = GAME_ROOT.\'./gamedata/tmp/news/newsinfo_\'.$room_prefix.\'.php\';
		touch($newsfile);
		if(is_array($a)){
			$a=implode(\'_\',$a);
		}
	
		
		eval(import_module(\'map\'));
		if(strpos($n,\'death11\') === 0  || strpos($n,\'death32\') === 0) {
			$result = $db->query("SELECT lastword FROM {$gtablepre}users WHERE username = \'$a\'");
			$e = $lastword = $db->result($result, 0);
			$db->query("INSERT INTO {$tablepre}chat (type,`time`,send,recv,msg) VALUES (\'3\',\'$t\',\'【{$plsinfo[$c]}】 $a\',\'\',\'$lastword\')");
		}	elseif(strpos($n,\'death15\') === 0 || strpos($n,\'death16\') === 0) {
			$result = $db->query("SELECT lastword FROM {$gtablepre}users WHERE username = \'$a\'");
			$e = $lastword = $db->result($result, 0);
			$result = $db->query("SELECT pls FROM {$tablepre}players WHERE name = \'$a\' AND type = \'0\'");
			$place = $db->result($result, 0);
			$db->query("INSERT INTO {$tablepre}chat (type,`time`,send,recv,msg) VALUES (\'3\',\'$t\',\'【{$plsinfo[$place]}】 $a\',\'\',\'$lastword\')");
		}
		$db->query("INSERT INTO {$tablepre}newsinfo (`time`,`news`,`a`,`b`,`c`,`d`,`e`) VALUES (\'$t\',\'$n\',\'$a\',\'$b\',\'$c\',\'$d\',\'$e\')");
		}while(0);
		return $sys_addnews_ret;
	'

Array\rs_game ====> '
				
		eval(import_module(\'sys\',\'map\',\'tutorial\'));$gtype2_rs_game_ret = NULL;

		//========Contents from mod gtype2========
		do{$instance6_rs_game_ret = NULL;

		//========Contents from mod instance6========
		do{$instance5_rs_game_ret = NULL;

		//========Contents from mod instance5========
		do{$gtype1_rs_game_ret = NULL;

		//========Contents from mod gtype1========
		do{$weather_rs_game_ret = NULL;

		//========Contents from mod weather========
		do{$trap_rs_game_ret = NULL;

		//========Contents from mod trap========
		do{$itemshop_rs_game_ret = NULL;

		//========Contents from mod itemshop========
		do{$npc_rs_game_ret = NULL;

		//========Contents from mod npc========
		do{$itemmain_rs_game_ret = NULL;

		//========Contents from mod itemmain========
		do{$player_rs_game_ret = NULL;

		//========Contents from mod player========
		do{$map_rs_game_ret = NULL;

		//========Contents from mod map========
		do{$sys_rs_game_ret = NULL;

		//========Contents from mod sys========
		do{
			
		 
		}while(0);
			
		
		
		$sys_rs_game_ret;
		
		
		if ($xmode & 2) {
			
			list($sec,$min,$hour,$day,$month,$year,$wday,$yday,$isdst) = localtime($starttime);
			$areatime = (ceil(($starttime + $areahour*60)/600))*600;
			
			$plsnum = sizeof($plsinfo);
			$arealist = range(1,$plsnum-1);
			shuffle($arealist);
			array_unshift($arealist,0);
			$areanum = 0;
			$hack = 0;
			
		}
		}while(0);
			
		
		
		$map_rs_game_ret;
		
		eval(import_module(\'sys\'));
		$sqldir = GAME_ROOT.\'./gamedata/sql/\';
		
		if ($xmode & 4) {
			
			$sql = file_get_contents("{$sqldir}players.sql");
			$sql = str_replace("\\r", "\\n", str_replace(\' bra_\', \' \'.$tablepre, $sql));
			$db->queries($sql);
			
			$validnum = $alivenum = $deathnum = 0;
		}
		
		
		}while(0);
			
		
		
		$player_rs_game_ret;
		
		eval(import_module(\'sys\',\'map\',\'itemmain\'));
		if ($xmode & 16) {	
			$plsnum = sizeof($plsinfo);
			$iqry = \'\';
			$itemlist = \\itemmain\\get_itemfilecont ();
			$in = sizeof($itemlist);
			$an = $areanum ? ceil($areanum/$areaadd) : 0;
			for($i = 1; $i < $in; $i++) {
				if(!empty($itemlist[$i]) && strpos($itemlist[$i],\',\')!==false){
					list($iarea,$imap,$inum,$iname,$ikind,$ieff,$ista,$iskind) = explode(\',\',$itemlist[$i]);
					if(($iarea == $an)||($iarea == 99)) {
						for($j = $inum; $j>0; $j--) {
							if ($imap == 99)
							{
								do {
									$rmap = rand(0,$plsnum-1);
								} while (in_array($rmap,$map_noitemdrop_arealist));
							}
							else  $rmap = $imap;
							$iqry .= "(\'$iname\', \'$ikind\',\'$ieff\',\'$ista\',\'$iskind\',\'$rmap\'),";
						}
					}
				}
			}
			if(!empty($iqry)){
				$iqry = "INSERT INTO {$tablepre}mapitem (itm,itmk,itme,itms,itmsk,pls) VALUES ".substr($iqry, 0, -1);
				$db->query($iqry);
			}
		}
		}while(0);
			
		 
		
		$itemmain_rs_game_ret;
		
		eval(import_module(\'sys\',\'map\',\'player\',\'npc\',\'lvlctl\',\'skillbase\'));
		if ($xmode & 8) {
			
			$db->query("DELETE FROM {$tablepre}players WHERE type>0 ");
			
			$npcqry = \'\';
			$ninfo = \\npc\\get_npclist ();
			
			$pls_available = \\map\\get_safe_plslist();
			
			foreach ($ninfo as $i => $npcs){
				if(!empty($npcs)) {
					
					if (!\\npc\\check_initnpcadd ($i)) continue;
					
					$subnum = sizeof($npcs[\'sub\']);
					$jarr = $jarr0 = array_keys($npcs[\'sub\']);
					
					if (!$subnum || !$npcs[\'num\']) $jarr=array();
					
					elseif ($subnum > $npcs[\'num\']) {
						shuffle($jarr);
						$jarr=array_slice($jarr,0,$npcs[\'num\']);
					
					}elseif ($subnum < $npcs[\'num\']) {
						while(sizeof($jarr) < $npcs[\'num\']) {
							$jarr = array_merge($jarr,$jarr0);
						}
					}
					sort($jarr);
					
					foreach($jarr as $j){
						
						$npc = array_merge($npcinit,$npcs);
						
						if(isset($npc[\'sub\']) && is_array($npc[\'sub\'])) $npc = array_merge($npc,$npc[\'sub\'][$j]);
						
						$npc[\'type\'] = $i;
						$npc[\'sNo\'] = $j;
						
						$npc = \\npc\\init_npcdata ($npc, $pls_available);
						













						
						$npc=\\player\\player_format_with_db_structure($npc);
						$db->array_insert("{$tablepre}players", $npc);
						
















						
















						
						unset($npc);
					}
				}
			}
		}
		}while(0);
			
		 
		
		$npc_rs_game_ret;
		
		$sqldir = GAME_ROOT.\'./gamedata/sql/\';
		
		eval(import_module(\'sys\'));
		if ($xmode & 32) {
			
			$sql = file_get_contents("{$sqldir}shopitem.sql");
			$sql = str_replace("\\r", "\\n", str_replace(\' bra_\', \' \'.$tablepre, $sql));
			$db->queries($sql);
			
			$shoplist=\\itemshop\\get_shoplist ();
			
			$qry = \'\';
			foreach($shoplist as $lst){
				if(!empty($lst) && strpos($lst,\',\')!==false){
					list($kind,$num,$price,$area,$item,$itmk,$itme,$itms,$itmsk)=explode(\',\',$lst);
					if($kind != 0){
						$qry .= "(\'$kind\',\'$num\',\'$price\',\'$area\',\'$item\',\'$itmk\',\'$itme\',\'$itms\',\'$itmsk\'),";
					}
				}			
			}
			if(!empty($qry)){
				$qry = "INSERT INTO {$tablepre}shopitem (kind,num,price,area,item,itmk,itme,itms,itmsk) VALUES ".substr($qry, 0, -1);
			}
			$db->query($qry);
		}
		}while(0);
			
		
		
		$itemshop_rs_game_ret;
		
		eval(import_module(\'sys\',\'map\',\'itemmain\',\'trap\'));
		if ($xmode & 16) {	
			$plsnum = sizeof($plsinfo);
			$iqry = \'\';
			$itemlist = \\trap\\get_trapfilecont ();
			$in = sizeof($itemlist);
			$an = $areanum ? ceil($areanum/$areaadd) : 0;
			for($i = 1; $i < $in; $i++) {
				if(!empty($itemlist[$i]) && strpos($itemlist[$i],\',\')!==false){
					list($iarea,$imap,$inum,$iname,$ikind,$ieff,$ista,$iskind) = explode(\',\',$itemlist[$i]);
					if(($iarea == $an)||($iarea == 99)) {
						for($j = $inum; $j>0; $j--) {
							if ($imap == 99)
							{
								do {
									$rmap = rand(0,$plsnum-1);
								} while (in_array($rmap,$map_noitemdrop_arealist));
							}
							else  $rmap = $imap;
							$iqry .= "(\'$iname\', \'$ikind\',\'$ieff\',\'$ista\',\'$iskind\',\'$rmap\'),";
						}
					}
				}
			}
			if(!empty($iqry)){
				$iqry = "INSERT INTO {$tablepre}maptrap (itm,itmk,itme,itms,itmsk,pls) VALUES ".substr($iqry, 0, -1);
				$db->query($iqry);
			}
		}
		}while(0);
			
		
		
		$trap_rs_game_ret;
		
		eval(import_module(\'sys\'));
		if ($xmode & 2) 
		{
			$opening_weather_list = array(0, 2, 3, 4, 7);
			shuffle($opening_weather_list);
			$weather = $opening_weather_list[0];
		}
		}while(0);
			
		
		
		$weather_rs_game_ret;
		
		eval(import_module(\'sys\'));
		if (($gametype==1)&&($xmode & 2)) 
		{
			$weather = 1;
			$hack=1;
			
		}
		
		}while(0);
			
		
		
		$gtype1_rs_game_ret;
		
		eval(import_module(\'sys\'));
		if (($gametype==15)&&($xmode & 2)) 
		{
			if(!$areanum && isset($roomvars[\'current_game_option\'])){
				
				$option = $roomvars[\'current_game_option\'];
				if(isset($option[\'area-mode\']) && \'extreme\'==$option[\'area-mode\']){
					$areatime = $starttime + 60*40;
				}
			}
			$weather = 1;
		}
		}while(0);
			
		
		
		$instance5_rs_game_ret;
		
		eval(import_module(\'sys\'));
		if (($gametype==16)&&($xmode & 2)) 
		{
			$weather = 1;
		}
		}while(0);
			
		
		
		$instance6_rs_game_ret;
		
		eval(import_module(\'sys\'));
		if (($gametype==2)&&($xmode & 2)) 
		{
			$weather = 1;
			
		}
		}while(0);
		$gtype2_rs_game_ret;
		
		if ($xmode & 2 && $gametype == 17) {
			
			if(isset($tutorial_areahour_augment)){
				list($sec,$min,$hour,$day,$month,$year,$wday,$yday,$isdst) = localtime($starttime);
				$areatime = $starttime + $tutorial_areahour_augment;
			}
			if(isset($tutorial_allowed_weather)){
				list($wmin,$wmax) = $tutorial_allowed_weather;
				$weather = rand($wmin,$wmax);
			}
			
			
		}
	'

Array\init_areatiming ====> '
		
		eval(import_module(\'sys\',\'tutorial\'));
		if (!$tutorial_disable_area_timing || $gametype!=17){$map_init_areatiming_ret = NULL;

		//========Contents from mod map========
		do{
			
		
		
		if(!isset($uip[\'timing\'])) $uip[\'timing\'] = array();
		
		$timing = ($areatime-$now);
		$timing_r = sprintf("%02d", floor($timing/60)).\':\'.sprintf("%02d", $timing%60);
		if($timing < 10) $timing_r = \'<span class="red">\'.$timing_r.\'</span>\';
		elseif($timing < 60) $timing_r = \'<span class="yellow">\'.$timing_r.\'</span>\';
		$uip[\'timing\'][\'area_timing\'] = array(
			\'on\' => true,
			\'mode\' => 0,
			\'timing\' => $timing*1000,
			\'timing_r\' => $timing_r
		);
		}while(0);
			$map_init_areatiming_ret;
		} else {
			$uip[\'timing\'][\'area_timing\'] = array(
				\'on\' => false,
			);
		}
	'

Array\checkcombo ====> '
		
		eval(import_module(\'sys\',\'tutorial\'));
		if (!$tutorial_disable_combo || $gametype!=17){$gtype2_checkcombo_ret = NULL;

		//========Contents from mod gtype2========
		do{
			
		
		eval(import_module(\'map\',\'gameflow_combo\'));
		if (($gametype==2)&&($areanum<$areaadd*2)&&($alivenum>0)){
			$gtype2_checkcombo_ret = NULL;
break; 
		}$instance6_checkcombo_ret = NULL;

		//========Contents from mod instance6========
		do{
			
		
		eval(import_module(\'map\',\'gameflow_combo\'));
		if (($gametype==16)&&($areanum<$areaadd*2)&&($alivenum>0)){
			$instance6_checkcombo_ret = NULL;
break; 
		}$instance5_checkcombo_ret = NULL;

		//========Contents from mod instance5========
		do{
			
		
		eval(import_module(\'map\',\'gameflow_combo\'));
		if(15 == $gametype){
			if($areanum < $areaadd * 4 && $alivenum>0){
				$instance5_checkcombo_ret = NULL;
break; 
			}
		}$gtype1_checkcombo_ret = NULL;

		//========Contents from mod gtype1========
		do{
			
		
		eval(import_module(\'map\',\'gameflow_combo\'));
		if (($gametype==1)&&($areanum<$areaadd*2)&&($alivenum>0)){
			$gtype1_checkcombo_ret = NULL;
break; 
		}$gameflow_combo_checkcombo_ret = NULL;

		//========Contents from mod gameflow_combo========
		do{
			
		
		eval(import_module(\'gameflow_combo\'));
		if($gamestate < 40 && $gamestate >= 30 && $alivenum <= $combolimit) {
			$gamestate = 40;
			addnews($now,\'combo\');
			systemputchat($now,\'combo\');
		}elseif($gamestate < 40 && $gamestate >= 20 && $combonum && $deathnum >= $combonum){
			$real_combonum = $deathlimit + ceil($validnum/$deathdeno) * $deathnume;
			if($deathnum >= $real_combonum){
				$gamestate = 40;
				addnews($now,\'combo\');
				systemputchat($now,\'combo\');
			}else{
				$combonum = $real_combonum;
				addnews($now,\'comboupdate\',$combonum,$deathnum);
				systemputchat($now,\'comboupdate\',$combonum);
			}		
		}
		}while(0);
		$gameflow_combo_checkcombo_ret;
		}while(0);
		$gtype1_checkcombo_ret;
		}while(0);
		$instance5_checkcombo_ret;
		}while(0);
		$instance6_checkcombo_ret;
		}while(0); return $gtype2_checkcombo_ret;}
	'

Array\strike_prepare ====> '
		
		if ($pa[\'bskill\']!=244) return \\ex_attr_pierce\\strike_prepare($pa, $pd, $active);
		if (!\\skillbase\\skill_query(244,$pa) || !\\skill244\\check_unlocked244 ($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = \\skill244\\get_rage_cost244 ($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「归约」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「归约」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill244\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		\\ex_attr_pierce\\strike_prepare($pa, $pd, $active);
	'

Array\apply_total_damage_modifier_up ====> '
		
		eval(import_module(\'logger\'));
		if ($pa[\'bskill\']==244 && $pa[\'dmg_dealt\']>0)
		{
			$pa[\'dmg_dealt\']=\\skill244\\sk244_get_factor_sum ($pa[\'dmg_dealt\']);
			$log.=\'<span class="yellow">「归约」使最终伤害变为\'.$pa[\'dmg_dealt\'].\'点！</span><br>\';
		}$skill206_apply_total_damage_modifier_up_ret = NULL;

		//========Contents from mod skill206========
		do{
			
		
		if (!\\skillbase\\skill_query(206,$pa) || !\\skill206\\check_unlocked206 ($pa)){ $skill206_apply_total_damage_modifier_up_ret =  \\skill447\\apply_total_damage_modifier_up($pa,$pd,$active);
break; }
		\\skill447\\apply_total_damage_modifier_up($pa,$pd,$active);
		if ((($pd[\'hp\']*0.85)<$pa[\'dmg_dealt\'])&&($pd[\'hp\']>$pa[\'dmg_dealt\'])&&($pa[\'wep_kind\']==\'G\')){
			$pa[\'dmg_dealt\']=$pd[\'hp\'];
			
			if ($active) $log .= "<span class=\\"red\\">你的攻击直接将敌人爆头！</span><br>";
			else $log .= "<span class=\\"red\\">敌人的攻击直接将你爆头！</span><br>";
		}
		
		}while(0);
		$skill206_apply_total_damage_modifier_up_ret;
	'

Array\parse_news ====> '
		
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill244\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「归约」</span></span></li>";$skill435_parse_news_ret = NULL;

		//========Contents from mod skill435========
		do{
			
		
		
		
		
		if($news == \'bskill435\'){ 
			$skill435_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「保安团」</span></span></li>";
break; }$skill56_parse_news_ret = NULL;

		//========Contents from mod skill56========
		do{
			
		
		
		
		
		if($news == \'bskill56\'){ 
			$skill56_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「招募佣兵」</span></span></li>";
break; }$skill26_parse_news_ret = NULL;

		//========Contents from mod skill26========
		do{
			
		
		
		
		
		if($news == \'bskill26\'){ 
			$skill26_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「聚能」</span></span></li>";
break; }$skill215_parse_news_ret = NULL;

		//========Contents from mod skill215========
		do{
			
		
		
		
		
		if($news == \'bskill215\'){ 
			$skill215_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「高能」</span></span></li>";
break; }$skill208_parse_news_ret = NULL;

		//========Contents from mod skill208========
		do{
			
		
		
		
		
		if($news == \'bskill208\'){ 
			$skill208_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「强袭」</span></span></li>";
break; }$gtype2_parse_news_ret = NULL;

		//========Contents from mod gtype2========
		do{
			
		
		
		
		
		if($news == \'g2announce\'){ 
			$gtype2_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">本次游戏第<span class=\\"yellow\\">{$a}</span>名是获得了<span class=\\"yellow\\">{$c}</span>点胜利点数的<span class=\\"yellow\\">{$b}</span>。</span></li>";
break; }$addnpc_parse_news_ret = NULL;

		//========Contents from mod addnpc========
		do{
			
		
		
		
		if($news == \'addnpc\'){ 
			$addnpc_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}乱入战场！</span></li>";
break; }
		if($news == \'addnpcs\'){ 
			$addnpc_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$b}名{$a}加入战斗！</span></li>";
break; }
		if($news == \'secphase\'){ 
			$addnpc_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了挑战者之证，让3名幻影执行官加入了战场！打倒他们去获得ID卡来解除游戏吧！</span></li>";
break; }
		if($news == \'thiphase\'){ 
			$addnpc_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}触发了对虚拟现实的救济！虚拟意识已经在■■■■活性化！</span></li>";
break; }
		if($news == \'dfphase\'){ 
			$addnpc_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了黑色碎片，让1名未知存在加入了战场！打倒她去获得ID卡来解除游戏吧！</span></li>";
break; }
		if($news == \'hack2\'){ 
			$addnpc_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}启动了救济程序，全部禁区解除！</span></li>";
break; }
		if($news == \'dfsecphase\'){ 
			$addnpc_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}闯了大祸，打破了Dark Force的封印！</span></li>";
break; }$gtype1_parse_news_ret = NULL;

		//========Contents from mod gtype1========
		do{
			
		
		
		
		
		if($news == \'g1announce\'){ 
			$gtype1_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">本次游戏第<span class=\\"yellow\\">{$a}</span>名是完成了<span class=\\"yellow\\">{$c}</span>次除错的<span class=\\"yellow\\">{$b}</span>。</span></li>";
break; }$skill210_parse_news_ret = NULL;

		//========Contents from mod skill210========
		do{
			
		
		
		
		
		if($news == \'bskill210\'){ 
			$skill210_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"red\\">「歼灭」</span></span></li>";
break; }$skill76_parse_news_ret = NULL;

		//========Contents from mod skill76========
		do{
			
		
		
		
		
		if($news == \'bskill76\'){ 
			$skill76_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「充能」</span></span></li>";
break; }$skill75_parse_news_ret = NULL;

		//========Contents from mod skill75========
		do{
			
		
		
		
		
		if($news == \'bskill75\'){ 
			$skill75_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「剑心」</span></span></li>";
break; }$skill205_parse_news_ret = NULL;

		//========Contents from mod skill205========
		do{
			
		
		
		
		
		if($news == \'bskill205\'){ 
			$skill205_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「咆哮」</span></span></li>";
break; }$skill48_parse_news_ret = NULL;

		//========Contents from mod skill48========
		do{
			
		
		
		
		
		if($news == \'bskill48\'){ 
			$skill48_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「附魔」</span></span></li>";
break; }$skill47_parse_news_ret = NULL;

		//========Contents from mod skill47========
		do{
			
		
		
		
		
		if($news == \'bskill47\'){ 
			$skill47_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「花雨」</span></span></li>";
break; }$skill222_parse_news_ret = NULL;

		//========Contents from mod skill222========
		do{
			
		
		
		
		
		if($news == \'bskill222\'){ 
			$skill222_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「催化」</span></span></li>";
break; }$ex_attr_trap_parse_news_ret = NULL;

		//========Contents from mod ex_attr_trap========
		do{
			
		
		
		
		if($news == \'trapdef\'){ 
			$ex_attr_trap_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}依靠迎击装备抵御了{$b}设置的陷阱{$c}的伤害</span></li>";
break; }$skill49_parse_news_ret = NULL;

		//========Contents from mod skill49========
		do{
			
		
		
		
		
		if($news == \'bskill49\'){ 
			$skill49_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「潜能」</span></span></li>";
break; }$skill73_parse_news_ret = NULL;

		//========Contents from mod skill73========
		do{
			
		
		
		
		
		if($news == \'bskill73\'){ 
			$skill73_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「必杀」</span></span></li>";
break; }$weather_parse_news_ret = NULL;

		//========Contents from mod weather========
		do{
			
		
		eval(import_module(\'weather\'));
		if($news == \'wthchange\'){ 
			$weather_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了{$c}，天气变成了{$wthinfo[$b]}！</span></li>";
break; }
		if($news == \'wthfail\'){ 
			$weather_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了{$c}，但是天气并未发生改变！</span></li>";
break; }
		if($news == \'syswthchg\'){ 
			$weather_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">奇迹和魔法都是存在的！当前天气变成了{$wthinfo[$a]}！</span></li>";
break; }
		if($news == \'aurora_revival\'){ 
			$weather_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}在奥罗拉的作用下原地复活了！</span></li>";
break; }
		if($news == \'death17\') 
		{
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e){
				$e="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			}else{
				$e="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			}
			$weather_parse_news_ret =  "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"red\\">冰雹砸死</span>{$e}</li>";
break; 
		}
		
		if($news == \'addarea\') 
		{
			$info = \\blessstone\\parse_news($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
			$info = str_replace("</li>", "<span class=\\"yellow\\">【天气：{$wthinfo[$b]}】</span></li>", $info);
			$weather_parse_news_ret =  $info;
break; 
		}
		
		$weather_parse_news_ret =  \\blessstone\\parse_news($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
break; 
		}while(0);
		
		$skill73_parse_news_ret =  $weather_parse_news_ret;
break; 
		}while(0);
		
		$skill49_parse_news_ret =  $skill73_parse_news_ret;
break; 
		}while(0);
		
		$ex_attr_trap_parse_news_ret =  $skill49_parse_news_ret;
break; 
		}while(0);
		
		$skill222_parse_news_ret =  $ex_attr_trap_parse_news_ret;
break; 
		}while(0);
		
		$skill47_parse_news_ret =  $skill222_parse_news_ret;
break; 
		}while(0);
		
		$skill48_parse_news_ret =  $skill47_parse_news_ret;
break; 
		}while(0);
		
		$skill205_parse_news_ret =  $skill48_parse_news_ret;
break; 
		}while(0);
		
		$skill75_parse_news_ret =  $skill205_parse_news_ret;
break; 
		}while(0);
		
		$skill76_parse_news_ret =  $skill75_parse_news_ret;
break; 
		}while(0);
		
		$skill210_parse_news_ret =  $skill76_parse_news_ret;
break; 
		}while(0);
		
		$gtype1_parse_news_ret =  $skill210_parse_news_ret;
break; 
		}while(0);
		
		$addnpc_parse_news_ret =  $gtype1_parse_news_ret;
break; 
		}while(0);
		
		$gtype2_parse_news_ret =  $addnpc_parse_news_ret;
break; 
		}while(0);
		
		$skill208_parse_news_ret =  $gtype2_parse_news_ret;
break; 
		}while(0);
		
		$skill215_parse_news_ret =  $skill208_parse_news_ret;
break; 
		}while(0);
		
		$skill26_parse_news_ret =  $skill215_parse_news_ret;
break; 
		}while(0);
		
		$skill56_parse_news_ret =  $skill26_parse_news_ret;
break; 
		}while(0);
		
		$skill435_parse_news_ret =  $skill56_parse_news_ret;
break; 
		}while(0);
		
		return $skill435_parse_news_ret;
	'

Array\armor_break ====> '$armor_armor_break_ret = NULL;

		//========Contents from mod armor========
		do{
			
		
		
		eval(import_module(\'logger\'));
		if ($active)
		{
			$log .= "{$pd[\'name\']}的<span class=\\"red\\">".$pd[$whicharmor]."</span>受损过重，无法再装备了！<br>";
			$pd[\'armorbreaklog\'] .= "你的<span class=\\"red\\">".$pd[$whicharmor]."</span>受损过重，无法再装备了！<br>";
		}
		else  $log .= "你的<span class=\\"red\\">".$pd[$whicharmor]."</span>受损过重，无法再装备了！<br>";
		
		$pd[$whicharmor] = \'\'; $pd[$whicharmor.\'e\'] = 0; $pd[$whicharmor.\'s\'] = 0; $pd[$whicharmor.\'sk\'] = \'\';
						
		if ($whicharmor==\'arb\')
		{
			eval(import_module(\'armor\'));
			$pd[\'arb\'] = $noarb; $pd[\'arbs\'] = $nosta;$pd[\'arbk\']="DN";
		}
		}while(0);
		
		
		$armor_armor_break_ret;
		
		if (\\skillbase\\skill_query(27,$pa) && \\skill27\\check_unlocked27 ($pa))
		{
			eval(import_module(\'logger\',\'wound\'));
			if (!\\skillbase\\skill_query(6,$pd))
			{
				if ($active)
					$log .= \'流火技能\'.$infname[\'u\'].\'了敌人！\';
				else  $log .= \'你被敌人的流火技能\'.$infname[\'u\'].\'了！\';
				\\wound\\get_inf(\'u\',$pd);
			}
		}
	'

Array\strike_finish ====> '
		
		if (\\skillbase\\skill_query(27,$pa) && \\skill27\\check_unlocked27 ($pa) && $pa[\'is_hit\'])
		{
			eval(import_module(\'skill27\',\'armor\',\'wound\',\'logger\'));
			if ($pa[\'bskill\']==26)	
			{
				$target = $armor_equip_list;
				if (\\skillbase\\skill_getvalue(26,\'lvl\',$pa))
					$damage = 2;
				else  $damage = 3; 
			}
			else  
			{
				$target = Array($armor_equip_list[rand(0,count($armor_equip_list)-1)]);
				$damage = 0;
				if (in_array(\'u\',\\attrbase\\get_ex_attack_array($pa, $pd, $active))) $damage+=1;
				if (in_array(\'f\',\\attrbase\\get_ex_attack_array($pa, $pd, $active))) $damage+=2;
			}
			
			if ($damage > 0)
			{
				foreach ($target as $key)
				{
					if (in_array($key,$armor_equip_list) && isset($pd[$key.\'e\']) && $pd[$key.\'e\']>0)
					{
						
						$pa[\'attack_wounded_\'.substr($key,2)]+=$damage;
					}
					else
					{
						if (!\\skillbase\\skill_query(6,$pd))
						{
							if ($active)
								$log .= \'流火技能\'.$infname[\'u\'].\'了敌人！\';
							else  $log .= \'你被敌人的流火技能\'.$infname[\'u\'].\'了！\';
							\\wound\\get_inf(\'u\',$pd);
						}
					}
				}
			}
		}$skill26_strike_finish_ret = NULL;

		//========Contents from mod skill26========
		do{
			
		
		if ($pa[\'bskill\']!=26){ $skill26_strike_finish_ret =  \\skill448\\strike_finish($pa, $pd, $active);
break; }
		if ($pa[\'is_hit\'])
		{
			
			$pa[\'skill26_flag3\']=2;
			$attack_type = \'u\';
			if (\\skillbase\\skill_getvalue(26,\'lvl\',$pa)==2) $attack_type = \'f\';	
			\\ex_dmg_att\\check_ex_inf_infliction($pa, $pd, $active, $attack_type);
		}
		unset($pa[\'skill26_flag1\']);
		unset($pa[\'skill26_flag2\']);
		unset($pa[\'skill26_flag3\']);
		unset($pa[\'skill26_flag4\']);
		\\skill448\\strike_finish($pa, $pd, $active);
		}while(0);
		$skill26_strike_finish_ret;
	'

Array\skill_onload_event ====> '
		return \\skill436\\skill_onload_event($pa);'

Array\skill_onload_event ====> '
		
		if (\\skillbase\\skill_query(436,$pa) && $pa[\'hp\']>0)
		{
			$i=\\skillbase\\skill_getvalue(436,\'l\',$pa);
			$z=\\skillbase\\skill_getvalue(436,\'p\',$pa);
			eval(import_module(\'sys\',\'player\',\'skill435\',\'logger\'));
			
			if ($z==$pid) $employer=NULL; else $employer=\\player\\fetch_playerdata_by_pid($z);
			
			$infochanged = 0;
			
			
			$is_hired=(int)\\skillbase\\skill_getvalue(435,\'h\'.$i,$employer);
			if ($is_hired==1)
			{
				$lastsal=(int)\\skillbase\\skill_getvalue(435,\'l\'.$i,$employer);
				$ty=(int)\\skillbase\\skill_getvalue(435,\'s\'.$i);
				while ($now-$lastsal>=60)
				{
					$mercsal=$skill435_npc[\'sub\'][$ty][\'mercsalary\'];
					if ($employer!==NULL) $emoney = &$employer[\'money\']; else $emoney=&$money;
					if ($emoney>=$mercsal)
					{
						
						$pa[\'money\']+=$mercsal;
						$emoney -=$mercsal;
						$lastsal+=60;
						\\skillbase\\skill_setvalue(435,\'l\'.$i,$lastsal,$employer);
						$w_log = \'你支付了<span class="yellow">\'.$mercsal.\'</span>元作为佣兵<span class="yellow">\'.$skill435_npc[\'sub\'][$ty][\'name\'].\'</span>的薪水！<br>\';
						\\logger\\logsave($z, $lastsal, $w_log ,\'b\');
						$infochanged = 1;
						$pa[\'infochanged\']=1;
					}
					else
					{
						if ($now-$lastsal>=$merc_leave_timeout)
						{
							
							$pa[\'money\']+=$emoney;
							$emoney=0;
							$lastsal+=$merc_leave_timeout;
							\\skillbase\\skill_setvalue(435,\'l\'.$i,$lastsal,$employer);
							\\skillbase\\skill_setvalue(435,\'h\'.$i,2,$employer);
							if ($skill435_npc[\'sub\'][$ty][\'mercfireaction\']==1) $pa[\'pls\']=999;
							$w_log = \'<span class="red">因为你长期拖欠佣兵<span class="yellow">\'.$skill435_npc[\'sub\'][$ty][\'name\'].\'</span>的薪水，佣兵<span class="yellow">\'.$skill435_npc[\'sub\'][$ty][\'name\'].\'</span>与你解除了雇佣合同！</span><br>\';
							\\logger\\logsave($z, $lastsal, $w_log ,\'b\');
							$infochanged = 1;
							$pa[\'infochanged\']=1;
							break;
						}
						else  break;
					}
				}
			}
			if ($infochanged && $employer!==NULL) \\player\\player_save($employer);
		}$skill57_skill_onload_event_ret = NULL;

		//========Contents from mod skill57========
		do{
			
		
		if (\\skillbase\\skill_query(57,$pa) && $pa[\'hp\']>0)
		{
			$i=\\skillbase\\skill_getvalue(57,\'l\',$pa);
			$z=\\skillbase\\skill_getvalue(57,\'p\',$pa);
			eval(import_module(\'sys\',\'player\',\'skill56\',\'logger\'));
			
			if ($z==$pid) $employer=NULL; else $employer=\\player\\fetch_playerdata_by_pid($z);
			
			$infochanged = 0;
			
			
			$is_hired=(int)\\skillbase\\skill_getvalue(56,\'h\'.$i,$employer);
			if ($is_hired==1)
			{
				$lastsal=(int)\\skillbase\\skill_getvalue(56,\'l\'.$i,$employer);
				$ty=(int)\\skillbase\\skill_getvalue(56,\'s\'.$i);
				while ($now-$lastsal>=60)
				{
					$mercsal=$skill56_npc[\'sub\'][$ty][\'mercsalary\'];
					if ($employer!==NULL) $emoney = &$employer[\'money\']; else $emoney=&$money;
					if ($emoney>=$mercsal)
					{
						
						$pa[\'money\']+=$mercsal;
						$emoney -=$mercsal;
						$lastsal+=60;
						\\skillbase\\skill_setvalue(56,\'l\'.$i,$lastsal,$employer);
						$w_log = \'你支付了<span class="yellow">\'.$mercsal.\'</span>元作为佣兵<span class="yellow">\'.$skill56_npc[\'sub\'][$ty][\'name\'].\'</span>的薪水！<br>\';
						\\logger\\logsave($z, $lastsal, $w_log ,\'b\');
						$infochanged = 1;
						$pa[\'infochanged\']=1;
					}
					else
					{
						if ($now-$lastsal>=$merc_leave_timeout)
						{
							
							$pa[\'money\']+=$emoney;
							$emoney=0;
							$lastsal+=$merc_leave_timeout;
							\\skillbase\\skill_setvalue(56,\'l\'.$i,$lastsal,$employer);
							\\skillbase\\skill_setvalue(56,\'h\'.$i,2,$employer);
							if ($skill56_npc[\'sub\'][$ty][\'mercfireaction\']==1) $pa[\'pls\']=999;
							$w_log = \'<span class="red">因为你长期拖欠佣兵<span class="yellow">\'.$skill56_npc[\'sub\'][$ty][\'name\'].\'</span>的薪水，佣兵<span class="yellow">\'.$skill56_npc[\'sub\'][$ty][\'name\'].\'</span>与你解除了雇佣合同！</span><br>\';
							\\logger\\logsave($z, $lastsal, $w_log ,\'b\');
							$infochanged = 1;
							$pa[\'infochanged\']=1;
							break;
						}
						else  break;
					}
				}
			}
			if ($infochanged && $employer!==NULL) \\player\\player_save($employer);
		}$skill1_skill_onload_event_ret = NULL;

		//========Contents from mod skill1========
		do{
			
		
		if (strpos($pa[\'inf\'],\'b\')!==false) \\skillbase\\skill_acquire(1,$pa);$skill9_skill_onload_event_ret = NULL;

		//========Contents from mod skill9========
		do{
			
		
		if (strpos($pa[\'inf\'],\'w\')!==false) \\skillbase\\skill_acquire(9,$pa);$skill8_skill_onload_event_ret = NULL;

		//========Contents from mod skill8========
		do{
			
		
		if (strpos($pa[\'inf\'],\'e\')!==false) \\skillbase\\skill_acquire(8,$pa);$skill7_skill_onload_event_ret = NULL;

		//========Contents from mod skill7========
		do{
			
		
		if (strpos($pa[\'inf\'],\'i\')!==false) \\skillbase\\skill_acquire(7,$pa);$skill6_skill_onload_event_ret = NULL;

		//========Contents from mod skill6========
		do{
			
		
		if (strpos($pa[\'inf\'],\'u\')!==false) \\skillbase\\skill_acquire(6,$pa);$skill5_skill_onload_event_ret = NULL;

		//========Contents from mod skill5========
		do{
			
		
		if (strpos($pa[\'inf\'],\'p\')!==false) \\skillbase\\skill_acquire(5,$pa);$skill475_skill_onload_event_ret = NULL;

		//========Contents from mod skill475========
		do{
			
		
		if (\\skillbase\\skill_query(475,$pa))
		{
			eval(import_module(\'sys\',\'skill475\'));
			if ($pa[\'hp\']<=0 && $now>=$pa[\'endtime\']+$skill475_revive_time)	
				\\skill475\\sk475_revive_player ($pa);
		}$skill3_skill_onload_event_ret = NULL;

		//========Contents from mod skill3========
		do{
			
		
		if (strpos($pa[\'inf\'],\'a\')!==false) \\skillbase\\skill_acquire(3,$pa);$skill2_skill_onload_event_ret = NULL;

		//========Contents from mod skill2========
		do{
			
		
		if (strpos($pa[\'inf\'],\'h\')!==false) \\skillbase\\skill_acquire(2,$pa);$skill1010_skill_onload_event_ret = NULL;

		//========Contents from mod skill1010========
		do{$skill1011_skill_onload_event_ret = NULL;

		//========Contents from mod skill1011========
		do{$skill4_skill_onload_event_ret = NULL;

		//========Contents from mod skill4========
		do{
			
		
		if (strpos($pa[\'inf\'],\'f\')!==false) \\skillbase\\skill_acquire(4,$pa);$achievement_base_skill_onload_event_ret = NULL;

		//========Contents from mod achievement_base========
		do{
			
		
		eval(import_module(\'sys\',\'achievement_base\'));
		$alist = array();
		foreach($achlist as $av){
			$alist = array_merge($alist, $av);
		}
		foreach($alist as $av){
			
			if (!$pa[\'type\']
			
				&& ( ( !isset($ach_allow_mode[$av]) && in_array($gametype, $ach_allow_mode[0]) ) || ( isset($ach_allow_mode[$av]) && in_array($gametype,$ach_allow_mode[$av]) ) )
				&& !\\skillbase\\skill_query($av,$pa))
			\\skillbase\\skill_acquire($av,$pa);
		}$skillbase_skill_onload_event_ret = NULL;

		//========Contents from mod skillbase========
		do{
			
		
		}while(0);
		$skillbase_skill_onload_event_ret;
		}while(0);
		$achievement_base_skill_onload_event_ret;
		}while(0);
			
		
		$skill4_skill_onload_event_ret;
		}while(0);
			
		
		$skill1011_skill_onload_event_ret;
		}while(0);
		$skill1010_skill_onload_event_ret;
		}while(0);
		$skill2_skill_onload_event_ret;
		}while(0);
		$skill475_skill_onload_event_ret =  $skill3_skill_onload_event_ret;
break; 
		}while(0);
		$skill475_skill_onload_event_ret;
		}while(0);
		$skill5_skill_onload_event_ret;
		}while(0);
		$skill6_skill_onload_event_ret;
		}while(0);
		$skill7_skill_onload_event_ret;
		}while(0);
		$skill8_skill_onload_event_ret;
		}while(0);
		$skill9_skill_onload_event_ret;
		}while(0);
		
		$skill1_skill_onload_event_ret;
		}while(0);
		
		$skill57_skill_onload_event_ret;
	'

Array\load_playerdata ====> '
		
		eval(import_module(\'sys\',\'player\'));$lvlctl_load_playerdata_ret = NULL;

		//========Contents from mod lvlctl========
		do{
			
		
		
		if (isset($pdata[\'upexp\'])) $upexp=$pdata[\'upexp\'];$skillbase_load_playerdata_ret = NULL;

		//========Contents from mod skillbase========
		do{$player_load_playerdata_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		
		foreach ($pdata as $key => $value) $$key=$value;
		$sdata=Array();
		foreach ($db_player_structure as $key)
			$sdata[$key]=&$$key;
		$sdata[\'state_backup\']=$pdata[\'state_backup\'];	
		}while(0);
			
		
		$player_load_playerdata_ret;
		\\skillbase\\skillbase_load ($pdata);
		}while(0);
		$skillbase_load_playerdata_ret;
		}while(0);
		$lvlctl_load_playerdata_ret;
		if(is_string($searchmemory)) $searchmemory = gdecode($searchmemory,1);
	'

Array\fetch_playerdata ====> '$skillbase_fetch_playerdata_ret = NULL;

		//========Contents from mod skillbase========
		do{$player_fetch_playerdata_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		eval(import_module(\'sys\'));
		$pdata = false;
		foreach($pdata_pool as $pd){
			if(isset($pd[\'name\']) && $pd[\'name\'] == $Pname){
				$pdata = $pd;
				break;
			}
		}
		if(empty($pdata)){
			$query = "SELECT * FROM {$tablepre}players WHERE name = \'$Pname\' AND type = \'$Ptype\'";
			$result = $db->query($query);
			if(!$db->num_rows($result)){ $player_fetch_playerdata_ret =  NULL;
break; }
			$pdata = $db->fetch_array($result);
			
			
			
			
			
			$pdata[\'state_backup\']=$pdata[\'state\'];
			$pdata_origin_pool[$pdata[\'pid\']] = $pdata_pool[$pdata[\'pid\']] = $pdata;
		}
		$player_fetch_playerdata_ret =  $pdata;
break; 
		}while(0);
			
		
		$pa=$player_fetch_playerdata_ret;
		\\skillbase\\skillbase_load ($pa);
		$skillbase_fetch_playerdata_ret =  $pa;
break; 
		}while(0);
		
		
		$pdata = $skillbase_fetch_playerdata_ret;
		$pdata[\'searchmemory\'] = gdecode($pdata[\'searchmemory\'],1);
		return $pdata;
	'

Array\fetch_playerdata_by_pid ====> '$skillbase_fetch_playerdata_by_pid_ret = NULL;

		//========Contents from mod skillbase========
		do{$player_fetch_playerdata_by_pid_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		eval(import_module(\'sys\'));
		if(isset($pdata_pool[$pid])){
			$pdata = $pdata_pool[$pid];
		}else{
			$result = $db->query("SELECT * FROM {$tablepre}players WHERE pid = \'$pid\'");
			if(!$db->num_rows($result)){ $player_fetch_playerdata_by_pid_ret =  NULL;
break; }
			$pdata = $db->fetch_array($result);
			$pdata[\'state_backup\']=$pdata[\'state\'];	
			$pdata_origin_pool[$pdata[\'pid\']] = $pdata_pool[$pdata[\'pid\']] = $pdata;
		}
		$player_fetch_playerdata_by_pid_ret =  $pdata;
break; 
		}while(0);
			
		
		$pa=$player_fetch_playerdata_by_pid_ret;
		\\skillbase\\skillbase_load ($pa);
		$skillbase_fetch_playerdata_by_pid_ret =  $pa;
break; 
		}while(0);
		
		
		$pdata = $skillbase_fetch_playerdata_by_pid_ret;
		$pdata[\'searchmemory\'] = gdecode($pdata[\'searchmemory\'],1);
		return $pdata;
	'

Array\player_save ====> '
		
		if(is_array($data[\'searchmemory\'])) $data[\'searchmemory\'] = gencode($data[\'searchmemory\']);$skillbase_player_save_ret = NULL;

		//========Contents from mod skillbase========
		do{
			
		
		\\skillbase\\skillbase_save ($data);$player_player_save_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		
		eval(import_module(\'sys\',\'player\'));
		if(isset($data[\'pid\']))
		{
			$spid = $data[\'pid\'];
			
			
			
			
			$pdata_pool[$spid] = array_clone($data);
			
			$ndata = \\player\\player_format_with_db_structure ($data);
			
			
			
			unset($ndata[\'pid\']);
			
			
			if ($data[\'hp\']<=0) {
				$ndata[\'player_dead_flag\'] = 1;
				$pdata_origin_pool[$spid][\'player_dead_flag\'] = $pdata_pool[$spid][\'player_dead_flag\'] = 1;
			}
			
			
			if (isset($ndata[\'player_dead_flag\']) && !$ndata[\'player_dead_flag\']) {
				unset($ndata[\'player_dead_flag\']);
			}
			
			



			
			if (sizeof($ndata)>0){
				$db->array_update("{$tablepre}players",$ndata,"pid=\'$spid\'");
				
				
				
				
				$pdata_origin_pool[$spid] = array_clone($data);
			}
		}
		$player_player_save_ret = NULL;
break; 
		}while(0);
		$player_player_save_ret;
		}while(0);
		$skillbase_player_save_ret;
	'

Array\focus_item ====> '
		
		
		if(isset($iarr[\'iid\'])){
			$smn = \\searchmemory\\seek_memory_by_id ($iarr[\'iid\'], \'iid\');
			if($smn >= 0) \\searchmemory\\remove_memory ($smn,2);
		}$itemmain_focus_item_ret = NULL;

		//========Contents from mod itemmain========
		do{
			
		
		eval(import_module(\'sys\',\'player\'));
		if(isset($iarr[\'iid\'])){
			$iid = $iarr[\'iid\'];
			$db->query("DELETE FROM {$tablepre}mapitem WHERE iid=\'$iid\'");
			$itm0=$iarr[\'itm\'];
			$itmk0=$iarr[\'itmk\'];
			$itme0=$iarr[\'itme\'];
			$itms0=$iarr[\'itms\'];
			$itmsk0=$iarr[\'itmsk\'];
			$itemmain_focus_item_ret =  $itms0;
break; 
		}
		$itemmain_focus_item_ret =  false;
break; 
		}while(0);
		return $itemmain_focus_item_ret;
	'

Array\itemdrop ====> '
		
		eval(import_module(\'player\'));$itemmain_itemdrop_ret = NULL;

		//========Contents from mod itemmain========
		do{
			
		
		
		eval(import_module(\'sys\',\'logger\'));

		if($item == \'wep\'){
			$itm = & $wep;
			$itmk = & $wepk;
			$itme = & $wepe;
			$itms = & $weps;
			$itmsk = & $wepsk;
		} elseif(strpos($item,\'ar\') === 0) {
			$itmn = substr($item,2,1);
			$itm = & ${\'ar\'.$itmn};
			$itmk = & ${\'ar\'.$itmn.\'k\'};
			$itme = & ${\'ar\'.$itmn.\'e\'};
			$itms = & ${\'ar\'.$itmn.\'s\'};
			$itmsk = & ${\'ar\'.$itmn.\'sk\'};

		} elseif(strpos($item,\'itm\') === 0) {
			$itmn = substr($item,3,1);
			$itm = & ${\'itm\'.$itmn};
			$itmk = & ${\'itmk\'.$itmn};
			$itme = & ${\'itme\'.$itmn};
			$itms = & ${\'itms\'.$itmn};
			$itmsk = & ${\'itmsk\'.$itmn};
		}

		if(!$itms||!$itmk||$itmk==\'WN\'||$itmk==\'DN\'){
			$log .= \'该物品不存在！<br>\';
			$itms = 0;
			$mode = \'command\';
			$itemmain_itemdrop_ret = NULL;
break; 
		}
	
	
	
		$db->query("INSERT INTO {$tablepre}mapitem (itm, itmk, itme, itms, itmsk ,pls) VALUES (\'$itm\', \'$itmk\', \'$itme\', \'$itms\', \'$itmsk\', \'$pls\')");
		$dropid = $db->insert_id();
		$dropname = $itm;
		$log .= "你丢弃了<span class=\\"red\\">$dropname</span>。<br>";
		$mode = \'command\';
		if($item == \'wep\'){
		$itm = \'拳头\';
		$itmsk = \'\';
		$itmk = \'WN\';
		$itme = 0;
		$itms = $nosta;
		} else {
		$itm = $itmk = $itmsk = \'\';
		$itme = $itms = 0;
		}
		$itemmain_itemdrop_ret =  array($dropid,$dropname);
break; 
		}while(0);
		$res = $itemmain_itemdrop_ret;
		if(!empty($res)) {
			list($dropid,$dropname) = $res;
			$amarr = array(\'iid\' => $dropid, \'itm\' => $dropname, \'pls\' => $pls);
			\\searchmemory\\add_memory ($amarr);
		}
		return $res;
	'

Array\act ====> '
		return \\smartmix\\act();'

Array\meetman ====> '
				
		
		
		$smn = \\searchmemory\\seek_memory_by_id ($sid, \'pid\');
		if($smn >= 0) \\searchmemory\\remove_memory ($smn,2);$corpse_meetman_ret = NULL;

		//========Contents from mod corpse========
		do{
			
		
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'metman\'));
		
		$edata=\\player\\fetch_playerdata_by_pid($sid);
		if ($edata[\'hp\']<=0)
		{
			$action = \'corpse\'.$sid;
			\\corpse\\findcorpse ($edata);
			$corpse_meetman_ret = NULL;
break; 
		}
		else{$metman_meetman_ret = NULL;

		//========Contents from mod metman========
		do{
			
		
		
		
		\\player\\update_sdata();
		$edata = \\player\\fetch_playerdata_by_pid($sid);
		\\metman\\meetman_alternative ($edata);
		}while(0);  $metman_meetman_ret;}
		}while(0);
		$corpse_meetman_ret;
	'

Array\calculate_active_obbs_multiplier ====> '
		
		eval(import_module(\'player\',\'logger\',\'searchmemory\'));
		if(isset($sdata[\'sm_active_debuff\']) && $sdata[\'sm_active_debuff\']) {
			
			return \\skill50\\calculate_active_obbs_multiplier($ldata,$edata) * $searchmemory_battle_active_debuff;
		}
		else return \\skill50\\calculate_active_obbs_multiplier($ldata,$edata);
	'

Array\move_to_area ====> '
		
		eval(import_module(\'player\'));
		if(!empty($searchmemory)) {
			\\searchmemory\\remove_memory (\'ALL\');
		}$weather_move_to_area_ret = NULL;

		//========Contents from mod weather========
		do{
			
		
		
		eval(import_module(\'sys\',\'map\',\'logger\'));
		if($weather == 11)	
		{
			\\weather\\apply_tornado_weather_effect ();
		} 
		elseif($weather == 13) 	
		{
			\\weather\\deal_hailstorm_weather_damage ();
			if ($hp<=0){ $weather_move_to_area_ret = NULL;
break; }
		} 
		elseif($weather == 14)	
		{
			$dice = rand(0,9);
			if($dice ==0 && strpos($inf,\'e\')===false){
				$log .= "空气中充斥着的<span class=\\"linen\\">狂暴电磁波</span>导致你<span class=\\"yellow\\">身体麻痹</span>了！<br>";
				\\wound\\get_inf(\'e\');
			}elseif($dice ==1 && strpos($inf,\'w\')===false){
				$log .= "空气中充斥着的<span class=\\"linen\\">狂暴电磁波</span>导致你<span class=\\"grey\\">混乱</span>了！<br>";
				\\wound\\get_inf(\'w\');
			}else{
				$log .= "空气中充斥着狂暴的电磁波……<br>";
			}
		} 
		elseif($weather == 15)	
		{
			$dice = rand(0,9);
			if($dice == 0){
				$mhpdown = rand(1,4);
				if($mhp > $mhpdown){
					$log .= "空气中弥漫着的<span class=\\"green\\">放射性尘埃</span>导致你的生命上限减少了<span class=\\"red\\">{$mhpdown}</span>点！<br>";
					$mhp -= $mhpdown;
					if($hp > $mhp){$hp = $mhp;}
				}
			}else{
				$log .= "空气中弥漫着放射性尘埃……<br>";
			}
		} 
		elseif($weather == 16)	
		{
			$dice = rand(0,9);
			if($dice == 0){
				$defdown = rand(2,5);
				if($def > $defdown){
					$log .= "高强度的<span class=\\"purple\\">紫外线照射</span>导致你的防御力减少了<span class=\\"red\\">{$defdown}</span>点！<br>";
					$def -= $defdown;
				}
			}elseif($dice ==1 && strpos($inf,\'u\')===false){
				$log .= "高强度的<span class=\\"purple\\">紫外线照射</span>导致你<span class=\\"red\\">烧伤</span>了！<br>";
				\\wound\\get_inf(\'u\');
			}else{
				$log .= "高强度的紫外线灼烧着大地……<br>";
			}
		}
		elseif($weather == 17)	
		{
			
		}$skill6_move_to_area_ret = NULL;

		//========Contents from mod skill6========
		do{
			
		
		eval(import_module(\'sys\',\'logger\'));
		if (\\skillbase\\skill_query(6))
		{
			$damage = round($mhp * 0.0625) + rand(0,10);
			\\skill6\\deal_burn_move_damage ($damage);
		}
		if ($hp>0){$skill5_move_to_area_ret = NULL;

		//========Contents from mod skill5========
		do{
			
		
		eval(import_module(\'sys\',\'logger\'));
		if (\\skillbase\\skill_query(5))
		{
			$damage = round($mhp * 0.0625) + rand(0,10);
			\\skill5\\deal_poison_move_damage ($damage);
		}
		if ($hp>0){$skill261_move_to_area_ret = NULL;

		//========Contents from mod skill261========
		do{
			
		
		eval(import_module(\'sys\',\'skill261\'));
		if (\\skillbase\\skill_query(261) && \\skill261\\check_skill261_state ($sdata)==2)
		{
			$wp-=5;
			if ($wp<50) $wp=50;
		}$explore_move_to_area_ret = NULL;

		//========Contents from mod explore========
		do{
			
		
		eval(import_module(\'sys\',\'map\',\'logger\'));
		
		$log .= $areainfo[$pls].\'<br>\';
		
		\\explore\\discover (\'move\');
		}while(0);
		$explore_move_to_area_ret;
		}while(0); $skill261_move_to_area_ret;}
		}while(0); $skill5_move_to_area_ret;}
		}while(0);
		$skill6_move_to_area_ret;
		}while(0);
		$weather_move_to_area_ret;
	'

Array\get_itemmix_filename ====> '
		
		eval(import_module(\'sys\'));
		if($gametype == 17) {
			$uip[\'tutorial_cmd_inner_tpl\'] = MOD_SMARTMIX_ITEMMIX;
			return MOD_TUTORIAL_TUTORIAL_CMD;
		}
		else{
			return MOD_SMARTMIX_ITEMMIX;
		}
	'

Array\act ====> '
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\',\'itemmix\'));
		if ($mode == \'command\' && $command == \'itemmain\' && $itemcmd==\'itemmix\'){
			if(isset($itemindex)){
				$mix_res = \\smartmix\\smartmix_find_recipe ($itemindex, 1 + 2);				
				if($mix_res){
					$log .= \'<span class="yellow">\'.$itemindex.\'</span>涉及的合成公式有：<br>\';
					foreach($mix_res as $mval){
						if(!isset($mval[\'type\']) || $mval[\'type\'] == \'normal\'){
							foreach($mval[\'stuff\'] as $ms){
								$log .= \\smartmix\\parse_smartmix_recipelink ($ms).\' + \';
							}
							$log = substr($log,0,-3);
						}
						$mr = $mval[\'result\'][0];
						$log .= \' → \'.\\smartmix\\parse_smartmix_recipelink ($mr, \\itemmix\\parse_itemmix_resultshow($mval[\'result\'])).\'<br>\';
					}
				}	else{
					$log .= \'所选道具不存在相关的合成公式。<br>\';
				}
			}else{
				list($mix_available,$mix_overlay_available,$mix_sync_available) = \\smartmix\\smartmix_check_available ();
				if(empty($mix_available) && empty($mix_overlay_available) && empty($mix_sync_available)){
					$log .= \'可合成的道具不存在。<br>\';
				}else{
					$log .= \'<span>合成提示：</span><br>\';
					foreach($mix_available as $mval){
						$mstuff = \'\';
						foreach($mval[\'stuff\'] as $ms){
							$mstuff .= \\smartmix\\parse_smartmix_recipelink ($ms).\' + \';
						}
						$mstuff = substr($mstuff,0,-3);
						$mresult = \\smartmix\\parse_smartmix_recipelink ($mval[\'result\'][0], \\itemmix\\parse_itemmix_resultshow($mval[\'result\']), \'yellow\');
						$log .= \'<span>\'.$mstuff.\'</span>可合成\'.$mresult.\'<br>\';
					}
					foreach($mix_overlay_available as $mval){
						$ostuff = $oresult = \'\';
						foreach($mval as $mv){
							foreach($mv[\'list\'] as $ml){
								$ostuff .= \\smartmix\\parse_smartmix_recipelink (${\'itm\'.$ml}).\' + \';
							}
							$ostuff = substr($ostuff,0,-3).\' / \';
							if(!$oresult){
								foreach($mv[\'choices\'] as $mc){
									$oresult .= \'<li>\'.\\itemmix\\parse_itemmix_resultshow($mc).\'</li>\';
								}
								
							}
						}
						$ostuff = substr($ostuff,0,-3);
						$log .= \'<span>\'.$ostuff.\'</span>可超量合成\'.$oresult.\'<br>\';
					}
					foreach($mix_sync_available as $mval){
						$sstuff = $sresult = \'\';
						foreach($mval as $mv){
							foreach($mv[\'list\'] as $ml){
								$sstuff .= \\smartmix\\parse_smartmix_recipelink (${\'itm\'.$ml}).\' + \';
							}
							$sstuff = substr($sstuff,0,-3).\' / \';
							if(!$sresult){
								foreach($mv[\'choices\'] as $mc){
									$sresult .= \'<li>\'.\\itemmix\\parse_itemmix_resultshow($mc).\'</li>\';
								}
								
							}
						}
						$sstuff = substr($sstuff,0,-3);
						$log .= \'<span>\'.$sstuff.\'</span>可同调合成\'.$sresult.\'<br>\';
					}
				}
			}
			$log .= \'<br>\';
		}$searchmemory_act_ret = NULL;

		//========Contents from mod searchmemory========
		do{
			
		
		
		if($gametype != -1){
			if ($mode == \'command\' && strpos($command,\'memory\')===0){
				$smn = substr($command,6);
				\\searchmemory\\searchmemory_discover ($smn);
			}elseif(($mode == \'combat\' && $command == \'back\') || ($mode == \'corpse\' && $command == \'menu\')){
				$eid = str_replace(\'enemy\',\'\',str_replace(\'corpse\',\'\',$action));
				$edata = \\player\\fetch_playerdata_by_pid($eid);
				$amarr = array(\'pid\' => $edata[\'pid\'], \'Pname\' => $edata[\'name\'], \'pls\' => $pls, \'smtype\' => \'unknown\');
				if($mode == \'combat\') $amarr[\'smtype\'] = \'enemy\';
				elseif($mode == \'corpse\') $amarr[\'smtype\'] = \'corpse\';
				\\searchmemory\\add_memory ($amarr);
	
	
	
	
			}
		}$tutorial_act_ret = NULL;

		//========Contents from mod tutorial========
		do{
			
		
		eval(import_module(\'map\'));
		if($gametype == 17) {
			$ct = \\tutorial\\get_tutorial ();
			list($tno, $tstep, $tprog) = \\tutorial\\get_current_tutorial_step ();
			if(isset($ct[\'obj2\'][\'addnpc\'])){
				$atype = $ct[\'obj2\'][\'addnpc\'];
				$asub = $ct[\'obj2\'][\'asub\'];
				$ateam = $pid;
				\\tutorial\\tutorial_checknpc ($atype,$asub,$ateam,1);
			}
			if(isset($ct[\'obj2\'][\'addchat\']) && $ct[\'obj2\'][\'addchat\'][\'type\'] == \'IMMEDIATLY\' && !$tprog){
				\\tutorial\\tutorial_addchat ($ct[\'obj2\'][\'addchat\'][\'cont\']);
			}
			$push_flag = NULL;
			if(in_array($command, Array(\'team\',\'destroy\'))) {
				$log .= \'<span class="red">教程模式不能做出这一指令，请按教程提示操作！<span><br>\';
				$push_flag = \'PROG\';
				$command = \'\';$mode = \'command\';
			} elseif($ct[\'object\'] != $command && $ct[\'object\'] !=  \'any\' && $ct[\'object\'] != \'back\' && $ct[\'object\'] != \'itemget\'){
				
			}
			if ((isset($sp_cmd) && $sp_cmd == \'sp_shop\' && $ct[\'object\'] == \'sp_shop\') || ($command == \'shop4\' && $ct[\'object\'] == \'shop4\') || ($command == \'itemmain\' && isset($itemcmd) && $itemcmd == \'itemmix\' && $ct[\'object\'] == \'itemmain\' && in_array(\'itemmix\',$ct[\'obj2\']))){
				$push_flag = \'OK\';
			}elseif ($command == \'continue\' || $ct[\'object\'] ==  \'any\'){
				$push_flag = \'OK\';
			}elseif (($ct[\'object\'] == \'clubsel\' && $club) || ($ct[\'object\'] == \'inff\' && strpos($inf,\'f\')===false) || ($ct[\'object\'] == \'itm3\' && strpos($inf,\'p\')===false) || ($ct[\'object\'] == \'move\' && in_array(\'shop\',$ct[\'obj2\']) && \\itemshop\\check_in_shop_area($pls))){
				$log .= "看来你比较熟练呢，我们继续。<br>";
				$push_flag = \'OK\';
			}else{
				$push_flag = \'PROG\';
			}
			if(\'OK\' === $push_flag) \\tutorial\\tutorial_pushforward_process ();
			elseif(\'PROG\' === $push_flag) \\tutorial\\tutorial_pushforward_process (\'PROG\');
		}$skill435_act_ret = NULL;

		//========Contents from mod skill435========
		do{
			
		
		
		
	
		if ($mode == \'special\' && $command == \'skill435_special\' && $subcmd==\'summon\') 
		{
			ob_clean();
			include template(\'MOD_SKILL435_MERCPANEL\');
			$cmd=ob_get_contents();
			ob_clean();
			$skill435_act_ret = NULL;
break; 
		}
		
		if ($mode == \'special\' && $command == \'skill435_special\' && $subcmd==\'action435\') 
		{
			\\skill435\\action435 ();
			ob_clean();
			include template(\'MOD_SKILL435_MERCPANEL\');
			$cmd=ob_get_contents();
			ob_clean();
			$skill435_act_ret = NULL;
break; 
		}$skill56_act_ret = NULL;

		//========Contents from mod skill56========
		do{
			
		
		
		
	
		if ($mode == \'special\' && $command == \'skill56_special\' && $subcmd==\'summon\') 
		{
			ob_clean();
			include template(\'MOD_SKILL56_MERCPANEL\');
			$cmd=ob_get_contents();
			ob_clean();
			$skill56_act_ret = NULL;
break; 
		}
		
		if ($mode == \'special\' && $command == \'skill56_special\' && $subcmd==\'action56\') 
		{
			\\skill56\\action56 ();
			ob_clean();
			include template(\'MOD_SKILL56_MERCPANEL\');
			$cmd=ob_get_contents();
			ob_clean();
			$skill56_act_ret = NULL;
break; 
		}$instance5_act_ret = NULL;

		//========Contents from mod instance5========
		do{
			
		
		eval(import_module(\'map\'));$skill219_act_ret = NULL;

		//========Contents from mod skill219========
		do{
			
		
		
		
	

		if ($mode == \'special\' && $command == \'skill219_special\' && $subcmd==\'wpoison\') 
		{
			\\skill219\\wpoison ();
			$skill219_act_ret = NULL;
break; 
		}$skill230_act_ret = NULL;

		//========Contents from mod skill230========
		do{
			
		
		
		
	

		if ($mode == \'special\' && $command == \'skill230_special\' && $subcmd==\'wele\') 
		{
			\\skill230\\wele ();
			$skill230_act_ret = NULL;
break; 
		}$blessstone_act_ret = NULL;

		//========Contents from mod blessstone========
		do{
			
		
		
		
		if($mode == \'item\' && $usemode == \'blessstone\') 
		{
			$item = substr($command,3);
			\\blessstone\\use_blessstone ($item);
			$blessstone_act_ret = NULL;
break; 
		}$wepchange_act_ret = NULL;

		//========Contents from mod wepchange========
		do{
			
		
		
		
		
		if ($mode == \'command\' && $command==\'special\' && $sp_cmd == \'sp_weapon\')
		{
			\\wepchange\\weaponswap ();
			$mode = \'command\';
			$wepchange_act_ret = NULL;
break; 
		}$pose_act_ret = NULL;

		//========Contents from mod pose========
		do{
			
		
		eval(import_module(\'pose\'));
		if ($mode == \'special\' && strpos($command,\'pose\') === 0) 
		{
			\\pose\\pose_change (substr($command,4,1));
			$mode = \'command\';
			$pose_act_ret = NULL;
break; 
		}$skill458_act_ret = NULL;

		//========Contents from mod skill458========
		do{
			
		
		
		
	
		if ($mode == \'special\' && $command == \'skill458_special\' && $subcmd==\'castsk458\') 
		{
			\\skill458\\cast_skill458 ();
			$skill458_act_ret = NULL;
break; 
		}$rest_act_ret = NULL;

		//========Contents from mod rest========
		do{
			
		
		
		
		if ($mode == \'command\' && ($command==\'rest1\' || $command==\'rest2\' || $command==\'rest3\'))
		{
			eval(import_module(\'rest\'));
			if($command==\'rest3\' && !in_array($pls,$rest_hospital_list)){
				$log .= \'<span class="yellow">你所在的位置并非医院，不能静养！</span><br>\';
			}else{
				$state = substr($command,4,1);
				$mode = \'rest\';
			}
			$rest_act_ret = NULL;
break; 
		}
		
		if($mode == \'rest\')
		{
			\\rest\\rest ($command);
			$rest_act_ret = NULL;
break; 
		}$poison_act_ret = NULL;

		//========Contents from mod poison========
		do{
			
		
		
		eval(import_module(\'sys\',\'player\',\'input\'));
		if($mode == \'item\' && $usemode == \'poison\') 
		{
			if ($command==\'menu\'){
				$mode = \'command\';
				$poison_act_ret = NULL;
break; 
			}
			$item = substr($command,3);
			\\poison\\poison ($item);
			$poison_act_ret = NULL;
break; 
		}$skill437_act_ret = NULL;

		//========Contents from mod skill437========
		do{
			
		
		
		eval(import_module(\'map\',\'metman\',\'weapon\'));
		if($mode == \'combat\') 
		{
			if ($command == \'back\') 
			{
				if ((\\skillbase\\skill_query(437))&&(\\skill437\\check_unlocked437 ())){
					${$skillinfo[substr($wepk,1,1)]}+=3;
					\\lvlctl\\getexp(2);
				}
			}
		}$wound_act_ret = NULL;

		//========Contents from mod wound========
		do{
			
		
		
		
		if ($mode == \'special\' && strpos($command,\'inf\') === 0) 
		{
			$infpos = substr($command,3,1);
			\\wound\\chginf ($infpos);
			$wound_act_ret = NULL;
break; 
		}$tactic_act_ret = NULL;

		//========Contents from mod tactic========
		do{
			
		
		
		eval(import_module(\'tactic\'));
		
		if($mode == \'special\' && strpos($command,\'tac\') === 0)
		{
			\\tactic\\tactic_change (substr($command,3,1));
			$mode = \'command\';
			$tactic_act_ret = NULL;
break; 
		}$skill424_act_ret = NULL;

		//========Contents from mod skill424========
		do{
			
		
		
		
	
		if ($mode == \'special\' && $command == \'skill424_special\' && $subcmd==\'wdebug\') 
		{
			\\skill424\\wdebug ();
			$skill424_act_ret = NULL;
break; 
		}$skill235_act_ret = NULL;

		//========Contents from mod skill235========
		do{
			
		
		
		
	
		if ($mode == \'special\' && $command == \'skill235_special\' && $subcmd==\'wscan\') 
		{
			\\skill235\\wscan ();
			$skill235_act_ret = NULL;
break; 
		}$skill234_act_ret = NULL;

		//========Contents from mod skill234========
		do{
			
		
		
		
	
		if ($mode == \'special\' && $command == \'skill234_special\' && $subcmd==\'wdecode\') 
		{
			\\skill234\\wdecode ();
			$skill234_act_ret = NULL;
break; 
		}$skill1010_act_ret = NULL;

		//========Contents from mod skill1010========
		do{
			
		
		
		
	
		if ($mode == \'special\' && $command == \'skill1010_special\') 
		{
			if (!\\skillbase\\skill_query(1010)) 
			{
				$log.=\'你没有这个技能。\';
				$mode = \'command\';$command = \'\';
				$skill1010_act_ret = NULL;
break; 
			}
			if(!isset($subcmd)){
				$mode = \'command\';$command = \'\';
				$skill1010_act_ret = NULL;
break; 
			}elseif($subcmd == \'mani_page\') {
				\\skill1010\\skill1010_mani_page ();
				$skill1010_act_ret = NULL;
break; 
			}elseif($subcmd == \'meet\' || $subcmd == \'exma\'){
				$mpid = (int)$mpid;
				$pcs = \\skill1010\\skill1010_mani_load_pcs ($pls);
				if(!isset($pcs[$mpid])) {
					$log .= \'该角色不在当前地图。\';
					$mode = \'command\';$command = \'\';
					$skill1010_act_ret = NULL;
break; 
				}
				if($subcmd == \'meet\'){
					addnews (0, \'admin_mani\', $name, $pcs[$mpid][\'name\'] );
					\\metman\\meetman($mpid);
				}else{
					if(!$pcs[$mpid][\'type\']) {
						$log .= \'只能与NPC交换装备。\';
					}else{
						addnews (0, \'admin_exma\', $name, $pcs[$mpid][\'name\'] );
						\\skill1010\\skill1010_exma ($mpid);
					}
					$mode = \'command\';$command = \'\';
					$skill1010_act_ret = NULL;
break; 
				}
			}else{
				$log .= \'命令参数错误。\';
				$mode = \'command\';$command = \'\';
				$skill1010_act_ret = NULL;
break; 
			}
		}$skill1011_act_ret = NULL;

		//========Contents from mod skill1011========
		do{
			
		
		
		
	
		if ($mode == \'special\' && $command == \'skill1011_special\') 
		{
			if (!\\skillbase\\skill_query(1011)) 
			{
				$log.=\'你没有这个技能。\';
				$mode = \'command\';$command = \'\';
				$skill1011_act_ret = NULL;
break; 
			}
			if(!isset($subcmd)){
				$mode = \'command\';$command = \'\';
				$skill1011_act_ret = NULL;
break; 
			}elseif(strpos($subcmd,\'cons_page\')===0) {
				$page = (int)str_replace(\'cons_page\',\'\',$subcmd);
				if(!$page) $page = 1;
				\\skill1011\\skill1011_cons_page ($page);
				$skill1011_act_ret = NULL;
break; 
			}elseif(strpos($subcmd,\'cons\')===0){
				$ciid = (int)str_replace(\'cons\',\'\',$subcmd);
				$itemlist = \\skill1011\\skill1011_load_itemlist ($cons_pls);
				if(isset($itemlist[$ciid])){
					$item = $itemlist[$ciid];
					$itm0=$item[\'itm\'];
					$itmk0=$item[\'itmk\'];
					$itme0=$item[\'itme\'];
					$itms0=$item[\'itms\'];
					$itmsk0=$item[\'itmsk\'];
					addnews (0, \'admin_cons\', $name, $itm0 );
					\\itemmain\\itemget();
				}else{
					$log .= \'道具参数错误。\';
					$mode = \'command\';$command = \'\';
					$skill1011_act_ret = NULL;
break; 
				}
			}else{
				$log .= \'命令参数错误。\';
				$mode = \'command\';$command = \'\';
				$skill1011_act_ret = NULL;
break; 
			}
		}$skill480_act_ret = NULL;

		//========Contents from mod skill480========
		do{
			
		
		
		
	
		if ($mode == \'special\' && $command == \'skill480_activate\') 
		{
			if (!\\skillbase\\skill_query(480)) 
			{
				$log.=\'你没有这个技能。\';
				$mode = \'command\';$command = \'\';
				$skill480_act_ret = NULL;
break; 
			}
			\\skill480\\skill480_activate ();
		}$clubbase_act_ret = NULL;

		//========Contents from mod clubbase========
		do{
			
		
		
		
		if($mode == \'special\' && strpos($command,\'clubsel\') === 0) 
		{
			$clubchosen = substr($command,7); $clubchosen = (int)$clubchosen;
			$retval = \\clubbase\\player_selectclub ($clubchosen);
			if ($retval==0)
				$log.="称号选择成功。<br>";
			else if ($retval==1)
				$log.="称号选择失败，称号一旦被选择便无法更改。<br>";
			else if ($retval==2)
				$log.="未选择称号。<br>";
			else  $log.="称号选择非法！<br>";
			$mode = \'command\';
			$clubbase_act_ret = NULL;
break; 
		}
		
		if ($mode == \'special\' && $command == \'viewskills\') 
		{
			$mode = MOD_CLUBBASE_SKILLPAGE;
			$clubbase_act_ret = NULL;
break; 
		}
		
		if ($mode == \'special\' && substr($command,0,5) == \'skill\' && substr($command,-8)==\'_special\' && ($subcmd==\'upgrade\' || $subcmd==\'activate\')) 
		{
			$id=substr($command,5,-8); $id=(int)$id;
			
			if (\\skillbase\\check_skill_info($id,\'upgrade\') && \\skillbase\\skill_query($id))
			{
				$func=\'skill\'.$id.\'\\\\\'.$subcmd.$id;
				$func();
			}
			else
			{
				$log.=\'你不能发动这个技能。<br>\';
			}
			if ($subcmd==\'activate\')
				$mode = \'command\';
			else  $mode = MOD_CLUBBASE_SKILLPAGE;
			$clubbase_act_ret = NULL;
break; 
		}$advteam_act_ret = NULL;

		//========Contents from mod advteam========
		do{
			
		
		eval(import_module(\'map\'));
		if ($mode == "advteamspecial") 
		{
			if (!in_array($gametype,$teamwin_mode)) 
			{ 
				$log.="此命令在本游戏模式下不可用。<br>"; 
				$mode = \'command\';
			}
			else
			{
				if ($command=="sendflare")
				{
					$log.="发出支援请求成功。<br>";
					$flare=1;
					$mode=\'command\';
				}
				else  if ($command=="stopflare")
				{
					$log.="取消支援请求成功。<br>";
					$flare=0;
					$mode=\'command\';
				}
				else  if (strpos($command,\'findteam\') === 0)
				{
					$which=(int)substr($command,8);
					$edata = \\player\\fetch_playerdata_by_pid($which);
					if ($edata === NULL)
					{
						$log.="队友不存在。<br>";
						$mode=\'command\';
					}
					else
					{
						if (!$teamID || $edata[\'teamID\']!=$teamID)
						{
							$log.="对方不是你的队友！<br>";
							$mode=\'command\';
						}
						else  if ($edata[\'hp\']<=0)
						{
							$log.="对方已经死亡！<br>";
							$mode==\'command\';
						}
						else  if ($edata[\'pls\']!=$pls)
						{
							$log.="对方与你不在同一个地图！<br>";
							$mode==\'command\';
						}
						else
						{
							\\team\\findteam($edata);
						}	
					}
				}
			}
			$advteam_act_ret = NULL;
break; 
		}$item_misc_act_ret = NULL;

		//========Contents from mod item_misc========
		do{
			
		
		
		
		
		if($mode == \'deathnote\') {
			if($dnname){
				\\item_misc\\deathnote ($item,$dnname,$dndeath,$dngender,$dnicon);
			} else {
				$log .= \'嗯，暂时还不想杀人。<br>你合上了■DeathNote■。<br>\';
				$mode = \'command\';
			}
			$item_misc_act_ret = NULL;
break; 
		}$team_act_ret = NULL;

		//========Contents from mod team========
		do{
			
		
		
		
		if($mode == \'senditem\') 
		{
			\\team\\senditem ();
			$team_act_ret = NULL;
break; 
		}
		
		if($mode == \'command\' && $command == \'team\') {
			if($teamcmd == \'teamquit\') {				
				\\team\\teamquit ();
			} else{
				\\team\\teamcheck ();
			}
			$team_act_ret = NULL;
break; 
		}
		
		if($mode == \'team\') {
			if ($command==\'teammake\') 
			{
				\\team\\teammake ($nteamID,$nteamPass);
				$team_act_ret = NULL;
break;  
			}
			if ($command==\'teamjoin\')
			{
				\\team\\teamjoin ($nteamID,$nteamPass);
				$team_act_ret = NULL;
break; 
			}
		}$enemy_act_ret = NULL;

		//========Contents from mod enemy========
		do{
			
		
		
		eval(import_module(\'map\',\'metman\'));
		if($mode == \'combat\') 
		{
			if ($command == \'back\') 
			{
				$log .= "你逃跑了。";
				$action = \'\';
				$mode = \'command\';
				$enemy_act_ret = NULL;
break; 
			}
			
			$enemyid = str_replace(\'enemy\',\'\',$action);
			
			if(!$enemyid || strpos($action,\'enemy\')===false){
				$log .= "<span class=\\"yellow\\">你没有遇到敌人，或已经离开战场！</span><br>";
				$action = \'\';
				$mode = \'command\';
				$enemy_act_ret = NULL;
break; 
			}
		
			$result = $db->query ( "SELECT * FROM {$tablepre}players WHERE pid=\'$enemyid\'" );
			if (! $db->num_rows ( $result )) {
				$log .= "对方不存在！<br>";
				$action = \'\';
				$mode = \'command\';
				$enemy_act_ret = NULL;
break; 
			}
		
			$edata=\\player\\fetch_playerdata_by_pid($enemyid);
			extract($edata,EXTR_PREFIX_ALL,\'w\');
			
			if ($edata [\'pls\'] != $pls) {
				$log .= "<span class=\\"yellow\\">" . $edata [\'name\'] . "</span>已经离开了<span class=\\"yellow\\">$plsinfo[$pls]</span>。<br>";
				$action = \'\';
				$mode = \'command\';
				$enemy_act_ret = NULL;
break; 
			} elseif ($edata [\'hp\'] <= 0) {
				$log .= "<span class=\\"red\\">" . $edata [\'name\'] . "</span>已经死亡，不能被攻击。<br>";
				if(\\corpse\\check_corpse_discover($edata))
				{
					$action = \'corpse\'.$edata[\'pid\'];
					\\corpse\\findcorpse ( $edata );
				}
				$enemy_act_ret = NULL;
break; 
			}
			
			\\player\\update_sdata();
			$ldata=$sdata;
			\\enemy\\battle_wrapper ($ldata,$edata,1);
			$enemy_act_ret = NULL;
break; 
		}$corpse_act_ret = NULL;

		//========Contents from mod corpse========
		do{
			
		
		
		
		if($mode == \'corpse\') {
			\\corpse\\getcorpse ($command);
			$corpse_act_ret = NULL;
break; 
		}
		
		if (strpos($action,\'pacorpse\')===0)
		{
			$cid = str_replace(\'pacorpse\',\'\',$action);
			if($cid){
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE pid=\'$cid\' AND hp=0");
				if($db->num_rows($result)>0){
					$edata = \\player\\fetch_playerdata_by_pid($cid);
					\\corpse\\findcorpse ($edata);
					$corpse_act_ret = NULL;
break; 
				}	
			}	
		}$skill220_act_ret = NULL;

		//========Contents from mod skill220========
		do{
			
		
		
		
	
		if ($mode == \'special\' && $command == \'skill220_special\' && $subcmd==\'pcheck\') 
		{
			\\skill220\\do_pcheck ();
			$skill220_act_ret = NULL;
break; 
		}$skill23_act_ret = NULL;

		//========Contents from mod skill23========
		do{
			
		
		
		
	
		if ($mode == \'special\' && $command == \'skill23_special\' && $subcmd==\'gemming\') 
		{
			\\skill23\\do_gemming ();
			$skill23_act_ret = NULL;
break; 
		}$song_act_ret = NULL;

		//========Contents from mod song========
		do{
			
		
		
		
		if($mode == \'command\' && $command == \'song\') {
			$sname=trim(trim($art,\'【\'),\'】\');
			\\song\\ss_sing ($sname);
			$song_act_ret = NULL;
break; 
		}$itemshop_act_ret = NULL;

		//========Contents from mod itemshop========
		do{
			
		
		
		eval(import_module(\'itemmain\',\'itemshop\'));
		if ($mode == \'command\' && $command == \'special\' && $sp_cmd == \'sp_shop\')	
		{
			ob_clean();
			include template(\\itemshop\\get_sp_shop_filename ());
			$cmd = ob_get_contents();
			ob_clean();
			$itemshop_act_ret = NULL;
break; 
		}
		
		if($mode == \'special\' && strpos($command,\'shop\') === 0)	
		{
			$shop = substr($command,4,2);
			\\itemshop\\shoplist ($shop);
			$itemshop_act_ret = NULL;
break; 
		}
		
		if($mode == \'shop\') 	
		{
			if(\\itemshop\\check_in_shop_area ($pls)){
				if ($command == \'menu\') {	
					$mode = \'command\';
					$itemshop_act_ret = NULL;
break; 
				} 
				else if($command == \'shop\') {	
					ob_clean();
					include template(\\itemshop\\get_sp_shop_filename ());
					$cmd = ob_get_contents();
					ob_clean();
					$itemshop_act_ret = NULL;
break; 
				} else {
					\\itemshop\\itembuy ($command,$shoptype,$buynum);
					$itemshop_act_ret = NULL;
break; 
				}
			}else{
				$log .= \'<span class="yellow">你所在的地区没有商店。</span><br />\';
				$mode = \'command\';
				$itemshop_act_ret = NULL;
break; 
			}
		}$itemmix_act_ret = NULL;

		//========Contents from mod itemmix========
		do{
			
		
		
		if($mode == \'itemmain\') {
			if($command == \'itemmix\') {
				if (isset($itemselect) && $itemselect==999)
					$mode=\'command\';
				else
				{
					$mixlist = array();
					if (!isset($mixmask))
					{
						for($i=1;$i<=6;$i++)
							if(isset(${\'mitm\'.$i}) && ${\'mitm\'.$i} == $i)
								$mixlist[] = $i;
					}
					else
					{
						for($i=1;$i<=6;$i++)
							if ($mixmask&(1<<($i-1)))
								$mixlist[] = $i;
					}
					if (isset($itemselect))
						\\itemmix\\itemmix ($mixlist,$itemselect);
					else  \\itemmix\\itemmix ($mixlist);
				}
			}
		}
		if ($mode == \'command\' && $command == \'itemmain\' && $itemcmd==\'itemmix\')
		{
			ob_clean();
			if ($itemcmd==\'itemmix\') include template(\\itemmix\\get_itemmix_filename ());
			$cmd = ob_get_contents();
			ob_clean();
		}$itemmain_act_ret = NULL;

		//========Contents from mod itemmain========
		do{
			
		
		
		if ($mode == \'command\' && strpos($command,\'itm\') === 0) 
		{
			$item = substr($command,3);
			\\itemmain\\itemuse_wrapper ($item);
			$itemmain_act_ret = NULL;
break; 
		} 
		if ($mode == \'command\' && $command == \'itemmain\' && 
			($itemcmd==\'itemmerge\' || $itemcmd==\'itemmove\' || $itemcmd==\'itemdrop\'))
		{
			ob_clean();
			if ($itemcmd==\'itemmerge\') include template(MOD_ITEMMAIN_ITEMMERGE);
			if ($itemcmd==\'itemmove\') include template(MOD_ITEMMAIN_ITEMMOVE);
			if ($itemcmd==\'itemdrop\') include template(MOD_ITEMMAIN_ITEMDROP);
			$cmd = ob_get_contents();
			ob_clean();
		}
		if($mode == \'itemmain\') {
			if($command == \'itemget\') {
				\\itemmain\\itemget ();
			} elseif($command == \'itemadd\') {
				\\itemmain\\itemadd ();
			} elseif($command == \'itemmerge\') {
				if($merge2 == \'n\'){\\itemmain\\itemadd ();}
				else{\\itemmain\\itemmerge ($merge1,$merge2);}
			} elseif($command == \'itemmove\') {
				\\itemmain\\itemmove ($from,$to);
			} elseif(strpos($command,\'drop\') === 0) {
				$drop_item = substr($command,4);
				\\itemmain\\itemdrop ($drop_item);
			} elseif(strpos($command,\'off\') === 0) {
				$off_item = substr($command,3);
				\\itemmain\\itemoff ($off_item);
			} elseif(strpos($command,\'swap\') === 0) {
				$swap_item = substr($command,4);
				\\itemmain\\itemdrop ($swap_item);
				\\itemmain\\itemadd ();
			} 
		}$explore_act_ret = NULL;

		//========Contents from mod explore========
		do{
			
		
		
		

		if($mode == \'command\') 
		{
			if ($command == \'move\') 
			{
				\\explore\\move ($moveto);
			} 
			else  if ($command == \'search\') 
			{
				\\explore\\search ();
			} 
		}$player_act_ret = NULL;

		//========Contents from mod player========
		do{
			
		
		
		

			if($command == \'menu\') {
				$mode = \'command\';
				$action = \'\';
			} elseif($mode == \'command\') {
				if($command == \'special\') {
				










						$mode = $sp_cmd;
				
					
				} 
			} 
			







			








		}while(0);
		
		$player_act_ret;
		}while(0);
		$explore_act_ret;
		}while(0);
		$itemmain_act_ret;
		}while(0);
		$itemmix_act_ret;
		}while(0);
		$itemshop_act_ret;
		}while(0);
			
		$song_act_ret;
		}while(0);
			
		$skill23_act_ret;
		}while(0);
		
		$skill220_act_ret;
		}while(0);
		$corpse_act_ret;
		}while(0);
				
		$enemy_act_ret;
		}while(0);
		$team_act_ret;
		}while(0);
		$item_misc_act_ret;
		}while(0);
			
		$advteam_act_ret;
		}while(0);
		$clubbase_act_ret;
		}while(0);
		$skill480_act_ret;
		}while(0);
		$skill1011_act_ret;
		}while(0);
			
		$skill1010_act_ret;
		}while(0);
			
		$skill234_act_ret;
		}while(0);
			
		$skill235_act_ret;
		}while(0);
		$skill424_act_ret;
		}while(0); 
		$tactic_act_ret;
		}while(0);
		$wound_act_ret;
		}while(0);
		
		$skill437_act_ret;
		}while(0);
		
		$poison_act_ret;
		}while(0);
			
		$rest_act_ret;
		}while(0);
		$skill458_act_ret;
		}while(0);
		
		$pose_act_ret;
		}while(0);
		
		$wepchange_act_ret;
		}while(0);
			
		$blessstone_act_ret;
		}while(0);
			
		$skill230_act_ret;
		}while(0);
		$skill219_act_ret;
		if($gametype==15 && $areanum<$areaadd){
			if($money > \\skillbase\\skill_getvalue(313,\'max_money\')) 
				\\skillbase\\skill_setvalue(313,\'max_money\',$money);
		}
		}while(0);
		
		$instance5_act_ret;
		}while(0);
		
		$skill56_act_ret;
		}while(0);
		$tutorial_act_ret =  $skill435_act_ret;
break; 
		}while(0);
		$tutorial_act_ret;
		}while(0);
		$searchmemory_act_ret;
	'

