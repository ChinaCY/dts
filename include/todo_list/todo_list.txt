--roommng实现永续房间有点仓促，应该整理一下流程
--应该搞一个流程可视化的东西
--界面效果单独拎出来做一个js
--房间制重做，加入剧情房的设定
--气泡和发光按钮模块取消掉，用css改写
--把数据迁移功能加入install
--在strike_finish()里加伤害的技能都得改到apply_total_damage_modifier_down()或者apply_total_damage_modifier_up()里面去
--每一个战斗技能都占了一条news类别，就不会复用吗
--感觉sys模块的init()里面不应该放房间和gameinfo的判定，会不得不在每次调用common.inc.php时读两遍game表，有性能损耗

--物理、属性、熟练、技能的伤害曲线尝试错开
--未命中和睡眠静养时也可以获得怒气
--增加一个高级杂兵阶级，减少初级杂兵收益，增强高级杂兵和全息的收益以及防御

街头霸王：
全垒：替换原闷棍，持殴系武器时消耗90点怒气发动。本次攻击必定触发“猛击”，并额外造成(敌方体力上限-当前体力)的伤害。此外，有10%的概率将敌方击飞到另一个非危险区域。可以消耗7个技能点将概率提高到20%，再消耗10个技能点提高到35%。击飞成功时会发进行消息，但不公布击飞地点。你自己则会有提示击飞到的地点。
百战：获得的减半类防御可以跟装备防御属性叠加。

见敌必斩：
剑心：取消
强袭：改为见敌必斩11级解锁
剑切：见敌必斩19级解锁。当你使用斩系武器且应战策略为重视反击时，你有概率抵消敌方射程大于你的攻击（爆系除外）。基础概率为10%，每1点斩熟增加0.1%的概率，对玩家最大为35%，对NPC最大为60%。抵消时，敌方的攻击伤害扣除(你的武器效果值开根号)x10的数值。

狙击鹰眼：
奇袭：取代咆哮，持远程武器时消耗95点怒气发动。本次攻击必定miss。在对方的反击流程结束后，对方受到你的追加攻击，且物理伤害+20%，属性伤害+80%，防具损坏效果x2。如果你造成了至少3个部位受伤或者防具损伤，你的攻击视为具有贯穿属性。

灌篮高手：
潜能：取消
偏转：灌篮高手19级解锁。当你持投系武器且应战策略为重视反击，受到射程大于或等于你的攻击（爆系除外），且能够进行反击判定（被先制或被玩家先制攻击）时，一定概率偏转对方的攻击。基础概率为20%，每1点投熟增加0.05%的概率，对玩家最大为45%，对NPC最大为75%。被偏转的攻击视为无效，且对方受到被偏转的攻击伤害x1%的伤害（最大400点）。偏转触发后你无法反击。

拆弹专家：
谨慎：取消，对陷阱的加成放入称号特性里。
埋伏：拆弹专家9级解锁。每在当前地图探索1次可以积累1点埋伏值（最高10点）。你的爆系武器命中率上升埋伏值x1%。攻击后埋伏值下降5点；移动后埋伏值清零。可以花费10个技能点将埋伏值上限提升至15%、攻击后埋伏值下降变为3点。
连环：取代双响。在原双响技能基础上，如果埋伏值大于等于10，你的攻击次数额外再+1。

超能力者：
感应：超能力者7级解锁。如果灵系是你熟练最高的系而且你的怒气高于85，你的先制率x1.05。可以花费10个技能点升级，升级后先制率x1.1。
替身：超能力者21级解锁。你可以在以下3个状态自由切换。
近距——没有特殊效果。
中距——使用灵系武器且怒气不为0，你主动攻击时，射程视为投系，但最终伤害x50%；此状态下每1次移动或探索减少2点怒气。
远距——使用灵系武器且怒气不为0，你主动攻击时，射程视为重枪，但最终伤害x25%；此状态下每1次移动或探索减少4点怒气。

换装迷宫
称号特性：可以选择以手中武器或包裹里任何一个武器发动攻击。
「应变」5级解锁。可以在技能列表里选择包裹里1个武器，你被先制或者被其他玩家主动攻击时，会在战斗中临时装备上这个武器。NPC拥有这个技能时会根据射程随机切换合适的武器。
「仿真」7级解锁。战斗技，消耗20点怒气发动。攻击时从包裹装备中额外挑选1个攻击属性生效。
「全装」9级解锁。你包裹里防具效果值总和的1/2计入你的防具防御力。
「武库」13级解锁。包裹里每有1件武器，你的物理伤害+0%，可以花费技能点升级，每升1级，这个效果+2%，最高5级。每级升级花费分别为：2 3 5 7 11。
「对撞」把「武库」技能提升到3级以上解锁。受到致命伤时，可以消耗包裹里1件武器，抵消那个武器效果值的伤害。在一局中只能发动最多2次。
「齐射」21级解锁。战斗技，消耗100点怒气发动。本次战斗会以包裹里射程不小于装备武器的所有武器进行追加攻击。在一局中只能发动最多2次。

人间战车
原肌肉和根性合并产生
血量500，攻防200
去掉肌肉的暴打技能（拿给拳法），改成根性的压制和毅重技能