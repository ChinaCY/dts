Array\init ====> array (
  'vars' => '',
  'contents' => '
		$INPUT_VAR_LIST=Array();
		
		global $___MOD_SRV;
		
		if (isset($_COOKIE))
		{
			$_COOKIE=gstrfilter($_COOKIE);
			foreach ($_COOKIE as $key => $value)
			{
				$key=(string)$key;
				if ($key!=\'\' && ((\'a\'<=$key[0] && $key[0]<=\'z\') || (\'A\'<=$key[0] && $key[0]<=\'Z\') || $key[0]==\'_\') && check_alnumudline($key))
				{
					global $$key;
					$$key=$value;
				}
			}
		}
			
		if (isset($_POST))
		{
			$_POST=gstrfilter($_POST);
			foreach ($_POST as $key => $value)
			{
				$key=(string)$key;
				if ($key!=\'\' && ((\'a\'<=$key[0] && $key[0]<=\'z\') || (\'A\'<=$key[0] && $key[0]<=\'Z\') || $key[0]==\'_\') && check_alnumudline($key))
				{
					global $$key;
					$$key=$value;
				}
			}
		}
		
		if (isset($_REQUEST))
		{
			$_REQUEST=gstrfilter($_REQUEST);
			foreach ($_REQUEST as $key => $value)
			{
				$key=(string)$key;
				if ($key!=\'\' && ((\'a\'<=$key[0] && $key[0]<=\'z\') || (\'A\'<=$key[0] && $key[0]<=\'Z\') || $key[0]==\'_\') && check_alnumudline($key))
				{
					global $$key;
					$$key=$value;
				}
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/input/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/bubblebox/main.php',
)

Array\bubblebox_delete_trailing_spaces ====> array (
  'vars' => '$s',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$head=0; 
		while ($head<strlen($s) && ctype_space($s[$head])) $head++;
		$tail=strlen($s)-1;
		while ($head<=$tail && ctype_space($s[$tail])) $tail--;
		if ($head>$tail) return \'\';
		return substr($s,$head,$tail-$head+1);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/bubblebox/main.php',
)

Array\bubblebox_set_default ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'bubblebox\'));
		$bubblebox_style = Array(
			
			\'id\' => \'\',			
			\'height\' => 100,		
			\'width\' => 100,		
			
			\'z-index-base\' => 10,	
			\'offset-x\' => 0,		
			\'offset-y\' => 0,		
			\'opacity\' => 0.95,	
			\'cancellable\' => 0,	
			\'scroll-bar\' => 1,	
			
			\'border-width-x\' => 5,	
			\'border-width-y\' => 5,	
			\'margin-top\' => 8,	
			\'margin-bottom\' => 8,	
			\'margin-left\' => 8,	
			\'margin-right\' => 4,	
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/bubblebox/main.php',
)

Array\bubblebox_set_style ====> array (
  'vars' => '$str',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'bubblebox\'));
		bubblebox_set_default();
		$str.=\';\'; $i=0; $s1=\'\'; $s2=\'\'; $sflag=0;
		while ($i<strlen($str))
		{
			if ($str[$i]==\';\')
			{
				if ($sflag) 
				{
					$s1=bubblebox_delete_trailing_spaces($s1);
					$s2=bubblebox_delete_trailing_spaces($s2);
					if ($s1!=\'\' && isset($bubblebox_style[$s1])) $bubblebox_style[$s1]=$s2;
					$sflag=0; $s1=\'\'; $s2=\'\';
				}
			}
			else  if ($str[$i]==\':\')
			{
				if ($sflag==0) $sflag++;
			}
			else
			{
				if ($sflag==0) $s1.=$str[$i]; else $s2.=$str[$i];
			}
			$i++;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/bubblebox/main.php',
)

Array\bubblebox_get_style ====> array (
  'vars' => '$str',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'bubblebox\'));
		return $bubblebox_style[$str];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/bubblebox/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/glowbutton/main.php',
)

Array\glowbutton_delete_trailing_spaces ====> array (
  'vars' => '$s',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$head=0; 
		while ($head<strlen($s) && ctype_space($s[$head])) $head++;
		$tail=strlen($s)-1;
		while ($head<=$tail && ctype_space($s[$tail])) $tail--;
		if ($head>$tail) return \'\';
		return substr($s,$head,$tail-$head+1);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/glowbutton/main.php',
)

Array\glowbutton_set_mousedown_event ====> array (
  'vars' => '$str',
  'contents' => '	
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'glowbutton\'));
		$glowbutton_style[\'mousedown-event\']=$str;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/glowbutton/main.php',
)

Array\glowbutton_set_default ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'glowbutton\'));
		$glowbutton_style = Array(
			
			\'id\' => \'\',				
			\'color\' => \'ffffff\',		
			\'line-height\' => 15,		
			\'line-num\' => 1,			
			\'max-text-width\' => 80,		
			\'clickable\' => 0,			
			\'glow-on-hover\' => 1,		
			\'mousedown-event\' => \'\',	
			
			\'margin-x\' => 10,			
			\'margin-y\' => 8,			
			\'background-opacity\' => 0.2,	
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/glowbutton/main.php',
)

Array\glowbutton_set_style ====> array (
  'vars' => '$str',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'glowbutton\'));
		glowbutton_set_default();
		$str.=\';\'; $i=0; $s1=\'\'; $s2=\'\'; $sflag=0;
		while ($i<strlen($str))
		{
			if ($str[$i]==\';\')
			{
				if ($sflag) 
				{
					$s1=glowbutton_delete_trailing_spaces($s1);
					$s2=glowbutton_delete_trailing_spaces($s2);
					if ($s1!=\'\' && isset($glowbutton_style[$s1])) $glowbutton_style[$s1]=$s2;
					$sflag=0; $s1=\'\'; $s2=\'\';
				}
			}
			else  if ($str[$i]==\':\')
			{
				if ($sflag==0) $sflag++;
			}
			else
			{
				if ($sflag==0) $s1.=$str[$i]; else $s2.=$str[$i];
			}
			$i++;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/glowbutton/main.php',
)

Array\glowbutton_get_style ====> array (
  'vars' => '$str',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'glowbutton\'));
		if ($str==\'id\') return \'glowbutton-\'.$glowbutton_style[$str];
		return $glowbutton_style[$str];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/glowbutton/main.php',
)

Array\process_lock ====> array (
  'vars' => '$locktype = LOCK_EX',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		$res = NULL;
		$dir = GAME_ROOT.\'./gamedata/tmp/processlock/\';
		$file = \'process_\'.$groomid.\'.lock\';
		if(!file_exists($dir)) mymkdir($dir);
		if(!file_exists($dir.$file)) touch($dir.$file);
		
		if(empty($plock)) {
			$plock=fopen($dir.$file,\'w+\');
			$res = flock($plock,$locktype);
		}
		return $res;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\process_unlock ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		
		if(!empty($plock)) {
			fclose($plock);
		}
		$plock = NULL;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\load_gameinfo ====> array (
  'vars' => '',
  'contents' => '	
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		$result = $db->query("SELECT * FROM {$gtablepre}game WHERE groomid=\'$room_id\'");
		$gameinfo = $db->fetch_array($result);
		foreach ($gameinfo as $key => $value) ${$key}=$value;
		load_gameinfo_post_work();
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\load_gameinfo_post_work ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		
		$arealist = explode(\',\',$arealist);
		
		foreach(array(\'noisevars\',\'roomvars\',\'gamevars\') as $val){
			${$val}=gdecode(${$val},1);
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\save_gameinfo ====> array (
  'vars' => '$ignore_room = 1',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if(!isset($gamenum)||!isset($gamestate)){return;}
		gameinfo_audit();
		$ngameinfo = save_gameinfo_prepare_work($gameinfo, $ignore_room);
		$db->array_update("{$gtablepre}game",$ngameinfo,"groomid=\'$room_id\'");
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\gameinfo_audit ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		
		foreach ($gameinfo as $key => $value)
			$gameinfo[$key]=$$key;
		if($alivenum < 0){$alivenum = 0;}
		if($deathnum < 0){$deathnum = 0;}
		if(!$afktime){$afktime = $now;}
		if(!$hdamage){$hdamage = 0;}
		if(!$hplayer){$hplayer = \'\';}
		
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\save_gameinfo_prepare_work ====> array (
  'vars' => '$ginfo, $ignore_room = 1',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		foreach(array(\'noisevars\',\'roomvars\',\'gamevars\') as $val){
			$ginfo[$val]=gencode($ginfo[$val]);
		}
		$ginfo[\'arealist\'] = implode(\',\',$ginfo[\'arealist\']);
		if($ignore_room)
			unset($ginfo[\'groomid\'],$ginfo[\'groomtype\'],$ginfo[\'groomstatus\'],$ginfo[\'roomvars\']);
		return $ginfo;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\save_combatinfo ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		gameinfo_audit();
		$ngameinfo = save_gameinfo_prepare_work($gameinfo);
		$nginfo = array();
		foreach(array(\'hdamage\',\'hplayer\',\'noisevars\') as $nval){
			$nginfo[$nval] = $ngameinfo[$nval];
		}
		$db->array_update("{$gtablepre}game",$nginfo,"groomid=\'$room_id\'");








		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\addnews ====> array (
  'vars' => '$t = 0, $n = \'\',$a=\'\',$b=\'\',$c = \'\', $d = \'\', $e = \'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		$t = $t ? $t : $now;
		$newsfile = GAME_ROOT.\'./gamedata/tmp/news/newsinfo_\'.$room_prefix.\'.php\';
		touch($newsfile);
		if(is_array($a)){
			$a=implode(\'_\',$a);
		}
	
		
		eval(import_module(\'map\'));
		if(strpos($n,\'death11\') === 0  || strpos($n,\'death32\') === 0) {
			$result = $db->query("SELECT lastword FROM {$gtablepre}users WHERE username = \'$a\'");
			$e = $lastword = $db->result($result, 0);
			$db->query("INSERT INTO {$tablepre}chat (type,`time`,send,recv,msg) VALUES (\'3\',\'$t\',\'【{$plsinfo[$c]}】 $a\',\'\',\'$lastword\')");
		}	elseif(strpos($n,\'death15\') === 0 || strpos($n,\'death16\') === 0) {
			$result = $db->query("SELECT lastword FROM {$gtablepre}users WHERE username = \'$a\'");
			$e = $lastword = $db->result($result, 0);
			$result = $db->query("SELECT pls FROM {$tablepre}players WHERE name = \'$a\' AND type = \'0\'");
			$place = $db->result($result, 0);
			$db->query("INSERT INTO {$tablepre}chat (type,`time`,send,recv,msg) VALUES (\'3\',\'$t\',\'【{$plsinfo[$place]}】 $a\',\'\',\'$lastword\')");
		}
		$db->query("INSERT INTO {$tablepre}newsinfo (`time`,`news`,`a`,`b`,`c`,`d`,`e`) VALUES (\'$t\',\'$n\',\'$a\',\'$b\',\'$c\',\'$d\',\'$e\')");
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\addchat ====> array (
  'vars' => '$ctype, $msg,  $csender = \'\', $creceiver = \'\', $ctime = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if(!$ctime) $ctime = $now;
		$aarr = array(
			\'type\' => $ctype,
			\'time\' => $ctime,
			\'send\' => $csender,
			\'recv\' => $creceiver,
			\'msg\' => $msg
		);
		$result = $db->array_insert("{$tablepre}chat", $aarr);
		return $result;
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\parse_chat ====> array (
  'vars' => '$chat',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		$msg = \'【\'.$chatinfo[$chat[\'type\']].\'】\'.$chat[\'send\'].\'：\'.$chat[\'msg\'].\'(\'.date("H:i:s",$chat[\'time\']).\')\';
		$premsg = \'<span id="cid\'.$chat[\'cid\'].\'"\';
		$postmsg = \'<br></span>\';
		
		
		if(0 == $chat[\'type\']) {
			$premsg .= \' class="chat0">\';
		} elseif(1 == $chat[\'type\']) {
			$premsg .= \' class="clan chat1">\';
		} elseif(3 == $chat[\'type\']) {
			$premsg .= \' class="red chat3">\';
			if ($chat[\'msg\']){
			} else {
				$msg = \'【\'.$chatinfo[$chat[\'type\']].\'】\'.$chat[\'send\'].\'什么都没说就死去了 (\'.date("H:i:s",$chat[\'time\']).\')\';
			}
		} elseif(4 == $chat[\'type\']) {
			$premsg .= \' class="yellow chat4">\';
		} elseif(5 == $chat[\'type\']) {
			$premsg .= \' class="yellow chat5">\';
			$msg = \'【\'.$chatinfo[$chat[\'type\']].\'】\'.$chat[\'msg\'].\'(\'.date("H:i:s",$chat[\'time\']).\')\';
		} elseif(6 == $chat[\'type\']) {
			$premsg .= \' class="lime chat6">\';
			$msg = \'【\'.$chatinfo[$chat[\'type\']].\'】\'.$chat[\'msg\'].\'(\'.date("H:i:s",$chat[\'time\']).\')\';
		}
		return $premsg.$msg.$postmsg;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\getchat ====> array (
  'vars' => '$last,$team=\'\',$chatpid=0,$limit=0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		$limit = $limit ? $limit : $chatlimit;
		$result = $db->query("SELECT * FROM {$tablepre}chat WHERE cid>\'$last\' AND (recv=\'\' OR (type=\'1\' AND recv=\'$team\') OR (type!=\'1\' AND recv=\'$chatpid\')) ORDER BY cid desc LIMIT $limit");
		$chatdata = Array(\'lastcid\' => $last, \'msg\' => \'\');
		if(!$db->num_rows($result)){$chatdata = array(\'lastcid\' => $last, \'msg\' => \'\');return $chatdata;}
		
		while($chat = $db->fetch_array($result)) {
			
			if($chatdata[\'lastcid\'] < $chat[\'cid\']){$chatdata[\'lastcid\'] = $chat[\'cid\'];}
			$chat[\'msg\'] = htmlspecialchars($chat[\'msg\']);
			$msg = parse_chat($chat);
			$chatdata[\'msg\'][\'cid\'.$chat[\'cid\']] = $msg;
		}
		return $chatdata;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\systemputchat ====> array (
  'vars' => '$time,$type,$msg = \'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if(!$time){$time = $now;}
		if($type == \'areaadd\' || $type == \'areawarn\'){
			$alist = $msg;
			$msg = \'\';
			global $plsinfo;
			foreach($alist as $ar) {
				$msg .= "$plsinfo[$ar] ";
			}
			if($type == \'areaadd\'){
				$msg = \'增加禁区：\'.$msg;
			}elseif($type == \'areawarn\'){
				$msg = \'警告，以下区域即将成为禁区：\'.$msg;
			}
		}elseif($type == \'combo\'){
			$msg = \'游戏进入连斗阶段！\';
		}elseif($type == \'comboupdate\'){
			$msg = \'连斗死亡判断数修正为\'.$msg.\'人！\';
		}elseif($type == \'duel\'){
			$msg = \'游戏进入死斗模式！\';
		}elseif($type == \'newgame\'){
			$msg = \'游戏开始！\';
		}elseif($type == \'gameover\'){
			$msg = \'游戏结束！\';
		}
		$db->query("INSERT INTO {$tablepre}chat (type,`time`,send,msg) VALUES (\'5\',\'$time\',\'\',\'$msg\')");
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\user_set_gamevars_list_init ====> array (
  'vars' => '$registered_gamevars = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		return $registered_gamevars;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\user_set_gamevars ====> array (
  'vars' => '$input_gamevars',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\'));
		$ret = array(
			\'notice\' => array()
		);
		$valid_gamevars = array();
		$registered_gamevars = user_set_gamevars_list_init();
		foreach ($registered_gamevars as $rgkey){
			if(isset($input_gamevars[$rgkey])){
				if (isset($gamevars[$rgkey])){
					$ret[\'notice\'][$rgkey] = \'你已经设定过下一局的\'.$gamevarsinfo[$rgkey].\'了。\';
				}else{
					$ret[\'notice\'][$rgkey] = user_set_gamevars_process($rgkey, $input_gamevars[$rgkey], $valid_gamevars);


				}
			}
		}
		if(!empty($valid_gamevars)) $gamevars = $valid_gamevars;
		save_gameinfo();
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\user_set_gamevars_process ====> array (
  'vars' => '$gamevar_key,$gamevar_val,&$valid_gamevars',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		$valid_gamevars[$gamevar_key] = $gamevar_val;
		$retlog = \'已设定下一局游戏的\'.$gamevarsinfo[$gamevar_key].\'！\';
		return $retlog;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\user_display_gamevars_setting ====> array (
  'vars' => '$show = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $show;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/global.php',
)

Array\updategame ====> array (
  'vars' => '',
  'contents' => '	
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/gamectl.php',
)

Array\reset_game ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\'));
		$dir = GAME_ROOT.\'./gamedata/\';
		$sqldir = GAME_ROOT.\'./gamedata/sql/\';
		
		
		if(!$groomid) {
			$groomtype = 0;
			$groomstatus = 2;
			$roomvars = array();
		}
		reset_gametype();
		$gamestate = 5;
		save_gameinfo(0);
		
		
		$sql = file_get_contents("{$sqldir}reset.sql");
		$sql = str_replace("\\r", "\\n", str_replace(\' bra_\', \' \'.$tablepre, $sql));
		$db->queries($sql);
		
		
		writeover(GAME_ROOT.\'./gamedata/tmp/news/newsinfo_\'.$room_prefix.\'.php\',$checkstr);
		
		
		$hdamage = 0;
		$hplayer = \'\';
		
		save_combatinfo();
		
		
		clear_dir(GAME_ROOT.\'./gamedata/tmp/replay/\'.$room_prefix.\'_/\',1);
		global $___MOD_TMP_FILE_DIRECTORY;
		clear_dir($___MOD_TMP_FILE_DIRECTORY.$room_prefix.\'_/\',1);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/gamectl.php',
)

Array\reset_gametype ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\'));
		if(!$groomid) $gametype = 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/gamectl.php',
)

Array\prepare_new_game ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/gamectl.php',
)

Array\rs_game ====> array (
  'vars' => '$xmode = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/gamectl.php',
)

Array\rs_sttime ====> array (
  'vars' => '',
  'contents' => '
		
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\'));
		list($sec,$min,$hour,$day,$month,$year,$wday,$yday,$isdst) = localtime($now);
		$month++;
		$year += 1900;
		
		if (room_check_subroom($room_prefix))	
		{
			$starttime = 0;
		}
		else
		{
			if($disable_newgame || !$startmode) {
				$starttime = 0;
			} elseif ($startmode == 1) {
				if($hour >= $starthour){ $nextday = $day+1;}
				else{$nextday = $day;}
				$nexthour = $starthour;
				$starttime = mktime($nexthour,$startmin,0,$month,$nextday,$year);
			} elseif($startmode == 2) {
				$starthour = $starthour> 0 ? $starthour : 1;
				$startmin = $startmin> 0 ? $startmin : 1;
				$nexthour = $hour + $starthour;
				$starttime = mktime($nexthour,$startmin,0,$month,$day,$year);
			} elseif($startmode == 3) {
				$startmin = $startmin> 0 ? $startmin : 1;
				$nextmin = $min + $startmin;
				$nexthour = $hour;
		
		
		
				if($nextmin % 60 == 0){
					$nextmin +=1;
				}
				$starttime = mktime($nexthour,$nextmin,0,$month,$day,$year);
			} else {
				$starttime = 0;
			}
		}
		save_gameinfo();
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/gamectl.php',
)

Array\post_gameover_events ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/gamectl.php',
)

Array\gameover ====> array (
  'vars' => '$time = 0, $gmode = \'\', $winname = \'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));

		
		process_lock();
		load_gameinfo();
		
		if($gamestate < 10) return;
		
		if((!$gmode)||(($gmode==\'end2\')&&(!$winname))) {
			if($validnum <= 0) {
				$alivenum = 0;
				$winnum = 0;
				$winmode = 4;
				$winner = \'\';
			} else {
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE hp>0 AND type=0");
				$alivenum = $db->num_rows($result);
				if(!$alivenum) {
					$winmode = 1;
					$winnum = 0;
					$winner = \'\';
				} else {
					if (!in_array($gametype,$teamwin_mode))
					{
						
						if($alivenum == 1) {
							$winmode = 2;
							$winnum = 1;
							$wdata = $db->fetch_array($result);
							$winner = $wdata[\'name\'];
							$db->query("UPDATE {$tablepre}players SET state=\'5\' where pid=\'{$wdata[\'pid\']}\'");
						} 
						else
						{	
							save_gameinfo();
							return;
						}
					}
					else
					{
						$result = $db->query("SELECT teamID FROM {$tablepre}players WHERE type = 0 AND hp > 0");
						$flag=1; $first=1; 
						while($data = $db->fetch_array($result)) 
						{
							if ($first) 
							{ 
								$first=0; $firstteamID=$data[\'teamID\'];
							}
							else  if ($firstteamID!=$data[\'teamID\'] || !$data[\'teamID\'])
							{
								
								$flag=0; break;
							}
						}
						if ($flag && !$first)
						{
							if (!$firstteamID)	
							{	
								$db->query("UPDATE {$tablepre}players SET state=\'5\' WHERE type = 0 AND hp > 0");
								$result = $db->query("SELECT name,gd,icon,wep FROM {$tablepre}players WHERE type = 0 AND hp > 0");
								$zz = $db->fetch_array($result);
								$winner = $zz[\'name\'];
								$winnum = 1;
							}
							else				
							{
								$db->query("UPDATE {$tablepre}players SET state=\'5\' WHERE type = 0 AND teamID = \'$firstteamID\'");
								$result = $db->query("SELECT name FROM {$tablepre}players WHERE type = 0 AND teamID = \'$firstteamID\'");
								$winnum=$db->num_rows($result);
								if ($winnum == 1)
								{
									$result = $db->query("SELECT name,gd,icon,wep FROM {$tablepre}players WHERE type = 0 AND teamID = \'$firstteamID\'");
									$zz = $db->fetch_array($result);
									$winner = $zz[\'name\'];
								}
							}
						}
						else
						{	
							save_gameinfo();
							return;
						}
						
						if ($winnum > 1)
						{	
							$namelist=\'\'; $gdlist=\'\'; $iconlist=\'\'; $weplist=\'\';
							while($data = $db->fetch_array($result)) 
							{
								$namelist.=$data[\'name\'].\',\';
							}
							$winner = substr($namelist,0,-1);
						}
						$winmode = 2;
					}
				}
			}
		} else {
			$winmode = substr($gmode,3,1);
			$winnum = 1;
			$winner = $winname;
		}
		$gamestate = 0;
		$o_starttime = $starttime; $starttime = 0; 
		save_gameinfo();
		$starttime = $o_starttime;

		
		$time = $time ? $time : $now;
		
		$result = $db->query("SELECT gid FROM {$wtablepre}winners ORDER BY gid DESC LIMIT 1");
		if($db->num_rows($result)&&($gamenum <= $db->result($result, 0))) {
			$gamenum = $db->result($result, 0) + 1;
		}
		if($winmode == 4 || $winmode == 0){
			$getime = $time;
			$db->query("INSERT INTO {$wtablepre}winners (gid,gametype,wmode,vnum,getime) VALUES (\'$gamenum\',\'$gametype\',\'$winmode\',\'$validnum\',\'$getime\')");
		}	elseif(($winmode == 0)||($winmode == 1)||($winmode == 6)){
			$gstime = $starttime;
			$getime = $time;
			$gtime = $time - $starttime;
			$result = $db->query("SELECT name,killnum FROM {$tablepre}players WHERE type=0 order by killnum desc, lvl desc limit 1");
			$hk = $db->fetch_array($result);
			$hkill = $hk[\'killnum\'];
			$hkp = $hk[\'name\'];
			$db->query("INSERT INTO {$wtablepre}winners (gid,gametype,wmode,vnum,gtime,gstime,getime,hdmg,hdp,hkill,hkp) VALUES (\'$gamenum\',\'$gametype\',\'$winmode\',\'$validnum\',\'$gtime\',\'$gstime\',\'$getime\',\'$hdamage\',\'$hplayer\',\'$hkill\',\'$hkp\')");
		} else {
			if ($winnum == 1)
			{
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE name=\'$winner\' AND type=0");
				$pdata = $db->fetch_array($result);
				$result2 = $db->query("SELECT motto FROM {$gtablepre}users WHERE username=\'$winner\'");
				$pdata[\'motto\'] = $db->result($result2, 0);
				$result3 = $db->query("SELECT name,killnum FROM {$tablepre}players WHERE type=0 order by killnum desc, lvl desc limit 1");
				$hk = $db->fetch_array($result3);
				$pdata[\'hkill\'] = $hk[\'killnum\'];
				$pdata[\'hkp\'] = $hk[\'name\'];
				$pdata[\'wmode\'] = $winmode;
				$pdata[\'vnum\'] = $validnum;
				$pdata[\'gtime\'] = $time - $starttime;
				$pdata[\'gstime\'] = $starttime;
				$pdata[\'getime\'] = $time;
				$pdata[\'hdmg\'] = $hdamage;
				$pdata[\'hdp\'] = $hplayer;
				$db->query("INSERT INTO {$wtablepre}winners (gid,gametype,name,pass,type,endtime,gd,sNo,icon,club,hp,mhp,sp,msp,att,def,pls,lvl,`exp`,money,bid,inf,rage,pose,tactic,killnum,state,wp,wk,wg,wc,wd,wf,teamID,teamPass,wep,wepk,wepe,weps,arb,arbk,arbe,arbs,arh,arhk,arhe,arhs,ara,arak,arae,aras,arf,arfk,arfe,arfs,art,artk,arte,arts,itm0,itmk0,itme0,itms0,itm1,itmk1,itme1,itms1,itm2,itmk2,itme2,itms2,itm3,itmk3,itme3,itms3,itm4,itmk4,itme4,itms4,itm5,itmk5,itme5,itms5,itm6,itmk6,itme6,itms6,motto,wmode,vnum,gtime,gstime,getime,hdmg,hdp,hkill,hkp,wepsk,arbsk,arhsk,arask,arfsk,artsk,itmsk0,itmsk1,itmsk2,itmsk3,itmsk4,itmsk5,itmsk6,cardname) VALUES (\'".$gamenum."\',\'".$gametype."\',\'".$pdata[\'name\']."\',\'".$pdata[\'pass\']."\',\'".$pdata[\'type\']."\',\'".$pdata[\'endtime\']."\',\'".$pdata[\'gd\']."\',\'".$pdata[\'sNo\']."\',\'".$pdata[\'icon\']."\',\'".$pdata[\'club\']."\',\'".$pdata[\'hp\']."\',\'".$pdata[\'mhp\']."\',\'".$pdata[\'sp\']."\',\'".$pdata[\'msp\']."\',\'".$pdata[\'att\']."\',\'".$pdata[\'def\']."\',\'".$pdata[\'pls\']."\',\'".$pdata[\'lvl\']."\',\'".$pdata[\'exp\']."\',\'".$pdata[\'money\']."\',\'".$pdata[\'bid\']."\',\'".$pdata[\'inf\']."\',\'".$pdata[\'rage\']."\',\'".$pdata[\'pose\']."\',\'".$pdata[\'tactic\']."\',\'".$pdata[\'killnum\']."\',\'".$pdata[\'state\']."\',\'".$pdata[\'wp\']."\',\'".$pdata[\'wk\']."\',\'".$pdata[\'wg\']."\',\'".$pdata[\'wc\']."\',\'".$pdata[\'wd\']."\',\'".$pdata[\'wf\']."\',\'".$pdata[\'teamID\']."\',\'".$pdata[\'teamPass\']."\',\'".$pdata[\'wep\']."\',\'".$pdata[\'wepk\']."\',\'".$pdata[\'wepe\']."\',\'".$pdata[\'weps\']."\',\'".$pdata[\'arb\']."\',\'".$pdata[\'arbk\']."\',\'".$pdata[\'arbe\']."\',\'".$pdata[\'arbs\']."\',\'".$pdata[\'arh\']."\',\'".$pdata[\'arhk\']."\',\'".$pdata[\'arhe\']."\',\'".$pdata[\'arhs\']."\',\'".$pdata[\'ara\']."\',\'".$pdata[\'arak\']."\',\'".$pdata[\'arae\']."\',\'".$pdata[\'aras\']."\',\'".$pdata[\'arf\']."\',\'".$pdata[\'arfk\']."\',\'".$pdata[\'arfe\']."\',\'".$pdata[\'arfs\']."\',\'".$pdata[\'art\']."\',\'".$pdata[\'artk\']."\',\'".$pdata[\'arte\']."\',\'".$pdata[\'arts\']."\',\'".$pdata[\'itm0\']."\',\'".$pdata[\'itmk0\']."\',\'".$pdata[\'itme0\']."\',\'".$pdata[\'itms0\']."\',\'".$pdata[\'itm1\']."\',\'".$pdata[\'itmk1\']."\',\'".$pdata[\'itme1\']."\',\'".$pdata[\'itms1\']."\',\'".$pdata[\'itm2\']."\',\'".$pdata[\'itmk2\']."\',\'".$pdata[\'itme2\']."\',\'".$pdata[\'itms2\']."\',\'".$pdata[\'itm3\']."\',\'".$pdata[\'itmk3\']."\',\'".$pdata[\'itme3\']."\',\'".$pdata[\'itms3\']."\',\'".$pdata[\'itm4\']."\',\'".$pdata[\'itmk4\']."\',\'".$pdata[\'itme4\']."\',\'".$pdata[\'itms4\']."\',\'".$pdata[\'itm5\']."\',\'".$pdata[\'itmk5\']."\',\'".$pdata[\'itme5\']."\',\'".$pdata[\'itms5\']."\',\'".$pdata[\'itm6\']."\',\'".$pdata[\'itmk6\']."\',\'".$pdata[\'itme6\']."\',\'".$pdata[\'itms6\']."\',\'".$pdata[\'motto\']."\',\'".$pdata[\'wmode\']."\',\'".$pdata[\'vnum\']."\',\'".$pdata[\'gtime\']."\',\'".$pdata[\'gstime\']."\',\'".$pdata[\'getime\']."\',\'".$pdata[\'hdmg\']."\',\'".$pdata[\'hdp\']."\',\'".$pdata[\'hkill\']."\',\'".$pdata[\'hkp\']."\',\'".$pdata[\'wepsk\']."\',\'".$pdata[\'arbsk\']."\',\'".$pdata[\'arhsk\']."\',\'".$pdata[\'arask\']."\',\'".$pdata[\'arfsk\']."\',\'".$pdata[\'artsk\']."\',\'".$pdata[\'itmsk0\']."\',\'".$pdata[\'itmsk1\']."\',\'".$pdata[\'itmsk2\']."\',\'".$pdata[\'itmsk3\']."\',\'".$pdata[\'itmsk4\']."\',\'".$pdata[\'itmsk5\']."\',\'".$pdata[\'itmsk6\']."\',\'".$pdata[\'cardname\']."\')");
			}
			else
			{
				$gstime = $starttime;
				$getime = $time;
				$gtime = $time - $starttime;
				$result = $db->query("SELECT name,killnum FROM {$tablepre}players WHERE type=0 order by killnum desc, lvl desc limit 1");
				$hk = $db->fetch_array($result);
				$hkill = $hk[\'killnum\'];
				$hkp = $hk[\'name\'];
				$db->query("INSERT INTO {$wtablepre}winners (gid,gametype,wmode,vnum,gtime,gstime,getime,hdmg,hdp,hkill,hkp,winnum,namelist,teamID) VALUES (\'$gamenum\',\'$gametype\',\'$winmode\',\'$validnum\',\'$gtime\',\'$gstime\',\'$getime\',\'$hdamage\',\'$hplayer\',\'$hkill\',\'$hkp\',\'$winnum\',\'$namelist\',\'$firstteamID\')");
			}
		}

		
		set_credits();

		
		rs_sttime();
		
		process_unlock();
		
		
		post_gameover_events();

		
		addnews($time, "end$winmode",$winner);
		addnews($time, \'gameover\' ,$gamenum);
		systemputchat($time,\'gameover\');
		$newsinfo = load_news();
		$newsinfo = \'<ul>\'.implode(\'\',$newsinfo).\'</ul>\';

		$room_gprefix = \'\';
		if (room_check_subroom($room_prefix)) $room_gprefix = (substr($room_prefix,0,1)).\'.\';
		writeover(GAME_ROOT."./gamedata/bak/{$room_gprefix}{$gamenum}_newsinfo.html",$newsinfo,\'wb+\');

		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/gamectl.php',
)

Array\routine ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if(CURSCRIPT !== \'chat\') 
		{
			
			process_lock();
			load_gameinfo();
			updategame();
			save_gameinfo();
			process_unlock();
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/gamectl.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		global $gtablepre, $tablepre, $wtablepre, $room_prefix, $room_id, $moveut, $moveutmin;
		global ${$gtablepre.\'user\'}, ${$gtablepre.\'pass\'}, $___MOD_SRV;
		if (isset($_COOKIE))
		{
			$_COOKIE=gstrfilter($_COOKIE);
			foreach ($_COOKIE as $key => $value)
			{
				if ($key==$gtablepre.\'user\' || $key==$gtablepre.\'pass\')
				{
					$$key=$value;
				}
			}
		}
		
		ob_clean();
		ob_start();
		
		
		global $db; 
		if (!isset($db)) $db = init_dbstuff();
		
		
		date_default_timezone_set(\'Etc/GMT\');
		global $now; $now = time() + $moveut*3600 + $moveutmin*60;   
		global $sec,$min,$hour,$day,$month,$year,$wday;
		list($sec,$min,$hour,$day,$month,$year,$wday) = explode(\',\',date("s,i,H,j,n,Y,w",$now));
		
		
		global $___LOCAL_INPUT__VARS__INPUT_VAR_LIST;
		if (isset($___LOCAL_INPUT__VARS__INPUT_VAR_LIST[$gtablepre.\'user\']))
			${$gtablepre.\'user\'}=$___LOCAL_INPUT__VARS__INPUT_VAR_LIST[$gtablepre.\'user\'];
		if (isset($___LOCAL_INPUT__VARS__INPUT_VAR_LIST[$gtablepre.\'pass\']))
			${$gtablepre.\'pass\'}=$___LOCAL_INPUT__VARS__INPUT_VAR_LIST[$gtablepre.\'pass\'];
			
		
		$room_prefix = \'\';
		$room_id = 0;
		if (isset($___LOCAL_INPUT__VARS__INPUT_VAR_LIST[\'___GAME_ROOMID\']))
		{
			$room_id = ((string)$___LOCAL_INPUT__VARS__INPUT_VAR_LIST[\'___GAME_ROOMID\']);
		}
		else  
		{
			if (isset(${$gtablepre.\'user\'}))
			{
				$result = $db->query("SELECT roomid FROM {$gtablepre}users where username=\'".${$gtablepre.\'user\'}."\'");
				if ($db->num_rows($result))
				{
					$rarr = $db->fetch_array($result);
					$room_id = $rarr[\'roomid\'];
				}
			}
		}
		
		$room_prefix = room_id2prefix($room_id);

		
		
		
		
		global $gameinfo; 
		$gameinfo = NULL;
		
		$result = $db->query("SELECT * FROM {$gtablepre}game where groomid=\'".$room_id."\'");
		if ($db->num_rows($result))
		{
			$gameinfo = $db->fetch_array($result);
			
			if ($gameinfo[\'groomstatus\']==0) {
				$room_id = 0;
				$room_prefix = room_id2prefix(0);
				$gameinfo = NULL;
			}
			
			elseif ($gameinfo[\'groomstatus\'] && $gameinfo[\'gamestate\']==0 && room_check_subroom($room_prefix))
			{
				$db->query("UPDATE {$gtablepre}game SET groomstatus=1 WHERE groomid=\'$room_id\'");
				$gameinfo[\'groomstatus\'] = 1;



			}
		}
		else
		{
			$room_prefix = \'\';
			$room_id = 0;
			$gameinfo = NULL;
		}
		
		if(!$room_id || empty($gameinfo)){
			$result = $db->query("SELECT * FROM {$gtablepre}game where groomid=\'0\'");
			$gameinfo = $db->fetch_array($result);
		}
		
		
		foreach ($gameinfo as $key => $value)
		{
			global ${$key};
			${$key}=$value;
		}
		
		
		
		$tablepre = room_get_tablepre();
		
		if ($room_prefix==\'\') $wtablepre = $gtablepre;
		else $wtablepre = $gtablepre.room_prefix_kind($room_prefix);
		
		
		
		
		
		global $cuser, $cpass;
		$cuser = ${$gtablepre.\'user\'};
		$cpass = ${$gtablepre.\'pass\'};
		
		
		global $mode, $command, $___MOD_SRV;
		if ($___MOD_SRV)
		{
			global $___LOCAL_INPUT__VARS__mode, $___LOCAL_INPUT__VARS__command;
			global $___LOCAL_INPUT__VARS__INPUT_VAR_LIST;
			if (isset($___LOCAL_INPUT__VARS__INPUT_VAR_LIST[\'mode\']))
				$mode = $___LOCAL_INPUT__VARS__INPUT_VAR_LIST[\'mode\'];
			else  $mode=$___LOCAL_INPUT__VARS__mode;
			if (isset($___LOCAL_INPUT__VARS__INPUT_VAR_LIST[\'command\']))
				$command = $___LOCAL_INPUT__VARS__INPUT_VAR_LIST[\'command\'];
			else  $command=$___LOCAL_INPUT__VARS__command;
		}
		else
		{
			global $___LOCAL_INPUT__VARS__mode, $___LOCAL_INPUT__VARS__command;
			$mode=$___LOCAL_INPUT__VARS__mode;
			$command=$___LOCAL_INPUT__VARS__command;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/init.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		
		if($news == \'newgame\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">第{$a}回ACFUN大逃杀开始了</span></li>";
		elseif($news == \'gameover\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">第{$a}回ACFUN大逃杀结束了</span></li>";
		elseif($news == \'newpc\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}({$b})进入了大逃杀战场</span></li>";
		elseif($news == \'newgm\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">管理员-{$a}({$b})华丽地乱入了战场</span></li>";
		elseif($news == \'end0\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">游戏出现故障，意外结束</span></li>";
		elseif($news == \'end1\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">参与者全部死亡！</span></li>";
		elseif($news == \'end2\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">优胜者——{$a}！</span></li>";
		elseif($news == \'end3\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}解除了精神锁定，游戏紧急中止</span></li>";
		elseif($news == \'end4\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">无人参加，游戏自动结束</span></li>";
		elseif($news == \'end5\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}引爆了核弹，毁坏了虚拟战场</span></li>";
		elseif($news == \'end6\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">本局游戏被GM中止</span></li>";
		elseif($news == \'end7\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"evergreen\\">{$a}完成了他的使命。</span></li>";
		elseif($news == \'end8\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">限制时间到，本局游戏结束。</span></li>";
		elseif($news == \'wintutorial\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}完成了教程。</span></li>";
		elseif(strpos($news,\'death\') === 0) {
			if(isset($exarr[\'dword\'])) $e0 = $exarr[\'dword\'];
			if($news == \'death15\') {
				return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"red\\">时空特使强行消除</span>{$e0}</li>";
			} elseif($news == \'death16\') {
				return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"red\\">由理直接拉入SSS团</span>{$e0}</li>";
			} else {
				return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因<span class=\\"red\\">不明原因</span>死亡{$e0}</li>";
			}
		}
		elseif($news == \'corpseclear\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了凸眼鱼，{$b}具尸体被吸走了！</span></li>";
		elseif($news == \'sysaddarea\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">奇迹和魔法都是存在的！禁区提前增加了！</span></li>";
		elseif($news == \'syshackchg\') {
			if($a){$hackword = \'全部禁区都被解除了\';$class = \'lime\';}
			else{$hackword = \'禁区恢复了未解除状态\';$class = \'yellow\';}
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"{$class}\\">奇迹和魔法都是存在的！{$hackword}！</span></li>";
		} 
		elseif($news == \'sysgschg\') {
			if($a == 20){
				$chgword = \'当前游戏立即开始了！\';
				$class = \'lime\';
			}	elseif($a == 30){
				$chgword = \'当前游戏停止激活！\';
				$class = \'yellow\';
			}	elseif($a == 40){
				$chgword = \'当前游戏进入连斗阶段！\';
				$class = \'red\';
			}	elseif($a == 50){
				$chgword = \'当前游戏进入死斗阶段！\';
				$class = \'red\';
			}	else{
				$chgword = \'异常语句，请联系管理员！\';
				$class = \'red\';
			}
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"{$class}\\">奇迹和魔法都是存在的！{$chgword}</span></li>";
		} 
		elseif($news == \'alive\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">神北 小毬许愿复活</span></li>";
		elseif($news == \'delcp\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}的尸体被时空特使别动队销毁了</span></li>";
		elseif($news == \'editpc\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}遭到了黑幕的生化改造！</span></li>";
		elseif($news == \'roominfo\')
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，本局游戏为<span class=\\"yellow\\">{$a}</span>，{$b}</li>";
		
		return "<li>$time,$news,$a,$b,$c,$d<br>\\n";
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/news.php',
)

Array\load_news ====> array (
  'vars' => '$start = 0, $range = 0, $noday = 0, $rprefix=\'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if(!$rprefix) $rprefix=$room_prefix;
		$ntablepre = room_get_tablepre($rprefix);
		
		
		
		
		
		$query = "SELECT * FROM {$ntablepre}newsinfo ";
		if($start) $query .= "WHERE nid > $start ";
		$query .= "ORDER BY nid DESC ";
		if($range > 0) $query .= "LIMIT $range";
		
		$result = $db->query($query);
		
	
	
	
	
	
	
		$nday = 0;
		
		
		$newslist = array();
		while($news0=$db->fetch_array($result)) {
			
			$nid=$news0[\'nid\'];$time=$news0[\'time\'];$news=$news0[\'news\'];$a=$news0[\'a\'];$b=$news0[\'b\'];$c=$news0[\'c\'];$d=$news0[\'d\'];$e=$news0[\'e\'];
			list($sec,$min,$hour,$day,$month,$year,$wday) = explode(\',\',date("s,i,H,j,n,Y,w",$time));
			if(!$noday && $day != $nday) {
				$newslist[\'nday\'.$nday] = "<div class=\\"evergreen\\"><B>{$month}月{$day}日(星期$week[$wday])</B></div>";
				$nday = $day;
			}
			$exarr = parse_news_prepare($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e);
			
			$newslist[\'nid\'.$nid] = parse_news($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
		}
		
		
		return $newslist;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/news.php',
)

Array\parse_news_prepare ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		$exarr = array();
		if(strpos($news,\'death\') === 0){
			$dname = $a;
			if(isset($typeinfo[$b])) $dname = $typeinfo[$b].\' \'.$dname;
			if(!$e) $exarr[\'dword\'] = "<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else $exarr[\'dword\'] = "<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
		}
		return $exarr;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/news.php',
)

Array\getnews ====> array (
  'vars' => '$start=0, $range=0, $room_prefix=\'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$newslist = load_news($start, $range, 1, $room_prefix);
		$lastnid=$start;
		if(!empty($newslist)){
			$nkey = array_keys($newslist);
			do {
				$lastnid = array_splice($nkey,0,1);
			}while(strpos($lastnid[0],\'nid\')===false);
			$lastnid = str_replace(\'nid\',\'\',$lastnid[0]);
		}
		$ret = array(
			\'news\' => $newslist,
			\'lastnid\' => $lastnid
		);
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/sys/news.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/map/main.php',
)

Array\init_areatiming ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if(!isset($uip[\'timing\'])) $uip[\'timing\'] = array();
		
		$timing = ($areatime-$now);
		$timing_r = sprintf("%02d", floor($timing/60)).\':\'.sprintf("%02d", $timing%60);
		if($timing < 10) $timing_r = \'<span class="red">\'.$timing_r.\'</span>\';
		elseif($timing < 60) $timing_r = \'<span class="yellow">\'.$timing_r.\'</span>\';
		$uip[\'timing\'][\'area_timing\'] = array(
			\'on\' => true,
			\'mode\' => 0,
			\'timing\' => $timing*1000,
			\'timing_r\' => $timing_r
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/map/main.php',
)

Array\get_safe_plslist ====> array (
  'vars' => '$no_dangerous_zone = true',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\',\'map\'));
		if($areanum+1 > sizeof($arealist)) return array();
		else {
			$r = array_slice($arealist,$areanum+1);
			if($no_dangerous_zone) $r = array_diff($r, array(32,34));
			return $r;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/map/main.php',
)

Array\addarea_pc_process ====> array (
  'vars' => '$atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/map/main.php',
)

Array\check_addarea_gameover ====> array (
  'vars' => '$atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\'));
		$plsnum = sizeof($plsinfo) - 1;
		if($areanum >= $plsnum) 
		{
			\\sys\\gameover($atime,\'end1\');
			return;
		}
			
		if(($alivenum == 1)&&($gamestate >= 30)) { 
			\\sys\\gameover($atime);
			return;
		} elseif(($alivenum <= 0)&&($gamestate >= 30)) {
			\\sys\\gameover($atime,\'end1\');
		} else {
			\\sys\\rs_game(16+32);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/map/main.php',
)

Array\add_once_area ====> array (
  'vars' => '$atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'map\'));
		if (($gamestate > 10)&&($now > $atime)) {
			$plsnum = sizeof($plsinfo) - 1;
			
			$areanum += $areaadd;
			





			
			if($areanum >= $plsnum) 
			{
				$areaaddlist = array_slice($arealist,$areanum - $areaadd +1);
				$areanum = $plsnum;
			}
			else
			{
				if($hack > 0){$hack--;}
				$areaaddlist = array_slice($arealist,$areanum - $areaadd +1,$areaadd);
				
			}
			
			addarea_pc_process($atime);
			
			addnews($atime, \'addarea\',$areaaddlist,$weather);
			systemputchat($atime,\'areaadd\',$areaaddlist);
			
			check_addarea_gameover($atime);
		} else {
			return;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/map/main.php',
)

Array\areawarn ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'map\'));
		$areaaddlist = array_slice($arealist,$areanum+1,$areaadd);
		$areawarn = 1;
		systemputchat($now,\'areawarn\',$areaaddlist);
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/map/main.php',
)

Array\rs_game ====> array (
  'vars' => '$xmode = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($xmode);
		
		eval(import_module(\'sys\',\'map\'));
		if ($xmode & 2) {
			
			list($sec,$min,$hour,$day,$month,$year,$wday,$yday,$isdst) = localtime($starttime);
			$areatime = (ceil(($starttime + $areahour*60)/600))*600;
			
			$plsnum = sizeof($plsinfo);
			$arealist = range(1,$plsnum-1);
			shuffle($arealist);
			array_unshift($arealist,0);
			$areanum = 0;
			$hack = 0;
			
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/map/main.php',
)

Array\movehtm ====> array (
  'vars' => '$atime = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/map/main.php',
)

Array\get_next_areadata_html ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\'));
		$areadata=\'\';
		if(!$atime){
			$atime = $areatime;
		}
		$timediff = $atime - $now;
		if($timediff > 43200){
			$areadata .= \'距离下一次禁区还有12个小时以上\';
		}else{
			if($areanum < count($plsinfo)) {
				$at= getdate($atime);
				$nexthour = $at[\'hours\'];$nextmin = $at[\'minutes\'];
				while($nextmin >= 60){
					$nexthour +=1;$nextmin -= 60;
				}
				if($nexthour >= 24){$nexthour-=24;}
				$areadata .= "<b>{$nexthour}时{$nextmin}分：</b> ";
				for($i=1;$i<=$areaadd;$i++) {
					$areadata .= \'&nbsp;\'.$plsinfo[$arealist[$areanum+$i]].\'&nbsp;\';
				}
			}
			if($areanum+$areaadd < count($plsinfo)) {
				$at2= getdate($atime + $areahour*60);
				$nexthour2 = $at2[\'hours\'];$nextmin2 = $at2[\'minutes\'];
				while($nextmin2 >= 60){
					$nexthour2 +=1;$nextmin2 -= 60;
				}
				if($nexthour2 >= 24){$nexthour2-=24;}
				$areadata .= "；<b>{$nexthour2}时{$nextmin2}分：</b> ";
				for($i=1;$i<=$areaadd;$i++) {
					$areadata .= \'&nbsp;\'.$plsinfo[$arealist[$areanum+$areaadd+$i]].\'&nbsp;\';
				}
			}
			if($areanum+$areaadd*2 < count($plsinfo)) {
				$at3= getdate($atime + $areahour*120);
				$nexthour3 = $at3[\'hours\'];$nextmin3 = $at3[\'minutes\'];
				while($nextmin3 >= 60){
					$nexthour3 +=1;$nextmin3 -= 60;
				}
				if($nexthour3 >= 24){$nexthour3-=24;}
				$areadata .= "；<b>{$nexthour3}时{$nextmin3}分：</b> ";
				for($i=1;$i<=$areaadd;$i++) {
					$areadata .= \'&nbsp;\'.$plsinfo[$arealist[$areanum+$areaadd*2+$i]].\'&nbsp;\';
				}
			}
		}
		echo $areadata;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/map/main.php',
)

Array\updategame ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\'));
		$chprocess();
		
		if (($gamestate > 10)&&($now > $areatime)) {
			while($now>$areatime){
				$o_areatime = $areatime;
				$areatime += $areahour*60;
				add_once_area($o_areatime);
				
				$areawarn = 0;
			}
		}elseif(($gamestate > 10)&&($now > $areatime - $areawarntime)&&(!$areawarn)){
			areawarn();
		}
		
		if($gamestate == 20) {
			$arealimit = $arealimit > 0 ? $arealimit : 1; 
			if(($validnum <= 0)&&($areanum >= $arealimit*$areaadd)) {
				\\sys\\gameover($areatime-$areahour*60+1,\'end4\');
			} elseif(($areanum >= $arealimit*$areaadd) || ($validnum >= $validlimit)) {
				$gamestate = 30;
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/map/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'map\'));
		if($news == \'death11\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因滞留在<span class=\\"red\\">禁区【{$plsinfo[$c]}】</span>死亡</li>";
		
		if($news == \'addarea\') {
			$info = "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，增加禁区：";
			$alist = explode(\'_\',$a);
			foreach($alist as $ar) $info.="$plsinfo[$ar] ";
			$info .= "</li>";
			return $info;
		}
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/map/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/bmp_util/main.php',
)

Array\bmp_binwriteint ====> array (
  'vars' => '&$str, $pos, $val',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pos=(int)$pos; $val=(int)$val;
		$str[$pos]=pack(\'C\',$val%256); $pos++;
		$val=(int)floor($val/256);
		$str[$pos]=pack(\'C\',$val%256); $pos++;
		$val=(int)floor($val/256);
		$str[$pos]=pack(\'C\',$val%256); $pos++;
		$val=(int)floor($val/256);
		$str[$pos]=pack(\'C\',$val%256); $pos++;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/bmp_util/main.php',
)

Array\gen_bmp ====> array (
  'vars' => '&$content, $width, $height',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$bmp_header = Array(
			0x42, 0x4d, 0, 0, 0, 0, 0, 0, 
			0, 0, 54, 0, 0, 0, 40, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 1, 0, 24, 0, 0, 0, 
			0, 0, 0xc4, 0x0e, 0, 0, 0xc4, 0x0e,
			0, 0, 0, 0, 0, 0, 0, 0,
			0, 0, 0, 0, 0, 0,
		);
		
		$str=\'\';
		for ($i=0; $i<=53; $i++) $str.=chr($bmp_header[$i]);
		
		bmp_binwriteint($str,2,$width*$height*3+54);
		bmp_binwriteint($str,18,$width);
		bmp_binwriteint($str,22,$height);
		bmp_binwriteint($str,34,$width*$height*3+2);
		
		for ($i=0; $i<$width*$height; $i++)
		{
			$str.=pack(\'C\',$content[$i][2]); 
			$str.=pack(\'C\',$content[$i][1]); 
			$str.=pack(\'C\',$content[$i][0]); 
		}
		$str.=pack(\'C\',0);
		$str.=pack(\'C\',0);
		return $str;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/bmp_util/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_base/main.php',
)

Array\gamestate_prepare_game ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\'));
		
		$gamenum++; 
		\\sys\\reset_game();
		\\sys\\save_gameinfo();
		
		\\sys\\prepare_new_game();
		\\sys\\rs_game(1+2+4+8+16+32);
		$gamestate = 10;
		\\sys\\save_gameinfo();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_base/main.php',
)

Array\gamestate_start_game ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\'));
		
		$gamestate = 20;
		addnews($starttime,\'newgame\',$gamenum);
		systemputchat($starttime,\'newgame\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_base/main.php',
)

Array\gamestateupdate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\'));
		if(!$gamestate) { 
			$readymin = $readymin > 0 ? $readymin : 1;
			if(($starttime)&&($now > $starttime - $readymin*60)) {
				gamestate_prepare_game();
			}
		}
		if($gamestate == 10) {
			if($now >= $starttime) {
				gamestate_start_game();
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_base/main.php',
)

Array\checkendgame ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\')); 
		if($gamestate >= 40) {
			
			if (in_array($gametype,$teamwin_mode))
			{
				$result = $db->query("SELECT teamID FROM {$tablepre}players WHERE type = 0 AND hp > 0");
				$flag=1; $first=1; 
				while($data = $db->fetch_array($result)) 
				{
					if ($first) 
					{ 
						$first=0; $firstteamID=$data[\'teamID\'];
					}
					else  if ($firstteamID!=$data[\'teamID\'] || !$data[\'teamID\'])
					{
						
						$flag=0; break;
					}
				}
				if ($flag && !$first)
				{
					\\sys\\gameover();
				}
			}
			else
			{
				if($alivenum <= 1 && $gametype!=2) 
				{
					\\sys\\gameover();
				}
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_base/main.php',
)

Array\updategame ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess();
		
		gamestateupdate();
		
		checkendgame();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_base/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'sys\'));
		
		global $db_player_structure, $db_player_structure_types, $tpldata; 
		$db_player_structure = $db_player_structure_types = $tpldata=Array();
		$result = $db->query("DESCRIBE {$gtablepre}players");
		while ($sttdata = $db->fetch_array($result))
		{
			global ${$sttdata[\'Field\']}; 
			$db_player_structure[] = $sttdata[\'Field\'];
			$db_player_structure_types[$sttdata[\'Field\']] = $sttdata[\'Type\'];
			
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\fetch_playerdata ====> array (
  'vars' => '$Pname, $Ptype = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		$pdata = false;
		foreach($pdata_pool as $pd){
			if(isset($pd[\'name\']) && $pd[\'name\'] == $Pname){
				$pdata = $pd;
				break;
			}
		}
		if(empty($pdata)){
			$query = "SELECT * FROM {$tablepre}players WHERE name = \'$Pname\' AND type = \'$Ptype\'";
			$result = $db->query($query);
			if(!$db->num_rows($result)) return NULL;
			$pdata = $db->fetch_array($result);
			
			
			
			
			
			$pdata[\'state_backup\']=$pdata[\'state\'];
			$pdata_origin_pool[$pdata[\'pid\']] = $pdata_pool[$pdata[\'pid\']] = $pdata;
		}
		return $pdata;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\fetch_playerdata_by_pid ====> array (
  'vars' => '$pid',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if(isset($pdata_pool[$pid])){
			$pdata = $pdata_pool[$pid];
		}else{
			$result = $db->query("SELECT * FROM {$tablepre}players WHERE pid = \'$pid\'");
			if(!$db->num_rows($result)) return NULL;
			$pdata = $db->fetch_array($result);
			$pdata[\'state_backup\']=$pdata[\'state\'];	
			$pdata_origin_pool[$pdata[\'pid\']] = $pdata_pool[$pdata[\'pid\']] = $pdata;
		}
		return $pdata;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\fetch_original_playerdata_by_id ====> array (
  'vars' => '$pid',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if(isset($pdata_origin_pool[$pid])){
			$pdata = $pdata_origin_pool[$pid];
		}else{
			$pdata = NULL;
		}
		return $pdata;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\load_playerdata ====> array (
  'vars' => '$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		foreach ($pdata as $key => $value) $$key=$value;
		$sdata=Array();
		foreach ($db_player_structure as $key)
			$sdata[$key]=&$$key;
		$sdata[\'state_backup\']=$pdata[\'state_backup\'];	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\get_player_killmsg ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if ($pdata[\'type\']==0)
		{
			$result = $db->query ( "SELECT killmsg FROM {$gtablepre}users WHERE username = \'{$pdata[\'name\']}\'" );
			$kilmsg = $db->result ( $result, 0 );
			return $kilmsg;
		}
		return \'\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\get_player_lastword ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if ($pdata[\'type\']==0)
		{
			$result = $db->query ( "SELECT lastword FROM {$gtablepre}users WHERE username = \'{$pdata[\'name\']}\'" );
			$lstwd = $db->result ( $result, 0 );
			return $lstwd;
		}
		return \'\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\create_dummy_playerdata ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		$dummy = array();
		foreach($db_player_structure_types as $f => $t)
		{
			if(strpos($t,\'int\')!==false) $v=0;
			else $v=\'\';
			$dummy[$f] = $v;
		}
		return $dummy;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\init_playerdata ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		$iconImg = $gd.\'_\'.$icon.\'.gif\';
		$iconImgB = $gd.\'_\'.$icon.\'a.gif\';
		

		if(!$weps) {
			$wep = $nowep;$wepk = \'WN\';$wepsk = \'\';
			$wepe = 0; $weps = $nosta;
		}
		if(!$arbs) {
			$arb = $noarb;$arbk = \'DN\'; $arbsk = \'\';
			$arbe = 0; $arbs = $nosta;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\parse_interface_gameinfo ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		
		$uip[\'innerHTML\'][\'log\'] = $log;
		if ($gametype!=2) $uip[\'innerHTML\'][\'anum\'] = $alivenum;
		else $uip[\'innerHTML\'][\'anum\'] = $validnum;







	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\parse_interface_profile ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'map\'));
		
		$ardef = $arbe + $arhe + $arae + $arfe;
		
		
		
		$hpcolor = \'clan\';
		if($hp <= $mhp*0.2) $hpcolor = \'red\';
		elseif($hp <= $mhp*0.5) $hpcolor = \'yellow\';
		$newhppre = 6+floor(155*(1-$hp/$mhp));
		$newhpimg = \'<img src="img/hpman.gif" style="position:absolute; clip:rect(\'.$newhppre.\'px,55px,160px,0px);">\';
		$hpltp = 3+floor(155*(1-$hp/$mhp));
		$hplt = \'<img src="img/hplt.gif" style="position:absolute; clip:rect(\'.$hpltp.\'px,55px,160px,0px);">\';
		
		$spcolor = \'clan\';
		if($sp <= $msp*0.2) $spcolor = \'grey\';
		elseif($sp <= $msp*0.5) $spcolor = \'yellow\';
		$newsppre = 6+floor(155*(1-$sp/$msp));
		$newspimg = \'<img src="img/spman.gif" style="position:absolute; clip:rect(\'.$newsppre.\'px,55px,160px,0px);">\';
		$spltp = 3+floor(155*(1-$sp/$msp));
		$splt = \'<img src="img/splt.gif" style="position:absolute; clip:rect(\'.$spltp.\'px,55px,160px,0px);">\';
		
		$uip[\'innerHTML\'][\'pls\'] = $plsinfo[$pls];
		$uip[\'value\'][\'teamID\'] = $teamID;
		if($teamID){
			$uip[\'innerHTML\'][\'chattype\'] = "<select name=\\"chattype\\" value=\\"2\\"><option value=\\"0\\" selected>$chatinfo[0]<option value=\\"1\\" >$chatinfo[1]</select>";
		}else{
			$uip[\'innerHTML\'][\'chattype\'] = "<select name=\\"chattype\\" value=\\"2\\"><option value=\\"0\\" selected>$chatinfo[0]</select>";
		}
		\\map\\init_areatiming();
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\addarea_pc_process ====> array (
  'vars' => '$atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\'));
		if($areanum >= sizeof($plsinfo) - 1) return;
		$now_areaarr = array_slice($arealist,0,$areanum+1);
		$where = "(\'".implode("\',\'",$now_areaarr)."\')";
		$result = $db->query("SELECT * FROM {$tablepre}players WHERE pls IN $where AND hp>0");
		while($sub = $db->fetch_array($result)) 
		{
			addarea_pc_process_single($sub, $atime);
		}
		$alivenum = $db->result($db->query("SELECT COUNT(*) FROM {$tablepre}players WHERE hp>0 AND type=0"), 0);
		$chprocess($atime);
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\addarea_pc_process_single ====> array (
  'vars' => '$sub, $atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\'));
		$pid = $sub[\'pid\'];
		$o_sub = $sub;
		if(!$sub[\'type\']){
			
			if (!check_pc_avoid_killarea($sub, $atime)){
				$sub[\'hp\'] = 0;
				$sub[\'state\'] = 11;
				$sub[\'bid\'] = 0;
				$sub[\'endtime\'] = $atime;
				$sub[\'player_dead_flag\'] = 1;
				$db->array_update("{$tablepre}players",$sub,"pid=\'$pid\'",$o_sub);
				addnews($atime,\'death11\',$sub[\'name\'],$sub[\'type\'],$sub[\'pls\']);
				$deathnum++;
			}else{
				$pls_available = \\map\\get_safe_plslist();
				if(!$pls_available) $pls_available = \\map\\get_safe_plslist(0);
				shuffle($pls_available);
				$sub[\'pls\'] = $pls_available[0];
				$db->array_update("{$tablepre}players",$sub,"pid=\'$pid\'",$o_sub);
				post_pc_avoid_killarea($sub, $atime);
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\check_pc_avoid_killarea ====> array (
  'vars' => '$sub, $atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\'));
		if($gamestate < 40 && $areaesc) return true;
		else return false;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\post_pc_avoid_killarea ====> array (
  'vars' => '$sub, $atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\update_sdata ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\player_format_with_db_structure ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		$ndata=Array();
		foreach ($db_player_structure as $key){
			if (isset($data[$key])) {
				$ndata[$key]=$data[$key];
			}
		}
		return $ndata;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\player_diff_from_poll ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if(isset($data[\'pid\']))
		{
			$dpid = $data[\'pid\'];
			if(isset($pdata_origin_pool[$dpid])){
				$ndata=Array();
				$dklist = array_keys($data);
				
				foreach($dklist as $key){
					if(!isset($pdata_origin_pool[$dpid][$key]) || $data[$key] !== $pdata_origin_pool[$dpid][$key]){
						$ndata[$key]=$data[$key];
					}
				}
				return $ndata;
			}else{
				return $data;
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\player_save ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		if(isset($data[\'pid\']))
		{
			$spid = $data[\'pid\'];
			
			
			
			
			$pdata_pool[$spid] = array_clone($data);
			
			$ndata = player_format_with_db_structure($data);
			
			
			
			unset($ndata[\'pid\']);
			
			
			if ($data[\'hp\']<=0) {
				$ndata[\'player_dead_flag\'] = 1;
				$pdata_origin_pool[$spid][\'player_dead_flag\'] = $pdata_pool[$spid][\'player_dead_flag\'] = 1;
			}
			
			
			if (isset($ndata[\'player_dead_flag\']) && !$ndata[\'player_dead_flag\']) {
				unset($ndata[\'player_dead_flag\']);
			}
			
			



			
			if (sizeof($ndata)>0){
				$db->array_update("{$tablepre}players",$ndata,"pid=\'$spid\'");
				
				
				
				
				$pdata_origin_pool[$spid] = array_clone($data);
			}
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\rs_game ====> array (
  'vars' => '$xmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($xmode);
		
		eval(import_module(\'sys\'));
		$sqldir = GAME_ROOT.\'./gamedata/sql/\';
		
		if ($xmode & 4) {
			
			$sql = file_get_contents("{$sqldir}players.sql");
			$sql = str_replace("\\r", "\\n", str_replace(\' bra_\', \' \'.$tablepre, $sql));
			$db->queries($sql);
			
			$validnum = $alivenum = $deathnum = 0;
		}
		
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\deathnews ====> array (
  'vars' => '&$pa, &$pd',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'map\',\'player\'));
		$lwname = $typeinfo [$pd[\'type\']] . \' \' . $pd[\'name\'];
		$lstwd = \\player\\get_player_lastword($pd);
		\\sys\\addchat(3, $lstwd, \'【\'.$plsinfo[$pd[\'pls\']].\'】 \'.$lwname);
		
		if ($pd[\'sourceless\']) $x=\'\'; else $x=$pa[\'name\'];
		\\sys\\addnews ( $now, \'death\' . $pd[\'state\'], $pd[\'name\'], $pd[\'type\'], $x , $pa[\'attackwith\'], $lstwd );
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\kill ====> array (
  'vars' => '&$pa, &$pd',
  'contents' => '	
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\'));
		$pd[\'hp\'] = 0; 
		if (!isset($pd[\'sourceless\']) || $pd[\'sourceless\']==0) $pd[\'bid\'] = $pa[\'pid\'];
		
		if ($pa[\'pid\'] != $pd[\'pid\'])
			$kilmsg = \\player\\get_player_killmsg($pa);
		else  $kilmsg = \'\';
		
		if ($pd[\'type\']==0 && $pd[\'pid\']!=$pa[\'pid\']) $pa[\'killnum\']++;
	
		deathnews($pa, $pd);
		
		$deathnum ++;
		if ($pd[\'type\']==0) $alivenum--; 

		$pd[\'endtime\'] = $now;
		save_gameinfo ();
		
		return $kilmsg;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\pre_act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if ($player_dead_flag) $hp = 0;
		if ($hp<=0) $player_dead_flag = 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'input\'));

			if($command == \'menu\') {
				$mode = \'command\';
				$action = \'\';
			} elseif($mode == \'command\') {
				if($command == \'special\') {
				










						$mode = $sp_cmd;
				
					
				} 
			} 
			







			








	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\post_act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\prepare_response_content ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		$gamedata[\'innerHTML\'][\'notice\'] = ob_get_contents();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\prepare_initial_response_content ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\post_enterbattlefield_events ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/player/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_antiafk/main.php',
)

Array\reset_game ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		
		$chprocess();
		
		eval(import_module(\'sys\',\'gameflow_antiafk\'));
		
		$afktime = $starttime;
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_antiafk/main.php',
)

Array\gamestateupdate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\',\'gameflow_antiafk\'));
		
		if($gamestate > 10) {
			
			if ( $gametype < 10 && $gamestate >= 40 && $now > $afktime + $antiAFKertime_normal * 60) {
				antiAFK($antiAFKertime_normal);
			}elseif ($gametype >= 10 && $areanum>=$areaadd && $now > $afktime + $antiAFKertime_room * 60) {
				antiAFK($antiAFKertime_room);
			}
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_antiafk/main.php',
)

Array\antiAFK ====> array (
  'vars' => '$timelimit = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'gameflow_antiafk\'));
		if(empty($timelimit)){
			$timelimit = $antiAFKertime_normal;
		}
		$timelimit *= 60;
		$deadline=$now-$timelimit;
		
		$result = $db->query("SELECT * FROM {$tablepre}players WHERE type=0 AND endtime < \'$deadline\' AND hp>\'0\' AND state<\'10\'");
		while($al = $db->fetch_array($result)) {
			$afkerlist[$al[\'pid\']]=Array(\'name\' => $al[\'name\'] ,\'pls\' => $al[\'pls\']);
		}

		if(empty($afkerlist)){return;}
		foreach($afkerlist as $kid => $kcontent){
			$db->query("UPDATE {$tablepre}players SET hp=\'0\',state=\'32\' WHERE pid=\'$kid\' AND type=\'0\' AND hp>\'0\' AND state<\'10\'");
			if($db->affected_rows()){
				addnews($now,\'death32\',$kcontent[\'name\'],\'\',$kcontent[\'pls\']);
				$alivenum--;
				$deathnum++;			
			}
		}
		$afktime = $now;
		save_gameinfo();
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_antiafk/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'map\'));
		if($news == \'death32\')
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，躲藏于<span class=\\"red\\">$plsinfo[$c]</span>的<span class=\\"yellow\\">$a</span><span class=\\"red\\">挂机时间过长</span>，被在外等待的愤怒的玩家们私刑处死！</li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_antiafk/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/logger/main.php',
)

Array\logsave ====> array (
  'vars' => '$pid,$time,$log = \'\',$type = \'s\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		$ldata[\'toid\']=$pid;
		$ldata[\'type\']=$type;
		$ldata[\'time\']=$time;
		$ldata[\'log\']=$log;
		$db->array_insert("{$tablepre}log", $ldata);
		return;	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/logger/main.php',
)

Array\pre_act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		$result = $db->query("SELECT time,log FROM {$tablepre}log WHERE toid = \'$pid\' ORDER BY time,lid");
		while($logtemp = $db->fetch_array($result)){
			$log .= date("H:i:s",$logtemp[\'time\']).\'，\'.$logtemp[\'log\'].\'<br />\';
		}
		$db->query("DELETE FROM {$tablepre}log WHERE toid = \'$pid\'");
		
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/logger/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		global $ppid; $ppid = -1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\check_skill_info ====> array (
  'vars' => '$skillno, $str',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$str = str_replace(\';\',\'\',$str).\';\';
		if(defined(\'MOD_SKILL\'.$skillno.\'_INFO\') && strpos(constant(\'MOD_SKILL\'.$skillno.\'_INFO\'), $str)!==false) return true;
		else return false;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\skillbase_set_ppid ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skillbase\',\'player\'));
		if (isset($pid) && $pid>0) $ppid = $pid;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\b64_conv_to_value ====> array (
  'vars' => '$c',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\'a\'<=$c && $c<=\'z\') return ord($c)-ord(\'a\');
		if (\'A\'<=$c && $c<=\'Z\') return ord($c)-ord(\'A\')+26;
		if (\'0\'<=$c && $c<=\'9\') return ord($c)-ord(\'0\')+52;
		if ($c==\'+\') return 62;
		if ($c==\'-\') return 63;
		throw new Exception(\'bad nskill value \'.$c);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\value_conv_to_b64 ====> array (
  'vars' => '$c',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($c>=0)
		{
			if ($c<=25) return chr(ord(\'a\')+$c);
			if ($c<=51) return chr(ord(\'A\')+$c-26);
			if ($c<=61) return chr(ord(\'0\')+$c-52);
			if ($c==62) return \'+\';
			if ($c==63) return \'-\';
		}
		throw new Exception(\'bad char in skillbase \'.$c);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\parse_skill_parameter_data ====> array (
  'vars' => '$nskparas',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$para=explode(\',\',$nskparas);
		$cn=count($para);
		
		$para_list=Array();
		if ($cn%2!=1) throw new Exception(\'bad nskillpara value \'.$nskparas);
		for ($i=0; $i<($cn-1)/2; $i++)
		{
			$para_list[base64_decode($para[$i*2])]=base64_decode($para[$i*2+1]);
		}
		return $para_list;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\skillbase_load ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		
		$ac_list=Array();
		if (strlen($pa[\'nskill\'])%2!=0) throw new Exception(\'bad nskill value \'.$pa[\'nskill\']);
		for ($i=0; $i<strlen($pa[\'nskill\'])/2; $i++)
		{
			$c=b64_conv_to_value($pa[\'nskill\'][$i*2])*64+b64_conv_to_value($pa[\'nskill\'][$i*2+1]);
			$ac_list[$c]=1;
		}
		
		$pa[\'acquired_list\']=$ac_list;
		
		$pa[\'parameter_list\']=parse_skill_parameter_data($pa[\'nskillpara\']);
		
		if ($pa[\'pid\']==$pid)
		{
			eval(import_module(\'skillbase\'));
			$acquired_list = $pa[\'acquired_list\'];
			$parameter_list = $pa[\'parameter_list\'];
		}
		
		skill_onload_event($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\skillbase_save ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		skill_onsave_event($pa);
		
		eval(import_module(\'player\',\'skillbase\'));
		if ($pa[\'pid\']==$pid)
		{
			$ac_list=$acquired_list;
			$para_list=$parameter_list;
		}
		else
		{
			$ac_list=$pa[\'acquired_list\'];
			$para_list=$pa[\'parameter_list\'];
		}
		
		$ns=\'\';
		foreach ($ac_list as $skillkey => $skillvalue)
		{
			if ($skillvalue == 1)
			{
				$skillkey=(int)$skillkey;
				$x=$skillkey/64; $y=$skillkey%64; $x=(int)$x;
				$ns.=value_conv_to_b64($x).value_conv_to_b64($y);
			}
		}
		
		$pl=\'\';
		foreach ($para_list as $skillkey => $skillvalue)
		{
			$pl.=base64_encode($skillkey).\',\'.base64_encode($skillvalue).\',\';
		}
		
		if ($pa[\'pid\']==$pid)
		{
			$nskill=$ns;
			$nskillpara=$pl;
		}

		$pa[\'nskill\']=$ns;
		$pa[\'nskillpara\']=$pl;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\skill_onsave_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\load_playerdata ====> array (
  'vars' => '$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pdata);
		skillbase_load($pdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\fetch_playerdata ====> array (
  'vars' => '$Pname, $Ptype = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa=$chprocess($Pname, $Ptype);
		skillbase_load($pa);
		return $pa;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\fetch_playerdata_by_pid ====> array (
  'vars' => '$pid',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa=$chprocess($pid);
		skillbase_load($pa);
		return $pa;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\player_save ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		skillbase_save($data);
		$chprocess($data);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\skill_acquire ====> array (
  'vars' => '$skillid, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'skillbase\'));
		$skillid=(int)$skillid;
		if ($pa == NULL || $pa[\'pid\']==$pid)
		{
			if ($pa == NULL) { \\player\\update_sdata(); $pa=$sdata; }
			$acquired_list[$skillid]=1;
		}
		else
		{
			$pa[\'acquired_list\'][$skillid]=1;
		}
		$func=\'skill\'.$skillid.\'\\\\acquire\'.$skillid;
		if (defined(\'MOD_SKILL\'.$skillid)) $func($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\skill_lost ====> array (
  'vars' => '$skillid, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'skillbase\'));
		$skillid=(int)$skillid;
		if ($pa == NULL || $pa[\'pid\']==$pid)
		{
			if ($pa == NULL) { \\player\\update_sdata(); $pa=$sdata; }
			$acquired_list[$skillid]=0;
		}
		else
		{
			$pa[\'acquired_list\'][$skillid]=0;
		}
		$func=\'skill\'.$skillid.\'\\\\lost\'.$skillid;
		if (defined(\'MOD_SKILL\'.$skillid)) $func($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\skill_query ====> array (
  'vars' => '$skillid, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skillbase\'));
		$skillid=(int)$skillid;
		if ($ppid==-1) skillbase_set_ppid();
		if ($pa == NULL || $pa[\'pid\']==$ppid) return ((isset($acquired_list[$skillid])) && ($acquired_list[$skillid]==1));
		return ((isset($pa[\'acquired_list\'][$skillid])) && ($pa[\'acquired_list\'][$skillid]==1));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\get_acquired_skill_array ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skillbase\'));
		if ($ppid==-1) skillbase_set_ppid();
		if ($pa == NULL || $pa[\'pid\']==$ppid)
		{
			$ret=Array();
			foreach($acquired_list as $key=>$value) if ($value==1) array_push($ret,$key);
			return $ret;
		}
		else
		{
			$ret=Array();
			foreach($pa[\'acquired_list\'] as $key=>$value) if ($value==1) array_push($ret,$key);
			return $ret;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\skill_setvalue ====> array (
  'vars' => '$skillid, $skillkey, $skillvalue, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skillbase\'));
		$skillkey=$skillid.\'_\'.$skillkey;
		if ($ppid==-1) skillbase_set_ppid();
		if ($pa == NULL || $pa[\'pid\']==$ppid) 
		{
			$parameter_list[$skillkey]=$skillvalue;
		}
		else
		{
			$pa[\'parameter_list\'][$skillkey]=$skillvalue;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\skill_getvalue ====> array (
  'vars' => '$skillid, $skillkey, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skillbase\'));
		$skillkey=$skillid.\'_\'.$skillkey;
		if ($ppid==-1) skillbase_set_ppid();
		if ($pa == NULL || $pa[\'pid\']==$ppid) 
		{
			if (isset($parameter_list[$skillkey])) return $parameter_list[$skillkey]; else return NULL;
		}
		else
		{
			if (isset($pa[\'parameter_list\'][$skillkey])) return $pa[\'parameter_list\'][$skillkey]; else return NULL;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\skill_getvalue_direct ====> array (
  'vars' => '$skillid, $skillkey, $paradata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$skillkey=$skillid.\'_\'.$skillkey;
		$para_list=parse_skill_parameter_data($paradata);
		if (isset($para_list[$skillkey])) return $para_list[$skillkey]; else return NULL;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\skill_delvalue ====> array (
  'vars' => '$skillid, $skillkey, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skillbase\'));
		$skillkey=$skillid.\'_\'.$skillkey;
		if ($ppid==-1) skillbase_set_ppid();
		if ($pa == NULL || $pa[\'pid\']==$ppid) 
		{
			unset($parameter_list[$skillkey]);
		}
		else
		{
			unset($pa[\'parameter_list\'][$skillkey]);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skillbase/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/replay/main.php',
)

Array\get_html_color ====> array (
  'vars' => '$r, $g, $b',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$a=Array($r, $g, $b); $ret=\'\';
		foreach ($a as $key)
		{
			$key=round($key);
			if ($key<0) $key=0;
			if ($key>255) $key=255;
			$s=\'\';
			for ($i=0; $i<=1; $i++)
			{
				$x=$key%16;
				if ($x<10) $s=(chr(ord(\'0\')+$x)).$s; else $s=(chr(ord(\'a\')+$x-10)).$s;
				$key=(int)floor($key/16);
			}
			$ret.=$s;
		}
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/replay/main.php',
)

Array\get_ident_textcolor ====> array (
  'vars' => '$u',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$u=md5($u); $hash=0;
		for ($i=0; $i<31; $i++)
		{
			$z=0;
			if (\'0\'<=$u[$i] && $u[$i]<=\'9\') $z=ord($u[$i])-ord(\'0\');
			if (\'a\'<=$u[$i] && $u[$i]<=\'f\') $z=ord($u[$i])-ord(\'a\')+10;
			if (\'A\'<=$u[$i] && $u[$i]<=\'F\') $z=ord($u[$i])-ord(\'A\')+10;
			$hash=($hash*16+$z)%360;
		}
		if ($hash<60) 
			return get_html_color(255,$hash/60*255,0);
		else if ($hash<120) 
			return get_html_color(255-($hash-60)/60*255,255,0);
		else if ($hash<180) 
			return get_html_color(0,255,($hash-120)/60*255);
		else if ($hash<240) 
			return get_html_color(0,255-($hash-180)/60*255,255);
		else if ($hash<300) 
			return get_html_color(($hash-240)/60*255,0,255);
		else  return get_html_color(255,0,255-($hash-300)/60*255);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/replay/main.php',
)

Array\post_gameover_events ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess();
		
		eval(import_module(\'replay\',\'sys\'));
		
		global $___MOD_SRV, $___MOD_CODE_ADV3;
		if (!$___MOD_SRV || !$___MOD_CODE_ADV3) return;
		
		
		
		$replay_flag = 0;
		if(($winmode == 1 && ($gametype >= 10  || $hdamage > 400)) || ($winmode == 2 && ($validnum > 1 || $hdamage > 400)) || ($winmode == 3) || ($winmode == 5) || ($winmode == 7) || ($winmode == 8 && ($gametype < 10  || $hdamage > 400))){
			$replay_flag = 1;
		}
		
		if(in_array($gametype, $replay_ignore_mode)){
			$replay_flag = 0;
		}
		
		if($replay_flag){
			
			$curdatalib = file_get_contents(GAME_ROOT.\'./gamedata/javascript/datalib.current.txt\');
			
			$result = $db->query("SELECT name,gstime,getime FROM {$wtablepre}winners WHERE gid={$gamenum}");
			$data = $db->fetch_array($result);
			$gametimelen = (int)$data[\'getime\']-(int)$data[\'gstime\'];
			$winname = $data[\'name\'];
			
			$result = $db->query("SELECT name,pid FROM {$tablepre}players WHERE type = 0");
			$plis = Array();
			
			$room_gprefix = \'\';
			if (room_check_subroom($room_prefix)) $room_gprefix = room_prefix_kind($room_prefix).\'.\';
			
			while($data = $db->fetch_array($result))
			{
				if (is_dir(GAME_ROOT.\'./gamedata/tmp/replay/\'.$room_prefix.\'_/\'.$data[\'pid\']) && file_exists(GAME_ROOT.\'./gamedata/tmp/replay/\'.$room_prefix.\'_/\'.$data[\'pid\'].\'/replay.txt\'))
				{
					$totsz = 0;
					
					$arr=Array(); $opdatalist=Array(); $opreclist=Array();
					$arr[\'replay_gamenum\'] = $room_gprefix.((string)$gamenum);
					$arr[\'replay_player\'] = $data[\'name\'];
					$arr[\'replay_timelen\'] = $gametimelen;
					$arr[\'replay_optime\'] = Array();
					
					$oplist = openfile(GAME_ROOT.\'./gamedata/tmp/replay/\'.$room_prefix.\'_/\'.$data[\'pid\'].\'/replay.txt\');
					$cnt = sizeof($oplist);
					
					
					$arr[\'replay_datapart\'] = ((int)floor($cnt/$partsize));
					if ($cnt%$partsize!=0) $arr[\'replay_datapart\']++;
					
					for($i = 0; $i < $cnt; $i++) 
						if(!empty($oplist[$i]) && strpos($oplist[$i],\',\')!==false)
						{
							
							list($oprec,$optime,$opdata) = explode(\',\',$oplist[$i]);
							array_push($opreclist,gdecode($oprec));
							array_push($arr[\'replay_optime\'],round($optime*10000)/10000);
							array_push($opdatalist,$opdata);
						}
					
					
					
					$jreplaydata = json_encode($arr);
					$jreplaydata = \'___temp_s = new String(\\\'\'.base64_encode(gzencode($jreplaydata,9)).\'\\\');
					replay_header = JSON.parse(JXG.decompress(___temp_s));
					delete ___temp_s;
					replay_data = new Array();
					replayload_progressbar(\'.round(100/($arr[\'replay_datapart\']+2)).\');
					jQuery.cachedScript("gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.replay.oprecord.js");
					\';
					writeover(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.replay.header.js\',$jreplaydata);
					$totsz += strlen($jreplaydata);
					
					
					$jreplaydata = json_encode($opreclist);
					$jreplaydata = \'___temp_s = new String(\\\'\'.base64_encode(gzencode($jreplaydata,9)).\'\\\');
					replay_oprecord = JSON.parse(JXG.decompress(___temp_s));
					delete ___temp_s;
					replay_data = new Array();
					replayload_progressbar(\'.round(100/($arr[\'replay_datapart\']+2)*2).\');
					jQuery.cachedScript("gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.replay.data.0.js");
					\';
					
					writeover(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.replay.oprecord.js\',$jreplaydata);
					$totsz += strlen($jreplaydata);
					
					
					for($i = 0; $i < $arr[\'replay_datapart\']; $i++) 
					{
						$i_start=$i*$partsize;
						$i_end=min($cnt-1,$i_start+$partsize-1);
						$xdata=Array();
						for ($k=$i_start; $k<=$i_end; $k++)
							array_push($xdata,gdecode(file_get_contents($opdatalist[$k]),true));
							
						$jreplaydata = json_encode($xdata);
						$jreplaydata = \'___temp_s = new String(\\\'\'.base64_encode(gzencode($jreplaydata,9)).\'\\\');
						replay_part = JSON.parse(JXG.decompress(___temp_s));
						replay_data = replay_data.concat(replay_part);
						delete replay_part;
						delete ___temp_s;
						replayload_progressbar(\'.round(100/($arr[\'replay_datapart\']+2)*($i+3)).\');
						\';
						if ($i+1<$arr[\'replay_datapart\'])
							$jreplaydata .=\'jQuery.cachedScript("gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.replay.data.\'.($i+1).\'.js");\';
						else  $jreplaydata .=\'replay_init();\';
							
						writeover(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.replay.data.\'.$i.\'.js\',$jreplaydata);
						
						$totsz += strlen($jreplaydata);
					}
					
					$totsz = (round($totsz / 1024 * 10)/10).\'KB\';
					
					writeover(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.rep\',base64_encode($curdatalib).\',\'.$gamenum.\',\'.base64_encode($data[\'name\']).\',\'.$totsz.\',\'.$cnt.\',\');
					
					
					$pic_len = 1000;
					$pix_time = $gametimelen / $pic_len;
					
					$cur=0; $ca=count($arr[\'replay_optime\']);
					$content=Array();
					for ($i=0; $i<$pic_len*4; $i++) for ($j=0; $j<3; $j++) $content[$i][$j]=255;
					for ($i=0; $i<$pic_len*4; $i++) $csz[$i]=0;
					for ($i=0; $i<$pic_len; $i++)
					{
						$cz=0;
						while ($cur<$ca && $arr[\'replay_optime\'][$cur]<=$pix_time*($i+1)) { $cz++; $cur++; }
						
						if ($pix_time<=1.2) 
							$render_strength=0.6; 
						else if ($pix_time<=2)
							$render_strength=0.35; 
						else if ($pix_time<=3)
							$render_strength=0.15;
						else  $render_strength=0;
						
						$color = 255*$cz/($pix_time/0.3);
						
						$r=$render_strength; $cs=$i;
						while ($r>0.1 && $cs+1<$pic_len)
						{
							$cs++; $csz[$cs]+=$r*$color;
							$r*=$render_strength;
						}
						$r=$render_strength; $cs=$i;
						while ($r>0.1 && $cs>0)
						{
							$cs--; $csz[$cs]+=$r*$color;
							$r*=$render_strength;
						}
						$csz[$i]+=$color;
					}
					for ($i=0; $i<$pic_len; $i++) 
					{
						if ($csz[$i]>=255) $csz[$i]=255;
						$csz[$i]=((int)round($csz[$i]));
						$content[$i][1]=255-$csz[$i];
						$content[$i][2]=255-$csz[$i];
					}
					
					file_put_contents(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gamenum.\'.\'.$data[\'pid\'].\'.rep.bmp\',\\bmp_util\\gen_bmp($content,$pic_len,1));
					
					$data[\'opnum\']=-$cnt;
					if ($data[\'name\']==$winname) $data[\'opnum\']=-2000000000;
					array_push($plis,$data);
				}
			}
			
			$hs=Array();
			foreach ($plis as $key) 
			{
				if (!isset($hs[$key[\'opnum\']])) $hs[$key[\'opnum\']]=Array();
				array_push($hs[$key[\'opnum\']],$key);
			}
			ksort($hs);
			
			$sstr=\'\';
			foreach ($hs as $key => $value)
				foreach ($value as $wz)
					$sstr.=$wz[\'pid\'].\',\';
			
			file_put_contents(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gamenum.\'.rep.index\',$sstr);
			
		}
		
		
		
		
		
		clear_dir(GAME_ROOT.\'./gamedata/tmp/replay/\'.$room_id.\'_/\',1);
		global $___MOD_TMP_FILE_DIRECTORY;
		clear_dir($___MOD_TMP_FILE_DIRECTORY.$room_id.\'_/\',1);
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/replay/main.php',
)

Array\replay_validify_record ====> array (
  'vars' => '$str',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($str==\'e\') return Array($str);
		$arr=Array();
		$arr=explode(\'.\',$str);
		$narr=Array();
		for ($i=0; $i<count($arr); $i++)
			if ($arr[$i]!=\'\') array_push($narr,$arr[$i]);
		$arr=$narr;
		
		for ($i=0; $i<count($arr); $i++)
		{
			if (strlen($arr[$i])>3) return false;
			for ($j=0; $j<strlen($arr[$i]); $j++)
				if ($arr[$i][$j]<\'0\' || $arr[$i][$j]>\'9\')
					return false;
		}
		return $arr;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/replay/main.php',
)

Array\replay_record_op ====> array (
  'vars' => '$str',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$arr=Array();
		$arr=explode(\',\',$str);
		
		
		$narr=Array();
		for ($i=0; $i<count($arr); $i++)
			if ($arr[$i]!=\'\' && strlen($arr[$i])<=200 && (!(replay_validify_record($arr[$i])===false)))
				array_push($narr,replay_validify_record($arr[$i]));
		$arr=$narr; unset($narr);
		
		
		if (count($arr)>=10) 
		{
			$narr=Array();
			for ($i=count($arr)-10; $i<count($arr); $i++) array_push($narr,$arr[$i]);
			$arr=$narr; unset($narr);
		}
		
		return gencode($arr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/replay/main.php',
)

Array\get_replay_by_gnum ====> array (
  'vars' => '$gnum,$wmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		$room_gprefix = \'\';
		if (room_check_subroom($room_prefix)) $room_gprefix = room_prefix_kind($room_prefix).\'.\';
		if (!file_exists(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gnum.\'.rep.index\'))
		{
			include template(\'MOD_REPLAY_GNUM_NO_REPLAY\');
			return;
		}
		$arr=explode(\',\',file_get_contents(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gnum.\'.rep.index\'));
		$lis=Array(); 
		if ($wmode!=4 && $wmode!=1 && $wmode!=6) $ff=1;
		foreach ($arr as $key)
		{
			if ($key==\'\') continue;
			$x=(int)$key;
			if (file_exists(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gnum.\'.\'.$x.\'.rep\'))
			{
				list($repdatalib,$repgnum,$repname,$repsz,$repopcnt) = explode(\',\',file_get_contents(GAME_ROOT.\'./gamedata/replays/\'.$room_gprefix.$gnum.\'.\'.$x.\'.rep\'));
				$repdatalib=base64_decode($repdatalib);
				$repname=base64_decode($repname);
				$d=Array(); $d[\'repname\']=$repname; $d[\'repsz\']=$repsz; $d[\'repopcnt\']=$repopcnt; $d[\'link\']=$gnum.\'.\'.$x;
				if ($ff) $d[\'is_winner\']=1;
				array_push($lis,$d);
			}
			$ff=0;
		}
		include template(\'MOD_REPLAY_GNUM_DATA\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/replay/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\elorating_math_erf ====> array (
  'vars' => '$x',
  'contents' => '
		
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$t=1/(1+0.5*abs($x));
		$z=0; $v=1;
		$con=Array(	-1.26551223,+1.00002368,+0.37409196,+0.09678418,-0.18628806,
				+0.27886807,-1.13520398,+1.48851587,-0.82215223,+0.17087277);
		for ($i=0; $i<=9; $i++)
		{
			$z+=$v*$con[$i];
			$v*=$t;
		}
		$tau=$t*exp(-$x*$x+$z);
		if ($x>=0) return 1-$tau; else return $tau-1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\elorating_math_ierf ====> array (
  'vars' => '$x',
  'contents' => '
		
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pi=3.14159265358979323846264338;
		return 1/2 * pow($pi, 0.5) * (
			$x + 
			pow($pi/4, 1)*pow($x, 3)/3 + 
			7*pow($pi/4, 2)*pow($x, 5)/30 + 
			127*pow($pi/4, 3)*pow($x, 7)/630 + 
			4369*pow($pi/4, 4)*pow($x, 9)/22680 + 
			34807*pow($pi/4, 5)*pow($x, 11)/178200 +
			20036983*pow($pi/4, 6)*pow($x, 13)/97297200 +
			2280356863.0*pow($pi/4, 7)*pow($x, 15)/10216206000.0 +
			49020204823.0*pow($pi/4, 8)*pow($x, 17)/198486288000.0 +
			65967241200001.0*pow($pi/4, 9)*pow($x, 19)/237588086736000.0 +
			15773461423793767.0*pow($pi/4, 10)*pow($x, 21)/49893498214560000.0 +
			655889589032992201.0*pow($pi/4, 11)*pow($x, 23)/1803293578326240000.0 +
			94020690191035873697.0*pow($pi/4, 12)*pow($x, 25)/222759794969712000000.0 +
			655782249799531714375489.0*pow($pi/4, 13)*pow($x, 27)/1329207696584271504000000.0
			);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\elorating_math_probit ====> array (
  'vars' => '$x',
  'contents' => '	
		
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return sqrt(2)*elorating_math_ierf(2*$x-1);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\elorating_calculate_win_probability ====> array (
  'vars' => '$p1, $p2',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return (elorating_math_erf(($p1[\'rating\']-$p2[\'rating\'])/(sqrt(2*$p1[\'vol\']*$p1[\'vol\']+2*$p2[\'vol\']*$p2[\'vol\'])))+1)/2;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\elorating_stimulate_game ====> array (
  'vars' => '&$arr',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$num_player=count($arr);
		for ($i=0; $i<$num_player; $i++) $f[$i]=1;
		for ($i=0; $i<$num_player; $i++) $knum[$i]=0;
		
		$tlis=Array();
		for ($i=0; $i<$num_player; $i++)
		{
			$key=$arr[$i];
			if (!isset($tlis[$key[\'teamID\']])) $tlis[$key[\'teamID\']]=Array();
			array_push($tlis[$key[\'teamID\']],$i);
		}
		
		$z=$num_player;
		while (1)
		{
			$flag=0; 
			foreach ($tlis as $tid => &$key) if (count($key)>0) $flag++;
			if ($flag<=1) break;
				
			
			$s=0; $t=0;
			foreach ($tlis as $tid => &$key) 
			{
				$s+=$t*count($key);
				$t+=count($key);
			}
			$v=rand(1,$s); $t=0;
			foreach ($tlis as $tid => &$key)
			{
				if ($v<=$t*count($key))
				{
					$pos1=&$key;
					$pos1i=floor(($v-1)/$t);
					$p1=$pos1[$pos1i];
					$z=($v-1)%$t+1;
					foreach ($tlis as $tid2 => &$k2)
						if ($z<=count($k2))
						{
							$pos2=&$k2;
							$pos2i=$z-1;
							$p2=$pos2[$pos2i];
							break;
						}
						else  $z-=count($k2);
					
					if (rand(0,9999)<10000*elorating_calculate_win_probability($arr[$p1],$arr[$p2]))
					{
						$f[$p2]=0;
						$knum[$p1]++;
						array_splice($pos2,$pos2i,1);
					}
					else  
					{
						$f[$p1]=0;
						$knum[$p2]++;
						array_splice($pos1,$pos1i,1);
					}
					
					break;
				}
				else $v-=$t*count($key);
				$t+=count($key);
			}
		}
		
		foreach ($tlis as $tid => &$key) 
			if (count($key)>0) 
			{
				$win_teamID=$tid;
				break;
			}
		
		$tmp=Array();
		for ($i=0; $i<$num_player; $i++)
		{
			
			$wg=0;
			if ($arr[$i][\'teamID\']==$win_teamID) $wg+=10000;
			if ($f[$i]) $wg+=5000;
			$wg+=$knum[$i];
			
			$wg=-$wg;
			
			if (!isset($tmp[$wg])) $tmp[$wg]=Array();
			array_push($tmp[$wg],$i);
		}
		
		ksort($tmp);
		$nowr=1;
		foreach ($tmp as $key => $value)
		{
			foreach ($value as $id)
			{
				$arr[$id][\'erank\']+=$nowr+(count($value)-1)/2;
			}
			$nowr+=count($value);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\elorating_calculate_update ====> array (
  'vars' => '&$arr',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		
		$num_player = count($arr);
		if ($num_player<=1) return;
		
		foreach ($arr as &$key) if (!isset($key[\'teamID\']) || $key[\'teamID\']==\'\') $key[\'teamID\']=(uniqid(\'\',true)).((string)rand(10000,99999));
		
		if (!in_array($gametype,$teamwin_mode)) 
		{
			$z=0;
			foreach ($arr as &$key) 
			{
				$z++;
				$key[\'teamID\']=$z;
			}
		}
		
		$aveRating = 0;
		foreach ($arr as &$key) $aveRating+=$key[\'rating\'];
		$aveRating/=$num_player;
		
		$x=0; $y=0;
		foreach ($arr as &$key) 
		{
			$x+=pow($key[\'vol\'],2);
			$y+=pow($key[\'rating\']-$aveRating,2);
		}
		$x/=$num_player; $y/=($num_player-1);
		$cf=sqrt($x+$y);
		
		
		foreach ($arr as &$key) $key[\'erank\']=0;
		
		$iter_max_num = 10000;
		for ($cur_iter_num=0; $cur_iter_num<$iter_max_num; $cur_iter_num++)
			elorating_stimulate_game($arr);
		
		foreach ($arr as &$key) $key[\'erank\']/=$iter_max_num;
		
		foreach ($arr as &$key) $key[\'eperf\']=-elorating_math_probit(($key[\'erank\']-0.5)/$num_player);
		
		
		$tmp=Array();
		for ($i=0; $i<$num_player; $i++)
		{
			
			$wg=0;
			if ($arr[$i][\'winner\']) $wg+=10000;
			if ($arr[$i][\'alive\']) $wg+=5000;
			$wg+=$arr[$i][\'killnum\'];
			
			$wg=-$wg;
			
			if (!isset($tmp[$wg])) $tmp[$wg]=Array();
			array_push($tmp[$wg],$i);
		}
		
		ksort($tmp);
		$nowr=1;
		foreach ($tmp as $skey => $value)
		{
			foreach ($value as $id)
			{
				$arr[$id][\'arank\'] = $nowr+(count($value)-1)/2;
				$arr[$id][\'aperf\']=-elorating_math_probit(($arr[$id][\'arank\']-0.5)/$num_player);
			}
			$nowr+=count($value);
		}
		
		foreach ($arr as &$key) 
		{
			$key[\'perfAs\']=$key[\'rating\']+$cf*($key[\'aperf\']-$key[\'eperf\']);
			$key[\'weight\']=1/(1-0.18-0.42/($key[\'timesPlayed\']+1))-1;
			if ($key[\'rating\']>=2000 && $key[\'rating\']<2500)
					$key[\'weight\']*=0.9;
			else  if ($key[\'rating\']>=2500)
					$key[\'weight\']*=0.8;
					
			$cap=150+1500/(max(2,$key[\'timesPlayed\'])+2);
			$nrt=($key[\'rating\']+$key[\'weight\']*$key[\'perfAs\'])/(1+$key[\'weight\']);
			$diff=$nrt-$key[\'rating\'];
			if ($diff>$cap) $diff=$cap;
			if ($diff<-$cap) $diff=-$cap;
			$key[\'diff\']=$diff;
		}
		
		
		
		
		$ss=0;
		foreach ($arr as &$key) 
		{
			if ($key[\'diff\']<=0 && $key[\'winner\'])
			{
				$ss+=(-$key[\'diff\'])+1;
				$key[\'diff\']=1;
				$key[\'spflag\']=1;
			}
		}
		
		if ($ss>0)
		{
			$ss*=0.8;
			$dfsum=0;
			foreach ($arr as &$key) 
				if ($key[\'diff\']>0 && !$key[\'spflag\']) 
					$dfsum+=$key[\'diff\'];
					
			foreach ($arr as &$key)
				if ($key[\'diff\']>0 && !$key[\'spflag\'])
				{
					$z=$key[\'diff\']/$dfsum*$ss;
					$key[\'diff\']-=$z;
				}
		}
		
		foreach ($arr as &$key) if ($key[\'diff\']<=1 && $key[\'winner\']) $key[\'diff\']=1;
		
		foreach ($arr as &$key) $key[\'diff\']=round($key[\'diff\']);
		
		
		foreach ($arr as &$key) 
		{
			$key[\'rating\']+=$key[\'diff\'];
			$key[\'vol\']=ceil(sqrt(pow($key[\'diff\'],2)/$key[\'weight\']+pow($key[\'vol\'],2)/(1+$key[\'weight\'])));
			$key[\'timesPlayed\']++;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\elorating_update ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if (room_check_subroom($room_prefix) && in_array($gametype,$elorated_mode))
		{
			$tlist=Array();
			$result = $db->query("SELECT name,hp,state,teamID,killnum FROM {$tablepre}players WHERE type = 0");
			while($data = $db->fetch_array($result))
			{
				$result2=$db->query("SELECT elo_rating,elo_volatility,elo_playedtimes,elo_history FROM {$gtablepre}users WHERE username = \'{$data[\'name\']}\'");
				if (!$db->num_rows($result2)) continue;
				$z=$db->fetch_array($result2);
				$data[\'rating\']=$z[\'elo_rating\'];
				$data[\'vol\']=$z[\'elo_volatility\'];
				$data[\'timesPlayed\']=$z[\'elo_playedtimes\'];
				$data[\'elo_history\']=$z[\'elo_history\'];
				if ($data[\'state\']==5)
				{
					$data[\'winner\']=1;
					if ($data[\'hp\']>0) $data[\'alive\']=1; else $data[\'alive\']=0;
				}
				else
				{
					$data[\'winner\']=0;
					$data[\'alive\']=0;
				}
				array_push($tlist,$data);
			}
			elorating_calculate_update($tlist);
			foreach ($tlist as $data)
			{
				
				
				
				
				
				
				if ($room_prefix==\'\') $xr=\' \'; else $xr=room_prefix_kind($room_prefix);
				$eh=$data[\'elo_history\'].$xr.base64_encode_number($gamenum,4).base64_encode_number($gametype,1).base64_encode_number($data[\'winner\']?1:0,1).base64_encode_number($data[\'rating\']+131072,3);
				
				$db->query("UPDATE {$gtablepre}users SET elo_rating=\'{$data[\'rating\']}\', elo_volatility=\'{$data[\'vol\']}\', elo_playedtimes=\'{$data[\'timesPlayed\']}\', elo_history=\'{$eh}\' WHERE username = \'{$data[\'name\']}\'");
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\post_gameover_events ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		elorating_update();
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\elorating_draw_line ====> array (
  'vars' => '$p1,$p2',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$w=$p2[\'x\']-$p1[\'x\']; $h=abs($p2[\'y\']-$p1[\'y\']);
		if ($w>=$h)
		{
			for ($i=$p1[\'x\']; $i<=$p2[\'x\']; $i++)
			{
				$y=$p1[\'y\']+($i-$p1[\'x\'])/($p2[\'x\']-$p1[\'x\'])*($p2[\'y\']-$p1[\'y\']);
				echo \'<div style="position:absolute; left:\'.$i.\'px;top:\'.$y.\'px; \';
				echo \'height:3px; width:1px; background-image:url(\\\'img/rating-line-vertical.png\\\');">\';
				echo \'</div>\';
			}
		}
		else
		{
			if ($p1[\'y\']<=$p2[\'y\'])
			{
				for ($i=$p1[\'y\']; $i<=$p2[\'y\']; $i++)
				{
					$x=$p1[\'x\']+($i-$p1[\'y\'])/($p2[\'y\']-$p1[\'y\'])*($p2[\'x\']-$p1[\'x\']);
					echo \'<div style="position:absolute; left:\'.$x.\'px;top:\'.$i.\'px; \';
					echo \'height:1px; width:4px; background-image:url(\\\'img/rating-line-horizonal.png\\\');">\';
					echo \'</div>\';
				}
			}
			else
			{
				for ($i=$p1[\'y\']; $i>=$p2[\'y\']; $i--)
				{
					$x=$p1[\'x\']+($i-$p1[\'y\'])/($p2[\'y\']-$p1[\'y\'])*($p2[\'x\']-$p1[\'x\']);
					echo \'<div style="position:absolute; left:\'.$x.\'px;top:\'.$i.\'px; \';
					echo \'height:1px; width:4px; background-image:url(\\\'img/rating-line-horizonal.png\\\');">\';
					echo \'</div>\';
				}
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\elorating_get_title ====> array (
  'vars' => '$r',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($r<900) return \'沙包\';
		if ($r<1200) return \'沙包\';
		if ($r<1500) return \'新人\';
		if ($r<1700) return \'新人\';
		if ($r<1900) return \'准触手\';
		if ($r<2100) return \'触手\';
		if ($r<2400) return \'大触\';
		if ($r<3000) return \'神触\';
		return \'宇宙神触\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\elorating_get_color ====> array (
  'vars' => '$r',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($r<900) return \'#cccccc\';
		if ($r<1200) return \'#33ff33\';
		if ($r<1500) return \'#00aa00\';
		if ($r<1700) return \'#00ffff\';
		if ($r<1900) return \'#cc00cc\';
		if ($r<2100) return \'#ffa000\';
		if ($r<2400) return \'#ff4c00\';
		if ($r<3000) return \'#ff1a1a\';
		return \'#ff0000\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\elorating_get_graph_color ====> array (
  'vars' => '$r',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($r<900) return \'#cccccc\';
		if ($r<1200) return \'#aaffaa\';
		if ($r<1500) return \'#77ff77\';
		if ($r<1700) return \'#aaaaff\';
		if ($r<1900) return \'#ff88ff\';
		if ($r<2100) return \'#ffcc88\';
		if ($r<2400) return \'#ffbb55\';
		if ($r<3000) return \'#ff7777\';
		return \'#ff4c4c\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\elorating_draw_point ====> array (
  'vars' => '$p',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		global $roomtypelist;
		echo \'<div onclick="window.location.href=\\\'replay.php?repid=\'.(($p[\'rpre\']!=\' \')?($p[\'rpre\'].\'.\'):\'\').$p[\'gid\'].\'\\\'"; onmouseover="show_fixed_div(\\\'user-rating-point-\'.$p[\'id\'].\'\\\');" onmouseout="hide_fixed_div(\\\'user-rating-point-\'.$p[\'id\'].\'\\\');" style="cursor:pointer; z-index:10000; position:absolute; left:\'.($p[\'x\']-6).\'px;top:\'.($p[\'y\']-6).\'px; height:14px; width:14px; overflow:hidden;">\';
		echo \'<div style="position:absolute; left:3px; top:3px;">\';
		echo \'<img src="img/rating-point-highest.png" style="height:8px; width:8px;">\';
		echo \'</div></div>\';
		echo \'<div id="user-rating-point-\'.$p[\'id\'].\'" style="position:absolute; z-index:10010; width:100px; text-align:left; display:none; filter:alpha(opacity=80); opacity:0.8; background-color:#ffffff; left:\'.($p[\'x\']+12).\'px; top:\'.$p[\'y\'].\'px;">\';
		echo \'<span style="display:block; margin:2px 2px 2px 2px; color:#000000; font-size:11px;">\';
		echo \'= \'.$p[\'rating\'];
		if (isset($p[\'diff\'])) 
		{
			echo \' (\';
			if ($p[\'diff\']>=0) echo \'+\';
			echo $p[\'diff\'].\')\';
		}
		echo \'<br>\';
		if ($p[\'gtype\']<10)
		{
			echo \'常规局 \';
		}
		else  
		{
			if(!function_exists(\'room_gettype_from_gtype\')) include_once GAME_ROOT.\'./include/roommng/roommng.func.php\';
			echo $roomtypelist[room_gettype_from_gtype($p[\'gtype\'])][\'name\'].\' \';
		}
		if ($p[\'win\']) echo \'<span style="color:#008800;">胜利</span>\'; else echo \'<span style="color:#ff0000;">失败</span>\';
		echo \'<br>\';
		echo \'点击可观看录像\';
		echo \'</span>\';
		echo \'</div>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\elorating_draw ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$n=count($data);
		$minr=1500; $maxr=1500;
		for ($i=0; $i<$n; $i++)
		{
			$minr=min($minr,$data[$i][\'rating\']);
			$maxr=max($maxr,$data[$i][\'rating\']);
		}
		
		$downran=min($minr-150,750);	
		$upran=2250;
		if ($maxr>1700) $upran=550+$maxr;
		if ($maxr>1900) $upran=500+$maxr;
		if ($maxr>2100) $upran=450+$maxr;
		if ($maxr>2300) $upran=400+$maxr;
		if ($maxr>2500) $upran=350+$maxr;
		
		$arr=Array(900,1200,1500,1700,1900,2100,2400,3000);
		$lis=Array($downran);
		for ($i=0; $i<=7; $i++)
			if ($downran<$arr[$i] && $arr[$i]<$upran)
			{
				array_push($lis,$arr[$i]);
				$y=($upran-$arr[$i])/($upran-$downran)*280-3;
				echo \'<div style="position:absolute; left:0px; top:\'.$y.\'px; height:12px; width:40px; overflow:hidden;">\';
				echo \'<span style="font-size:11px;">\';
				echo $arr[$i];
				echo \'</span></div>\';
			}
		array_push($lis,$upran);
		
		echo \'<div style="position:absolute; left:40px; height:280px; width:560px; border:3px #888888 solid;">\';
		
		for ($i=0; $i<count($lis)-1; $i++)
		{
			$y1=($upran-$lis[$i+1])/($upran-$downran)*280;
			$y2=($lis[$i+1]-$lis[$i])/($upran-$downran)*280+1;
			if ($i==0) $y2--;
			echo \'<div style="position:absolute; left:0px; top:\'.$y1.\'px; width:560px; height:\'.$y2.\'px; background-color:\'.elorating_get_graph_color(($lis[$i]+$lis[$i+1])/2).\'"></div>\';
		}
		for ($i=0; $i<$n; $i++) 
		{
			if ($n>1)
				$data[$i][\'x\']=562.0/($n-1)*$i;
			else  $data[$i][\'x\']=281.0;
			$data[$i][\'y\']=($upran-$data[$i][\'rating\'])/($upran-$downran)*280;
			$data[$i][\'id\']=$i;
			if (!isset($data[$i][\'diff\']) && $i>0) $data[$i][\'diff\']=$data[$i][\'rating\']-$data[$i-1][\'rating\'];
		}
		for ($i=0; $i<$n; $i++) $data[$i][\'x\']-=2;
		for ($i=0; $i<$n-1; $i++) 
		{
			$p1=$data[$i]; $p2=$data[$i+1];
			if ($i!=0) $p1[\'x\']++;
			if ($i!=$n-2) $p2[\'x\']--;
			elorating_draw_line($p1,$p2);
		}
		for ($i=0; $i<$n; $i++) elorating_draw_point($data[$i]);
		echo \'</div>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\elorating_show ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		global $elo_history,$elo_rating;
		$i=0; $hist=Array(); $elo_max_rating=0;
		while ($i<strlen($elo_history))
		{
			$x1=$elo_history[$i]; $i++;
			$x2=base64_decode_number(substr($elo_history,$i,4)); $i+=4;
			$x3=base64_decode_number(substr($elo_history,$i,1)); $i++;
			$x4=base64_decode_number(substr($elo_history,$i,1)); $i++;
			$x5=base64_decode_number(substr($elo_history,$i,3))-131072; $i+=3;
			$elo_max_rating=max($elo_max_rating,$x5);
			array_push($hist,
				Array(
					\'rpre\' => $x1,
					\'gid\' => $x2,
					\'gtype\' => $x3,
					\'win\' => $x4,
					\'rating\' => $x5,
				)
			);
		}
		
		$n=count($hist);
		for ($i=1; $i<$n; $i++) $hist[$i][\'diff\']=$hist[$i][\'rating\']-$hist[$i-1][\'rating\'];
		$hist[0][\'diff\']=$hist[0][\'rating\']-1500;
		
		
		$data=Array();
		for ($i=max(0,$n-70); $i<$n; $i++)
			array_push($data,$hist[$i]);
		
		include template(\'MOD_ELORATING_ELORATING\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/elorating/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/bufficons/main.php',
)

Array\bufficon_show ====> array (
  'vars' => '$src, $para',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($para[\'style\']==1)
		{
			$wh=round($para[\'nowsec\']/$para[\'totsec\']*32).\'px\';
			$para[\'lsec\']=$para[\'totsec\']-$para[\'nowsec\'];
			include template(\'MOD_BUFFICONS_ICON_STYLE_1\');
		}
		if ($para[\'style\']==2)
		{
			$wh=round($para[\'nowsec\']/$para[\'totsec\']*32).\'px\';
			$para[\'lsec\']=$para[\'totsec\']-$para[\'nowsec\'];
			include template(\'MOD_BUFFICONS_ICON_STYLE_2\');
		}
		if ($para[\'style\']==3)
		{
			include template(\'MOD_BUFFICONS_ICON_STYLE_3\');
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/bufficons/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/bufficons/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/explore/main.php',
)

Array\calculate_move_sp_cost ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\'));
		
		$movesp = 15;
		
		return $movesp;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/explore/main.php',
)

Array\move_to_area ====> array (
  'vars' => '$moveto',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'logger\'));
		
		$log .= $areainfo[$pls].\'<br>\';
		
		discover(\'move\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/explore/main.php',
)

Array\move ====> array (
  'vars' => '$moveto = 99',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'logger\'));
		
		$plsnum = sizeof($plsinfo);
		if(($moveto == \'main\')||($moveto < 0 )||($moveto >= $plsnum)){
			$log .= \'请选择正确的移动地点。<br>\';
			return;
		} elseif($pls == $moveto){
			$log .= \'相同地点，不需要移动。<br>\';
			return;
		} elseif(array_search($moveto,$arealist) <= $areanum && !$hack){
			$log .= $plsinfo[$moveto].\'是禁区，还是离远点吧！<br>\';
			return;
		}
		
		$movesp=max(calculate_move_sp_cost(),1);
		
		if($sp <= $movesp){
			$log .= "体力不足，不能移动！<br>还是先睡会儿吧！<br>";
			return;
		}

		$sp -= $movesp;
		
		$log .= "你消耗<span class=\\"yellow\\">{$movesp}</span>点体力，移动到了$plsinfo[$moveto]。<br>";
		
		$pls = $moveto;
		
		move_to_area($moveto);
		
		return;

	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/explore/main.php',
)

Array\calculate_search_sp_cost ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\'));
		
		$schsp =15;
		
		return $schsp;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/explore/main.php',
)

Array\search_area ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		discover(\'search\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/explore/main.php',
)

Array\search ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'logger\'));
		
		if(array_search($pls,$arealist) <= $areanum && !$hack){
			$log .= $plsinfo[$pls].\'是禁区，还是赶快逃跑吧！<br>\';
			return;
		}

		$schsp=max(1,calculate_search_sp_cost());

		if($sp <= $schsp){
			$log .= "体力不足，不能探索！<br>还是先睡会儿吧！<br>";
			return;	
		}

		$sp -= $schsp;
		
		$log .= "消耗<span class=\\"yellow\\">{$schsp}</span>点体力，你搜索着周围的一切。。。<br>";
		
		search_area();
	
		return;

	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/explore/main.php',
)

Array\discover ====> array (
  'vars' => '$schmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		$log .= "但是什么都没有发现。<br>";
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/explore/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'input\'));

		if($mode == \'command\') 
		{
			if ($command == \'move\') 
			{
				move($moveto);
			} 
			else  if ($command == \'search\') 
			{
				search();
			} 
		}
		
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/explore/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		global $noisetime, $noisepls, $noiseid, $noiseid2, $noisemode;
		$noisetime = $noisevars[\'noisetime\'];
		$noisepls = $noisevars[\'noisepls\'];
		$noiseid = $noisevars[\'noiseid\'];
		$noiseid2 = $noisevars[\'noiseid2\'];
		$noisemode = $noisevars[\'noisemode\'];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/noise/main.php',
)

Array\pre_act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'map\',\'noise\',\'logger\',\'player\'));
		if($hp > 0){
			
			if(($now <= $noisetime+$noiselimit)&&$noisemode&&($noiseid!=$pid)&&($noiseid2!=$pid)) {
				if(($now-$noisetime) < 60) {
					$noisesec = $now - $noisetime;
					$log .= "<span class=\\"yellow b\\">{$noisesec}秒前，{$plsinfo[$noisepls]}传来了{$noiseinfo[$noisemode]}。</span><br>";
				} else {
					$noisemin = floor(($now-$noisetime)/60);
					$log .= "<span class=\\"yellow b\\">{$noisemin}分钟前，{$plsinfo[$noisepls]}传来了{$noiseinfo[$noisemode]}。</span><br>";
				}
			}
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/noise/main.php',
)

Array\addnoise ====> array (
  'vars' => '$where, $typ, $pid1 = -1, $pid2 = -1',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'noise\'));
		$noisetime = $now;
		$noisepls = $where;
		$noisemode = $typ;
		$noiseid = $pid1;
		$noiseid2 = $pid2;
		\\sys\\save_combatinfo();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/noise/main.php',
)

Array\load_gameinfo_post_work ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'noise\'));
		$chprocess();
		foreach($noisevars as $key => $val){
			${$key} = $val;
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/noise/main.php',
)

Array\gameinfo_audit ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'noise\'));
		$chprocess();
		if(!$noisetime){$noisetime = 0;}
		if(!$noisepls){$noisepls = 0;}
		if(!$noiseid){$noiseid = 0;}
		if(!$noiseid2){$noiseid2 = 0;}
		if(!$noisemode){$noisemode = \'\';}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/noise/main.php',
)

Array\reset_game ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess();
		
		eval(import_module(\'sys\'));
		
		$noisevars = array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/noise/main.php',
)

Array\save_gameinfo_prepare_work ====> array (
  'vars' => '$ginfo, $ignore_room = 1',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'noise\'));
		
		if(!is_array($ginfo[\'noisevars\'])){
			
			$ginfo[\'noisevars\'] = array();
		}
		foreach(array(\'noisetime\', \'noisepls\', \'noiseid\', \'noiseid2\', \'noisemode\') as $nv){
			$ginfo[\'noisevars\'][$nv] = ${$nv};
		}
		return $chprocess($ginfo, $ignore_room);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/noise/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/lvlctl/main.php',
)

Array\getexp ====> array (
  'vars' => '$v, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		$flag=$r=0;
		if ($pa === NULL) 
		{
			\\player\\update_sdata();
			$flag=1;
			$pa = &$sdata;
		}
		$r=checklvlup($v, $pa);
		if ($flag) 
		{
			\\player\\player_save($sdata);
			\\player\\load_playerdata($sdata);
		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/lvlctl/main.php',
)

Array\calc_upexp ====> array (
  'vars' => '$l',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'lvlctl\'));
		return (int)round(($l * 2 + 1) * $baseexp);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/lvlctl/main.php',
)

Array\calc_uplv ====> array (
  'vars' => '$exp, $exp0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'lvlctl\'));
		return 1 + (int) floor(($exp - $exp0) / $baseexp / 2 );
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/lvlctl/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'lvlctl\'));
		$lvuphp += rand ( 9, 11 );
		$lvupsp += rand( 4, 6 );
		$lvupatt += rand ( 2, 4 );
		$lvupdef += rand ( 3, 5 );
				
		
		
		
		
		
		
		
		$lvupspref += round($pa[\'msp\'] * 0.1);	
		
		$lvupskpt ++;
		$pa[\'lvl\']++;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/lvlctl/main.php',
)

Array\checklvlup ====> array (
  'vars' => '$v, &$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'lvlctl\'));
		$up_exp_temp = calc_upexp($pa[\'lvl\']);
		
		if(strpos($db_player_structure_types[\'lvl\'],\'tinyint\')===0) $lvllimit = 250;
		else $lvllimit = 65000;
		$upflag = 1;
		if ($pa[\'lvl\'] < $lvllimit) 
		{
			
			$pa[\'exp\']+=$v;
			$upflag = 1;
			if($pa[\'exp\'] >= $up_exp_temp){
				
				$lvup = calc_uplv($pa[\'exp\'],  $up_exp_temp);
				
				$lvup = $lvup > $lvllimit - $pa[\'lvl\'] ? $lvllimit - $pa[\'lvl\'] : $lvup;
				
				$lvuphp = $lvupatt = $lvupdef = $lvupskill = $lvupsp = $lvupspref = $lvupskpt = 0; $sklog = \'\';
				for($i = 0; $i < $lvup; $i += 1) 
				{
					if ($pa[\'lvl\'] < $lvllimit) lvlup($pa);
				}
				$up_exp_temp = calc_upexp($pa[\'lvl\']);
				
				
				if ($pa[\'lvl\'] >= $lvllimit) {
					$pa[\'lvl\'] = $lvllimit;
					$pa[\'exp\'] = $up_exp_temp;
				}
				$pa[\'upexp\'] = $up_exp_temp;
				$pa[\'hp\'] += $lvuphp;
				$pa[\'mhp\'] += $lvuphp;
				$pa[\'sp\'] += $lvupsp;
				$pa[\'msp\'] += $lvupsp;
				$pa[\'att\'] += $lvupatt;
				$pa[\'def\'] += $lvupdef;
				











				
				if ($pa[\'sp\']+$lvupspref >= $pa[\'msp\']) 
				{
					$lvupspref = $pa[\'msp\'] - $pa[\'sp\'];
				}
				$pa[\'sp\'] += $lvupspref;
				$pa[\'skillpoint\']+= $lvupskpt;
				




				if ($pa[\'pid\'] === $pid) {
					$log .= "<span class=\\"yellow\\">你升了{$lvup}级！生命上限+{$lvuphp}，体力上限+{$lvupsp}，攻击+{$lvupatt}，防御+{$lvupdef}，体力恢复了{$lvupspref}{$sklog}，获得了{$lvupskpt}点技能点！</span><br>";
				} elseif (!$pa[\'type\']) {
					$w_log = "<span class=\\"yellow\\">你升了{$lvup}级！生命上限+{$lvuphp}，体力上限+{$lvupsp}，攻击+{$lvupatt}，防御+{$lvupdef}，体力恢复了{$lvupspref}{$sklog}，获得了{$lvupskpt}点技能点！</span><br>";
					\\logger\\logsave ( $pa[\'pid\'], $now, $w_log,\'s\');
				}
			}
		} elseif ($pa[\'lvl\'] >= $lvllimit) {
			$upflag = 0;
			$pa[\'lvl\'] = $lvllimit;
			$pa[\'exp\'] = $up_exp_temp;
		}
		
		return $upflag;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/lvlctl/main.php',
)

Array\load_playerdata ====> array (
  'vars' => '$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		if (isset($pdata[\'upexp\'])) $upexp=$pdata[\'upexp\'];
		$chprocess($pdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/lvlctl/main.php',
)

Array\init_playerdata ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'lvlctl\'));
		$upexp = calc_upexp($lvl);
		
		$lvlupexp = $upexp - $exp;
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/lvlctl/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/achievement_base/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'achievement_base\'));
		$alist = array();
		foreach($achlist as $av){
			$alist = array_merge($alist, $av);
		}
		foreach($alist as $av){
			
			if (!$pa[\'type\']
			
				&& ( ( !isset($ach_allow_mode[$av]) && in_array($gametype, $ach_allow_mode[0]) ) || ( isset($ach_allow_mode[$av]) && in_array($gametype,$ach_allow_mode[$av]) ) )
				&& !\\skillbase\\skill_query($av,$pa))
			\\skillbase\\skill_acquire($av,$pa);
		}
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/achievement_base/main.php',
)

Array\post_gameover_events ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\'));
		$result = $db->query("SELECT name,pid FROM {$tablepre}players WHERE type=0");
		while ($udata=$db->fetch_array($result))
		{
			$edata=\\player\\fetch_playerdata_by_pid($udata[\'pid\']);
			if ($edata===NULL) continue;
			$res = $db->query("SELECT n_achievements FROM {$gtablepre}users WHERE username=\'{$udata[\'name\']}\'");
			if (!$db->num_rows($res)) continue;
			$zz=$db->fetch_array($res); $ach=$zz[\'n_achievements\'];
			$achdata=explode(\';\',$ach);
			$maxid=count($achdata)-2;
			foreach (\\skillbase\\get_acquired_skill_array($edata) as $key) 
				if (defined(\'MOD_SKILL\'.$key.\'_INFO\') && defined(\'MOD_SKILL\'.$key.\'_ACHIEVEMENT_ID\'))
					if (\\skillbase\\check_skill_info($key, \'achievement\'))
					{
						$id=((int)(constant(\'MOD_SKILL\'.$key.\'_ACHIEVEMENT_ID\')));
						if ($id>$maxid) $maxid=$id;
						if (isset($achdata[$id])) $s=((string)$achdata[$id]); else $s=\'\';
						$f=false;
						if (!\\skillbase\\check_skill_info($key, \'daily\')) $f=true;
						if (($s!=\'\')&&($s!=\'VWXYZ\')) $f=true;
						if ($f){
							$func=\'\\\\skill\'.$key.\'\\\\finalize\'.$key;
							$achdata[$id]=$func($edata,$s);
						}
					}
			
			$nachdata=\'\';
			for ($i=0; $i<=$maxid; $i++)
				$nachdata.=$achdata[$i].\';\';
			
			$db->query("UPDATE {$gtablepre}users SET n_achievements = \'$nachdata\' WHERE username=\'{$udata[\'name\']}\'");	
		}
		
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/achievement_base/main.php',
)

Array\show_achievements ====> array (
  'vars' => '$un,$at',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'achievement_base\'));
		$res = $db->query("SELECT n_achievements FROM {$gtablepre}users WHERE username=\'$un\'");
		if (!$db->num_rows($res)) return;
		$zz=$db->fetch_array($res); $ach=$zz[\'n_achievements\']; 
		$achdata=explode(\';\',$ach); 
		$c=0;
		foreach ($achlist[$at] as $key)
			if (defined(\'MOD_SKILL\'.$key.\'_INFO\') && defined(\'MOD_SKILL\'.$key.\'_ACHIEVEMENT_ID\'))
				if ((\\skillbase\\check_skill_info($key, \'achievement\'))&&(!\\skillbase\\check_skill_info($key, \'hidden\')))
				{
					$id=((int)(constant(\'MOD_SKILL\'.$key.\'_ACHIEVEMENT_ID\')));
					if (isset($achdata[$id])) $s=((string)$achdata[$id]); else $s=\'\';
					$f=false;
					if (!\\skillbase\\check_skill_info($key, \'daily\')) $f=true;
					if (($s!=\'\')&&($s!=\'VWXYZ\')) $f=true;
					if ($f){
						$func=\'\\\\skill\'.$key.\'\\\\show_achievement\'.$key;
						$c++;
						if ($c%3==1) echo "<tr>";
						echo \'<td width="300" align="left" valign="top">\';
						$func($s);
						echo "</td>";
						if ($c%3==0) echo "</tr>";
					}
				}
		while ($c<3){
			$c++;
			echo \'<td width="300" align="left" valign="top" style="border-style:none">\';
			echo "</td>";
			if ($c%3==0) echo "</tr>";
		}
		if ($c%3!=0) echo "</tr>";
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/achievement_base/main.php',
)

Array\get_daily_quest ====> array (
  'vars' => '$un',
  'contents' => '
	
		if (eval(__MAGIC__)) return $___RET_VALUE;
	
		eval(import_module(\'sys\',\'achievement_base\'));
		$res = $db->query("SELECT n_achievements FROM {$gtablepre}users WHERE username=\'$un\'");
		if (!$db->num_rows($res)) return;
		$zz=$db->fetch_array($res); $ach=$zz[\'n_achievements\']; 
		$achdata=explode(\';\',$ach); 
		$maxid=count($achdata)-2;
		$ta=$achlist[20];
		shuffle($ta);
		$ta=array_slice($ta,0,3);
		foreach ($achlist[20] as $key){
			$id=((int)(constant(\'MOD_SKILL\'.$key.\'_ACHIEVEMENT_ID\')));
			if (isset($achdata[$id])) $s=((string)$achdata[$id]); else $s=\'\';
			if ($id>$maxid) $maxid=$id;
			if (in_array($key,$ta)){
				$achdata[$id]=\'aaaaa\';
			}else{
				$achdata[$id]=\'VWXYZ\';
			}
		}
		$nachdata=\'\';
		for ($i=0; $i<=$maxid; $i++)
			$nachdata.=$achdata[$i].\';\';
		$db->query("UPDATE {$gtablepre}users SET n_achievements = \'$nachdata\' WHERE username=\'$un\'");
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/achievement_base/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL11_INFO\',\'club;upgrade;locked;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill11/main.php',
)

Array\acquire11 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill11/main.php',
)

Array\lost11 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill11/main.php',
)

Array\check_unlocked11 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill11/main.php',
)

Array\upgrade11 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\',\'input\'));
		if (!\\skillbase\\skill_query(11))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$skillpara1 = (int)$skillpara1;
		if ($skillpara1 <= 0)
		{
			$log.=\'技能点指令错误！<br>\';
			return;
		}
		if ($skillpoint<1 || $skillpoint < $skillpara1) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$att_dice = $skillpara1*4;
		$att += $att_dice;
		$def_dice = $skillpara1*6;
		$def += $def_dice;
		$log.=\'消耗了<span class="lime">\'.$skillpara1.\'</span>点技能点，你的攻击力提升了<span class="yellow">\'.$att_dice.\'</span>点，防御力提升了<span class="yellow">\'.$def_dice.\'</span>点。<br>\';
		$skillpoint-=$skillpara1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill11/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL10_INFO\',\'club;upgrade;locked;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill10/main.php',
)

Array\acquire10 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill10/main.php',
)

Array\lost10 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill10/main.php',
)

Array\check_unlocked10 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill10/main.php',
)

Array\upgrade10 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\',\'input\'));
		if (!\\skillbase\\skill_query(10))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$skillpara1 = (int)$skillpara1;
		if ($skillpara1 <= 0)
		{
			$log.=\'技能点指令错误！<br>\';
			return;
		}
		if ($skillpoint<1 || $skillpoint < $skillpara1) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$dice = $skillpara1 * 2;
		$mhp += $dice; $hp += $dice;
		$log.=\'消耗了<span class="lime">\'.$skillpara1.\'</span>点技能点，你的生命上限提升了<span class="yellow">\'.$dice.\'</span>点。<br>\';
		$skillpoint-=$skillpara1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill10/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL305_INFO\',\'achievement;\');
		define(\'MOD_SKILL305_ACHIEVEMENT_ID\',\'5\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill305/main.php',
)

Array\acquire305 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(305,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill305/main.php',
)

Array\lost305 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill305/main.php',
)

Array\finalize305 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(305,\'cnt\',$pa);
		$x=min($x,(1<<30)-1);
		
		if (($ox<3)&&($x>=3)){
			\\cardbase\\get_qiegao(100,$pa);
		}
		if (($ox<20)&&($x>=20)){
			\\cardbase\\get_qiegao(800,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill305/main.php',
)

Array\gameover ====> array (
  'vars' => '$time = 0, $gmode = \'\', $winname = \'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($gamestate < 10) return;
		if(((!$gmode)||(($gmode==\'end2\')&&(!$winname)))&&(!in_array($gametype,$teamwin_mode))){
			$result = $db->query("SELECT * FROM {$tablepre}players WHERE hp>0 AND type=0");
			$alivenum = $db->num_rows($result);
			if($alivenum == 1){
				$pw = $db->fetch_array($result);
				$wn=$pw[\'name\'];
				$pw=\\player\\fetch_playerdata($wn);
				if (\\skillbase\\skill_query(305,$pw)){
					\\skillbase\\skill_setvalue(305,\'cnt\',1,$pw);
					\\player\\player_save($pw);
				} 
			}
		}
		$chprocess($time,$gmode,$winname);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill305/main.php',
)

Array\show_achievement305 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p305=0;
		else	$p305=base64_decode_number($data);	
		$c305=0;
		if ($p305>=20){
			$c305=999;
		}else if ($p305>=3){
			$c305=1;
		}
		include template(\'MOD_SKILL305_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill305/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL306_INFO\',\'achievement;\');
		define(\'MOD_SKILL306_ACHIEVEMENT_ID\',\'6\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill306/main.php',
)

Array\acquire306 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(306,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill306/main.php',
)

Array\lost306 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill306/main.php',
)

Array\finalize306 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(306,\'cnt\',$pa);
		$x=min($x,(1<<30)-1);
		
		if (($ox<1)&&($x>=1)){
			\\cardbase\\get_qiegao(200,$pa);
		}
		if (($ox<5)&&($x>=5)){
			\\cardbase\\get_qiegao(500,$pa);
			\\cardbase\\get_card(98,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill306/main.php',
)

Array\gameover ====> array (
  'vars' => '$time = 0, $gmode = \'\', $winname = \'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($gamestate < 10) return;
		if($gmode==\'end5\'){
			$pw=\\player\\fetch_playerdata($winname);
			if (\\skillbase\\skill_query(306,$pw)){
				\\skillbase\\skill_setvalue(306,\'cnt\',1,$pw);
				\\player\\player_save($pw);
			} 
		}
		$chprocess($time,$gmode,$winname);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill306/main.php',
)

Array\show_achievement306 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p306=0;
		else	$p306=base64_decode_number($data);	
		$c306=0;
		if ($p306>=5){
			$c306=999;
		}else if ($p306>=1){
			$c306=1;
		}
		include template(\'MOD_SKILL306_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill306/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL313_INFO\',\'achievement;\');
		define(\'MOD_SKILL313_ACHIEVEMENT_ID\',\'13\');
		eval(import_module(\'achievement_base\'));
		$ach_allow_mode[313] = array(15);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill313/main.php',
)

Array\acquire313 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(313,\'max_money\',0,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill313/main.php',
)

Array\lost313 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill313/main.php',
)

Array\finalize313 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\'));
		if ($data==\'\')					
			$last_a_money=0;						
		else $last_a_money=base64_decode_number($data);
		
		if($areanum >= $areaadd) {
			$x=\\skillbase\\skill_getvalue(313,\'max_money\',$pa);
			
		} else {
			$x=max($pa[\'money\'], \\skillbase\\skill_getvalue(313,\'max_money\',$pa));
			
		}
		
		if (($last_a_money<30000)&&($x>=30000)){
			\\cardbase\\get_qiegao(300,$pa);
		}
		if (($last_a_money<60000)&&($x>=60000)){
			\\cardbase\\get_qiegao(400,$pa);
			\\cardbase\\get_card(23,$pa);
		}
		if (($last_a_money<100000)&&($x>=100000)){
			\\cardbase\\get_qiegao(500,$pa);
			\\cardbase\\get_card(89,$pa);
		}
		if (($last_a_money<360000)&&($x>=360000)){
			\\cardbase\\get_qiegao(3600,$pa);
			\\cardbase\\get_card(118,$pa);
		}
		if (($last_a_money<1000000)&&($x>=1000000)){
			\\cardbase\\get_qiegao(5000,$pa);
			\\cardbase\\get_card(156,$pa);
		}
		if($x < $last_a_money) $x=$last_a_money;
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill313/main.php',
)

Array\show_achievement313 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p313=0;
		else	$p313=base64_decode_number($data);	
		$c313=0;
		if ($p313>=30000){
			$c313=1;
		}
		if ($p313>=60000){
			$c313=2;
		}
		if ($p313>=100000){
			$c313=3;
		}
		if ($p313>=360000){
			$c313=4;
		}
		if ($p313>=1000000){
			$c313=999;
		}
		include template(\'MOD_SKILL313_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill313/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL324_INFO\',\'achievement;daily;\');
		define(\'MOD_SKILL324_ACHIEVEMENT_ID\',\'24\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill324/main.php',
)

Array\acquire324 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill324/main.php',
)

Array\lost324 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill324/main.php',
)

Array\finalize324 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x=$pa[\'lvl\'];
		$x=max($x,$ox);
		
		if (($ox<21)&&($x>=21)){
			\\cardbase\\get_qiegao(140,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill324/main.php',
)

Array\show_achievement324 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p324=0;
		else	$p324=base64_decode_number($data);	
		$c324=0;
		if ($p324>=21){
			$c324=999;
		}
		include template(\'MOD_SKILL324_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill324/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL326_INFO\',\'achievement;\');
		define(\'MOD_SKILL326_ACHIEVEMENT_ID\',\'26\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill326/main.php',
)

Array\acquire326 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill326/main.php',
)

Array\lost326 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill326/main.php',
)

Array\cardlist_decode326 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = array();
		for ($i=0; $i<strlen($data); $i+=3)
		{
			$r[]=base64_decode_number(substr($data,$i,3));
		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill326/main.php',
)

Array\finalize326 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$flag = 0;
		foreach (Array(301,305,306,307) as $sk)
			if (\\skillbase\\skill_query($sk,$pa) && (int)\\skillbase\\skill_getvalue($sk,\'cnt\',$pa)==1)
				$flag = 1;
			
		if (!$flag)
			return $data;
		
		$c=(int)$pa[\'card\'];
		$clist = cardlist_decode326($data);
		if(in_array($c, $clist)) return $data;





		
		$data.=base64_encode_number($c,3);
		$o=ceil(strlen($data)/3);
		
		if ($o==10) \\cardbase\\get_qiegao(888,$pa);
		if ($o==25) { \\cardbase\\get_card(81,$pa); \\cardbase\\get_qiegao(1200,$pa); }
		if ($o==50) \\cardbase\\get_qiegao(1600,$pa);
		if ($o==75) \\cardbase\\get_qiegao(2000,$pa);
		if ($o==100) \\cardbase\\get_qiegao(2500,$pa);
		
		return $data;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill326/main.php',
)

Array\show_achievement326 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'cardbase\'));
		$ca326=\\skill326\\cardlist_decode326($data);
		$cn326=\'\';
		foreach($ca326 as $val){
			$cn326 .= $cards[$val][\'name\'].\' \';
		}
		$cn326 = str_replace(\'"\',\'&quot;\',substr($cn326,0,-1));
		$p326=ceil(strlen($data)/3);
		$c326=0;
		if ($p326>=100)
			$c326=999;
		else if ($p326>=75)
			$c326=4;
		else if ($p326>=50)
			$c326=3;
		else if ($p326>=25)
			$c326=2;
		else if ($p326>=10)
			$c326=1;
		else  $c326=0;
		include template(\'MOD_SKILL326_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill326/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'player\'));
		global $item_equip_list;
		$equip_list=array_merge($equip_list,$item_equip_list);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\parse_itmname_words ====> array (
  'vars' => '$name_value, $elli = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if(!$elli) return $name_value;
		
		$width=20; 
		$ilen=mb_strlen($name_value);
		$slen=0;
		for($i=0;$i<$ilen;$i++){
			$c=mb_substr($name_value,$i,1);
			if(strlen($c) > mb_strlen($c)) $slen+=1.8;
			else $slen+=1;
			if($slen >= $width) break;
		}
		if($i==$ilen) return $name_value;
		else return middle_abbr($name_value,$i-1);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\parse_itmk_words ====> array (
  'vars' => '$k_value',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'itemmain\'));
		if($k_value){	
			$best=-1;
			$ret=\'未知\';
			foreach($iteminfo as $info_key => $info_value)
			{
				if(strpos($k_value,$info_key)===0){
					if (strlen($info_key)>$best)
					{
						$best=strlen($info_key);
						$ret = $info_value;
					}
				}	
			}
		} else {
			$ret = \'\';
		}
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\count_itmsk_num ====> array (
  'vars' => '$sk_value',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$ret=0;
		for ($i=0; $i<strlen($sk_value); $i++)
		{
			if (\'a\'<=$sk_value[$i] && $sk_value[$i]<=\'z\') $ret+=2;
			if (\'A\'<=$sk_value[$i] && $sk_value[$i]<=\'Z\') $ret+=2;
			if ($sk_value[$i]==\'^\') $ret+=1;
		}
		$ret/=2; $ret=(int)$ret;
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\get_itmsk_array ====> array (
  'vars' => '$sk_value',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$ret = Array();
		$i = 0;
		while ($i < strlen($sk_value))
		{
			$sub = substr($sk_value,$i,1); $i++;
			if(!empty($sub)){
				if ($sub==\'^\')
				{
					while ($i<strlen($sk_value) && \'0\'<=$sk_value[$i] && $sk_value[$i]<=\'9\') 
					{
						$sub.=$sk_value[$i];
						$i++;
					}
					if ($i<strlen($sk_value) && $sk_value[$i]==\'^\')
					{
						$sub.=\'^\'; $i++;
					}
					else  continue;
				}
				array_push($ret,$sub);
			}					
		}
		return $ret;		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\parse_itmsk_words ====> array (
  'vars' => '$sk_value, $simple = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'itemmain\'));
		if($sk_value && is_numeric($sk_value) === false){
			$ret = \'\';
			$i = 0;
			while ($i < strlen($sk_value))
			{
				$sub = substr($sk_value,$i,1); $i++;
				if(!empty($sub)){
					if ($sub==\'^\')
					{
						while ($i<strlen($sk_value) && \'0\'<=$sk_value[$i] && $sk_value[$i]<=\'9\') 
						{
							$sub.=$sk_value[$i];
							$i++;
						}
						if ($i<strlen($sk_value) && $sk_value[$i]==\'^\')
						{
							$sub.=\'^\'; $i++;
						}
						else  continue;
					}
					
					if(!empty($ret)){
						if ($simple)
							$ret .= $itemspkinfo[$sub];
						else  $ret .= \'+\'.$itemspkinfo[$sub];
					}else{
						$ret = $itemspkinfo[$sub];
					}					
				}
				
			}
		} else {
			if ($simple)
				$ret=\'\';
			else  $ret =$nospk;
		}
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\parse_item_words ====> array (
  'vars' => '$edata, $simple = 0, $elli = 1',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'player\',\'itemmain\'));
		$r=Array();
		
		foreach ($equip_list as $v) {
			$z=strlen($v)-1;
			while (\'0\'<=$v[$z] && $v[$z]<=\'9\') $z--;
			$r[$v.\'_words\'] = parse_itmname_words($edata[$v], $elli);
			$kv=substr($v,0,$z+1).\'k\'.substr($v,$z+1);
			$r[$kv.\'_words\'] = parse_itmk_words($edata[$kv]);
			$skv=substr($v,0,$z+1).\'sk\'.substr($v,$z+1);
			$r[$skv.\'_words\'] = parse_itmsk_words($edata[$skv],$simple);
		}
		
		return $r;
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\parse_interface_profile ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		\\player\\update_sdata();
		$tpldata+=parse_item_words($sdata);
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\rs_game ====> array (
  'vars' => '$xmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($xmode);
		
		eval(import_module(\'sys\',\'map\',\'itemmain\'));
		if ($xmode & 16) {	
			$plsnum = sizeof($plsinfo);
			$iqry = \'\';
			$itemlist = get_itemfilecont();
			$in = sizeof($itemlist);
			$an = $areanum ? ceil($areanum/$areaadd) : 0;
			for($i = 1; $i < $in; $i++) {
				if(!empty($itemlist[$i]) && strpos($itemlist[$i],\',\')!==false){
					list($iarea,$imap,$inum,$iname,$ikind,$ieff,$ista,$iskind) = explode(\',\',$itemlist[$i]);
					if(($iarea == $an)||($iarea == 99)) {
						for($j = $inum; $j>0; $j--) {
							if ($imap == 99)
							{
								do {
									$rmap = rand(0,$plsnum-1);
								} while (in_array($rmap,$map_noitemdrop_arealist));
							}
							else  $rmap = $imap;
							$iqry .= "(\'$iname\', \'$ikind\',\'$ieff\',\'$ista\',\'$iskind\',\'$rmap\'),";
						}
					}
				}
			}
			if(!empty($iqry)){
				$iqry = "INSERT INTO {$tablepre}mapitem (itm,itmk,itme,itms,itmsk,pls) VALUES ".substr($iqry, 0, -1);
				$db->query($iqry);
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\get_itemfilecont ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\'));
		$file = __DIR__.\'/config/mapitem.config.php\';
		$l = openfile($file);
		return $l;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\discover_item ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'itemmain\'));
		
		$result = $db->query("SELECT * FROM {$tablepre}mapitem WHERE pls = \'$pls\'");
		$itemnum = $db->num_rows($result);
		if($itemnum <= 0){
			$log .= \'<span class="yellow">周围找不到任何物品。</span><br>\';
			$mode = \'command\';
			return;
		}
		$itemno = rand(0,$itemnum-1);
		$db->data_seek($result,$itemno);
		$mi=$db->fetch_array($result);
		$itms0 = focus_item($mi);
		if($itms0){
			itemfind();
			return;
		} else {
			$log .= "但是什么都没有发现。<br>";
		}
		$mode = \'command\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\focus_item ====> array (
  'vars' => '$iarr',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if(isset($iarr[\'iid\'])){
			$iid = $iarr[\'iid\'];
			$db->query("DELETE FROM {$tablepre}mapitem WHERE iid=\'$iid\'");
			$itm0=$iarr[\'itm\'];
			$itmk0=$iarr[\'itmk\'];
			$itme0=$iarr[\'itme\'];
			$itms0=$iarr[\'itms\'];
			$itmsk0=$iarr[\'itmsk\'];
			return $itms0;
		}
		return false;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\calculate_itemfind_obbs ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'itemmain\'));
		return $item_obbs;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\calculate_itemfind_obbs_multiplier ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1.0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\discover ====> array (
  'vars' => '$schmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$find_obbs = calculate_itemfind_obbs()*calculate_itemfind_obbs_multiplier();
		$dice = rand(0,99);
		if($dice < $find_obbs) {
			discover_item();
			return;
		}
		$chprocess($schmode);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'input\'));
		if ($mode == \'command\' && strpos($command,\'itm\') === 0) 
		{
			$item = substr($command,3);
			itemuse_wrapper($item);
			return;
		} 
		if ($mode == \'command\' && $command == \'itemmain\' && 
			($itemcmd==\'itemmerge\' || $itemcmd==\'itemmove\' || $itemcmd==\'itemdrop\'))
		{
			ob_clean();
			if ($itemcmd==\'itemmerge\') include template(MOD_ITEMMAIN_ITEMMERGE);
			if ($itemcmd==\'itemmove\') include template(MOD_ITEMMAIN_ITEMMOVE);
			if ($itemcmd==\'itemdrop\') include template(MOD_ITEMMAIN_ITEMDROP);
			$cmd = ob_get_contents();
			ob_clean();
		}
		if($mode == \'itemmain\') {
			if($command == \'itemget\') {
				itemget();
			} elseif($command == \'itemadd\') {
				itemadd();
			} elseif($command == \'itemmerge\') {
				if($merge2 == \'n\'){itemadd();}
				else{itemmerge($merge1,$merge2);}
			} elseif($command == \'itemmove\') {
				itemmove($from,$to);
			} elseif(strpos($command,\'drop\') === 0) {
				$drop_item = substr($command,4);
				itemdrop($drop_item);
			} elseif(strpos($command,\'off\') === 0) {
				$off_item = substr($command,3);
				itemoff($off_item);
			} elseif(strpos($command,\'swap\') === 0) {
				$swap_item = substr($command,4);
				itemdrop($swap_item);
				itemadd();
			} 
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/main.php',
)

Array\itms_reduce ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if ($itms != $nosta) {
			$itms --;
			if ($itms <= 0) {
				$log .= "<span class=\\"red\\">$itm</span>用光了。<br>";
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/itemuse.php',
)

Array\itemuse_wrapper ====> array (
  'vars' => '$itmn',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		if ($itmn < 1 || $itmn > 6) {
			$log .= \'此道具不存在，请重新选择。\';
			$mode = \'command\';
			return;
		}
		$theitem=Array();
		$theitem[\'itm\'] = & ${\'itm\' . $itmn};
		$theitem[\'itmk\'] = & ${\'itmk\' . $itmn};
		$theitem[\'itme\'] = & ${\'itme\' . $itmn};
		$theitem[\'itms\'] = & ${\'itms\' . $itmn};
		$theitem[\'itmsk\'] = & ${\'itmsk\' . $itmn};
		$theitem[\'itmn\'] = $itmn;
		
		if (($theitem[\'itms\'] <= 0) && ($theitem[\'itms\'] != $nosta)) {
			$theitem[\'itm\'] = $theitem[\'itmk\'] = $theitem[\'itmsk\'] = \'\';
			$theitem[\'itme\'] = $theitem[\'itms\'] = 0;
			$log .= \'此道具不存在，请重新选择。<br>\';
			$mode = \'command\';
			return;
		}
		
		itemuse($theitem);
		
		$mode = \'command\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/itemuse.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'logger\'));
		
		$log .= "你使用了道具 <span class=\\"yellow\\">{$theitem[\'itm\']}</span> 。<br>但是什么也没有发生。<br>";
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/itemuse.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($news == \'itemuse\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了{$b}</span></li>";
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/itemuse.php',
)

Array\itemfind ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if(!$itm0||!$itmk0||!$itms0){
			$log .= \'获取物品信息错误！\';
			$mode = \'command\';
			return;
		}
		$tpldata[\'itmk0_words\']=parse_itmk_words($itmk0);
		$tpldata[\'itmsk0_words\']=parse_itmsk_words($itmsk0);
		ob_clean();
		include template(MOD_ITEMMAIN_ITEMFIND);
		$cmd = ob_get_contents();
		ob_clean();
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/itemcmd.php',
)

Array\itemget ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		$log .= "获得了物品<span class=\\"yellow\\">$itm0</span>。<br>";
		if(preg_match(\'/^(WC|WD|WF|Y|B|C|TN|GB|M|V)/\',$itmk0) && $itms0 !== $nosta){
			if($wep == $itm0 && $wepk == $itmk0 && $wepe == $itme0 && $wepsk == $itmsk0){
				$weps += $itms0;
				$log .= "与装备着的武器<span class=\\"yellow\\">$wep</span>合并了。";
				$itm0 = $itmk0 = $itmsk0 = \'\';
				$itme0 = $itms0 = 0;
				$mode = \'command\';
				return;
			}else{
				for($i = 1;$i <= 6;$i++){
					if((${\'itms\'.$i})&&($itm0 == ${\'itm\'.$i})&&($itmk0 == ${\'itmk\'.$i})&&($itme0 == ${\'itme\'.$i})&&($itmsk0 == ${\'itmsk\'.$i})){
						${\'itms\'.$i} += $itms0;
						$log .= "与包裹里的<span class=\\"yellow\\">$itm0</span>合并了。";
						$itm0 = $itmk0 = $itmsk0 = \'\';
						$itme0 = $itms0 = 0;
						$mode = \'command\';
						return;
					}
				}
			}
		} elseif(preg_match(\'/^H|^P/\',$itmk0) && $itms0 !== $nosta){
			$sameitem = array();
			for($i = 1;$i <= 6;$i++){
				if(${\'itms\'.$i}&&($itm0 == ${\'itm\'.$i})&&($itme0 == ${\'itme\'.$i})&&(preg_match(\'/^(H|P)/\',${\'itmk\'.$i}))){
					$sameitem[] = $i;
				}
			}
			if(isset($sameitem[0])){
				include template(MOD_ITEMMAIN_ITEMMERGE0);
				$cmd = ob_get_contents();
				ob_clean();
	
	
	
	
				return;
			}
			
		}

		itemadd();
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/itemcmd.php',
)

Array\itemdrop ====> array (
  'vars' => '$item',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\'));

		if($item == \'wep\'){
			$itm = & $wep;
			$itmk = & $wepk;
			$itme = & $wepe;
			$itms = & $weps;
			$itmsk = & $wepsk;
		} elseif(strpos($item,\'ar\') === 0) {
			$itmn = substr($item,2,1);
			$itm = & ${\'ar\'.$itmn};
			$itmk = & ${\'ar\'.$itmn.\'k\'};
			$itme = & ${\'ar\'.$itmn.\'e\'};
			$itms = & ${\'ar\'.$itmn.\'s\'};
			$itmsk = & ${\'ar\'.$itmn.\'sk\'};

		} elseif(strpos($item,\'itm\') === 0) {
			$itmn = substr($item,3,1);
			$itm = & ${\'itm\'.$itmn};
			$itmk = & ${\'itmk\'.$itmn};
			$itme = & ${\'itme\'.$itmn};
			$itms = & ${\'itms\'.$itmn};
			$itmsk = & ${\'itmsk\'.$itmn};
		}

		if(!$itms||!$itmk||$itmk==\'WN\'||$itmk==\'DN\'){
			$log .= \'该物品不存在！<br>\';
			$itms = 0;
			$mode = \'command\';
			return;
		}
	
	
	
		$db->query("INSERT INTO {$tablepre}mapitem (itm, itmk, itme, itms, itmsk ,pls) VALUES (\'$itm\', \'$itmk\', \'$itme\', \'$itms\', \'$itmsk\', \'$pls\')");
		$dropid = $db->insert_id();
		$dropname = $itm;
		$log .= "你丢弃了<span class=\\"red\\">$dropname</span>。<br>";
		$mode = \'command\';
		if($item == \'wep\'){
		$itm = \'拳头\';
		$itmsk = \'\';
		$itmk = \'WN\';
		$itme = 0;
		$itms = $nosta;
		} else {
		$itm = $itmk = $itmsk = \'\';
		$itme = $itms = 0;
		}
		return array($dropid,$dropname);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/itemcmd.php',
)

Array\itemoff ====> array (
  'vars' => '$item',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\'));

		if($item == \'wep\'){
			$itm = & $wep;
			$itmk = & $wepk;
			$itme = & $wepe;
			$itms = & $weps;
			$itmsk = & $wepsk;
		} elseif(strpos($item,\'ar\') === 0) {
			$itmn = substr($item,2,1);
			$itm = & ${\'ar\'.$itmn};
			$itmk = & ${\'ar\'.$itmn.\'k\'};
			$itme = & ${\'ar\'.$itmn.\'e\'};
			$itms = & ${\'ar\'.$itmn.\'s\'};
			$itmsk = & ${\'ar\'.$itmn.\'sk\'};
		}
		if(!$itms||!$itmk||$itmk==\'WN\'||$itmk==\'DN\'){
			$log .= \'该物品不存在！<br>\';
			$itms = 0;
			$mode = \'command\';
			return;
		}
		$log .= "你卸下了装备<span class=\\"yellow\\">$itm</span>。<br>";

		$itm0 = $itm;
		$itmk0 = $itmk;
		$itme0 = $itme;
		$itms0 = $itms;
		$itmsk0 = $itmsk;
		
		if($item == \'wep\'){
		$itm = \'拳头\';
		$itmsk = \'\';
		$itmk = \'WN\';
		$itme = 0;
		$itms = $nosta;
		} else {
		$itm = $itmk = $itmsk = \'\';
		$itme = $itms = 0;
		}
		itemget();
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/itemcmd.php',
)

Array\itemadd ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if(!$itms0){
			$log .= \'你没有捡取物品。<br>\';
			$mode = \'command\';
			return;
		}
		for($i = 1;$i <= 6;$i++){
			if(!${\'itms\'.$i}){
				$log .= "将<span class=\\"yellow\\">$itm0</span>放入包裹。<br>";
				${\'itm\'.$i} = $itm0;
				${\'itmk\'.$i} = $itmk0;
				${\'itme\'.$i} = $itme0;
				${\'itms\'.$i} = $itms0;
				${\'itmsk\'.$i} = $itmsk0;
				$itm0 = $itmk0 = $itmsk0 = \'\';
				$itme0 = $itms0 = 0;
				$mode = \'command\';
				return;
			}
		}
		
		include template(MOD_ITEMMAIN_ITEMDROP0);
		$cmd = ob_get_contents();
		ob_clean();
	
	
	
	
	
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/itemcmd.php',
)

Array\itemmerge ====> array (
  'vars' => '$itn1,$itn2',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		
		if($itn1 == $itn2) {
			$log .= \'需要选择两个物品才能进行合并！\';
			$mode = \'itemmerge\';
			return;
		}
		
		$it1 = & ${\'itm\'.$itn1};
		$itk1 = & ${\'itmk\'.$itn1};
		$ite1 = & ${\'itme\'.$itn1};
		$its1 = & ${\'itms\'.$itn1};
		$itsk1 = & ${\'itmsk\'.$itn1};
		$it2 = & ${\'itm\'.$itn2};
		$itk2 = & ${\'itmk\'.$itn2};
		$ite2 = & ${\'itme\'.$itn2};
		$its2 = & ${\'itms\'.$itn2};
		$itsk2 = & ${\'itmsk\'.$itn2};
		
		if(!$its1 || !$its2) {
			$log .= \'请选择正确的物品进行合并！\';
			$mode = \'itemmerge\';
			return;
		}
		
		if($its1==$nosta || $its2==$nosta) {
			$log .= \'耐久是无限的物品不能合并！\';
			$mode = \'itemmerge\';
			return;
		}

		if(($it1 == $it2)&&($ite1 == $ite2)) {
			if(($itk1==$itk2)&&($itsk1==$itsk2)&&preg_match(\'/^(WC|WD|WF|Y|B|C|TN|GB|V|M)/\',$itk1)) {
				$its2 += $its1;
				$it1 = $itk1 = $itsk1 = \'\';
				$ite1 = $its1 = 0;
				$log .= "你合并了<span class=\\"yellow\\">$it2</span>。";
				$mode = \'command\';
				return;
			} elseif(preg_match(\'/^(H|P)/\',$itk1)&&preg_match(\'/^(H|P)/\',$itk2)) {
				if((strpos($itk1,\'P\') === 0)||(strpos($itk1,\'P\') === 0)){
					$p1 = substr($itk1,2);
					$p2 = substr($itk2,2);
					$k = substr($itk1,1,1);
					if($p2 < $p1){ $p2 = $p1;};
					$itk2 = "P$k$p2";
					if($itsk1 !== \'\'){
						$itsk2=$itsk1;
						}
				}
				$its2 += $its1;
				$it1 = $itk1 = $itsk1 = \'\';
				$ite1 = $its1 = 0;
				
				$log .= "你合并了 <span class=\\"yellow\\">$it2</span>。";
				$mode = \'command\';
				return;
			} elseif($itk1!=$itk2||$itsk1!=$itsk2) {
				$log .= "<span class=\\"yellow\\">$it1</span>与<span class=\\"yellow\\">$it2</span>不是同类型同属性物品，不能合并！";
				$mode = \'itemmerge\';
			} else{
				$log .= "<span class=\\"yellow\\">$it1</span>与<span class=\\"yellow\\">$it2</span>完全是两个东西，想合并也不可能啊……";
				$mode = \'itemmerge\';
			}
		} else {
			$log .= "<span class=\\"yellow\\">$it1</span>与<span class=\\"yellow\\">$it2</span>不是同名同效果物品，不能合并！";
			$mode = \'itemmerge\';
		}

		if(!$itn1 || !$itn2) {
			itemadd();
		}

		
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/itemcmd.php',
)

Array\itemmove ====> array (
  'vars' => '$from,$to',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		
		if(!$from || !is_numeric($from) || !$to || !is_numeric($to) || $from < 1 || $to < 1 || $from > 6 || $to > 6){
			$log .= \'错误的包裹位置参数。<br>\';
			return;
		}	elseif($from == $to){
			$log .= \'同一物品无法互换。<br>\';
			return;
		}
		$f = & ${\'itm\'.$from};
		$fk = & ${\'itmk\'.$from};
		$fe = & ${\'itme\'.$from};
		$fs = & ${\'itms\'.$from};
		$fsk = & ${\'itmsk\'.$from};
		$t = & ${\'itm\'.$to};
		$tk = & ${\'itmk\'.$to};
		$te = & ${\'itme\'.$to};
		$ts = & ${\'itms\'.$to};
		$tsk = & ${\'itmsk\'.$to};
		if(!$fs){
			$log .= \'错误的道具参数。<br>\';
			return;
		}
		if(!$ts){
			$log .= "将<span class=\\"yellow\\">{$f}</span>移动到了<span class=\\"yellow\\">包裹{$to}</span>。<br>";
			$t = $f;
			$tk = $fk;
			$te = $fe;
			$ts = $fs;
			$tsk = $fsk;
			$f = $fk = $fsk = \'\';
			$fe = $fs = 0;
			
		}else {
			$log .= "将<span class=\\"yellow\\">{$f}</span>与<span class=\\"yellow\\">{$t}</span>互换了位置。<br>";
			$temp = $t;
			$tempk = $tk;
			$tempe = $te;
			$temps = $ts;
			$tempsk = $tsk;
			$t = $f;
			$tk = $fk;
			$te = $fe;
			$ts = $fs;
			$tsk = $fsk;
			$f = $temp;
			$fk = $tempk;
			$fe = $tempe;
			$fs = $temps;
			$fsk = $tempsk;
			
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmain/itemcmd.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill4/main.php',
)

Array\acquire4 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill4/main.php',
)

Array\lost4 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill4/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (strpos($pa[\'inf\'],\'f\')!==false) \\skillbase\\skill_acquire(4,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill4/main.php',
)

Array\skill_onsave_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(4,$pa)) \\skillbase\\skill_lost(4,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill4/main.php',
)

Array\calculate_move_sp_cost ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(4)) 
			return $chprocess()+10;
		else  return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill4/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'player\'));
		
		global $npc_typeinfo;
		$typeinfo+=$npc_typeinfo;
		
		global $npc_killmsginfo;
		$killmsginfo+=$npc_killmsginfo;
		
		global $npc_lwinfo;
		$lwinfo+=$npc_lwinfo;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npc/main.php',
)

Array\check_initnpcadd ====> array (
  'vars' => '$typ',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npc/main.php',
)

Array\init_npcdata ====> array (
  'vars' => '$npc, $plslist=array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\',\'map\',\'player\',\'npc\',\'lvlctl\'));
		
		if(!$plslist) $plslist = \\map\\get_safe_plslist();
		
		$npc[\'endtime\'] = $now;
		$npc[\'hp\'] = $npc[\'mhp\'];
		$npc[\'sp\'] = $npc[\'msp\'];
		$npc[\'ss\'] = $npc[\'mss\'];
		
		$npc[\'exp\'] = \\lvlctl\\calc_upexp($npc[\'lvl\'] - 1);
		
		if(is_array($npc[\'skill\'])) {$npc = array_merge($npc,$npc[\'skill\']);}
		else { $npc[\'wp\'] = $npc[\'wk\'] = $npc[\'wg\'] = $npc[\'wc\'] = $npc[\'wd\'] = $npc[\'wf\'] = $npc[\'skill\'];}						
		
		if($npc[\'gd\'] == \'r\'){$npc[\'gd\'] = rand(0,1) ? \'m\':\'f\';}
		





		if($npc[\'pls\'] == 99){
			if(!empty($plslist)){
				shuffle($plslist);
				$npc[\'pls\'] = $plslist[0];
			}else{
				$npc[\'pls\'] = 0;
			}
		}	
		
		if(!isset($npc[\'state\'])){$npc[\'state\'] = 1;}
		
		if (isset($npc[\'skills\']) && is_array($npc[\'skills\'])){
			$npc[\'pid\'] = -2;
			$npc[\'skills\'][\'460\']=\'0\';
			$npc[\'nskill\'] = $npc[\'nskillpara\'] = \'\';
			\\skillbase\\skillbase_load($npc);
			foreach ($npc[\'skills\'] as $key=>$value){
				if (defined(\'MOD_SKILL\'.$key)){
					\\skillbase\\skill_acquire($key,$npc);
					if ($value>0){
						\\skillbase\\skill_setvalue($key,\'lvl\',$value,$npc);
					}
				}	
			}
			
			\\skillbase\\skillbase_save($npc);
			unset($npc[\'pid\']);
		}
		
		return $npc;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npc/main.php',
)

Array\rs_game ====> array (
  'vars' => '$xmode = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		
		$chprocess($xmode);
		
		eval(import_module(\'sys\',\'map\',\'player\',\'npc\',\'lvlctl\',\'skillbase\'));
		if ($xmode & 8) {
			
			$db->query("DELETE FROM {$tablepre}players WHERE type>0 ");
			
			$npcqry = \'\';
			$ninfo = get_npclist();
			
			$pls_available = \\map\\get_safe_plslist();
			
			foreach ($ninfo as $i => $npcs){
				if(!empty($npcs)) {
					
					if (!check_initnpcadd($i)) continue;
					
					$subnum = sizeof($npcs[\'sub\']);
					$jarr = $jarr0 = array_keys($npcs[\'sub\']);
					
					if (!$subnum || !$npcs[\'num\']) $jarr=array();
					
					elseif ($subnum > $npcs[\'num\']) {
						shuffle($jarr);
						$jarr=array_slice($jarr,0,$npcs[\'num\']);
					
					}elseif ($subnum < $npcs[\'num\']) {
						while(sizeof($jarr) < $npcs[\'num\']) {
							$jarr = array_merge($jarr,$jarr0);
						}
					}
					sort($jarr);
					
					foreach($jarr as $j){
						
						$npc = array_merge($npcinit,$npcs);
						
						if(isset($npc[\'sub\']) && is_array($npc[\'sub\'])) $npc = array_merge($npc,$npc[\'sub\'][$j]);
						
						$npc[\'type\'] = $i;
						$npc[\'sNo\'] = $j;
						
						$npc = init_npcdata($npc, $pls_available);
						













						
						$npc=\\player\\player_format_with_db_structure($npc);
						$db->array_insert("{$tablepre}players", $npc);
						
















						
















						
						unset($npc);
					}
				}
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npc/main.php',
)

Array\get_npclist ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\',\'npc\'));
		return $npcinfo;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npc/main.php',
)

Array\addarea_pc_process_single ====> array (
  'vars' => '$sub, $atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($sub, $atime);
		eval(import_module(\'sys\',\'map\',\'npc\'));
		$pid = $sub[\'pid\'];
		$o_sub = $sub;
		$pls_available = \\map\\get_safe_plslist();
		if($sub[\'type\'] && !in_array($sub[\'type\'],$killzone_resistant_typelist) && $pls_available){
			shuffle($pls_available);
			$sub[\'pls\'] = $pls_available[0];
			$db->array_update("{$tablepre}players",$sub,"pid=\'$pid\'",$o_sub);
			\\player\\post_pc_avoid_killarea($sub, $atime);
			
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npc/main.php',
)

Array\get_player_killmsg ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'player\'));
		if ($pdata[\'type\']>0)
		{
			if (isset($killmsginfo [$pdata[\'type\']]))
				$kilmsg = $killmsginfo [$pdata[\'type\']];
			else  $kilmsg = \'\';
			return $kilmsg;
		}
		else  return $chprocess($pdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npc/main.php',
)

Array\get_player_lastword ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'player\'));
		if ($pdata[\'type\']>0)
		{
			if (is_array ( $lwinfo [$pdata[\'type\']] )) {
				if (isset($lwinfo [$pdata[\'type\']] [$pdata[\'name\']]))
					$lstwd = $lwinfo [$pdata[\'type\']] [$pdata[\'name\']];
				else  $lstwd = \'\';
			} else {
				if (isset($lwinfo [$pdata[\'type\']]))
					$lstwd = $lwinfo [$pdata[\'type\']];
				else  $lstwd = \'\';
			}
			return $lstwd;
		}
		else  return $chprocess($pdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npc/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL13_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill13/main.php',
)

Array\acquire13 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'wp\']+=25;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill13/main.php',
)

Array\lost13 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill13/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(13,$pa)) $pa[\'wp\']+=rand(4,6);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill13/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL14_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill14/main.php',
)

Array\acquire14 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'wk\']+=25;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill14/main.php',
)

Array\lost14 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill14/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(14,$pa)) $pa[\'wk\']+=rand(4,6);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill14/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL15_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill15/main.php',
)

Array\acquire15 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'wg\']+=25;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill15/main.php',
)

Array\lost15 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill15/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(15,$pa)) $pa[\'wg\']+=rand(4,6);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill15/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL16_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill16/main.php',
)

Array\acquire16 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'wc\']+=25;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill16/main.php',
)

Array\lost16 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill16/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(16,$pa)) $pa[\'wc\']+=rand(4,6);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill16/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL17_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill17/main.php',
)

Array\acquire17 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'wd\']+=25;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill17/main.php',
)

Array\lost17 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill17/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(17,$pa)) $pa[\'wd\']+=rand(5,7);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill17/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL18_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill18/main.php',
)

Array\acquire18 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'wf\']+=20;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill18/main.php',
)

Array\lost18 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill18/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(18,$pa)) $pa[\'wf\']+=rand(3,5);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill18/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL24_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill24/main.php',
)

Array\acquire24 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill24/main.php',
)

Array\lost24 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill24/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'lvlctl\'));
		if (rand(0,2)==0) $lvuphp += 2; else $lvuphp += 1;
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill24/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL411_INFO\',\'card;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill411/main.php',
)

Array\acquire411 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill411/main.php',
)

Array\lost411 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill411/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(411,$pa)){
			$pa[\'wp\']+=rand(2,4);
			$pa[\'wk\']+=rand(2,4);
			$pa[\'wc\']+=rand(2,4);
			$pa[\'wg\']+=rand(2,4);
			$pa[\'wd\']+=rand(2,4);
			$pa[\'wf\']+=rand(2,4);
		}
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill411/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL256_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill256/main.php',
)

Array\acquire256 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'wp\']+=50;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill256/main.php',
)

Array\lost256 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill256/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		global $tdata; $tdata=Array(); 
		eval(import_module(\'player\'));
		foreach ($db_player_structure as $key) global ${\'w_\'.$key};
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\metman_load_playerdata ====> array (
  'vars' => '$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'metman\'));
		foreach ($pdata as $key => $value) ${\'w_\'.$key}=$value;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\init_battle ====> array (
  'vars' => '$ismeet = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'metman\'));
		
		$tdata=Array();
		$w_upexp = \\lvlctl\\calc_upexp($w_lvl);
		
		
		if($w_hp <= 0) {
			$tdata[\'hpstate\'] = "<span class=\\"red\\">$hpinfo[3]</span>";
			$tdata[\'spstate\'] = "<span class=\\"red\\">$spinfo[3]</span>";
			$tdata[\'ragestate\'] = "<span class=\\"red\\">$rageinfo[3]</span>";
			$tdata[\'isdead\'] = true;
		} else{
			if($w_hp < $w_mhp*0.2) {
			$tdata[\'hpstate\'] = "<span class=\\"red\\">$hpinfo[2]</span>";
			} elseif($w_hp < $w_mhp*0.5) {
			$tdata[\'hpstate\'] = "<span class=\\"yellow\\">$hpinfo[1]</span>";
			} else {
			$tdata[\'hpstate\'] = "<span class=\\"clan\\">$hpinfo[0]</span>";
			}
			if($w_sp < $w_msp*0.2) {
			$tdata[\'spstate\'] = "$spinfo[2]";
			} elseif($w_sp < $w_msp*0.5) {
			$tdata[\'spstate\'] = "$spinfo[1]";
			} else {
			$tdata[\'spstate\'] = "$spinfo[0]";
			}
			if($w_rage >= 100) {
			$tdata[\'ragestate\'] = "<span class=\\"red\\">$rageinfo[2]</span>";
			} elseif($w_rage >= 30) {
			$tdata[\'ragestate\'] = "<span class=\\"yellow\\">$rageinfo[1]</span>";
			} else {
			$tdata[\'ragestate\'] = "$rageinfo[0]";
			}
		}
		
		if($w_wepe >= 400) {
			$tdata[\'wepestate\'] = "$wepeinfo[3]";
		} elseif($w_wepe >= 200) {
			$tdata[\'wepestate\'] = "$wepeinfo[2]";
		} elseif($w_wepe >= 60) {
			$tdata[\'wepestate\'] = "$wepeinfo[1]";
		} else {
			$tdata[\'wepestate\'] = "$wepeinfo[0]";
		}
		
		$tdata[\'cardinfo\'] = $w_cardname;
		$tdata[\'sNoinfo\'] = "$typeinfo[$w_type]({$sexinfo[$w_gd]}{$w_sNo}号)";
		$w_i = $w_type > 0 ? \'n\' : $w_gd;
		$tdata[\'iconImg\'] = $w_i.\'_\'.$w_icon.\'.gif\';
		if ($w_type==0) $tdata[\'iconImg\'] = $w_i.\'_\'.$w_icon.\'a.gif\';
		$tdata[\'name\']=$w_name;
		$tdata[\'wep\']=$w_wep;
		$tdata[\'lvl\']=$w_lvl;
		$tdata[\'wepk\']=$w_wepk;
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\calculate_findman_obbs ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'metman\'));
		return $metman_obbs;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\calculate_hide_obbs ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\check_alive_discover ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'metman\',\'logger\'));
		$find_obbs = calculate_findman_obbs($edata);
		$hide_obbs = calculate_hide_obbs($edata);
		$enemy_dice = rand(0,99);
		
		if($enemy_dice < $find_obbs - $hide_obbs) 
			return 1; 
		else 
		{ 
			$hideflag=true;
			return 0;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\check_corpse_discover ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\check_corpse_discover_dice ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\check_player_discover ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if($edata[\'hp\'] > 0)
			return check_alive_discover($edata);
		else  
		{
			
			if (!check_corpse_discover($edata)) return -1;
			return check_corpse_discover_dice($edata);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\meetman ====> array (
  'vars' => '$sid',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\'));
		\\player\\update_sdata();
		$edata = \\player\\fetch_playerdata_by_pid($sid);
		meetman_alternative($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\meetman_alternative ====> array (
  'vars' => '$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'metman\',\'logger\'));
		$battle_title = \'发现人物\';
		extract($edata,EXTR_PREFIX_ALL,\'w\');
		init_battle(1);
		$log .= "你发现了人物<span class=\\"yellow\\">$w_name</span>。<br>你友善地打了个招呼。<br>";
		include template(MOD_METMAN_MEETMAN_CMD);
		$cmd = ob_get_contents();
		ob_clean();
		$main = MOD_METMAN_MEETMAN;
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\calculate_meetman_rate_by_mode ====> array (
  'vars' => '$schmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		$result = $db->query("SELECT pid FROM {$tablepre}players WHERE pls=\'$pls\' AND pid!=\'$pid\' AND (hp>\'0\' OR corpse_clear_flag!=\'1\')");
		$pcount=$db->num_rows($result);
		if(!$pcount){
			if ($schmode == \'search\') return 50;
			if ($schmode == \'move\') return 50;
			if ($schmode == \'search2\') return 50;
		}
		$erate=$pcount*3;
		if ($erate>30) $erate=30;
		if ($schmode == \'search\') return 20+$erate;
		if ($schmode == \'move\') return 40+$erate;
		if ($schmode == \'search2\') return 100;
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\calculate_meetman_rate ====> array (
  'vars' => '$schmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return calculate_meetman_rate_by_mode($schmode);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\discover_player ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'metman\'));
		$result = $db->query("SELECT pid FROM {$tablepre}players WHERE pls=\'$pls\' AND pid!=\'$pid\' AND (hp>\'0\' OR corpse_clear_flag!=\'1\')");
		if(!$db->num_rows($result)){
			$log .= \'<span class="yellow">周围一个人都没有。</span><br>\';
			$mode = \'command\';
			return;
		}

		$enemynum = $db->num_rows($result);
		$enemyarray = range(0, $enemynum - 1);
		shuffle($enemyarray);
		
		$hideflag = false;
		foreach($enemyarray as $enum){
			$db->data_seek($result, $enum);
			$z=$db->fetch_array($result);
			$edata = \\player\\fetch_playerdata_by_pid($z[\'pid\']);
			if (isset($edata[\'infochanged\']) && $edata[\'infochanged\']) \\player\\player_save($edata);
			if ($edata[\'pls\']==$pls)	
			{
				$z=check_player_discover($edata);
				if ($z==-1)
				{
					
					\\explore\\discover(\'search2\');
					return;
				}
				if ($z)
				{
					meetman($edata[\'pid\']);
					return;
				}
			}
			else {
				$log .= \'你发现了\'.$edata[\'name\'].\'，但对方匆匆离去，你追之不及。<br>\';
			}
		}
		if($hideflag == true){
			$log .= \'似乎有人隐藏着……<br>\';
		}else{
			$log .= \'<span class="yellow">周围似乎一个人都没有。</span><br>\';
		}
		$mode = \'command\';
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\discover ====> array (
  'vars' => '$schmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$dice = rand(0,99);
		eval(import_module(\'logger\'));
		$meetman_rate = calculate_meetman_rate($schmode);
		if($meetman_rate < 20) $meetman_rate = 20;
		
		if($dice < $meetman_rate) {
			discover_player();
			return;
		} 
		$chprocess($schmode);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/metman/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix/main.php',
)

Array\itemmix_success ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		$itmstr = $uip[\'itmstr\'];
		$log .= "<span class=\\"yellow\\">$itmstr</span>合成了<span class=\\"yellow\\">{$itm0}</span><br>";
		addnews($now,\'itemmix\',$name,$itm0);
	
		$wd+=1;
		if((strpos($itmk0,\'H\') === 0)&&($club == 16)&&($itms0 !== $nosta)){ $itms0 = ceil($itms0*2); }
		elseif(($itmk0 == \'EE\' || $itmk0 == \'ER\') && ($club == 7)){ $itme0 *= 5; }

		\\itemmain\\itemget();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix/main.php',
)

Array\itemmix_place_check ====> array (
  'vars' => '$mlist',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'itemmix\'));
		$mlist2 = array_unique($mlist);	
		if(count($mlist) != count($mlist2)) {
			$log .= \'相同道具不能进行合成！<br>\';
			$mode = \'itemmix\';
			return false;
		}
		if(count($mlist) < 2){
			$log .= \'至少需要2个道具才能进行合成！\';
			$mode = \'itemmix\';
			return false;
		}
		
		foreach($mlist as $val){
			if(!${\'itm\'.$val}){
				$log .= \'所选择的道具不存在！\';
				$mode = \'itemmix\';
				return false;
			}
		}
		return true;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix/main.php',
)

Array\itemmix_name_proc ====> array (
  'vars' => '$n',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmix\'));
		foreach(Array(\'/锋利的/\',\'/电气/\',\'/毒性/\',\'/-改$/\') as $value){
			$n = preg_replace($value,\'\',$n);
		}
		$n = str_replace(\'钉棍棒\',\'棍棒\',$n);
		return $n;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix/main.php',
)

Array\itemmix_recipe_check ====> array (
  'vars' => '$mi',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmix\'));
		if(count($mi) >= 2){
			foreach($mixinfo as $minfo){
				$mi0 = $mi; $ms = $minfo[\'stuff\'];
				sort($mi0);sort($ms);
				if(count($mi0)==count($ms) && $mi0 == $ms) {
					return $minfo;
				}
			}
		}
		return false;	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix/main.php',
)

Array\parse_itemmix_resultshow ====> array (
  'vars' => '$rarr',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		return $rarr[0].\'/\'.\\itemmain\\parse_itmk_words($rarr[1]).\'/\'.$rarr[2].\'/\'.$rarr[3].\'/\'.\\itemmain\\parse_itmsk_words($rarr[4]);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix/main.php',
)

Array\itemmix ====> array (
  'vars' => '$mlist, $itemselect=-1',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'itemmix\'));
		
		if(!itemmix_place_check($mlist)) return;
		
		$mixitem = array();
		foreach($mlist as $val){
			$mixitem[] = itemmix_name_proc(${\'itm\'.$val});
		}
		$mix_res = itemmix_recipe_check($mixitem);

















		
		$itmstr = \'\';
		foreach($mixitem as $val){
			$itmstr .= $val.\' \';
		}
		$itmstr = substr($itmstr,0,-1);
			
		if(!$mix_res) {
			$log .= "<span class=\\"yellow\\">$itmstr</span>不能合成！<br>";
			ob_clean();
			template(get_itemmix_filename());
			$cmd = ob_get_contents();
			ob_clean();
		} else {
			foreach($mlist as $val){
				itemreduce(\'itm\'.$val);
			}
			$minfo = $mix_res;
			$itm0 = $minfo[\'result\'][0];
			$itmk0 = $minfo[\'result\'][1];
			$itme0 = $minfo[\'result\'][2];
			$itms0 = $minfo[\'result\'][3];
			if (isset($minfo[\'result\'][4]))
				$itmsk0 = $minfo[\'result\'][4];
			else{
				$itmsk0 = \'\';
			}
			$uip[\'itmstr\'] = $itmstr;
			itemmix_success();
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix/main.php',
)

Array\get_itemmix_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		return MOD_ITEMMIX_ITEMMIX;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix/main.php',
)

Array\itemreduce ====> array (
  'vars' => '$item',
  'contents' => ' 
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if(strpos($item,\'itm\') === 0) {
			$itmn = substr($item,3,1);
			$itm = & ${\'itm\'.$itmn};
			$itmk = & ${\'itmk\'.$itmn};
			$itme = & ${\'itme\'.$itmn};
			$itms = & ${\'itms\'.$itmn};
			$itmsk = & ${\'itmsk\'.$itmn};
		} else {
			return;
		}

		if(!$itms) { return; }
		if(preg_match(\'/^(Y|B|C|X|TN|GB|H|P|V|M)/\',$itmk)){$itms--;}
		else{$itms=0;}
		if($itms <= 0) {
			$itms = 0;
			$log .= "<span class=\\"red\\">$itm</span>用光了。<br>";
			$itm = $itmk = $itmsk = \'\';
			$itme = $itms = 0;
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'input\'));
		if($mode == \'itemmain\') {
			if($command == \'itemmix\') {
				if (isset($itemselect) && $itemselect==999)
					$mode=\'command\';
				else
				{
					$mixlist = array();
					if (!isset($mixmask))
					{
						for($i=1;$i<=6;$i++)
							if(isset(${\'mitm\'.$i}) && ${\'mitm\'.$i} == $i)
								$mixlist[] = $i;
					}
					else
					{
						for($i=1;$i<=6;$i++)
							if ($mixmask&(1<<($i-1)))
								$mixlist[] = $i;
					}
					if (isset($itemselect))
						itemmix($mixlist,$itemselect);
					else  itemmix($mixlist);
				}
			}
		}
		if ($mode == \'command\' && $command == \'itemmain\' && $itemcmd==\'itemmix\')
		{
			ob_clean();
			if ($itemcmd==\'itemmix\') include template(get_itemmix_filename());
			$cmd = ob_get_contents();
			ob_clean();
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($news == \'itemmix\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}合成了{$b}</span></li>";
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemshop/main.php',
)

Array\get_shoplist ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\'));
		$file = __DIR__.\'/config/shopitem.config.php\';
		$sl = openfile($file);
		return $sl;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemshop/main.php',
)

Array\rs_game ====> array (
  'vars' => '$xmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		
		$chprocess($xmode);
		
		$sqldir = GAME_ROOT.\'./gamedata/sql/\';
		
		eval(import_module(\'sys\'));
		if ($xmode & 32) {
			
			$sql = file_get_contents("{$sqldir}shopitem.sql");
			$sql = str_replace("\\r", "\\n", str_replace(\' bra_\', \' \'.$tablepre, $sql));
			$db->queries($sql);
			
			$shoplist=get_shoplist();
			
			$qry = \'\';
			foreach($shoplist as $lst){
				if(!empty($lst) && strpos($lst,\',\')!==false){
					list($kind,$num,$price,$area,$item,$itmk,$itme,$itms,$itmsk)=explode(\',\',$lst);
					if($kind != 0){
						$qry .= "(\'$kind\',\'$num\',\'$price\',\'$area\',\'$item\',\'$itmk\',\'$itme\',\'$itms\',\'$itmsk\'),";
					}
				}			
			}
			if(!empty($qry)){
				$qry = "INSERT INTO {$tablepre}shopitem (kind,num,price,area,item,itmk,itme,itms,itmsk) VALUES ".substr($qry, 0, -1);
			}
			$db->query($qry);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemshop/main.php',
)

Array\prepare_shopitem ====> array (
  'vars' => '$sn',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'map\',\'itemmain\'));
		$arean = floor($areanum / $areaadd); 
		$result=$db->query("SELECT * FROM {$tablepre}shopitem WHERE kind = \'$sn\' AND area <= \'$arean\' AND num > \'0\' AND price > \'0\' ORDER BY sid");
		$shopnum = $db->num_rows($result);
		for($i=0;$i< $shopnum;$i++){
			$itemdata[$i]=$db->fetch_array($result);
			$itemdata[$i][\'itmk_words\']=\\itemmain\\parse_itmk_words($itemdata[$i][\'itmk\'],1);
			$itemdata[$i][\'itmsk_words\']=\\itemmain\\parse_itmsk_words($itemdata[$i][\'itmsk\'],1);
		}
		return $itemdata;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemshop/main.php',
)

Array\shoplist ====> array (
  'vars' => '$sn',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		$itemdata = prepare_shopitem($sn);
		
		$shop=$sn;
		ob_clean();
		include template(get_itemshop_filename());
		$cmd = ob_get_contents();
		ob_clean();
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemshop/main.php',
)

Array\get_itemshop_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\'));
		return MOD_ITEMSHOP_SHOP;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemshop/main.php',
)

Array\get_sp_shop_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\'));
		return MOD_ITEMSHOP_SP_SHOP;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemshop/main.php',
)

Array\get_shopiteminfo ====> array (
  'vars' => '$item',
  'contents' => '	
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\'));
		$result=$db->query("SELECT * FROM {$tablepre}shopitem WHERE sid = \'$item\'");
		$shopiteminfo = $db->fetch_array($result);
		return $shopiteminfo;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemshop/main.php',
)

Array\calculate_shop_itembuy_cost ====> array (
  'vars' => '$price,$bnum',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $price*$bnum;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemshop/main.php',
)

Array\itembuy ====> array (
  'vars' => '$item,$shop,$bnum=1',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'map\',\'player\',\'logger\',\'itemmain\'));
		$shopiteminfo = get_shopiteminfo($item);
		$price = $shopiteminfo[\'price\'];
		
		if($price<0) {
			$log .= \'要购买的道具不存在！<br><br>\';
			$mode = \'command\';
			return;
		}

		$bnum = (int)$bnum;
		$cost=calculate_shop_itembuy_cost($price,$bnum);
		
		
		if($shopiteminfo[\'num\'] <= 0) {
			$log .= \'此物品已经售空！<br><br>\';
			$mode = \'command\';
			return;
		} elseif($bnum<=0) {
			$log .= \'购买数量必须为大于0的整数。<br><br>\';
			$mode = \'command\';
			return;
		} elseif($bnum>$shopiteminfo[\'num\']) {
			$log .= \'购买数量必须小于存货数量。<br><br>\';
			$mode = \'command\';
			return;
		} elseif($money < $cost) {
			$log .= \'你的钱不够，不能购买此物品！<br><br>\';
			$mode = \'command\';
			return;
		} elseif( ($shopiteminfo[\'itms\']===\'∞\' || !preg_match(\'/^(WC|WD|WF|Y|B|C|TN|GB|H|P|V|M|X|p|ygo)/\',$shopiteminfo[\'itmk\']) )&&$bnum>1) {
			$log .= \'此物品一次只能购买一个。<br><br>\';
			$mode = \'command\';
			return;
		}elseif($shopiteminfo[\'area\']> $areanum/$areaadd){
			$log .= \'此物品尚未开放出售！<br><br>\';
			$mode = \'command\';
			return;
		}

		$inum = $shopiteminfo[\'num\']-$bnum;
		$sid = $shopiteminfo[\'sid\'];
		$db->query("UPDATE {$tablepre}shopitem SET num = \'$inum\' WHERE sid = \'$sid\'");

		$money -= $cost;
	
		addnews($now,\'itembuy\',$name,$iteminfo[\'item\']);
		$log .= "购买成功。";
		$itm0 = $shopiteminfo[\'item\'];
		$itmk0 = $shopiteminfo[\'itmk\'];
		$itme0 = $shopiteminfo[\'itme\'];
		$itms0 = $shopiteminfo[\'itms\'] === \'∞\' ? $shopiteminfo[\'itms\'] : $shopiteminfo[\'itms\']*$bnum;
		$itmsk0 = $shopiteminfo[\'itmsk\'];

		\\itemmain\\itemget();	
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemshop/main.php',
)

Array\check_in_shop_area ====> array (
  'vars' => '$p',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'itemshop\'));
		return in_array($p,$shops);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemshop/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'itemmain\',\'itemshop\',\'input\'));
		if ($mode == \'command\' && $command == \'special\' && $sp_cmd == \'sp_shop\')	
		{
			ob_clean();
			include template(get_sp_shop_filename());
			$cmd = ob_get_contents();
			ob_clean();
			return;
		}
		
		if($mode == \'special\' && strpos($command,\'shop\') === 0)	
		{
			$shop = substr($command,4,2);
			shoplist($shop);
			return;
		}
		
		if($mode == \'shop\') 	
		{
			if(check_in_shop_area($pls)){
				if ($command == \'menu\') {	
					$mode = \'command\';
					return;
				} 
				else if($command == \'shop\') {	
					ob_clean();
					include template(get_sp_shop_filename());
					$cmd = ob_get_contents();
					ob_clean();
					return;
				} else {
					itembuy($command,$shoptype,$buynum);
					return;
				}
			}else{
				$log .= \'<span class="yellow">你所在的地区没有商店。</span><br />\';
				$mode = \'command\';
				return;
			}
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemshop/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if($news == \'itembuy\') {
			
			return \'\';
		}
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemshop/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$iteminfo[\'HH\'] = \'生命恢复\';
		$iteminfo[\'HS\'] = \'体力恢复\';
		$iteminfo[\'HB\'] = \'命体恢复\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/edible/main.php',
)

Array\get_edible_spup ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $theitem[\'itme\'];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/edible/main.php',
)

Array\get_edible_hpup ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $theitem[\'itme\'];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/edible/main.php',
)

Array\edible_recover ====> array (
  'vars' => '$itm, $hpup, $spup',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		$hp+=$hpup; $sp+=$spup;
		$log .= "你使用了<span class=\\"red\\">$itm</span>，恢复了";
		if ($hpup>0) $log.="<span class=\\"yellow\\">$hpup</span>点生命";
		if ($hpup>0 && $spup>0) $log.=\'和\';
		if ($spup>0) $log.="<span class=\\"yellow\\">$spup</span>点体力";
		$log.="。<br>";
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/edible/main.php',
)

Array\itemuse_edible ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'HS\' ) === 0) {
			if ($sp < $msp) {
				$spup = get_edible_spup($theitem);
				$spup = min($msp-$sp,$spup);
				$spup = max(0,$spup);
				edible_recover($itm,0,$spup);
				\\itemmain\\itms_reduce($theitem);
			} else {
				$log .= \'你的体力不需要恢复。<br>\';
			}
		} elseif (strpos ( $itmk, \'HH\' ) === 0) {
			if ($hp < $mhp) {
				$hpup = get_edible_hpup($theitem);
				$hpup = min($mhp-$hp,$hpup);
				$hpup = max(0,$hpup);
				edible_recover($itm,$hpup,0);
				\\itemmain\\itms_reduce($theitem);
			} else {
				$log .= \'你的生命不需要恢复。<br>\';
			}
		} elseif (strpos ( $itmk, \'HB\' ) === 0) {
			if (($hp < $mhp) || ($sp < $msp)) {
				$spup = get_edible_spup($theitem);
				$hpup = get_edible_hpup($theitem);
				$spup = min($msp-$sp,$spup);
				$hpup = min($mhp-$hp,$hpup);
				$spup = max(0,$spup);
				$hpup = max(0,$hpup);
				edible_recover($itm,$hpup,$spup);
				\\itemmain\\itms_reduce($theitem);
			} else {
				$log .= \'你的生命和体力都不需要恢复。<br>\';
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/edible/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'HS\' ) === 0 || strpos ( $itmk, \'HH\' ) === 0 || strpos ( $itmk, \'HB\' ) === 0)
		{
			itemuse_edible($theitem);
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/edible/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$iteminfo[\'ER\'] = \'探测仪器\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/radar/main.php',
)

Array\newradar ====> array (
  'vars' => '$mms = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'map\',\'radar\',\'logger\'));
		if(!$mode) {
			$log .= \'仪器使用失败！<br>\';
			return;
		}
		
		$npctplist = Array(90,2,5,6,7,11,14);
		$tdheight = 20;
		$screenheight = count($plsinfo)*$tdheight;
		$result = $db->query("SELECT type,pls FROM {$tablepre}players WHERE hp>0");
		while($cd = $db->fetch_array($result)) {
			$chdata[] = $cd;
		}
		$radar = array();
		foreach ($chdata as $data){
			if(isset($radar[$data[\'pls\']][$data[\'type\']])){$radar[$data[\'pls\']][$data[\'type\']]+=1;}
			else{$radar[$data[\'pls\']][$data[\'type\']]=1;}
		}
		$radarscreen = \'<table height=\'.$screenheight.\'px width=720px border="0" cellspacing="0" cellpadding="0" valign="middle"><tbody>\';
		$radarscreen .= "<tr>
			<td class=b2 height={$tdheight}px width=120px><div class=nttx></div></td>
			<td class=b2><div class=nttx>{$typeinfo[0]}</div></td>";
		foreach ($npctplist as $value){
			$radarscreen .= "<td class=b2><div class=nttx>{$typeinfo[$value]}</div></td>";
		}
		$radarscreen .= \'</tr>\';
		for($i=0;$i<count($plsinfo);$i++) {
			$radarscreen .= "<tr><td class=b2 height={$tdheight}px><div class=nttx>{$plsinfo[$i]}</div></td>";
			if((array_search($i,$arealist) > $areanum) || $hack) {
				if($i==$pls) {
					$num0 = $radar[$i][0];
					foreach ($npctplist as $j){
						if($gamestate == 50){${\'num\'.$j} = 0;}
						else{
							${\'num\'.$j} = isset($radar[$i][$j]) ? $radar[$i][$j] : 0;
						}
					}
					if($num0){
						$pnum[$i] ="<span class=\\"yellow b\\">$num0</span>";
					} else {
						$pnum[$i] =\'<span class="yellow b">-</span>\';
					}
					foreach ($npctplist as $j){
						if(${\'num\'.$j}){
						${\'npc\'.$j.\'num\'}[$i] ="<span class=\\"yellow b\\">${\'num\'.$j}</span>";
						} else {
						${\'npc\'.$j.\'num\'}[$i] =\'<span class="yellow b">-</span>\';
						}
					}
				} elseif($mms == 2) {
					$num0 = isset($radar[$i][0]) ? $radar[$i][0] : 0;
					foreach ($npctplist as $j){
						if($gamestate == 50){${\'num\'.$j} = 0;}
						else{
							${\'num\'.$j} = isset($radar[$i][$j]) ? $radar[$i][$j] : 0;
						}
						
					}
					if($num0){
						$pnum[$i] =$num0;
					} else {
						$pnum[$i] =\'-\';
					}
					foreach ($npctplist as $j){
						if(${\'num\'.$j}){
						${\'npc\'.$j.\'num\'}[$i] =${\'num\'.$j};
						} else {
						${\'npc\'.$j.\'num\'}[$i] =\'-\';
						}
					}
				} else {
					$pnum[$i] = \'？\';
					foreach ($npctplist as $j){
						${\'npc\'.$j.\'num\'}[$i] = \'？\';
					}
				}
			} else {
				$pnum[$i] = \'<span class="red b">×</span>\';
				foreach ($npctplist as $j){
					${\'npc\'.$j.\'num\'}[$i] = \'<span class="red b">×</span>\';
				}
			}
			$radarscreen .= "<td class=b3><div class=nttx>{$pnum[$i]}</div></td>";
			foreach ($npctplist as $j){
				$radarscreen .= "<td class=b3><div class=nttx>{${\'npc\'.$j.\'num\'}[$i]}</div></td>";
			}	
			$radarscreen .= \'</tr>\';
		}
		$radarscreen .= \'</tbody></table>\';
		$log .= \'白色数字：该区域内的人数<br><span class="yellow b">黄色数字</span>：自己所在区域的人数<br><span class="red b">×</span>：禁区<br><br>\';
		include template(MOD_RADAR_RADARCMD);
		$cmd = ob_get_contents();
		ob_clean();
		$main = MOD_RADAR_RADAR;
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/radar/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'ER\' ) === 0) {
			if ($itme > 0) {
				$log .= "使用了<span class=\\"red\\">$itm</span>。<br>";
				newradar ( $itmsk );
				$itme--;
				$log .= "消耗了<span class=\\"yellow\\">$itm</span>的电力。<br>";
				if ($itme <= 0) {
					$log .= $itm . \'的电力用光了，请使用电池充电。<br>\';
				}
			} else {
				$itme = 0;
				$log .= $itm . \'没有电了，请先充电。<br>\';
			}
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/radar/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'player\',\'itemmain\'));
		global $armor_art_equip_list, $armor_art_iteminfo;
		$equip_list=array_merge($equip_list,$armor_art_equip_list);
		$battle_equip_list=array_merge($battle_equip_list,$armor_art_equip_list);
		$iteminfo+=$armor_art_iteminfo;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/armor_art/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'A\' ) === 0)
		{
			$eqp = \'art\';
			$noeqp = \'\';
			
			if (($noeqp && strpos ( ${$eqp.\'k\'}, $noeqp ) === 0) || ! ${$eqp.\'s\'}) {
				${$eqp} = $itm;
				${$eqp.\'k\'} = $itmk;
				${$eqp.\'e\'} = $itme;
				${$eqp.\'s\'} = $itms;
				${$eqp.\'sk\'} = $itmsk;
				$log .= "装备了<span class=\\"yellow\\">$itm</span>。<br>";
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
			} else {
				swap(${$eqp},$itm);
				swap(${$eqp.\'k\'},$itmk);
				swap(${$eqp.\'e\'},$itme);
				swap(${$eqp.\'s\'},$itms);
				swap(${$eqp.\'sk\'},$itmsk);
				$log .= "卸下了<span class=\\"red\\">$itm</span>，装备了<span class=\\"yellow\\">${$eqp}</span>。<br>";
			}
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/armor_art/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$iteminfo[\'p\'] = \'礼物\';
		$iteminfo[\'ygo\'] = \'卡包\';
		$iteminfo[\'fy\'] = \'全图唯一的野生浮云礼盒\';
		$iteminfo[\'kj3\'] = \'礼包\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/boxes/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if(strpos ( $itmk, \'p\' ) === 0)
		{
			$log.="你打开了<span class=\\"yellow\\">$itm</span>。<br>";
			$file = __DIR__.\'/config/present.config.php\';
			$plist = openfile($file);
			while (1)
			{
				$rand = rand(0,count($plist)-1);
				list($in,$ik,$ie,$is,$isk) = explode(\',\',$plist[$rand]);
				$itm0 = $in;$itmk0=$ik;$itme0=$ie;$itms0=$is;$itmsk0=$isk;
				
				if (!in_array($gametype,$room_mode) || substr($ik,0,2)!=\'VO\') break;
			}
			addnews($now,\'present\',$name,$itm,$in);
			\\itemmain\\itms_reduce($theitem);
			\\itemmain\\itemget();		
			return;
		} elseif(strpos ( $itmk, \'ygo\' ) === 0){
			$log.="你打开了<span class=\\"yellow\\">$itm</span>。<br>";
			$file = __DIR__.\'/config/ygobox.config.php\';
			$plist1 = openfile($file);
			$rand1 = rand(0,count($plist1)-1);
			list($in,$ik,$ie,$is,$isk) = explode(\',\',$plist1[$rand1]);
			$itm0 = $in;$itmk0=$ik;$itme0=$ie;$itms0=$is;$itmsk0=$isk;
			addnews($now,\'present\',$name,$itm,$in);
			\\itemmain\\itms_reduce($theitem);
			\\itemmain\\itemget();	
			return;
		} elseif(strpos ( $itmk, \'fy\' ) === 0){
			$log.="你打开了<span class=\\"yellow\\">$itm</span>。<br>";
			$file = __DIR__.\'/config/fybox.config.php\';
			$plist1 = openfile($file);
			$rand1 = rand(0,count($plist1)-1);
			list($in,$ik,$ie,$is,$isk) = explode(\',\',$plist1[$rand1]);
			$itm0 = $in;$itmk0=$ik;$itme0=$ie;$itms0=$is;$itmsk0=$isk;
			addnews($now,\'present\',$name,$itm,$in);
			\\itemmain\\itms_reduce($theitem);
			\\itemmain\\itemget();	
			return;
		} elseif(strpos ( $itmk, \'kj3\' ) === 0){
			$log.="你打开了<span class=\\"yellow\\">$itm</span>。<br>";
			$file = __DIR__.\'/config/kj3box.config.php\';
			$plist1 = openfile($file);
			$rand1 = rand(0,count($plist1)-1);
			list($in,$ik,$ie,$is,$isk) = explode(\',\',$plist1[$rand1]);
			$itm0 = $in;$itmk0=$ik;$itme0=$ie;$itms0=$is;$itmsk0=$isk;
			addnews($now,\'present\',$name,$itm,$in);
			\\itemmain\\itms_reduce($theitem);
			\\itemmain\\itemget();	
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/boxes/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'present\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}打开了{$b}，获得了{$c}！</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/boxes/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/scpdrink/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) {
			if ($itm == \'装有H173的注射器\') {
				$log .= \'你考虑了一会，<br>把袖子卷了起来，给自己注射了H173。<br>\';
				$deathdice = rand ( 0, 8191 );
				if ($deathdice == 8191 || $club == 15) {
					$log .= \'你突然感觉到一种不可思议的力量贯通全身！<br>\';
					$wp = $wk = $wg = $wc = $wd = $wf = 3000;
					$att = $def = 5000;
					$club = 15;
					addnews ( $now, \'suisidefail\', $name );
					$itm = $itmk = $itmsk = \'\';
					$itme = $itms = 0;
				} else {
					$state = 31;
					$log .= \'你失去了知觉。<br>\';
					\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = $itm;
					\\player\\kill($sdata,$sdata);
					\\player\\player_save($sdata);
					\\player\\load_playerdata($sdata);
				}
				return;
			} elseif (strpos($itm, \'溶剂SCP-294\')===0) {
			
				if (defined(\'MOD_CLUBBASE\')) \\clubbase\\club_lost();
				$club = 17;
				if (defined(\'MOD_CLUBBASE\')) \\clubbase\\club_acquire($club);
				
				if($itm == \'溶剂SCP-294_PT_Poini_Kune\'){
					$log .= \'你考虑了一会，一扬手喝下了杯中中冒着紫色幽光的液体。<br><span class="yellow">你感到全身就像燃烧起来一样，不禁扪心自问这值得么？</span><br>\';
					if ($mhp > 573){
						$up = rand (0, $mhp + $msp);
					} else{
						$up = rand (0, 573);
					}

					if($club == 17){
						$hpdown = $spdown = round($up * 1.5);
					}elseif($club == 13){
						$hpdown = $up+200;
						$spdown = $up;
					}else{
						$hpdown = $spdown = $up;
					}
					$wp += $up;$wk += $up;$wg += $up;$wc += $up;$wd += $up;$wf += $up;
					$rp += 500;
					
					$mhp = $mhp - $hpdown;
					$msp = $msp - $spdown;				
					$log .= \'你的生命上限减少了<span class="yellow">\'.$hpdown.\'</span>点，体力上限减少了<span class="yellow">\'.$spdown.\'</span>点，而你的全系熟练度提升了<span class="yellow">\'.$up.\'</span>点！<br>\';
				} elseif ($itm == \'溶剂SCP-294_PT_Arnval\'){
					$log .= \'你考虑了一会，一扬手喝下了杯中中冒着白色气泡的清澈液体。<br><span class="yellow">你感到全身就像燃烧起来一样，不禁扪心自问这值得么？</span><br>\';
					if ($msp > 573){
						$up = rand (0, $msp * 1.5);
					} else{
						$up = rand (0, 573);
					}
					$mhp = $mhp + $up;
					$def = $def + $up;
					$down = $club == 17 ? round($up * 1.5) : $up;
					$rp += 200;
					$msp = $msp - $down;
					$att = $att - $down;
					
					$log .= \'你的体力上限和攻击力减少了<span class="yellow">\'.$down.\'</span>点，而你的生命上限和防御力提升了<span class="yellow">\'.$up.\'</span>点！<br>\';
				} elseif ($itm == \'溶剂SCP-294_PT_Strarf\') {
					$log .= \'你考虑了一会，一扬手喝下了杯中中冒着灰色气泡的清澈液体。<br><span class="yellow">你感到全身就像燃烧起来一样，不禁扪心自问这值得么？</span><br>\';
					if ($mhp > 573){
						$up = rand (0, $msp * 1.5);
					} else{
						$up = rand (0, 573);
					}
					$msp = $msp + $up;
					$att = $att + $up;
					$down = $club == 17 ? round($up * 1.5) : $up;
					$rp += 200;
					$mhp = $mhp - $down;
					$def = $def - $down;
					$log .= \'你的生命上限和防御力减少了<span class="yellow">\'.$down.\'</span>点，而你的体力上限和攻击力提升了<span class="yellow">\'.$up.\'</span>点！<br>\';
				} elseif ($itm == \'溶剂SCP-294_PT_ErulTron\') {
					$log .= \'你考虑了一会，<br>一扬手喝下了杯中中冒着粉红光辉的液体。<br>你感到你整个人貌似变得更普通了点。<br>\';
					$lvl = $exp = 0;
					$att = round($att * 0.8);
					$def = round($def * 0.8);
					$log .= \'<span class="yellow">你的等级和经验值都归0了！但是，你的攻击力和防御力也变得更加普通了。</span><br>\';
				}
				if($att < 0){$att = 0;}
				if($def < 0){$def = 0;}
				if($hp > $mhp){$hp = $mhp;}
				if($sp > $msp){$sp = $msp;}
				$deathflag = false;
				if($mhp <= 0){$hp = $mhp =0;$deathflag = true;}
				if($msp <= 0){$sp = $msp =0;$deathflag = true;}
				if($deathflag){
					$log .= \'<span class="yellow">看起来你的身体无法承受药剂的能量……<br>果然这一点都不值得……<br></span>\';
					$state = 34;
					\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = $itm;
					\\player\\kill($sdata,$sdata);
					\\player\\player_save($sdata);
					\\player\\load_playerdata($sdata);
				} else {
					addnews ( $now, \'notworthit\', $name );
				}
				\\itemmain\\itms_reduce($theitem);
				return;
			}
		}
		
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/scpdrink/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'death31\') 
		{
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因L5发作自己挠破喉咙身亡！{$e0}</li>";
		} 
		
		if($news == \'death34\') 
		{
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因摄入过量突变药剂，身体组织崩解而死！{$e0}</li>";
		} 
		
		if($news == \'notworthit\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}做出了一个他自己可能会后悔很长一段时间的决定。</span></li>";
		
		if($news == \'suisidefail\') 
			return "<li><font style=\\"background:url(img/backround4.gif) repeat-x\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}注射了H173，却由于RP太高进入了发狂状态！！</font></span><br>\\n";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/scpdrink/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$iteminfo[\'B\'] = \'电池\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_ub/main.php',
)

Array\itemuse_ub ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'item_ub\'));
		
		$flag = false;
		$bat_kind = substr($itmk,1,1);
		for($i = 1; $i <= 6; $i ++) {
			if (${\'itmk\' . $i} == \'E\'.$bat_kind && ${\'itms\' . $i}) {
				if(${\'itme\' . $i} >= $elec_cap){
					$log .= "包裹{$i}里的<span class=\\"yellow\\">${\'itm\'.$i}</span>已经充满电了。<br>";
				}else{
					${\'itme\' . $i} += $itme;
					if(${\'itme\' . $i} > $elec_cap){${\'itme\' . $i} = $elec_cap;}
					$itms --;
					$flag = true;
					$log .= "为包裹{$i}里的<span class=\\"yellow\\">${\'itm\'.$i}</span>充了电。";
					break;
				}				
			}
		}
		if (! $flag) {
			$log .= \'你没有需要充电的物品。<br>\';
		}
		if ($itms <= 0 && $itm) {
			$log .= "<span class=\\"red\\">$itm</span>用光了。<br>";
			$itm = $itmk = $itmsk = \'\';
			$itme = $itms = 0;
		}		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_ub/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'B\' ) === 0) {
			itemuse_ub($theitem);
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_ub/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$iteminfo[\'EE\'] = \'电脑设备\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_uee/main.php',
)

Array\calculate_hack_proc_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'item_uee\'));
		return $hack_obbs;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_uee/main.php',
)

Array\post_hack_events ====> array (
  'vars' => '$itmn = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		
		$itm = & ${\'itm\'.$itmn};
		$itmk = & ${\'itmk\'.$itmn};
		$itme = & ${\'itme\'.$itmn};
		$itms = & ${\'itms\'.$itmn};
		$itmsk = & ${\'itmsk\'.$itmn};
		
		$hack_dice2 = rand(0,99);

		if($hack_dice2 < 5) {
			$log .= \'由于你的不当操作，禁区系统防火墙锁定了你的电脑并远程引爆了它。幸好你本人的位置并没有被发现。<br>\';
			$itm = $itmk = $itmsk = \'\';
			$itme = $itms = 0;
		} elseif($hack_dice2 < 8) {
			$log .= "<span class=\\"evergreen\\">“小心隔墙有耳哦。”</span>——林无月<br>";
			$log .= \'你擅自入侵禁区控制系统，被控制系统远程消灭！<br>\';
			$state = 14;
			\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = \'\';
			\\player\\kill($sdata,$sdata);
			\\player\\player_save($sdata);
			\\player\\load_playerdata($sdata);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_uee/main.php',
)

Array\itemuse_uee ====> array (
  'vars' => '$itmn = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));

		$itm = & ${\'itm\'.$itmn};
		$itmk = & ${\'itmk\'.$itmn};
		$itme = & ${\'itme\'.$itmn};
		$itms = & ${\'itms\'.$itmn};
		$itmsk = & ${\'itmsk\'.$itmn};

		if(!$itms) {
			$log .= \'此道具不存在，请重新选择。<br>\';
			$mode = \'command\';
			return;
		}

		if(!$itme) {
			$log .= "<span class=\\"yellow\\">$itm</span>已经没电，请寻找<span class=\\"yellow\\">电池</span>充电。<br>";
			$mode = \'command\';
			return;
		}

		$hack_dice = rand(0,99);
		$hack_proc = calculate_hack_proc_rate();
		if ($hack_dice < $hack_proc) 
		{
			$hack = 1;
			$log .= \'入侵禁区控制系统成功了！全部禁区都被解除了！<br>\';
			
			addnews($now,\'hack\',$name);
			save_gameinfo();
		} else {
			$log .= \'可是，入侵禁区控制系统失败了……<br>\';
		}
		
		$itme--;
		$log .= "消耗了<span class=\\"yellow\\">$itm</span>的电力。<br>";
		if($itme <= 0) {
			$log .= "<span class=\\"red\\">$itm</span>的电池耗尽了。";
		}
		
		post_hack_events($itmn);
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_uee/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'EE\' ) === 0) {
			itemuse_uee($theitem[\'itmn\']);
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_uee/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'hack\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}启动了hack程序，全部禁区解除！</span></li>";
		
		if(isset($exarr[\'dword\'])) $e0 = $exarr[\'dword\'];
			
		if($news == \'death14\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因<span class=\\"red\\">入侵禁区系统失败</span>死亡{$e0}</li>";
	
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_uee/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$iteminfo[\'ss\'] = \'歌词卡片\';
		$iteminfo[\'HM\'] = \'歌魂增加\';
		$iteminfo[\'HT\'] = \'歌魂恢复\';
		if (defined(\'MOD_NOISE\'))
		{
			eval(import_module(\'noise\'));
			$noiseinfo[\'Crow Song\']=\'Crow Song\';
			$noiseinfo[\'Alicemagic\']=\'Alicemagic\';
			$noiseinfo[\'KARMA\']=\'■\';
			$noiseinfo[\'HWEIHOA\']=\'驱寒颂歌\';
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/song/main.php',
)

Array\ss_sing ====> array (
  'vars' => '$sn',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'logger\',\'noise\',\'song\'));
		$songcfg = NULL;
		foreach($songlist as $sval){
			if($sval[\'songname\'] == $sn) {
				$songcfg = $sval;
				break;
			}
		}
		if(!$songcfg) {
			$log .= \'好像不存在这样一首歌呢……<br>\';
			return;
		}
		$r=$songcfg[\'cost\'];
		$nkey = $songcfg[\'noisekey\'];

		if ($ss>=$r){
			$ss-=$r;
			$log.="消耗<span class=\\"yellow\\">{$r}</span>点歌魂，歌唱了<span class=\\"yellow\\">{$noiseinfo[$nkey]}</span>。<br>";
		}else{
			$log.="需要<span class=\\"yellow\\">{$r}</span>歌魂才能唱这首歌！<br>";
			return;
		}
		addnews($now,\'song\',$name,$plsinfo[$pls],$songcfg[\'songname\']);
		$lyricnum = sizeof($songcfg[\'lyrics\']);
		$songchatlimit = 2;
		$songchat = \'\';
		for($i=0;$i<$lyricnum;$i++){
			$log .= $songcfg[\'lyrics\'][$i].\'<br>\';
			if($i<$songchatlimit) $songchat .= $songcfg[\'lyrics\'][$i].\'　\';
			if($i == $songchatlimit-1) $songchat .= \'……\';
		}
		\\sys\\addchat(0, $songchat, $name);




		if (defined(\'MOD_NOISE\') && !empty($nkey)) \\noise\\addnoise($pls,$nkey,$pid);
		
		$songqry = \'\';
		foreach($songcfg[\'effect\'] as $sekey => $seval){
			if(isset($sdata[$sekey])){
				$qry_sign=NULL;
				if(strpos($seval,\'=\')===0){
					$seval = (int)substr($seval,1);
					${$sekey} = $seval;
					$ef_sign = \'<span class="yellow">变成</span>\';
					$qry_sign = \'=\';
				}elseif((int)$seval > 0){
					$seval = (int)$seval;
					${$sekey} += $seval;
					$ef_sign = \'<span class="lime">增加</span>\';
					$qry_sign = \'+\';
				}elseif((int)$seval < 0){
					$seval = (int)$seval;
					${$sekey} += $seval;
					$ef_sign = \'<span class="red">减少</span>\';
					$qry_sign = \'-\';
				}
				
				if($sekey == \'att\') $ef_word = \'攻击力\';
				elseif($sekey == \'def\') $ef_word = \'防御力\';
				elseif($sekey == \'hp\') $ef_word = \'生命\';
				elseif($sekey == \'mhp\') $ef_word = \'最大生命\';
				elseif($sekey == \'sp\') $ef_word = \'体力\';
				elseif($sekey == \'msp\') $ef_word = \'最大体力\';
				elseif($sekey == \'ss\') $ef_word = \'歌魂\';
				elseif($sekey == \'mss\') $ef_word = \'最大歌魂\';
				elseif($sekey == \'rp\') $ef_word = \'RP\';
				elseif($sekey == \'money\') $ef_word = \'金钱\';
				else $ef_word = $sekey;
				if($qry_sign){
					$log .= "歌声让你以及附近的玩家的{$ef_word}{$ef_sign}了".abs($seval)."。<br>";
					$songqry .= $qry_sign == \'=\' ? $sekey.\'=\'.$seval.\',\' : $sekey.\'=\'.$sekey.$qry_sign.$seval.\',\';
				}
			}
		}
		if(!empty($songqry)){
			$songqry = substr($songqry,0,-1);
			$db->query ("UPDATE {$tablepre}players SET ".$songqry." WHERE `pls` ={$pls} AND hp>0 AND type=0");
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/song/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (strpos ( $itmk, \'HM\' ) === 0) {
			$mss+=$itme;
			if($ss+$itme <= $mss) $ss+=$itme;
			elseif($ss <= $mss) $ss = $mss;
			
			$log .= "你使用了<span class=\\"red\\">$itm</span>，增加了<span class=\\"yellow\\">$itme</span>点歌魂。<br>";
			\\itemmain\\itms_reduce($theitem);
			return;
		}elseif (strpos ( $itmk, \'HT\' ) === 0) {
			$ssup=$itme;
			if ($ss < $mss) {
				$oldss = $ss;
				$ss += $ssup;
				$ss = $ss > $mss ? $mss : $ss;
				$oldss = $ss - $oldss;
				$log .= "你使用了<span class=\\"red\\">$itm</span>，恢复了<span class=\\"yellow\\">$oldss</span>点歌魂。<br>";
				\\itemmain\\itms_reduce($theitem);
			} else {
				$log .= \'你的歌魂不需要恢复。<br>\';
			}
			return;
		} 
		
		if (strpos ( $itmk, \'ss\' ) === 0)
		{
			$eqp = \'art\';
			$noeqp = \'\';
			
			if (($noeqp && strpos ( ${$eqp.\'k\'}, $noeqp ) === 0) || ! ${$eqp.\'s\'}) {
				${$eqp} = $itm;
				${$eqp.\'k\'} = $itmk;
				${$eqp.\'e\'} = $itme;
				${$eqp.\'s\'} = $itms;
				${$eqp.\'sk\'} = $itmsk;
				$log .= "装备了<span class=\\"yellow\\">$itm</span>。<br>";
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
			} else {
				swap(${$eqp},$itm);
				swap(${$eqp.\'k\'},$itmk);
				swap(${$eqp.\'e\'},$itme);
				swap(${$eqp.\'s\'},$itms);
				swap(${$eqp.\'sk\'},$itmsk);
				$log .= "卸下了<span class=\\"red\\">$itm</span>，装备了<span class=\\"yellow\\">${$eqp}</span>。<br>";
			}
			return;
		}
		
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/song/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		if($mode == \'command\' && $command == \'song\') {
			$sname=trim(trim($art,\'【\'),\'】\');
			ss_sing($sname);
			return;
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/song/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'song\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}</span>在<span class=\\"yellow\\">{$b}</span>歌唱了<span class=\\"red\\">{$c}</span>。</li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/song/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL23_INFO\',\'club;active;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill23/main.php',
)

Array\acquire23 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill23/main.php',
)

Array\lost23 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill23/main.php',
)

Array\gemming_itme_buff ====> array (
  'vars' => '&$itm,&$itmk,&$itme,&$itms,&$itmsk,$lb,$ub',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		if ($itms==$nosta) 
		{
			$up_e=rand(round($lb*0.85),round($ub*0.85)); 
			$log.="你的装备<span class=\\"yellow\\">{$itm}</span>的效果值增加了<span class=\\"yellow\\">{$up_e}</span>点！";
			$itme+=$up_e;
		}
		else
		{
			$up_all=rand($lb,$ub); 
			$up_e=ceil(1.0*$up_all*$itme/($itme+$itms));
			$up_s=floor(1.0*$up_all*$itms/($itme+$itms));
			$log.="你的装备<span class=\\"yellow\\">{$itm}</span>的效果值增加了<span class=\\"yellow\\">{$up_e}</span>点，耐久值增加了<span class=\\"yellow\\">{$up_s}</span>点！";	
			$itme+=$up_e; $itms+=$up_s;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill23/main.php',
)

Array\gemming ====> array (
  'vars' => '$t1, $t2',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));

		if ($t1!=\'wep\' && $t1!=\'arb\' && $t1!=\'arh\' && $t1!=\'ara\' && $t1!=\'arf\')
		{
			$log.=\'你只能给你的武器/防具增加属性。<br>\';
			$mode = \'command\';
			return;
		}
		
		$itm=&${$t1}; $itmk=&${$t1.\'k\'}; $itme=&${$t1.\'e\'}; $itms=&${$t1.\'s\'}; $itmsk=&${$t1.\'sk\'};
		
		if ($t1==\'wep\'|| !$itme || !$itms)
		{
			if ($itmk==\'WN\')
			{
				$log.=\'你试图改造你的武器，但是你没有装备武器。<br>\';
				$mode = \'command\';
				return;
			}
		}
		else
		{
			if (($itms <= 0) && ($itms != $nosta)) 
			{
				$log.=\'本防具不存在，请重新选择。<br>\';
				$mode = \'command\';
				return;
			}
		}
		
		if(\\itemmain\\count_itmsk_num($itmsk)>=6){
			$log .= \'你选择的物品属性数目已达到6个属性的上限，无法改造！<br>\';
			$mode = \'command\';
			return;
		}
				
		$t2=(int)$t2;
		if ($t2<1 || $t2>6)
		{
			$log.=\'你选择的宝石/方块不存在，请重新选择。<br>\';
			$mode = \'command\';
			return;
		}
		
		$gem=&${\'itm\'.$t2}; $gemk=&${\'itmk\'.$t2}; $geme=&${\'itme\'.$t2}; $gems=&${\'itms\'.$t2}; $gemsk=&${\'itmsk\'.$t2};
		
		if (($gems <= 0) && ($gems != $nosta)) 
		{
			$log.=\'你选择的宝石/方块不存在，请重新选择。<br>\';
			$mode = \'command\';
			return;
		}
		
		$buff=Array();
		
		if ($gem==\'红色方块\')	
			if ($t1==\'wep\')
				$buff=Array(Array(35,\'u\'));
			else  $buff=Array(Array(65,\'P\'),Array(35,\'U\'));
		else  if ($gem==\'黄色方块\')	
			if ($t1==\'wep\')
				$buff=Array(Array(100,\'c\'));
			else  $buff=Array(Array(65,\'D\'),Array(35,\'c\'));
		else  if ($gem==\'蓝色方块\')	
			if ($t1==\'wep\')
				$buff=Array(Array(35,\'i\'));
			else  $buff=Array(Array(65,\'G\'),Array(35,\'I\'));
		else  if ($gem==\'绿色方块\')	
			if ($t1==\'wep\')
				$buff=Array(Array(35,\'p\'));
			else  $buff=Array(Array(65,\'K\'),Array(35,\'q\'));
		else  if ($gem==\'金色方块\')	
			if ($t1==\'wep\')
				$buff=Array(Array(35,\'e\'));
			else  $buff=Array(Array(65,\'C\'),Array(35,\'E\'));
		else  if ($gem==\'银色方块\')	
			if ($t1==\'wep\')
				$buff=Array(Array(35,\'w\'));
			else  $buff=Array(Array(65,\'F\'),Array(35,\'W\'));
		else  if ($gem==\'红宝石方块\')	
			if ($t1==\'wep\')
				$buff=Array(Array(65,\'u\'),Array(35,\'f\'));
			else  $buff=Array(Array(100,\'U\'));
		else  if ($gem==\'蓝宝石方块\')	
			if ($t1==\'wep\')
				$buff=Array(Array(65,\'i\'),Array(35,\'k\'));
			else  $buff=Array(Array(100,\'I\'));
		else  if ($gem==\'黄鸡方块\')	
			$buff=Array(Array(1,\'Z\'),Array(99,\'z\'));
		else  if ($gem==\'绿宝石方块\')	
		{	
			if ($t1==\'wep\')
				$buff=Array(Array(15,\'u\'),Array(15,\'i\'),Array(15,\'p\'),Array(15,\'e\'),Array(15,\'w\'),Array(6,\'f\'),Array(6,\'k\'),Array(6,\'n\'),Array(6,\'N\'),Array(1,\'d\'));
			else  $buff=Array(Array(15,\'C\'),Array(15,\'D\'),Array(15,\'F\'),Array(15,\'G\'),Array(15,\'K\'),Array(15,\'P\'),Array(3,\'A\'),Array(3,\'a\'),Array(4,\'H\'));
		}
		else  if ($gem==\'水晶方块\')	
			if ($t1==\'wep\')
				$buff=Array(Array(1,\'r\'));
			else  $buff=Array(Array(5,\'H\'));
		else  if ($gem==\'黑色方块\')	
			if ($t1==\'wep\')
				$buff=Array(Array(5,\'n\'));
			else  $buff=Array(Array(5,\'m\'));
		else  if ($gem==\'白色方块\')	
			if ($t1==\'wep\')
				$buff=Array(Array(5,\'N\'));
			else  $buff=Array(Array(5,\'M\'));
		else 
		{
			$log.="你的物品不是合法的宝石或方块。<br>请参阅帮助获得所有合法的宝石或方块及它们的对应改造属性的列表。<br>";
			$mode = \'command\';
			return;
		}
			
		$dice=rand(1,100); $flag=0;
		$log.="你将<span class=\\"yellow\\">{$gem}</span>镶嵌到了<span class=\\"yellow\\">{$itm}</span>上。<br>";
		
		$lb=10; $ub=20;
		if (strpos($gem,\'宝石\') !== false) { $lb=round($lb*1.75); $ub=round($ub*1.75); }	
		
		foreach ($buff as $value)
		{
			if ($dice<=$value[0])
			{
				$flag=1;
				gemming_itme_buff($itm,$itmk,$itme,$itms,$itmsk,$lb,$ub);
				$log.="同时，你的装备<span class=\\"yellow\\">{$itm}</span>还获得了“<span class=\\"yellow\\">{$itemspkinfo[$value[1]]}</span>”属性！<br>";
				include_once GAME_ROOT.\'./include/news.func.php\';
				addnews ( 0, \'gemming\', $name, $gem, $itm, $itemspkinfo[$value[1]]);
				if (strpos($itmsk,$value[1]) === false) $itmsk.=$value[1];
				break;
			}
			else  $dice-=$value[0];
		}
		
		$expgain = rand(4,7);
		
		if (!$flag) 
		{
			$lb=round($lb/2); $ub=round($ub/2);
			gemming_itme_buff($itm,$itmk,$itme,$itms,$itmsk,$lb,$ub);
			$log.="但是你的装备并没有获得额外属性。看起来技术还不过关的样子。<span class=\\"yellow\\">你决定痛定思痛，总结经验。</span><br>";
			$rage += rand(5,15); $rage = min($rage,100);
			$expgain = rand(7,11);
		}
		
		\\lvlctl\\getexp($expgain);
		
		$gems--;
		$log.="消耗了一枚{$gem}。<br>";
		if ($gems<=0)
		{
			$log.="{$gem}用完了。<br>";
			$gem=\'\'; $gemk=\'\'; $gems=0; $geme=0; $gemsk=\'\';
		}
		$mode=\'command\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill23/main.php',
)

Array\do_gemming ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\',\'input\'));
		if (!\\skillbase\\skill_query(23)) 
		{
			$log.=\'你没有这个技能。\';
			return;
		}
		if (isset($skill23_t1) && isset($skill23_t2))
		{
			gemming($skill23_t1,$skill23_t2);
			return;
		}
		include template(MOD_SKILL23_GEMMING);
		$cmd=ob_get_contents();
		ob_clean();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill23/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\'));
	
		if ($mode == \'special\' && $command == \'skill23_special\' && $subcmd==\'gemming\') 
		{
			do_gemming();
			return;
		}
			
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill23/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'gemming\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用{$b}为{$c}添加了{$d}属性！</span></li>";

		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill23/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL220_INFO\',\'club;active;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill220/main.php',
)

Array\acquire220 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill220/main.php',
)

Array\lost220 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill220/main.php',
)

Array\pcheck ====> array (
  'vars' => '$itmn',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		if ( $itmn < 1 || $itmn > 6 ) {
			$log .= \'此道具不存在，请重新选择。\';
			$mode = \'command\';
			return;
		}
		global ${\'itm\'.$itmn},${\'itmk\'.$itmn},${\'itme\'.$itmn},${\'itms\'.$itmn},${\'itmsk\'.$itmn};
		$itm = & ${\'itm\'.$itmn};
		$itmk = & ${\'itmk\'.$itmn};
		$itme = & ${\'itme\'.$itmn};
		$itms = & ${\'itms\'.$itmn};
		$itmsk = & ${\'itmsk\'.$itmn};
	
		if(!$itms) {
			$log .= \'此道具不存在，请重新选择。<br>\';
			$mode = \'command\';
			return;
		}	
	
		if(strpos($itmk,\'P\') === 0) {
			$log .= \'<span class="red">\'.$itm.\'有毒！</span>\';
		} else {
			$log .= \'<span class="yellow">\'.$itm.\'是安全的。</span>\';
		}
		$mode = \'command\';
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill220/main.php',
)

Array\do_pcheck ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\',\'input\'));
		if (!\\skillbase\\skill_query(220)) 
		{
			$log.=\'你没有这个技能。\';
			return;
		}
		if(strpos($skillpara1,\'chkp\') === 0) {
			$itmn = substr($skillpara1,4,1);
			pcheck($itmn);
		}
		include template(MOD_SKILL220_POISONCHECK);
		$cmd=ob_get_contents();
		ob_clean();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill220/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\'));
	
		if ($mode == \'special\' && $command == \'skill220_special\' && $subcmd==\'pcheck\') 
		{
			do_pcheck();
			return;
		}
			
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill220/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/corpse/main.php',
)

Array\check_corpse_discover ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'corpse\'));
		if ($edata[\'state\']==16) return 0;
		$flag=0;
		foreach($equip_list as $k_value)
		{
			$z=strlen($k_value)-1;
			while (\'0\'<=$k_value[$z] && $k_value[$z]<=\'9\') $z--;
			$w1=substr($k_value,0,$z+1).\'s\'.substr($k_value,$z+1);
			$w2=substr($k_value,0,$z+1).\'e\'.substr($k_value,$z+1);
			if ($edata[$w1] && $edata[$w2]) { $flag=1; break;}
		}
		if ($edata[\'money\']) $flag=1;
		
		if($flag && $edata[\'endtime\'] < $now - $corpseprotect)
			return 1;
		else  return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/corpse/main.php',
)

Array\check_corpse_discover_dice ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'corpse\'));
		$corpse_dice = rand(0,99);
		if ($corpse_dice < $corpse_obbs) return 1; else return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/corpse/main.php',
)

Array\findcorpse ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'metman\',\'logger\'));
		$battle_title = \'发现尸体\';
		extract($edata,EXTR_PREFIX_ALL,\'w\');
		\\metman\\init_battle(1);
		
		$main = MOD_METMAN_MEETMAN;
		$log .= \'你发现了<span class="red">\'.$w_name.\'</span>的尸体！<br>\';
		
		$r=\\itemmain\\parse_item_words($edata,1);
		extract($r,EXTR_PREFIX_ALL,\'w\');
		
		include template(get_corpse_filename());
		$cmd = ob_get_contents();
		ob_clean();
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/corpse/main.php',
)

Array\get_corpse_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\',\'metman\'));
		return MOD_CORPSE_CORPSE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/corpse/main.php',
)

Array\meetman ====> array (
  'vars' => '$sid',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'metman\'));
		
		$edata=\\player\\fetch_playerdata_by_pid($sid);
		if ($edata[\'hp\']<=0)
		{
			$action = \'corpse\'.$sid;
			findcorpse($edata);
			return;
		}
		else  $chprocess($sid);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/corpse/main.php',
)

Array\prepare_initial_response_content ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'metman\'));
		$cmd = $main = \'\';
		if((strpos($action,\'corpse\')===0 || strpos($action,\'pacorpse\')===0) && $gamestate<40){
			$cid = strpos($action,\'corpse\')===0 ? str_replace(\'corpse\',\'\',$action) : str_replace(\'pacorpse\',\'\',$action);
			if($cid){
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE pid=\'$cid\' AND hp=0");
				if($db->num_rows($result)>0){
					$edata = \\player\\fetch_playerdata_by_pid($cid);
					extract($edata,EXTR_PREFIX_ALL,\'w\');
					findcorpse($edata);
					\\metman\\init_battle(1);
					$main = MOD_METMAN_MEETMAN;
				}
			}	
		}
		
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/corpse/main.php',
)

Array\getcorpse_action ====> array (
  'vars' => '&$edata, $item',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		
		if($item == \'wep\') {
			$itm0 = $edata[\'wep\'];
			$itmk0 = $edata[\'wepk\'];
			$itme0 = $edata[\'wepe\'];
			$itms0 = $edata[\'weps\'];
			$itmsk0 = $edata[\'wepsk\'];
			$edata[\'wep\'] = $edata[\'wepk\'] = $edata[\'wepsk\'] = \'\';
			$edata[\'wepe\'] = $edata[\'weps\'] = 0;  
		} elseif(strpos($item,\'ar\') === 0) {
			$itm0 = $edata[$item];
			$itmk0 = $edata[$item.\'k\'];
			$itme0 = $edata[$item.\'e\'];
			$itms0 = $edata[$item.\'s\'];
			$itmsk0 = $edata[$item.\'sk\'];
			$edata[$item] = $edata[$item.\'k\'] = $edata[$item.\'sk\'] = \'\';
			$edata[$item.\'e\'] = $edata[$item.\'s\'] = 0;  
		} elseif(strpos($item,\'itm\') === 0) {
			$itmn = substr($item,3,1);
			$itm0 = $edata[\'itm\'.$itmn];
			$itmk0 = $edata[\'itmk\'.$itmn];
			$itme0 = $edata[\'itme\'.$itmn];
			$itms0 = $edata[\'itms\'.$itmn];
			$itmsk0 = $edata[\'itmsk\'.$itmn];
			$edata[\'itm\'.$itmn] = $edata[\'itmk\'.$itmn] = $edata[\'itmsk\'.$itmn] = \'\';
			$edata[\'itme\'.$itmn] = $edata[\'itms\'.$itmn] = 0;  
		} elseif($item == \'money\') {
			$money += $edata[\'money\'];
			$log .= \'获得了金钱 <span class="yellow">\'.$edata[\'money\'].\'</span>。<br>\';
			$edata[\'money\'] = 0;
			\\player\\player_save($edata);
			$action = \'\';
			$mode = \'command\';
			return;
		} elseif($item == \'destroy\') {
			$edata[\'weps\'] = 0;
			$edata[\'arbs\'] = 0;
			$edata[\'arhs\'] = 0;
			$edata[\'aras\'] = 0;
			$edata[\'arfs\'] = 0;
			$edata[\'arts\'] = 0;
			$edata[\'itms0\'] = 0;
			$edata[\'itms1\'] = 0;
			$edata[\'itms2\'] = 0;
			$edata[\'itms3\'] = 0;
			$edata[\'itms4\'] = 0;
			$edata[\'itms5\'] = 0;
			$edata[\'itms6\'] = 0;
			$edata[\'money\'] = 0;
			$edata[\'state\'] = 16;
			\\player\\player_save($edata);
			$log .= \'尸体成功销毁！\';
			$action = \'\';
			$mode = \'command\';
			return;
		} else {
			$mode = \'command\';
			$action = \'\';
			return;
		}
		if(!$itms0||!$itmk0||$itmk0==\'WN\'||$itmk0==\'DN\') {
			$log .= \'该物品不存在！\';
			$itms = 0;
		} else {
			\\itemmain\\itemget();
		}
		$action = \'\';
		$mode = \'command\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/corpse/main.php',
)

Array\getcorpse ====> array (
  'vars' => '$item',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		
		$corpseid = strpos($action,\'corpse\')===0 ? str_replace(\'corpse\',\'\',$action) : str_replace(\'pacorpse\',\'\',$action);
		if(!$corpseid || strpos($action,\'corpse\')===false){
			$log .= \'<span class="yellow">你没有遇到尸体，或已经离开现场！</span><br>\';
			$action = \'\';
			$mode = \'command\';
			return;
		}

		$result = $db->query("SELECT * FROM {$tablepre}players WHERE pid=\'$corpseid\'");
		if(!$db->num_rows($result)){
			$log .= \'对方不存在！<br>\';
			$action = \'\';
			$mode = \'command\';
			return;
		}

		
		$edata=\\player\\fetch_playerdata_by_pid($corpseid);
		
		if($edata[\'hp\']>0) {
			$log .= \'对方尚未死亡！<br>\';
			$action = \'\';
			$mode = \'command\';
			return;
		} elseif($edata[\'pls\'] != $pls) {
			$log .= \'对方跟你不在同一个地图！<br>\';
			$action = \'\';
			$mode = \'command\';
			return;
		}
		
		getcorpse_action($edata,$item);
		
		\\player\\player_save($edata);

		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/corpse/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		if($mode == \'corpse\') {
			getcorpse($command);
			return;
		}
		
		if (strpos($action,\'pacorpse\')===0)
		{
			$cid = str_replace(\'pacorpse\',\'\',$action);
			if($cid){
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE pid=\'$cid\' AND hp=0");
				if($db->num_rows($result)>0){
					$edata = \\player\\fetch_playerdata_by_pid($cid);
					findcorpse($edata);
					return;
				}	
			}	
		}
		
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/corpse/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$iteminfo[\'T\'] = \'陷阱\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\rs_game ====> array (
  'vars' => '$xmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($xmode);
		
		eval(import_module(\'sys\',\'map\',\'itemmain\',\'trap\'));
		if ($xmode & 16) {	
			$plsnum = sizeof($plsinfo);
			$iqry = \'\';
			$itemlist = get_trapfilecont();
			$in = sizeof($itemlist);
			$an = $areanum ? ceil($areanum/$areaadd) : 0;
			for($i = 1; $i < $in; $i++) {
				if(!empty($itemlist[$i]) && strpos($itemlist[$i],\',\')!==false){
					list($iarea,$imap,$inum,$iname,$ikind,$ieff,$ista,$iskind) = explode(\',\',$itemlist[$i]);
					if(($iarea == $an)||($iarea == 99)) {
						for($j = $inum; $j>0; $j--) {
							if ($imap == 99)
							{
								do {
									$rmap = rand(0,$plsnum-1);
								} while (in_array($rmap,$map_noitemdrop_arealist));
							}
							else  $rmap = $imap;
							$iqry .= "(\'$iname\', \'$ikind\',\'$ieff\',\'$ista\',\'$iskind\',\'$rmap\'),";
						}
					}
				}
			}
			if(!empty($iqry)){
				$iqry = "INSERT INTO {$tablepre}maptrap (itm,itmk,itme,itms,itmsk,pls) VALUES ".substr($iqry, 0, -1);
				$db->query($iqry);
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\get_trapfilecont ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\'));
		$file = __DIR__.\'/config/trapitem.config.php\';
		$l = openfile($file);
		return $l;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\calculate_real_trap_obbs ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'trap\'));
		$trapresult = $db->query("SELECT * FROM {$tablepre}maptrap WHERE pls = \'$pls\' ORDER BY itmk DESC");
		$trpnum = $db->num_rows($trapresult);
		$result = $db->query("SELECT pid FROM {$tablepre}players WHERE pls=\'$pls\' AND pid!=\'$pid\' AND state!=\'16\'");
		$pnum=$db->num_rows($result);
		$exr=0;
		if ($pnum<=4) $exr=0.5;
		if ($pnum<=2) $exr=0.9;
		if ($pnum==1) $exr=1.4;
		if ($pnum==0) $exr=0.2;
		$real_trap_obbs = $trap_min_obbs + $trpnum/4+$exr;
		return $real_trap_obbs;
		


	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\get_trap_escape_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'itemmain\',\'trap\'));
		$escrate = 8 + $lvl/3 ;
		


		if ($selflag) $escrate += 50; 
		return $escrate;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\get_trap_damage ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		$damage = round(rand(0,$itme0/2)+($itme0/2));
		return $damage;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\send_trap_enemylog ====> array (
  'vars' => '$is_hit',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'trap\',\'logger\'));
		if ($is_hit)
		{
			if($playerflag && !$selflag && $hp<=0){
				$w_log = "<span class=\\"red\\">{$name}触发了你设置的陷阱{$itm0}并被杀死了！</span><br>";
				\\logger\\logsave ( $itmsk0, $now, $w_log ,\'b\');
			}elseif($playerflag && !$selflag){
				$w_log = "<span class=\\"yellow\\">{$name}触发了你设置的陷阱{$itm0}！</span><br>";
				\\logger\\logsave ( $itmsk0, $now, $w_log ,\'b\');
			}
		}
		else
		{
			if($playerflag && !$selflag){
				$w_log = "<span class=\\"yellow\\">{$name}回避了你设置的陷阱{$itm0}！</span><br>";
				\\logger\\logsave ( $itmsk0, $now, $w_log ,\'b\');
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\get_trap_damage_multiplier ====> array (
  'vars' => '&$pa, &$pd, $trap, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return Array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\get_trap_final_damage_modifier_up ====> array (
  'vars' => '&$pa, &$pd, $tritm, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $damage;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\get_trap_final_damage_modifier_down ====> array (
  'vars' => '&$pa, &$pd, $tritm, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $damage;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\get_trap_final_damage_change ====> array (
  'vars' => '&$pa, &$pd, $tritm, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $damage;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\post_traphit_events ====> array (
  'vars' => '&$pa, &$pd, $tritm, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\trap_deal_damage ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'trap\',\'logger\'));
		
		$bid = $itmsk0;
		if($bid) {
			$pa=\\player\\fetch_playerdata_by_pid($bid);
		}else {
			$pa=\\player\\create_dummy_playerdata();
		}
		$damage = get_trap_damage();
		
		$log .= "糟糕，你触发了{$trprefix}陷阱<span class=\\"yellow\\">$itm0</span>！";
	
		$tritm=Array();
		$tritm[\'itm\']=$itm0; $tritm[\'itmk\']=$itmk0; 
		$tritm[\'itme\']=$itme0; $tritm[\'itms\']=$itms0; $tritm[\'itmsk\']=$itmsk0;
		$multiplier = get_trap_damage_multiplier($pa, $sdata, $tritm, $damage);
		
		if (count($multiplier)>0)
		{
			$fin_dmg=$damage; $mult_words=\'\';
			foreach ($multiplier as $key)
			{
				$fin_dmg=$fin_dmg*$key;
				$mult_words.="×{$key}";
			}
			$fin_dmg=round($fin_dmg);
			if ($fin_dmg < 1) $fin_dmg = 1;
			$log .= "你受到了{$damage}{$mult_words}＝<span class=\\"dmg\\">{$fin_dmg}</span>点伤害。<br>";
			$damage = $fin_dmg;
		}
		else
		{
			$log.="你受到了<span class=\\"dmg\\">$damage</span>点伤害！<br>";
		}
		
		$damage = get_trap_final_damage_modifier_up($pa, $sdata, $tritm, $damage);
		
		$damage = get_trap_final_damage_modifier_down($pa, $sdata, $tritm, $damage);
		
		$damage = get_trap_final_damage_change($pa, $sdata, $tritm, $damage);

		$hp -= $damage;
		
		if ($damage>0) post_traphit_events($pa, $sdata, $tritm, $damage);
		
		if($playerflag){
			addnews($now,\'trap\',$name,$trname,$itm0,$damage);
		}
		
		send_trap_enemylog(1);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\trap_hit ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'itemmain\',\'trap\',\'logger\'));
		
		trap_deal_damage();
		
		if($hp <= 0) {
			$log .= "<span class=\\"red\\">你被{$trprefix}陷阱杀死了！</span>";
			$state = 27;
			\\player\\update_sdata();
			if (!$selflag && $playerflag) 	
			{
				$edata = \\player\\fetch_playerdata_by_pid($itmsk0);
			}
			else 
			{
				$edata = &$sdata;		
				if (!$playerflag) $sdata[\'sourceless\']=1;	
			}
			
			$edata[\'attackwith\'] = $itm0;
			$killmsg = \\player\\kill($edata, $sdata);
			
			if (!$selflag && $playerflag)
			{
				\\player\\player_save($edata);
			}
			\\player\\player_save($sdata);
			\\player\\load_playerdata($sdata);
			
			if (isset($sdata[\'sourceless\'])) unset($sdata[\'sourceless\']);
			if($killmsg != \'\'){
				$log .= "<span class=\\"yellow\\">{$trname}对你说：“{$killmsg}”</span><br>";
			}				
		}
		
		$itm0 = $itmk0 = $itmsk0 = \'\';
		$itme0 = $itms0 = 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\calculate_trap_reuse_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'trap\'));
		$fdrate = 5 + $lvl/3;
		$fdrate = $selflag ? $fdrate + 50 : $fdrate;
		return $fdrate;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\trap_miss_reused ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'trap\'));
		$log .= "你发现了{$trprefix}陷阱<span class=\\"yellow\\">$itm0</span>，不过你并没有触发它。陷阱看上去还可以重复使用。<br>";			
		$itmsk0 = \'\';$itmk0 = str_replace(\'TO\',\'TN\',$itmk0);
		$mode = \'itemfind\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\trap_miss_broken ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'trap\'));
		$log .= "你发现了{$trprefix}陷阱<span class=\\"yellow\\">$itm0</span>，不过你成功地回避了它。<br>";
		$itm0 = $itmk0 = $itmsk0 = \'\';
		$itme0 = $itms0 = 0;
		$mode = \'command\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\trap_miss ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'trap\',\'logger\'));
		if ($playerflag)
		{
			addnews($now,\'trapmiss\',$name,$trname,$itm0);
		}
		
		send_trap_enemylog(0);
		
		$dice = rand(0,99);
		$fdrate = calculate_trap_reuse_rate();
		if($dice < $fdrate){
			trap_miss_reused();
		}else{
			trap_miss_broken();
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\trap ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'trap\'));
		
		$escrate = get_trap_escape_rate();
		$escrate = $escrate >= 90 ? 90 : $escrate;

		$dice=rand(0,99);
		if($dice >= $escrate){
			trap_hit();
		} else {
			trap_miss();
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\trapget ====> array (
  'vars' => '$mi',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'trap\'));
		$itm0=$mi[\'itm\'];
		$itmk0=$mi[\'itmk\'];
		$itme0=$mi[\'itme\'];
		$itms0=$mi[\'itms\'];
		$itmsk0=$mi[\'itmsk\']; 
		$tid=$mi[\'tid\'];
		$db->query("DELETE FROM {$tablepre}maptrap WHERE tid=\'$tid\'");
		
		$playerflag = is_numeric($itmsk0) ? true : false;
		$selflag = ($playerflag && ($itmsk0 == $pid)) ? true : false;
		
		if($playerflag && !$selflag){
			$wdata = \\player\\fetch_playerdata_by_pid($itmsk0);
			$trname = $wdata[\'name\'];$trtype = $wdata[\'type\'];$trprefix = \'<span class="yellow">\'.$trname.\'</span>设置的\';
		}elseif($selflag){
			$trname = $name;$trtype = 0;$trprefix = \'你自己设置的\';
		}else{
			$trname = $trtype = $trprefix = \'\';
		}
		
		trap();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\get_traplist ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		return $db->query("SELECT * FROM {$tablepre}maptrap WHERE pls = \'$pls\' ORDER BY itmk DESC");
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\trapcheck ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'itemmain\',\'trap\'));
		$real_trap_obbs = calculate_real_trap_obbs();
		$trap_dice=rand(0,$trap_max_obbs-1);
		if($trap_dice < $real_trap_obbs){
			$trapresult = get_traplist();
			$trpnum = $db->num_rows($trapresult);
			if ($trpnum == 0) return 0;
			$itemno = rand(0,$trpnum-1);
			$db->data_seek($trapresult,$itemno);
			$mi=$db->fetch_array($trapresult);
			trapget($mi);
			return 1;
		}
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\discover ====> array (
  'vars' => '$schmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'trap\',\'logger\'));
		$trap_dice=rand(0,99);
		if($trap_dice < $trap_max_obbs)
			if (trapcheck()) 
				return;
				
		$chprocess($schmode);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'trap\') 
			if ($d>0)
				return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}中了{$b}设置的陷阱{$c}，受到了{$d}点伤害！</span></li>";
			else  return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}中了{$b}设置的陷阱{$c}</span></li>";
		if($news == \'trapmiss\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}回避了{$b}设置的陷阱{$c}</span></li>";
		if($news == \'death27\') {
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			if($c){
				return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因触发了<span class=\\"yellow\\">$c</span>设置的陷阱<span class=\\"red\\">$d</span>被杀死{$e0}</li>";
			} else {
				return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因触发了陷阱<span class=\\"red\\">$d</span>被杀死{$e0}</li>";
			}
		}
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\trap_use ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		$trapk = str_replace(\'TN\',\'TO\',$itmk);
		$db->query("INSERT INTO {$tablepre}maptrap (itm, itmk, itme, itms, itmsk, pls) VALUES (\'$itm\', \'$trapk\', \'$itme\', \'1\', \'$pid\', \'$pls\')");
		$log .= "设置了陷阱<span class=\\"red\\">$itm</span>。<br>小心，自己也很难发现。<br>";
		
		\\lvlctl\\getexp(1);
		$wd++;
			
		\\itemmain\\itms_reduce($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'T\' ) === 0) 
		{
			trap_use($theitem);
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/trap/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'s\'] = \'调整\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix_sync/main.php',
)

Array\get_itemmix_sync_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmix\'));
		return __DIR__.\'/config/sync.config.php\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix_sync/main.php',
)

Array\itemmix_prepare_sync ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmix\'));
		$file = get_itemmix_sync_filename();
		$slist = openfile($file);
		$n = count($slist);
		$prp_res = array();
		for ($i=0;$i<$n;$i++){
			$prp_res[] = explode(\',\',$slist[$i]);
		}
		return $prp_res;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix_sync/main.php',
)

Array\itemmix_star_culc_sync ====> array (
  'vars' => '$itmn',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmix\'));
		$star=0;
		$tunner=false;
		if(${\'itms\'.$itmn}){
			$z=${\'itmk\'.$itmn};
			for ($i=0; $i<strlen($z); $i++) if (\'0\'<=$z[$i] && $z[$i]<=\'9\') $star=$star*10+(int)$z[$i];
			if((strpos(${\'itmsk\'.$itmn},\'s\')!==false)) $tunner = true;
		}
		return array($star, $tunner);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix_sync/main.php',
)

Array\itemmix_sync_check ====> array (
  'vars' => '$mlist',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmix\'));
		
		$star = 0;
		$tunner = array();
		foreach($mlist as $mval){
			list($mstar, $mtunner) = itemmix_star_culc_sync($mval);
			if($mstar == 0){
				$star = 0;break;
			}else{
				$star += $mstar;
			}
			if($mtunner){
				$tunner[] = $mval;
			}
		}
		$chc_res = array();
		if($star && count($tunner) == 1){
			
			$prp_res = itemmix_prepare_sync();
			foreach($prp_res as $pra){
				$pstar = $pra[5];
				$preq = $pra[6];
				$preqflag = true;
				if($preq){
					$req=explode(\'+\',$preq);
					$mname = array();
					foreach($mlist as $mi){
						$mname[] = \\itemmix\\itemmix_name_proc(${\'itm\'.$mi});
					}
					sort($mname);sort($req);
					if($mname != $req) $preqflag = false;
				}
				if($pstar == $star && $preqflag){
					if(!isset($chc_res[$star])){
						$chc_res[$star] = array(\'list\' => $mlist, \'choices\' => array($pra));
					}else{
						$chc_res[$star][\'choices\'][] = $pra;
					}
				}
			}
		}
		return $chc_res;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix_sync/main.php',
)

Array\itemmix ====> array (
  'vars' => '$mlist, $itemselect=-1',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'itemmix\'));
		$chc_res = itemmix_sync_check($mlist);

		
		if (!$chc_res) return $chprocess($mlist, $itemselect);	
		$chc = array_pop($chc_res);
		if ($itemselect==-1)
		{
			$mask=0;
			foreach($chc[\'list\'] as $k)
				if (1<=$k && $k<=6)
					$mask|=(1<<((int)$k-1));
				
			$cmd.=\'<input type="hidden" id="mode" name="mode" value="itemmain">\';
			$cmd.=\'<input type="hidden" id="command" name="command" value="itemmix">\';
			$cmd.=\'<input type="hidden" id="mixmask" name="mixmask" value="\'.$mask.\'">\';
			$cmd.=\'<input type="hidden" id="itemselect" name="itemselect" value="999">\';
			$cmd.= "请选择同调结果<br><br>";
			$sync = count($chc[\'choices\']);
			for($i=0;$i<$sync;$i++){
				$tn=$chc[\'choices\'][$i][0];
				$cmd.="<input type=\\"button\\" class=\\"cmdbutton\\"  style=\\"width:200\\" value=\\"".$tn."\\" onclick=\\"$(\'itemselect\').value=\'".$i."\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;\\">";
			}
			$cmd.="<input type=\\"button\\" class=\\"cmdbutton\\"  style=\\"width:200\\" value=\\"返回\\" onclick=\\"postCmd(\'gamecmd\',\'command.php\');this.disabled=true;\\">";
			return;
		}
		else
		{
			$i=(int)$itemselect;
			if ($i<0 || $i > count($chc[\'choices\']) - 1)
			{
				$mode=\'command\'; return; 
			}
			foreach($chc[\'list\'] as $val)
			{
				\\itemmix\\itemreduce(\'itm\'.$val);
			}
			list($itm0,$itmk0,$itme0,$itms0,$itmsk0) = $chc[\'choices\'][$i];
			addnews($now,\'syncmix\',$name,$itm0);
			\\itemmain\\itemget();
			$mode = \'command\';
			return;
		}
		$chprocess($mlist, $itemselect);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix_sync/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($news == \'syncmix\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}同调合成了{$b}</span></li>";
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix_sync/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'J\'] = \'超量素材\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix_overlay/main.php',
)

Array\get_itemmix_overlay_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmix\'));
		return __DIR__.\'/config/overlay.config.php\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix_overlay/main.php',
)

Array\itemmix_prepare_overlay ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmix\'));
		$file = get_itemmix_overlay_filename();
		$olist = openfile($file);
		$n = count($olist);
		$prp_res = array();
		for ($i=0;$i<$n;$i++){
			$prp_res[] = explode(\',\',$olist[$i]);
		}
		return $prp_res;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix_overlay/main.php',
)

Array\itemmix_star_culc_overlay ====> array (
  'vars' => '$itmn',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmix\'));
		$star=0;
		if(${\'itms\'.$itmn} && strpos(${\'itmsk\'.$itmn},\'J\')!==false){
			$z=${\'itmk\'.$itmn};
			for ($i=0; $i<strlen($z); $i++) if (\'0\'<=$z[$i] && $z[$i]<=\'9\') $star=$star*10+(int)$z[$i];
		}
		return $star;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix_overlay/main.php',
)

Array\itemmix_overlay_check ====> array (
  'vars' => '$mlist',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmix\'));
		
		$star = 0;
		$num = 0;
		foreach($mlist as $mval){
			$mstar = itemmix_star_culc_overlay($mval);
			if(($star && $mstar != $star) || $mstar == 0){
				$star = 0;break;
			}else{
				$star = $mstar;
				$num ++;
			}
		}
		$chc_res = array();
		if($star && $num > 1){
			
			$prp_res = itemmix_prepare_overlay();
			foreach($prp_res as $pra){
				$pstar = $pra[5];
				$pnum = $pra[6];
				if($star == $pstar && $num == $pnum){
					if(!isset($chc_res[$star.\'-\'.$num])){
						$chc_res[$star.\'-\'.$num] = array(\'list\' => $mlist, \'choices\' => array($pra));
					}else{
						$chc_res[$star.\'-\'.$num][\'choices\'][] = $pra;
					}
				}
			}
		}
		return $chc_res;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix_overlay/main.php',
)

Array\itemmix ====> array (
  'vars' => '$mlist, $itemselect=-1',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'itemmix\'));
		



		
		
		$chc_res = itemmix_overlay_check($mlist);

		
		
		if (!$chc_res) return $chprocess($mlist, $itemselect);	
		$chc = array_pop($chc_res);
		if ($itemselect==-1)
		{
			$mask=0;
			foreach($chc[\'list\'] as $k)
				if (1<=$k && $k<=6)
					$mask|=(1<<((int)$k-1));
						
			$cmd.=\'<input type="hidden" id="mode" name="mode" value="itemmain">\';
			$cmd.=\'<input type="hidden" id="command" name="command" value="itemmix">\';
			$cmd.=\'<input type="hidden" id="mixmask" name="mixmask" value="\'.$mask.\'">\';
			$cmd.=\'<input type="hidden" id="itemselect" name="itemselect" value="999">\';
			$cmd.= "请选择超量结果<br><br>";
			$sync = count($chc[\'choices\']);
			for($i=0;$i<$sync;$i++){
				$tn = $chc[\'choices\'][$i][0];
				$cmd.="<input type=\\"button\\" class=\\"cmdbutton\\"  style=\\"width:200\\" value=\\"".$tn."\\" onclick=\\"$(\'itemselect\').value=\'".$i."\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;\\">";
			}
			$cmd.="<input type=\\"button\\" class=\\"cmdbutton\\"  style=\\"width:200\\" value=\\"返回\\" onclick=\\"postCmd(\'gamecmd\',\'command.php\');this.disabled=true;\\">";
			return;
		}
		else
		{
			$i=(int)$itemselect;
			if ($i<0 || $i > count($chc[\'choices\']) - 1)
			{
				$mode=\'command\'; return; 
			}
			foreach($chc[\'list\'] as $val)
			{
				\\itemmix\\itemreduce(\'itm\'.$val);
			}
			list($itm0,$itmk0,$itme0,$itms0,$itmsk0) = $chc[\'choices\'][$i];
			addnews($now,\'overmix\',$name,$itm0);
			\\itemmain\\itemget();
			$mode = \'command\';
			return;
		}
		$chprocess($mlist, $itemselect);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix_overlay/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($news == \'overmix\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}超量合成了{$b}</span></li>";
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/itemmix/itemmix_overlay/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL20_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill20/main.php',
)

Array\acquire20 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill20/main.php',
)

Array\lost20 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill20/main.php',
)

Array\itemmix_success ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if(\\skillbase\\skill_query(20) && (strpos($itmk0,\'WD\') === 0)&&($itms0 !== $nosta))
			$itms0 = ceil($itms0*1.5); 
			
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill20/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL413_INFO\',\'card;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill413/main.php',
)

Array\acquire413 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill413/main.php',
)

Array\lost413 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill413/main.php',
)

Array\itemmix_success ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if(\\skillbase\\skill_query(413) && (strpos($itm0,\'【KEY系\') === 0)&&($itms0 !== $nosta))
			$itms0 = ceil($itms0*1.2); 
			
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill413/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL302_INFO\',\'achievement;\');
		define(\'MOD_SKILL302_ACHIEVEMENT_ID\',\'2\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill302/main.php',
)

Array\acquire302 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(302,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill302/main.php',
)

Array\lost302 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill302/main.php',
)

Array\finalize302 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(302,\'cnt\',$pa);		
		$x=min($x,(1<<30)-1);
		
		if (($ox<1)&&($x>=1)){
			\\cardbase\\get_qiegao(50,$pa);
		}
		if (($ox<5)&&($x>=5)){
			\\cardbase\\get_qiegao(300,$pa);
		}
		if (($ox<30)&&($x>=30)){
			\\cardbase\\get_qiegao(1000,$pa);
			\\cardbase\\get_card(66,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill302/main.php',
)

Array\itemmix_success ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'map\'));
		if ($itm0=="【KEY系催泪弹】"){
			$x=(int)\\skillbase\\skill_getvalue(302,\'cnt\');
			$x++;
			\\skillbase\\skill_setvalue(302,\'cnt\',$x);
		}
		$chprocess();	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill302/main.php',
)

Array\show_achievement302 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p302=0;
		else	$p302=base64_decode_number($data);	
		$c302=0;
		if ($p302>=30){
			$c302=999;
		}else if ($p302>=5){
			$c302=2;
		}else if ($p302>=1){
			$c302=1;
		}
		include template(\'MOD_SKILL302_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill302/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL303_INFO\',\'achievement;\');
		define(\'MOD_SKILL303_ACHIEVEMENT_ID\',\'3\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill303/main.php',
)

Array\acquire303 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(303,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill303/main.php',
)

Array\lost303 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill303/main.php',
)

Array\finalize303 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(303,\'cnt\',$pa);		
		$x=min($x,(1<<30)-1);
		
		if (($ox<1)&&($x>=1)){
			\\cardbase\\get_qiegao(150,$pa);
		}
		if (($ox<5)&&($x>=5)){
			\\cardbase\\get_qiegao(500,$pa);
		}
		if (($ox<30)&&($x>=30)){
			\\cardbase\\get_qiegao(2500,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill303/main.php',
)

Array\itemmix_success ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'map\'));
		if ($itm0=="【KEY系燃烧弹】"){
			$x=(int)\\skillbase\\skill_getvalue(303,\'cnt\');
			$x++;
			\\skillbase\\skill_setvalue(303,\'cnt\',$x);
		}
		$chprocess();	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill303/main.php',
)

Array\show_achievement303 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p303=0;
		else	$p303=base64_decode_number($data);	
		$c303=0;
		if ($p303>=30){
			$c303=999;
		}else if ($p303>=5){
			$c303=2;
		}else if ($p303>=1){
			$c303=1;
		}
		include template(\'MOD_SKILL303_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill303/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL304_INFO\',\'achievement;\');
		define(\'MOD_SKILL304_ACHIEVEMENT_ID\',\'4\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill304/main.php',
)

Array\acquire304 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(304,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill304/main.php',
)

Array\lost304 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill304/main.php',
)

Array\finalize304 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(304,\'cnt\',$pa);		
		$x=min($x,(1<<30)-1);
		
		if (($ox<1)&&($x>=1)){
			\\cardbase\\get_qiegao(100,$pa);
		}
		if (($ox<5)&&($x>=5)){
			\\cardbase\\get_qiegao(400,$pa);
		}
		if (($ox<30)&&($x>=30)){
			\\cardbase\\get_qiegao(1200,$pa);
			\\cardbase\\get_card(87,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill304/main.php',
)

Array\itemmix_success ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'map\'));
		if ($itm0=="【KEY系生命弹】"){
			$x=(int)\\skillbase\\skill_getvalue(304,\'cnt\');
			$x++;
			\\skillbase\\skill_setvalue(304,\'cnt\',$x);
		}
		$chprocess();	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill304/main.php',
)

Array\show_achievement304 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p304=0;
		else	$p304=base64_decode_number($data);	
		$c304=0;
		if ($p304>=30){
			$c304=999;
		}else if ($p304>=5){
			$c304=2;
		}else if ($p304>=1){
			$c304=1;
		}
		include template(\'MOD_SKILL304_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill304/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL308_INFO\',\'achievement;\');
		define(\'MOD_SKILL308_ACHIEVEMENT_ID\',\'8\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill308/main.php',
)

Array\acquire308 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(308,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill308/main.php',
)

Array\lost308 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill308/main.php',
)

Array\finalize308 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x=\\skillbase\\skill_getvalue(308,\'cnt\',$pa);		
		if ($x==0) $x=$ox;
		if ($ox!=0) $x=min($x,$ox);
		
		if (($x!=0)&&($x<=300)&&(($ox>300)||($ox==0))){
			\\cardbase\\get_qiegao(666,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill308/main.php',
)

Array\itemmix_success ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'map\'));
		if ($itm0=="【KEY系催泪弹】"){
			if ((int)(\\skillbase\\skill_getvalue(308,\'cnt\'))==0)
				\\skillbase\\skill_setvalue(308,\'cnt\',$now-$starttime);
		}
		$chprocess();	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill308/main.php',
)

Array\show_achievement308 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p308=0;
		else	$p308=base64_decode_number($data);	
		$c308=0;
		if (($p308<=300)&&($p308!=0)){
			$c308=999;
		}
		include template(\'MOD_SKILL308_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill308/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL309_INFO\',\'achievement;\');
		define(\'MOD_SKILL309_ACHIEVEMENT_ID\',\'9\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill309/main.php',
)

Array\acquire309 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(309,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill309/main.php',
)

Array\lost309 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill309/main.php',
)

Array\finalize309 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x=\\skillbase\\skill_getvalue(309,\'cnt\',$pa);
		if ($x==0) $x=$ox;
		if ($ox!=0) $x=min($x,$ox);
		
		if (($x!=0)&&($x<=900)&&(($ox>900)||($ox==0))){
			\\cardbase\\get_qiegao(666,$pa);
			\\cardbase\\get_card(72,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill309/main.php',
)

Array\itemmix_success ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'map\'));
		if ($itm0=="火水木金土符『贤者之石』"){
			if ((int)(\\skillbase\\skill_getvalue(309,\'cnt\'))==0)
				\\skillbase\\skill_setvalue(309,\'cnt\',$now-$starttime);
		}
		$chprocess();	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill309/main.php',
)

Array\show_achievement309 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p309=0;
		else	$p309=base64_decode_number($data);	
		$c309=0;
		if (($p309<=900)&&($p309!=0)){
			$c309=999;
		}
		include template(\'MOD_SKILL309_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill309/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL317_INFO\',\'achievement;daily;\');
		define(\'MOD_SKILL317_ACHIEVEMENT_ID\',\'17\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill317/main.php',
)

Array\acquire317 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(317,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill317/main.php',
)

Array\lost317 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill317/main.php',
)

Array\finalize317 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(317,\'cnt\',$pa);		
		$x=min($x,(1<<30)-1);
		
		if (($ox<1)&&($x>=1)){
			\\cardbase\\get_qiegao(233,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill317/main.php',
)

Array\itemmix_success ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'map\'));
		if (strpos($itmsk0,\'x\') !== false){
			$x=(int)\\skillbase\\skill_getvalue(317,\'cnt\');
			$x++;
			\\skillbase\\skill_setvalue(317,\'cnt\',$x);
		}
		$chprocess();	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill317/main.php',
)

Array\show_achievement317 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p317=0;
		else	$p317=base64_decode_number($data);	
		$c317=0;
		if ($p317>=1){
			$c317=999;
		}
		include template(\'MOD_SKILL317_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill317/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL319_INFO\',\'achievement;daily;\');
		define(\'MOD_SKILL319_ACHIEVEMENT_ID\',\'19\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill319/main.php',
)

Array\acquire319 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(319,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill319/main.php',
)

Array\lost319 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill319/main.php',
)

Array\finalize319 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(319,\'cnt\',$pa);		
		$x=min($x,(1<<30)-1);
		
		if (($ox<15)&&($x>=15)){
			\\cardbase\\get_qiegao(485,$pa);
			\\cardbase\\get_card(12,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill319/main.php',
)

Array\itemmix_success ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'map\'));
		if (strlen($itmk0)>=4){
			$x=(int)\\skillbase\\skill_getvalue(319,\'cnt\');
			$x++;
			\\skillbase\\skill_setvalue(319,\'cnt\',$x);
		}
		$chprocess();	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill319/main.php',
)

Array\show_achievement319 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p319=0;
		else	$p319=base64_decode_number($data);	
		$c319=0;
		if ($p319>=15){
			$c319=999;
		}
		include template(\'MOD_SKILL319_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill319/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL320_INFO\',\'achievement;daily;\');
		define(\'MOD_SKILL320_ACHIEVEMENT_ID\',\'20\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill320/main.php',
)

Array\acquire320 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(320,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill320/main.php',
)

Array\lost320 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill320/main.php',
)

Array\finalize320 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(320,\'cnt\',$pa);		
		$x=min($x,(1<<30)-1);
		
		if (($ox<1)&&($x>=1)){
			\\cardbase\\get_qiegao(150,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill320/main.php',
)

Array\itemmix_success ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'map\'));
		if ($itm0=="【KEY系催泪弹】"){
			$x=(int)\\skillbase\\skill_getvalue(320,\'cnt\');
			$x++;
			\\skillbase\\skill_setvalue(320,\'cnt\',$x);
		}
		$chprocess();	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill320/main.php',
)

Array\show_achievement320 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p320=0;
		else	$p320=base64_decode_number($data);	
		$c320=0;
		if ($p320>=1){
			$c320=999;
		}
		include template(\'MOD_SKILL320_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill320/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL431_INFO\',\'card;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill431/main.php',
)

Array\acquire431 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill431/main.php',
)

Array\lost431 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill431/main.php',
)

Array\itemmix_success ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if(\\skillbase\\skill_query(431)){
			$wp+=3;$wk+=3;$wc+=3;$wf+=3;$wg+=3;$wd+=2;
			\\lvlctl\\getexp(3);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill431/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL69_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill69/main.php',
)

Array\acquire69 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'money\']+=480;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill69/main.php',
)

Array\lost69 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill69/main.php',
)

Array\check_unlocked69 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill69/main.php',
)

Array\get_shopiteminfo ====> array (
  'vars' => '$item',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$ret=$chprocess($item);
		if (\\skillbase\\skill_query(69)) $ret[\'price\']=round($ret[\'price\']*0.75);
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill69/main.php',
)

Array\prepare_shopitem ====> array (
  'vars' => '$sn',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$ret=$chprocess($sn);
		if (\\skillbase\\skill_query(69)) 
		{
			for ($i=0; $i<count($ret); $i++)
				$ret[$i][\'price\']=round($ret[$i][\'price\']*0.75);
		}
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill69/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL300_INFO\',\'achievement;\');
		define(\'MOD_SKILL300_ACHIEVEMENT_ID\',\'0\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill300/main.php',
)

Array\acquire300 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(300,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill300/main.php',
)

Array\lost300 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill300/main.php',
)

Array\finalize300 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(300,\'cnt\',$pa);		
		$x=min($x,(1<<30)-1);
		
		if (($ox<32767)&&($x>=32767)){
			\\cardbase\\get_qiegao(200,$pa);
		}
		if (($ox<142857)&&($x>=142857)){
			\\cardbase\\get_qiegao(300,$pa);
		}
		if (($ox<999983)&&($x>=999983)){
			\\cardbase\\get_qiegao(500,$pa);
			\\cardbase\\get_card(86,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill300/main.php',
)

Array\get_edible_spup ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(300))
		{
			$x=(int)\\skillbase\\skill_getvalue(300,\'cnt\');
			$x+=$theitem[\'itme\'];
			\\skillbase\\skill_setvalue(300,\'cnt\',$x);
		}
		return $chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill300/main.php',
)

Array\get_edible_hpup ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(300))
		{
			$x=(int)\\skillbase\\skill_getvalue(300,\'cnt\');
			$x+=$theitem[\'itme\'];
			\\skillbase\\skill_setvalue(300,\'cnt\',$x);
		}
		return $chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill300/main.php',
)

Array\show_achievement300 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p300=0;
		else	$p300=base64_decode_number($data);	
		$c300=0;
		if ($p300>=999983){
			$c300=999;
		}else if ($p300>=142857){
			$c300=2;
		}else if ($p300>=32767){
			$c300=1;
		}
		include template(\'MOD_SKILL300_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill300/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		global $cmdcdtime, $rmcdtime;
		$cmdcdtime=0; $rmcdtime=0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/cooldown/main.php',
)

Array\get_move_coldtime ====> array (
  'vars' => '&$dest',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'cooldown\'));
		return $movecoldtime;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/cooldown/main.php',
)

Array\get_search_coldtime ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'cooldown\'));
		return $searchcoldtime;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/cooldown/main.php',
)

Array\get_itemuse_coldtime ====> array (
  'vars' => '&$item',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'cooldown\'));
		return $itemusecoldtime;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/cooldown/main.php',
)

Array\move ====> array (
  'vars' => '$moveto = 99',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'cooldown\'));
		if($coldtimeon){
			$cdover = $cdsec*1000 + $cdmsec;
			$nowmtime = floor(getmicrotime()*1000);
			$rmcdtime = $nowmtime >= $cdover ? 0 : $cdover - $nowmtime;
		}
		
		if($coldtimeon && $rmcdtime > 0)
		{
			$log .= \'<span class="yellow">冷却时间尚未结束！</span><br>\';
			$mode = \'command\';
			return;
		}
		
		if($coldtimeon) $cmdcdtime=get_move_coldtime($moveto);
		
		$chprocess($moveto);
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/cooldown/main.php',
)

Array\search ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'cooldown\'));
		if($coldtimeon){
			$cdover = $cdsec*1000 + $cdmsec;
			$nowmtime = floor(getmicrotime()*1000);
			$rmcdtime = $nowmtime >= $cdover ? 0 : $cdover - $nowmtime;
		}

		if ($coldtimeon && $rmcdtime > 0)
		{
			$log .= \'<span class="yellow">冷却时间尚未结束！</span><br>\';
			$mode = \'command\';
			return;
		}
	
		if($coldtimeon) $cmdcdtime=get_search_coldtime();
		
		$chprocess();
	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/cooldown/main.php',
)

Array\itemuse_wrapper ====> array (
  'vars' => '$item',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'cooldown\'));
		if($coldtimeon){
			$cdover = $cdsec*1000 + $cdmsec;
			$nowmtime = floor(getmicrotime()*1000);
			$rmcdtime = $nowmtime >= $cdover ? 0 : $cdover - $nowmtime;
		}

		if ($coldtimeon && $rmcdtime > 0)
		{
			$log .= \'<span class="yellow">冷却时间尚未结束！</span><br>\';
			$mode = \'command\';
			return;
		}
		
		if($coldtimeon) $cmdcdtime=get_itemuse_coldtime($item);
		
		$chprocess($item);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/cooldown/main.php',
)

Array\get_pstime ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		global $___MOD_SRV;
		if ($___MOD_SRV)	
		{
			eval(import_module(\'input\'));
			return $___PAGE_STARTTIME_VALUE;
		}
		else			
		{
			global $pagestartime;
			return $pagestartime;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/cooldown/main.php',
)

Array\post_act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'cooldown\'));
		
		$pstime = get_pstime();
	
		
		if($coldtimeon)
			if ($cmdcdtime!=0)	
			{
				
				$nowmtime = floor($pstime*1000)+$cmdcdtime;
				$cdsec = floor($nowmtime/1000);
				$cdmsec = fmod($nowmtime , 1000);
				$cdover = $cdsec*1000 + $cdmsec;
				
				$nowmtime = floor(getmicrotime()*1000);
				$rmcdtime = $nowmtime >= $cdover ? 0 : $cdover - $nowmtime;
			}
			else				
			{
				$cdover = $cdsec*1000 + $cdmsec;
				$nowmtime = floor(getmicrotime()*1000);
				$rmcdtime = $nowmtime >= $cdover ? 0 : $cdover - $nowmtime;
			}

		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/cooldown/main.php',
)

Array\check_cooltime_on ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'cooldown\'));
		return $coldtimeon;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/cooldown/main.php',
)

Array\prepare_response_content ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess();
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'cooldown\'));
		if(check_cooltime_on())
		{
			$cdover = $cdsec*1000 + $cdmsec;
			$nowmtime = floor(getmicrotime()*1000);
			$rmcdtime = $nowmtime >= $cdover ? 0 : $cdover - $nowmtime;
			if($showcoldtimer && $rmcdtime){
				$gamedata[\'timer\'] = $rmcdtime;
			}
			if($hp > 0 && $showcoldtimer && $rmcdtime){
				$x1=$rmcdtime/1000; $x1=(int)$x1; $y1=($rmcdtime%1000)/100; $y1=(int)$y1;
				$log .= "行动冷却时间：<span id=\\"timer\\" class=\\"yellow\\">{$x1}.{$y1}</span>秒<script type=\\"text/javascript\\">demiSecTimerStarter($rmcdtime);</script><br>";
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/cooldown/main.php',
)

Array\prepare_initial_response_content ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess();
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'cooldown\'));
		if(check_cooltime_on())
		{
			$cdover = $cdsec*1000 + $cdmsec;
			$nowmtime = floor(getmicrotime()*1000);
			$rmcdtime = $nowmtime >= $cdover ? 0 : $cdover - $nowmtime;
			if($hp > 0 && $showcoldtimer && $rmcdtime)
			{
				$x1=$rmcdtime/1000; $x1=(int)$x1; $y1=($rmcdtime%1000)/100; $y1=(int)$y1;
				$log .= "行动冷却时间：<span id=\\"timer\\" class=\\"yellow\\">{$x1}.{$y1}</span>秒<script type=\\"text/javascript\\">demiSecTimerStarter($rmcdtime);</script><br>";
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/cooldown/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/enemy/main.php',
)

Array\findenemy ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'metman\'));
		
		\\player\\update_sdata();
		
		$battle_title = \'发现敌人\';
		\\metman\\init_battle();
		$log .= "你发现了敌人<span class=\\"red\\">{$tdata[\'name\']}</span>！<br>对方好像完全没有注意到你！<br>";
		
		include template(get_battlecmd_filename());
		$cmd = ob_get_contents();
		ob_clean();

		$main = MOD_METMAN_MEETMAN;
		
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/enemy/main.php',
)

Array\get_battlecmd_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\',\'metman\'));
		return MOD_ENEMY_BATTLECMD;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/enemy/main.php',
)

Array\calculate_active_obbs ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'enemy\'));
		
		if($edata[\'type\']) return $active_obbs_npc;
		else return $active_obbs_pc;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/enemy/main.php',
)

Array\calculate_active_obbs_multiplier ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1.0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/enemy/main.php',
)

Array\calculate_active_obbs_change ====> array (
  'vars' => '&$ldata,&$edata,$active_r',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $active_r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/enemy/main.php',
)

Array\get_final_active_obbs ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'enemy\'));
		
		$active_r = min(max(calculate_active_obbs($ldata,$edata),1), 150);
		
		
		
		$active_r *= calculate_active_obbs_multiplier($ldata,$edata);
		
		
		$active_r = calculate_active_obbs_change($ldata,$edata,$active_r);
		
		
		$active_r = max($active_obbs_range[0], min($active_obbs_range[1], $active_r));
		
		return $active_r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/enemy/main.php',
)

Array\check_enemy_meet_active ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$active_r = get_final_active_obbs($ldata,$edata);
		
		$active_dice = rand(0,99);
		return ($active_dice < $active_r);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/enemy/main.php',
)

Array\meetman_alternative ====> array (
  'vars' => '$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'metman\',\'logger\'));
		if ($edata[\'hp\']>0)
		{
			extract($edata,EXTR_PREFIX_ALL,\'w\');
			if (check_enemy_meet_active($sdata,$edata)) {
				$action = \'enemy\'.$edata[\'pid\'];
				findenemy($edata);
				return;
			} else {
				battle_wrapper($edata,$sdata,0);
				return;
			}
		}
		else $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/enemy/main.php',
)

Array\battle_wrapper ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/enemy/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'map\',\'player\',\'logger\',\'metman\',\'input\'));
		if($mode == \'combat\') 
		{
			if ($command == \'back\') 
			{
				$log .= "你逃跑了。";
				$action = \'\';
				$mode = \'command\';
				return;
			}
			
			$enemyid = str_replace(\'enemy\',\'\',$action);
			
			if(!$enemyid || strpos($action,\'enemy\')===false){
				$log .= "<span class=\\"yellow\\">你没有遇到敌人，或已经离开战场！</span><br>";
				$action = \'\';
				$mode = \'command\';
				return;
			}
		
			$result = $db->query ( "SELECT * FROM {$tablepre}players WHERE pid=\'$enemyid\'" );
			if (! $db->num_rows ( $result )) {
				$log .= "对方不存在！<br>";
				$action = \'\';
				$mode = \'command\';
				return;
			}
		
			$edata=\\player\\fetch_playerdata_by_pid($enemyid);
			extract($edata,EXTR_PREFIX_ALL,\'w\');
			
			if ($edata [\'pls\'] != $pls) {
				$log .= "<span class=\\"yellow\\">" . $edata [\'name\'] . "</span>已经离开了<span class=\\"yellow\\">$plsinfo[$pls]</span>。<br>";
				$action = \'\';
				$mode = \'command\';
				return;
			} elseif ($edata [\'hp\'] <= 0) {
				$log .= "<span class=\\"red\\">" . $edata [\'name\'] . "</span>已经死亡，不能被攻击。<br>";
				if(\\corpse\\check_corpse_discover($edata))
				{
					$action = \'corpse\'.$edata[\'pid\'];
					\\corpse\\findcorpse ( $edata );
				}
				return;
			}
			
			\\player\\update_sdata();
			$ldata=$sdata;
			battle_wrapper($ldata,$edata,1);
			return;
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/enemy/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_duel/main.php',
)

Array\duel ====> array (
  'vars' => '$time = 0,$keyitm = \'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		if($gamestate < 30){
			return 30;
		} elseif($gamestate >= 50) {
			return 51;
		} else{
			$time = $time == 0 ? $now : $time;
			$gamestate = 50;
			save_gameinfo();
			addnews($time,\'duelkey\',$name,$keyitm);
			addnews($time,\'duel\');
			systemputchat($time,\'duel\');
			return 50;
		}	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_duel/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		
		if($news == \'duel\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">游戏进入死斗阶段！</span></li>";
		if($news == \'duelkey\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}使用了{$b}，启动了死斗程序！</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_duel/main.php',
)

Array\check_player_discover ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if ($edata[\'type\']>0 && $gamestate >= 50) return 0;	
		return $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_duel/main.php',
)

Array\calculate_meetman_rate ====> array (
  'vars' => '$schmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($gamestate >= 50) 
		{
			if ($schmode == \'search\') return $chprocess($schmode) + 10;
			if ($schmode == \'move\') return $chprocess($schmode) + 5;
		}
		return $chprocess($schmode);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_duel/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL19_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill19/main.php',
)

Array\acquire19 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill19/main.php',
)

Array\lost19 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill19/main.php',
)

Array\get_trap_escape_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(19)) return $chprocess()+17; else return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill19/main.php',
)

Array\calculate_trap_reuse_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(19)) return $chprocess()+35; else return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill19/main.php',
)

Array\trap_use ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(19)) 
		{
			eval(import_module(\'player\'));
			$wd+=rand(1,2); \\lvlctl\\getexp(rand(1,2));
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill19/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL22_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill22/main.php',
)

Array\acquire22 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill22/main.php',
)

Array\lost22 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill22/main.php',
)

Array\get_trap_escape_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(22)) return $chprocess()-4; else return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill22/main.php',
)

Array\calculate_trap_reuse_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(22)) return $chprocess()-15; else return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill22/main.php',
)

Array\calculate_real_trap_obbs ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(22)) return $chprocess()+3; else return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill22/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/autopower/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'autopower\',\'sys\',\'player\',\'itemmain\',\'cooldown\',\'logger\',\'input\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos($itmk,\'Z\')===0 && ($itm==\'全自动订书机\' || $itm==\'全自动磨刀砂轮\'))
		{
			if (!$coldtimeon)
			{
				$log.=\'服务器没有开启冷却时间，本功能不可用。<br>\';
				return;
			}
			if ($itme==0)
			{
				$lis = Array();
				for ($i=1; $i<=6; $i++)
				{
					if (strpos(${\'itmk\'.$i},\'Y\')===0 || strpos(${\'itmk\'.$i},\'Z\')===0)
					{
						if ($itm==\'全自动订书机\' && (preg_match("/钉$/",${\'itm\'.$i}) || preg_match("/钉\\[/",${\'itm\'.$i})))
							array_push($lis,$i);
					
						if ($itm==\'全自动磨刀砂轮\' && strpos(${\'itm\'.$i},\'磨刀石\')!==false)
							array_push($lis,$i);
					}
				}
				
				if (count($lis)==0)
				{
					if ($itm==\'全自动订书机\')
						$log.=\'你的背包中没有钉子。<br>\';
					else  $log.=\'你的背包中没有磨刀石。<br>\';
					return;
				}
				
				if (count($lis)>1)
				{
					if (!isset($itemselect))
					{
						$cmd.=\'<input type="hidden" id="mode" name="mode" value="command">\';
						$cmd.=\'<input type="hidden" id="command" name="command" value="itm\'.$theitem[\'itmn\'].\'">\';
						$cmd.=\'<input type="hidden" id="itemselect" name="itemselect" value="999">\';
						$cmd.= "请选择你想装填进{$itm}的道具：<br><br>";
						foreach ($lis as $i)
						{
							$cmd.="<input type=\\"button\\" class=\\"cmdbutton\\"  style=\\"width:200\\" value=\\"".${\'itm\'.$i}.\'/\'.${\'itme\'.$i}.\'/\'.${\'itms\'.$i}."\\" onclick=\\"$(\'itemselect\').value=\'".$i."\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;\\">";
						}
						$cmd.="<input type=\\"button\\" class=\\"cmdbutton\\"  style=\\"width:200\\" value=\\"返回\\" onclick=\\"postCmd(\'gamecmd\',\'command.php\');this.disabled=true;\\">";
						return;
					}
					else
					{
						$i=(int)$itemselect;
						if (!in_array($i,$lis))
						{
							$mode=\'command\'; return; 
						}
						$choice = $i;
					}
				}
				else  $choice = $lis[0];
				
				$num = min($max_autopower_num, ${\'itms\'.$choice});
				
				$itme = ${\'itme\'.$choice}; $itms = $num;
				
				$log.="你将{$num}个<span class=\\"yellow\\">".${\'itm\'.$choice}."</span>装填进了{$itm}。<br>";
				${\'itms\'.$choice} -= $num;
				if (${\'itms\'.$choice}<=0)
				{
					$log .= "<span class=\\"red\\">".${\'itm\'.$choice}."</span>用光了。<br>";
					${\'itm\'.$choice} = ${\'itmk\'.$choice} = ${\'itmsk\'.$choice} = \'\';
					${\'itme\'.$choice} = ${\'itms\'.$choice} = 0;
				}
			}
			else
			{
				$log.="<span class=\\"yellow\\">你启动了机器，饶有兴致地看着机器工作着……</span><br>";
				$success_count = 0;
				for ($i=1; $i<=$itms; $i++)
				{
					$log.=\'<span id="autopower\'.$i.\'" style="display:none">\';
					if ($itm==\'全自动订书机\') $funcname = \'\\empowers\\use_nail\'; else $funcname = \'\\empowers\\use_stone\';
					$flag = $funcname($itm,$itme);
					if (!$flag || $i==$itms) 
					{
						$log.=\'<span class="yellow">\'.$itm.\'停止了工作。<br></span></span>\';
						if (!$flag) break;
					}
					else  $log.=\'</span>\';
					$success_count++;
				}
				$log.=\'<span id="autopower_curnum" style="display:none">1</span>\';
				$log.=\'<span id="autopower_totnum" style="display:none">\'.$success_count.\'</span>\';
				$log.=\'<span id="autopower_cd" style="display:none">\'.round($itemusecoldtime*$autopower_penalty).\'</span>\';
				$cmdcdtime = round($itemusecoldtime*$autopower_penalty)*$success_count;
				if ($success_count==$itms)
				{
					$itme=0; $itms=1;
				}
				else
				{
					$itms-=$success_count;
				}
			}
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/autopower/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL601_INFO\',\'club;hidden;debuff;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill601/main.php',
)

Array\acquire601 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill601\'));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill601/main.php',
)

Array\lost601 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill601/main.php',
)

Array\get_move_coldtime ====> array (
  'vars' => '&$dest',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(601))&&(check_skill601_state()==1)) return $chprocess($dest)*1.8;
		return $chprocess($dest);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill601/main.php',
)

Array\get_search_coldtime ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(601))&&(check_skill601_state()==1)) return $chprocess()*1.8;
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill601/main.php',
)

Array\get_itemuse_coldtime ====> array (
  'vars' => '&$item',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(601))&&(check_skill601_state()==1)) return $chprocess($item)*3;
		return $chprocess($item);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill601/main.php',
)

Array\check_skill601_state ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'skill601\'));
		if (!\\skillbase\\skill_query(601)) return 0;
		$e=\\skillbase\\skill_getvalue(601,\'end\');
		if ($now<$e) return 1;
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill601/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if (\\skillbase\\skill_query(601,$sdata))
		{
			eval(import_module(\'skill601\',\'skillbase\'));
			$skill601_start = (int)\\skillbase\\skill_getvalue(601,\'start\'); 
			$skill601_end = (int)\\skillbase\\skill_getvalue(601,\'end\'); 
			$z=Array(
				\'disappear\' => 1,
				\'clickable\' => 0,
				\'hint\' => \'状态「EMP」<br>行动冷却时间延长\',
			);
			if ($now<$skill601_end)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=$skill601_end-$skill601_start;
				$z[\'nowsec\']=$now-$skill601_start;
			}
			else 
			{
				$z[\'style\']=4;
			}
			\\bufficons\\bufficon_show(\'img/skill601.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill601/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/team/main.php',
)

Array\check_alive_discover ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'metman\',\'logger\'));
		if($teamID && (!$fog) && $teamID == $edata[\'teamID\'] && in_array($gametype,$teamwin_mode))
		{
			return 0;
		}
		return $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/team/main.php',
)

Array\meetman_alternative ====> array (
  'vars' => '$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if($edata[\'hp\']>0 && $teamID && (!$fog) && $gamestate<40 && $teamID == $edata[\'teamID\'] && !in_array($gametype,$teamwin_mode))
		{
			findteam($edata);
			return;
		} 
		$chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/team/main.php',
)

Array\findteam ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'metman\',\'logger\'));
		
		extract($edata,EXTR_PREFIX_ALL,\'w\');
		$action = \'team\'.$edata[\'pid\'];
			
		$battle_title = \'发现队友\';
		\\metman\\init_battle(1);
		
		$log .= "你发现了队友<span class=\\"yellow\\">{$tdata[\'name\']}</span>！<br>";
		include template(MOD_TEAM_FINDTEAM);
		$cmd = ob_get_contents();
		ob_clean();
		$main = MOD_METMAN_MEETMAN;
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/team/main.php',
)

Array\senditem_check ====> array (
  'vars' => '$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\',\'logger\',\'player\'));
		if(!isset($edata)){
			$log .= "对方不存在！<br>";
			return false;
		} elseif($edata[\'pls\'] != $pls) {
			$log .= \'<span class="yellow">\'.$edata[\'name\'].\'</span>已经离开了<span class="yellow">\'.$plsinfo[$pls].\'</span>。<br>\';
			return false;
		} elseif($edata[\'hp\'] <= 0) {
			$log .= \'<span class="yellow">\'.$edata[\'name\'].\'</span>已经死亡，不能接受物品。<br>\';
			return false;
		} elseif(!$teamID || $edata[\'teamID\']!=$teamID || $pid==$edata[\'pid\']){
			$log .= \'<span class="yellow">\'.$edata[\'name\'].\'</span>并非你的队友，不能接受物品。<br>\';
			return false;
		}
		return true;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/team/main.php',
)

Array\senditem ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'map\',\'logger\',\'player\',\'metman\',\'input\'));
	
		$mateid = str_replace(\'team\',\'\',$action);
		if(!$mateid || strpos($action,\'team\')===false){
			$log .= \'<span class="yellow">你没有遇到队友，或已经离开现场！</span><br>\';
			$action = \'\';
			$mode = \'command\';
			return;
		}
		
		$edata=\\player\\fetch_playerdata_by_pid($mateid);
		$check = senditem_check($edata);
		if(!senditem_check($edata)){
			$action = \'\';
			$mode = \'command\';
			return;
		}
























		if($message){
			$log .= "<span class=\\"lime\\">你对{$edata[\'name\']}说：“{$message}”</span><br>";
			$x = "<span class=\\"lime\\">{$name}对你说：“{$message}”</span>";
			if(!$edata[\'type\']) \\logger\\logsave($edata[\'pid\'],$now,$x,\'c\');
		}
		
		if($command != \'back\'){
			$itmn = substr($command, 4);
			if (!${\'itms\'.$itmn}) {
				$log .= \'此道具不存在！\';
				$action = \'\';
				$mode = \'command\';
				return;
			}
			$itm = & ${\'itm\'.$itmn};
			$itmk = & ${\'itmk\'.$itmn};
			$itme = & ${\'itme\'.$itmn};
			$itms = & ${\'itms\'.$itmn};
			$itmsk = & ${\'itmsk\'.$itmn};

			for($i = 1;$i <= 6; $i++){
				if(!$edata[\'itms\'.$i]) {
					$edata[\'itm\'.$i] = $itm; $edata[\'itmk\'.$i] = $itmk; 
					$edata[\'itme\'.$i] = $itme; $edata[\'itms\'.$i] = $itms; $edata[\'itmsk\'.$i] = $itmsk;
					$log .= "你将<span class=\\"yellow\\">".$edata[\'itm\'.$i]."</span>送给了<span class=\\"yellow\\">{$edata[\'name\']}</span>。<br>";
					$x = "<span class=\\"yellow\\">$name</span>将<span class=\\"yellow\\">".$edata[\'itm\'.$i]."</span>送给了你。";
					if(!$edata[\'type\']) \\logger\\logsave($edata[\'pid\'],$now,$x,\'t\');
					addnews($now,\'senditem\',$name,$edata[\'name\'],$itm);
					\\player\\player_save($edata);
					$itm = $itmk = $itmsk = \'\';
					$itme = $itms = 0;
					$action = \'\';
					return;
				}
			}
			$log .= "<span class=\\"yellow\\">{$edata[\'name\']}</span> 的包裹已经满了，不能赠送物品。<br>";
		}
		$action = \'\';
		$mode = \'command\';
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/team/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'input\'));
		if($mode == \'senditem\') 
		{
			senditem();
			return;
		}
		
		if($mode == \'command\' && $command == \'team\') {
			if($teamcmd == \'teamquit\') {				
				teamquit();
			} else{
				teamcheck();
			}
			return;
		}
		
		if($mode == \'team\') {
			if ($command==\'teammake\') 
			{
				teammake($nteamID,$nteamPass);
				return; 
			}
			if ($command==\'teamjoin\')
			{
				teamjoin($nteamID,$nteamPass);
				return;
			}
		}
				
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/team/main.php',
)

Array\check_team_button_exist ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/team/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'teammake\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$b}创建了队伍{$a}</span></li>";
		if($news == \'teamjoin\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$b}加入了队伍{$a}</span></li>";
		if($news == \'teamquit\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$b}退出了队伍{$a}</span></li>";
		if($news == \'senditem\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}将<span class=\\"yellow\\">$c</span>赠送给了{$b}</span></li>";
			
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/team/main.php',
)

Array\teamcheck ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'team\',\'input\'));
		if($teamID) {
			$log .= \'你已经加入了队伍<span class="yellow">\'.$teamID.\'</span>，请先退出队伍。<br>\';
			$mode = \'command\';
		} elseif($teamcmd == \'teammake\' && $sp <= $team_sp) {
			$log .= \'体力不足，不能创建队伍。至少需要<span class="yellow">\'.$team_sp.\'</span>点体力。<br>\';
			$mode = \'command\';
		} elseif($teamcmd == \'teamjoin\' && $sp <= $teamj_sp) {
			$log .= \'体力不足，不能加入队伍。至少需要<span class="yellow">\'.$teamj_sp.\'</span>点体力。<br>\';
			$mode = \'command\';
		} else {
			include template(MOD_TEAM_TEAM);
			$cmd = ob_get_contents();
			ob_clean();
		}
		return;	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/team/team.command.php',
)

Array\teammake ====> array (
  'vars' => '$tID,$tPass',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'team\',\'input\'));

		if(!$tID || !$tPass) {
			$log .= \'队伍名和密码不能为空，请重新输入。<br>\';
			$mode = \'command\';
			return;
		}
		if(strlen($tID) > 20){
			$log .= \'队伍名称过长，请重新输入。<br>\';
			$mode = \'command\';
			return;
		}
		if(strlen($tPass) > 20){
			$log .= \'队伍密码过长，请重新输入。<br>\';
			$mode = \'command\';
			return;
		}
		if($tID == $noitm) {
			$log .= \'队伍名不能为<span class="red">\'.$tID.\'</span>，请重新输入。<br>\';
			$mode = \'command\';
			return;
		}
			
		if($teamID) {
			$log .= \'你已经加入了队伍<span class="yellow">\'.$teamID.\'</span>，请先退出队伍。<br>\';
		} elseif($sp <= $team_sp) {
			$log .= \'体力不足，不能创建队伍。至少需要<span class="yellow">\'.$team_sp.\'</span>点体力。<br>\';
		} else {
			$result = $db->query("SELECT pid FROM {$tablepre}players WHERE teamID=\'$tID\'");
			if($db->num_rows($result)){
				$log .= \'队伍<span class="yellow">\'.$tID.\'</span>已经存在，请更换队伍名。<br>\';
			} else {
				$teamID = $tID;
				$teamPass = $tPass;
				$sp -= $team_sp;
				$log .= \'你创建了队伍<span class="yellow">\'.$teamID.\'</span>。<br>\';
				addnews($now,\'teammake\',$teamID,$name);
			}
		$mode = \'command\';
		return;

		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/team/team.command.php',
)

Array\teamjoin ====> array (
  'vars' => '$tID,$tPass',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'team\',\'input\'));
		if(!$tID || !$tPass){
			$log .= \'队伍名和密码不能为空，请重新输入。<br>\';
			$mode = \'command\';
			return;
		}
		if(strlen($tID) > 20){
			$log .= \'队伍名称过长，请重新输入。<br>\';
			$mode = \'command\';
			return;
		}
		if(strlen($tPass) > 20){
			$log .= \'队伍密码过长，请重新输入。<br>\';
			$mode = \'command\';
			return;
		}
		if($tID == $noitm) {
			$log .= \'队伍名不能为<span class="red">\'.$tID.\'</span>，请重新输入。<br>\';
			$mode = \'command\';
			return;
		}

		if($teamID) {
			$log .= \'你已经加入了队伍<span class="yellow">\'.$teamID.\'</span>，请先退出队伍。<br>\';
		} elseif($sp <= $teamj_sp) {
			$log .= \'体力不足，不能加入队伍。至少需要<span class="yellow">\'.$teamj_sp.\'</span>点体力。<br>\';
		} else {
			$result = $db->query("SELECT teamPass FROM {$tablepre}players WHERE teamID=\'$tID\'");
			if(!$db->num_rows($result)){
				$log .= \'队伍<span class="yellow">\'.$tID.\'</span>不存在，请先创建队伍。<br>\';
			} elseif($db->num_rows($result) >= $teamlimit) {
				$log .= \'队伍<span class="yellow">\'.$tID.\'</span>人数已满，请更换队伍。<br>\';
			} else {
				$password = $db->result($result,0);
				if($tPass == $password) {
					$teamID = $tID;
					$teamPass = $tPass;
					$sp -= $teamj_sp;
					$log .= \'你加入了队伍<span class="yellow">\'.$teamID.\'</span>。<br>\';
					addnews($now,\'teamjoin\',$teamID,$name);
				} else {
					$log .= \'密码错误，不能加入队伍<span class="yellow">\'.$tID.\'</span>。<br>\';
				}
			}
		}

		$mode = \'command\';
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/team/team.command.php',
)

Array\teamquit ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'team\',\'input\'));
		if($teamID){
			$log .= \'你退出了队伍<span class="yellow">\'.$teamID.\'</span>。<br>\';
			addnews($now,\'teamquit\',$teamID,$name);
			$teamID =$teamPass = \'\';
		} else {
			$log .= \'你不在队伍中。<br>\';
		}
		$mode = \'command\';
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/team/team.command.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/main.php',
)

Array\check_can_counter ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle.php',
)

Array\attack_wrapper ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle.php',
)

Array\assault_end ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle.php',
)

Array\counter_assault ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$pa[\'is_counter\']=1;
		attack_wrapper($pa, $pd, $active);
		unset($pa[\'is_counter\']);
		
		if ($pd[\'hp\']>0)
		{
			assault_end($pd, $pa, 1-$active);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle.php',
)

Array\player_cannot_counter ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		if ($active)
		{
			$log .= "<span class=\\"red\\">你处于无法反击的状态，逃跑了！</span><br>";
			$pd[\'battlelog\'] .= "其无法反击，逃跑了。<br>";
		}
		else
		{
			$log .= "<span class=\\"red\\">敌人处于无法反击的状态，逃跑了！</span><br>";
			$pa[\'battlelog\'] .= "你无法反击，逃跑了。<br>";
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle.php',
)

Array\cannot_counter ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		player_cannot_counter($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle.php',
)

Array\assault_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		if ($active) $pa[\'user_commanded\']=1; else $pa[\'user_commanded\']=0;
		$pd[\'user_commanded\']=0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle.php',
)

Array\counter_assault_wrapper ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'hp\']>0 && $pd[\'hp\']>0)
		{
			$pa[\'is_counter\']=1;
			if (check_can_counter($pa, $pd,$active)) 
			{
				$pa[\'counter_assaulted\']=1;
				counter_assault($pa,$pd,$active);
			}
			else
			{
				$pa[\'counter_assaulted\']=0;
				cannot_counter($pa,$pd,$active);
			}
			unset($pa[\'is_counter\']);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle.php',
)

Array\assault ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		foreach(array(\'pa\',\'pd\') as $val){
			${$val}[\'is_counter\'] = ${$val}[\'physical_dmg_dealt\'] = ${$val}[\'wepimp\'] = ${$val}[\'actual_rapid_time\'] = 0;
			${$val}[\'battlelog\'] = \'\';
		}




		attack_wrapper($pa, $pd, $active);
		counter_assault_wrapper($pd, $pa, 1-$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle.php',
)

Array\assault_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		foreach(array(\'pa\',\'pd\') as $val){
			unset(${$val}[\'is_counter\'],${$val}[\'physical_dmg_dealt\'],${$val}[\'wepimp\'],${$val}[\'actual_rapid_time\']);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle.php',
)

Array\save_enemy_battlelog ====> array (
  'vars' => '&$pl',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'logger\'));
		if(!$pl[\'type\']){
			if(isset($pl[\'battle_msg\'])) {
				$pl[\'battlelog\'] = $pl[\'battle_msg\'].$pl[\'battlelog\'];
			}
			if(!empty($pl[\'battlelog\'])) \\logger\\logsave ( $pl[\'pid\'], $now, $pl[\'battlelog\'] ,\'b\');
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle_wrapper.php',
)

Array\send_battle_msg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'input\'));
		if(!empty($message)){
			$log .= "<span class=\\"lime\\">你向{$pd[\'name\']}喊道：“{$message}”</span><br>";
			$pd[\'battle_msg\'] = "<span class=\\"lime\\">{$pa[\'name\']}向你喊道：“{$message}”</span><br><br>";
			\\sys\\addchat(6, "{$pa[\'name\']}高喊着“{$message}”杀向了{$pd[\'name\']}");
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle_wrapper.php',
)

Array\battle_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		send_battle_msg($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle_wrapper.php',
)

Array\battle_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle_wrapper.php',
)

Array\battle ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		assault_prepare($pa,$pd,$active);
		assault($pa,$pd,$active);
		assault_finish($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle_wrapper.php',
)

Array\battle_wrapper ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		battle_prepare($pa, $pd, $active);
		battle($pa, $pd, $active);
		battle_finish($pa, $pd, $active);
		
		
		eval(import_module(\'sys\',\'logger\',\'player\',\'metman\'));
		
		if ($active) 
		{ 
			if ($pd[\'hp\']<=0 && $pa[\'hp\']>0)
			{
				$pa[\'action\']=\'corpse\'.$pd[\'pid\'];
			}
			if ($pa[\'hp\']<=0 && $pd[\'hp\']>0 && $pd[\'action\']==\'\' && $pd[\'type\']==0)
			{
				$pd[\'action\'] = \'pacorpse\'.$pa[\'pid\']; 
			}
		}
		else
		{
			if ($pd[\'hp\']<=0 && $pa[\'hp\']>0 && $pa[\'action\']==\'\' && $pa[\'type\']==0)
			{
				$pa[\'action\']=\'pacorpse\'.$pd[\'pid\'];
			}
			if ($pa[\'hp\']<=0 && $pd[\'hp\']>0)
			{
				$pd[\'action\'] = \'corpse\'.$pa[\'pid\']; 
			}
		}
		
		if ($active)
		{
			$edata=$pd;
			\\player\\player_save($pa); \\player\\player_save($pd);
			\\metman\\metman_load_playerdata($pd);
			if ($pd[\'type\']==0) save_enemy_battlelog($pd);
			\\player\\load_playerdata($pa);
		}
		else
		{
			$edata=$pa;
			\\player\\player_save($pa); \\player\\player_save($pd);
			\\metman\\metman_load_playerdata($pa);
			if ($pa[\'type\']==0) save_enemy_battlelog($pa);
			\\player\\load_playerdata($pd);
		}
		
		$battle_title = \'战斗发生\';
		$main = MOD_METMAN_MEETMAN;
		\\metman\\init_battle(1);
		
		if (substr($action,0,6)==\'corpse\')
		{
			\\corpse\\findcorpse($edata);
		}
		else
		{
			include template(get_battleresult_filename());
			$cmd = ob_get_contents();
			ob_clean();
			$action = \'\';
		}
		
		if (defined(\'MOD_CLUBBASE\')) include template(MOD_CLUBBASE_NPCSKILLPAGE);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle_wrapper.php',
)

Array\get_battleresult_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\',\'metman\'));
		return MOD_BATTLE_BATTLERESULT;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/battle/battle_wrapper.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$iteminfo[\'U\']=\'扫雷设备\';
		if (defined(\'MOD_NOISE\'))
		{
			eval(import_module(\'noise\'));
			$noiseinfo[\'corpseclear\']=\'一阵强大的吸力\';
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_misc/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if ($itmk==\'U\') 
		{
			$trapresult = $db->query("SELECT * FROM {$tablepre}maptrap WHERE pls = \'$pls\' AND itme>=\'$itme\'");
			$trpnum = $db->num_rows($trapresult);
			if ($trpnum>0){
				$itemno = rand(0,$trpnum-1);
				$db->data_seek($trapresult,$itemno);
				$mi=$db->fetch_array($trapresult);
				$deld = $mi[\'itm\'];
				$delp = $mi[\'tid\'];
				$db->query("DELETE FROM {$tablepre}maptrap WHERE tid=\'$delp\'");
				$log.="远方传来一阵爆炸声，伟大的<span class=\\"yellow\\">{$itm}</span>用生命和鲜血扫除了<span class=\\"yellow\\">{$deld}</span>。<br><span class=\\"red\\">实在是大快人心啊！</span><br>";
			}else{
				$log.="你使用了<span class=\\"yellow\\">{$itm}</span>，但是没有发现陷阱。<br>";
			}
			\\itemmain\\itms_reduce($theitem);
			return;
		}elseif (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) {	
			if ($itm == \'御神签\') {
				$log .= "使用了<span class=\\"yellow\\">$itm</span>。<br>";
				divining ();
				\\itemmain\\itms_reduce($theitem);
				return;
			} elseif ($itm == \'凸眼鱼\') {
				eval(import_module(\'sys\',\'corpse\'));
				$tm = $now - $corpseprotect;
				if ($gametype!=2)
					$db->query ( "UPDATE {$tablepre}players SET corpse_clear_flag=\'1\',weps=\'0\',arbs=\'0\',arhs=\'0\',aras=\'0\',arfs=\'0\',arts=\'0\',itms0=\'0\',itms1=\'0\',itms2=\'0\',itms3=\'0\',itms4=\'0\',itms5=\'0\',itms6=\'0\',money=\'0\' WHERE hp <= 0 AND endtime <= $tm" );
				else	$db->query ( "UPDATE {$tablepre}players SET corpse_clear_flag=\'1\',weps=\'0\',arbs=\'0\',arhs=\'0\',aras=\'0\',arfs=\'0\',arts=\'0\',itms0=\'0\',itms1=\'0\',itms2=\'0\',itms3=\'0\',itms4=\'0\',itms5=\'0\',itms6=\'0\',money=\'0\' WHERE type > 0 AND hp <= 0 AND endtime <= $tm" );
				$cnum = $db->affected_rows ();
				addnews ( $now, \'corpseclear\', $name, $cnum );
				if (defined(\'MOD_NOISE\')) \\noise\\addnoise($pls,\'corpseclear\',$pid);
				$log .= "使用了<span class=\\"yellow\\">$itm</span>。<br>突然刮起了一阵怪风，吹走了地上的{$cnum}具尸体！<br>";
				\\itemmain\\itms_reduce($theitem);
				return;
			} elseif ($itm == \'■DeathNote■\') {
				include template(\'deathnote\');
				$cmd = ob_get_contents();
				ob_clean();
				$log .= \'你翻开了■DeathNote■<br>\';
				return;
			} elseif ($itm == \'游戏解除钥匙\') {
				$state = 6;
				$url = \'end.php\';
				\\sys\\gameover ( $now, \'end3\', $name );
			}elseif ($itm == \'『C.H.A.O.S』\') {
				$flag=false;
				$log.="一阵强光刺得你睁不开眼。<br>强光逐渐凝成了光球，你揉揉眼睛，发现包裹里的东西全都不翼而飞了。<br>";
				for ($i=1;$i<=6;$i++){
					
					if (${\'itm\'.$i}==\'黑色发卡\') {
						$flag=true;
						$tmp_itm = ${\'itm\'.$i}; $tmp_itmk = ${\'itmk\'.$i}; $tmp_itmsk = ${\'itmsk\'.$i};
						$tmp_itme = ${\'itme\'.$i}; $tmp_itms = ${\'itms\'.$i};
					}
					${\'itm\'.$i} = ${\'itmk\'.$i} = ${\'itmsk\'.$i} = \'\';
					${\'itme\'.$i} = ${\'itms\'.$i} = 0;
				}
				$karma=$rp*$killnum-$def+$att;
				$f1=$f2=$f3=false;
				
				if (($ss>=600)&&($killnum<=15)){
					$itm0=\'『T.E.R.R.A』\';
					$itmk0=\'Y\';
					$itme0=1;
					$itms0=1;
					$itmsk0=\'z\';
					\\itemmain\\itemget();
					$f1=true;
				}
				if ($karma<=2000){
					$itm0=\'『A.Q.U.A』\';
					$itmk0=\'Y\';
					$itme0=1;
					$itms0=1;
					$itmsk0=\'x\';
					\\itemmain\\itemget();
					$f2=true;
				}
				if ($flag==true){
					$itm0=\'『V.E.N.T.U.S』\';
					$itmk0=\'Y\';
					$itme0=1;
					$itms0=1;
					$itmsk0=\'Z\';
					\\itemmain\\itemget();
					$f3=true;
				}
				if (!$f1 || !$f2 || !$f3){
					$itm0=\'『S.C.R.A.P』\';
					$itmk0=\'Z\';
					$itme0=1;
					$itms0=1;
					$itmsk0=\'\';
					\\itemmain\\itemget();
					for ($i=1;$i<=6;$i++){
						if(!${\'itms\'.$i}) {
							${\'itm\'.$i} = $tmp_itm; ${\'itmk\'.$i} = $tmp_itmk; ${\'itmsk\'.$i} = $tmp_itmsk;
							${\'itme\'.$i} = $tmp_itme; ${\'itms\'.$i} = $tmp_itms;
							break;
						}
					}
				}
				return;
			}elseif ($itm == \'『S.C.R.A.P』\') {
				$log.="你眼前一黑。当你再次能看见东西，你发现包裹里的东西再次不翼而飞了。<br>";
				for ($i=1;$i<=6;$i++){
					if (${\'itm\'.$i}!=\'黑色发卡\'){
						${\'itm\'.$i} = ${\'itmk\'.$i} = ${\'itmsk\'.$i} = \'\';
						${\'itme\'.$i} = ${\'itms\'.$i} = 0;
					}					
				}
				$itm0=\'『C.H.A.O.S』\';
				$itmk0=\'Z\';
				$itme0=1;
				$itms0=1;
				$itmsk0=\'\';
				\\itemmain\\itemget();
				return;
			}elseif ($itm == \'『G.A.M.E.O.V.E.R』\') {
				$state = 6;
				$url = \'end.php\';
				\\sys\\gameover ( $now, \'end7\', $name );
			}elseif ($itm == \'杏仁豆腐的ID卡\') {
				eval(import_module(\'sys\'));
				if ($gametype==2)
				{
					$log.=\'本模式下不可用。<br>\';
					return;
				}
				$duelstate = \\gameflow_duel\\duel($now,$itm);
				if($duelstate == 50){
					$log .= "<span class=\\"yellow\\">你使用了{$itm}。</span><br><span class=\\"evergreen\\">“干得不错呢，看来咱应该专门为你清扫一下战场……”</span><br><span class=\\"evergreen\\">“所有的NPC都离开战场了。好好享受接下来的杀戮吧，祝你好运。”</span>——林无月<br>";
					$itm = $itmk = $itmsk = \'\';
					$itme = $itms = 0;
				}elseif($duelstate == 51){
					$log .= "你使用了<span class=\\"yellow\\">{$itm}</span>，不过什么反应也没有。<br><span class=\\"evergreen\\">“咱已经帮你准备好舞台了，请不要要求太多哦。”</span>——林无月<br>";
				} else {
					$log .= "你使用了<span class=\\"yellow\\">{$itm}</span>，不过什么反应也没有。<br><span class=\\"evergreen\\">“表演的时机还没到呢，请再忍耐一下吧。”</span>——林无月<br>";
				}
				return;
			} elseif ($itm == \'权限狗的ID卡\') {
				$result = $db->query("SELECT groupid,password FROM {$gtablepre}users WHERE username=\'$cuser\'");
				$result = $db->fetch_array($result);
				$ugroupid = $result[\'groupid\'];
				$upassword = $result[\'password\'];
				include_once GAME_ROOT.\'./include/user.func.php\';
				if(pass_compare($cuser, $cpass, $upassword) && ($ugroupid >= 5 || $cuser == $gamefounder)){
					$log.=\'大逃杀幻境已确认你的权限狗身份，正在为你输送权限套装……<br>\';
					$wp=$wk=$wg=$wc=$wd=$wf=666;
					$ss=$mss=600;
					$att+=200;$def+=200;
					$money+=19980;
					$itm1=\'美味补给\';$itmk1 = \'HB\';$itmsk1 = \'\';$itme1 = 777;$itms1 = 177;
					$itm2=\'全恢复药剂\';$itmk2 = \'Ca\';$itmsk2 = \'\';$itme2 = 1;$itms2 = 44;
					$itm3=\'移动PC\';$itmk3 = \'EE\';$itmsk3 = \'\';$itme3 = 20;$itms3 = 1;
					$itm4=\'量子雷达\';$itmk4 = \'ER\';$itmsk4 = \'2\';$itme4 = 20;$itms4 = 1;
					$art=\'Untainted Glory\';$artk = \'A\';$artsk = \'Hh\';$arte = 1;$arts = 1;
					if (defined(\'MOD_CLUBBASE\')) eval(import_module(\'clubbase\'));
					foreach(array(1010,1011) as $skv){
						if(defined(\'MOD_SKILL\'.$skv)) {
							if (!\\skillbase\\skill_query($skv)) {
								$log.="你获得了技能「<span class=\\"yellow\\">$clubskillname[$skv]</span>」！<br>";
								\\skillbase\\skill_acquire($skv);
							}
						}
					}
					addnews ( $now, \'adminitem\', $name, $itm );
				}else{
					$log.=\'你没有足够的权限。可能因为是你的缓存密码有误，也可能你压根就不是一条权限狗。<br>\';
				}
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
				$mode=\'command\';$command=\'\';
				return;
			} elseif ($itm == \'奇怪的按钮\') {
				$button_dice = rand ( 1, 10 );
				$log .= "你按下了<span class=\\"yellow\\">$itm</span>。<br>";
				if ($button_dice < 5) {
					$log .= \'按钮不翼而飞，你的手中多了一瓶褐色的饮料，上面还有个标签……<br><span class="gold b">“感谢特朗普总统选用我司的可乐递送服务。”</span><br>蛤？<br>\';
					$itm = \'特朗普特供版「核口可乐」\';
					$itmk = \'HB\';
					$itmsk = \'\';
					$itme = 200;
					$itms = 1;
				} elseif ($button_dice < 8) {
					$state = 6;
					$url = \'end.php\';
					\\sys\\gameover ( $now, \'end5\', $name );
				} else {
					$log .= \'好像什么也没发生嘛？咦，按钮上的标签写着什么？<br><span class="red">“危险，勿触！”</span>……？<br>呜哇，按钮爆炸了！<br>\';
					$itm = $itmk = $itmsk = \'\';
					$itme = $itms = 0;
					$state = 30;
					\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = \'\';
					\\player\\kill($sdata,$sdata);
					\\player\\player_save($sdata);
					\\player\\load_playerdata($sdata);
				}
				return;
			} else if (substr($itm,0,strlen(\'提示纸条\'))==\'提示纸条\') {
				if ($itm == \'提示纸条A\') {
					$log .= \'你读着纸条上的内容：<br>“执行官其实都是幻影，那个红暮的身上应该有召唤幻影的玩意。”<br>“用那个东西然后打倒幻影的话能用游戏解除钥匙出去吧。”<br>\';
				} elseif ($itm == \'提示纸条B\') {
					$log .= \'你读着纸条上的内容：<br>“我设下的灵装被残忍地清除了啊……”<br>“不过资料没全部清除掉。<br>用那个碎片加上传奇的画笔和天然属性……”<br>“应该能重新组合出那个灵装。”<br>\';
				} elseif ($itm == \'提示纸条C\') {
					$log .= \'你读着纸条上的内容：<br>“小心！那个叫红暮的家伙很强！”<br>“不过她太依赖自己的枪了，有什么东西能阻挡那伤害的话……”<br>\';
				} elseif ($itm == \'提示纸条D\') {
					$log .= \'你读着纸条上的内容：<br>“喂你真的是全部买下来了么……”<br>“这样的提示纸条不止这四种，其他的纸条估计被那两位撒出去了吧。”<br>“总之祝你好运。”<br>\';
				} elseif ($itm == \'提示纸条E\') {
					$log .= \'你读着纸条上的内容：<br>“生存并不能靠他人来喂给你知识，”<br>“有一套和元素有关的符卡的公式是没有出现在帮助里面的，用逻辑推理好好推理出正确的公式吧。”<br>“金木水火土在这里都能找到哦～”<br>\';
				} elseif ($itm == \'提示纸条F\') {
					$log .= \'你读着纸条上的内容：<br>“我不知道另外那个孩子的底细。如果我是你的话，不会随便乱惹她。”<br>“但是她貌似手上拿着符文册之类的东西。”<br>“也许可以利用射程优势？！”<br>“你知道的，法师的射程都不咋样……”<br>\';
				} elseif ($itm == \'提示纸条G\') {
					$log .= \'你读着纸条上的内容：<br>“上天保佑，”<br>“请不要在让我在模拟战中被击坠了！”<br>“空羽 上。”<br>\';
				} elseif ($itm == \'提示纸条H\') {
					$log .= \'你读着纸条上的内容：<br>“在研究施设里面出了大事的SCP竟然又输出了新的样本！”<br>“按照董事长的意见就把这些家伙当作人体试验吧！”<br>署名看不清楚……<br>\';
				} elseif ($itm == \'提示纸条I\') {
					$log .= \'你读着纸条上的内容：<br>“嗯……”<br>“制作神卡所用的各种认证都可以在商店里面买到。”<br>“其实卡片真的有那么强大的力量么？”<br>\';
				} elseif ($itm == \'提示纸条J\') {
					$log .= \'你读着纸条上的内容：<br>“知道么？”<br>“果酱面包果然还是甜的好，哪怕是甜的生姜也能配制出如地雷般爆炸似的美味。”<br>“祝你好运。”<br>\';
				} elseif ($itm == \'提示纸条K\') {
					$log .= \'你读着纸条上的内容：<br>“水符？”<br>“你当然需要水，然后水看起来是什么颜色的？”<br>“找一个颜色类似的东西合成就有了吧。”<br>\';
				} elseif ($itm == \'提示纸条L\') {
					$log .= \'你读着纸条上的内容：<br>“木符？”<br>“你当然需要树叶，然后说到树叶那是什么颜色？”<br>“找一个颜色类似的东西合成就有了吧。”<br>\';
				} elseif ($itm == \'提示纸条M\') {
					$log .= \'你读着纸条上的内容：<br>“火符？”<br>“你当然需要找把火，然后说到火那是什么颜色？”<br>“找一个颜色类似的东西合成就有了吧。”<br>\';
				} elseif ($itm == \'提示纸条N\') {
					$log .= \'你读着纸条上的内容：<br>“土符？”<br>“说到土那就是石头吧，然后说到石头那是什么颜色？”<br>“找一个颜色类似的东西合成就有了吧。”<br>\';
				} elseif ($itm == \'提示纸条P\') {
					$log .= \'你读着纸条上的内容：<br>“金符？这个的确很绕人……”<br>“说到金那就是炼金，然后这是21世纪了，炼制一个金色方块需要什么？”<br>“总之祝你好运。”<br>\';
				} elseif ($itm == \'提示纸条Q\') {
					$log .= \'你读着纸条上的内容：<br>“据说在另外的空间里面；”<br>“一个吸血鬼因为无聊就在她所居住的地方洒满了大雾，”<br>“真任性。”<br>\';
				} elseif ($itm == \'提示纸条R\') {
					$log .= \'你读着纸条上的内容：<br>“知道么，”<br>“东方幻想乡这作游戏里面EXTRA的最终攻击”<br>“被老外们称作『幻月的Rape Time』，当然对象是你。”<br>\';
				} elseif ($itm == \'提示纸条S\') {
					$log .= \'你读着纸条上的内容：<br>“土水符？”<br>“哈哈哈那肯定是需要土和水啦，可能还要额外的素材吧。”<br>“总之祝你好运。”<br>\';
				} elseif ($itm == \'提示纸条T\') {
					$log .= \'你读着纸条上的内容：<br>“我一直对虚拟现实中的某些迹象很在意……”<br>“这种未名的威压感是怎么回事？”<br>“总之祝你好运。”<br>\';
				} elseif ($itm == \'提示纸条U\') {
					$log .= \'你读着纸条上的内容：<br>“纸条啥的……”<br>“希望这张纸条不会成为你的遗书。”<br>“总之祝你好运。”<br>\';
				} else {
					$log .= \'你打开了纸条，发现是一张白纸。<br>\';
				}
				return;
			} else if (substr($itm,0,strlen(\'任务指令书\'))==\'任务指令书\') {
				if ($itm == \'任务指令书A\') {
					$log .= \'指令书上这样写着：<br>“很高兴大家能来参与幻境系统的除错工作。”<br>“我们对系统进行了一些调整，就算遭遇袭击和陷阱也不会造成致命伤害，所以请尽管放心。”<br>“任务结束后我们会根据工作量发放相应的奖励。”<br>\';
				} else if ($itm == \'任务指令书B\') {
					ob_clean();
					include template(\'MOD_SKILL475_EXPLANATION\');
					$log .= ob_get_contents();
					ob_clean();
					return;
				} else {
					$log .= \'你展开了指令书，发现上面什么都没写。<br>\';
				}
				return;
			}elseif ($itm == \'仪水镜\') {
				$log .= \'水面上映出了你自己的脸，你仔细端详着……<br>\';
				if ($rp < 40){
					$log .= \'你的脸看起来十分白皙。<br>\';
				} elseif ($rp < 200){
					$log .= \'你的脸看起来略微有点黑。<br>\';
				} elseif ($rp < 550){
					$log .= \'你的脸上貌似笼罩着一层黑雾。<br>\';
				} elseif ($rp < 1200){
					$log .= \'你的脸已经和黑炭差不多了，赶快去洗洗！<br>\';
				} elseif ($rp < 5499){
					$log .= \'你印堂漆黑，看起来最近要有血光之灾！<br>\';
				} elseif ($rp > 5500){
					$log .= \'水镜中已经黑的如墨一般了。<br>希望你的H173还在……<br>\';
				} else{
					$log .= \'你的脸从水镜中消失了。<br>\';
				}
				return;
			} elseif ($itm == \'风祭河水\'){
				$slv_dice = rand ( 1, 20 );
					if ($slv_dice < 8) {
					$log .= "你一口干掉了<span class=\\"yellow\\">$itm</span>，不过好像什么都没有发生！";
					$itm = $itmk = $itmsk = \'\';
					$itme = $itms = 0;
				} elseif ($slv_dice < 16) {
					$rp = $rp - 10*$slv_dice;
					$log .= "你感觉身体稍微轻了一点点。<br>";
					$itm = $itmk = $itmsk = \'\';
					$itme = $itms = 0;
				} elseif ($slv_dice < 20) {
					$rp = 0 ;
					$log .= "你头晕脑胀地躺到了地上，<br>感觉整个人都被救济了。<br>你努力着站了起来。<br>";
					$wp = $wk = $wg = $wc = $wd = $wf = 100;
					$itm = $itmk = $itmsk = \'\';
					$itme = $itms = 0;
				} else {
					$log .= \'你头晕脑胀地躺到了地上，<br>感觉整个人都被救济了。<br>\';
					$log .= \'然后你失去了意识。<br>\';
					$state = 35;
					\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = \'\';
					\\player\\kill($sdata,$sdata);
					\\player\\player_save($sdata);
					\\player\\load_playerdata($sdata);
				}
				return;
			} elseif ($itm == \'水果刀\') {
				$flag = false;
				
				for($i = 1; $i <= 6; $i ++) {
					foreach(Array(\'香蕉\',\'苹果\',\'西瓜\') as $fruit){
						
						if ( strpos ( ${\'itm\' . $i} , $fruit ) !== false && strpos ( ${\'itm\' . $i} , \'皮\' ) === false && (strpos ( ${\'itmk\' . $i} , \'H\' ) === 0 || strpos ( ${\'itmk\' . $i} , \'P\' ) === 0 )) {
							if($wk >= 120){
								$log .= "练过刀就是好啊。你娴熟地削着果皮。<br><span class=\\"yellow\\">${\'itm\'.$i}</span>变成了<span class=\\"yellow\\">★残骸★</span>！<br>咦为什么会出来这种东西？算了还是不要吐槽了。<br>";
								${\'itm\' . $i} = \'★残骸★\';
								${\'itme\' . $i} *= rand(2,4);
								${\'itms\' . $i} *= rand(3,5);
								$flag = true;
								$wk++;
							}else{
								$log .= "想削皮吃<span class=\\"yellow\\">${\'itm\'.$i}</span>，没想到削完发现只剩下一堆果皮……<br>手太笨拙了啊。<br>";
								${\'itm\' . $i} = str_replace($fruit, $fruit.\'皮\',${\'itm\' . $i} );
								${\'itmk\' . $i} = \'TN\';
								${\'itms\' . $i} *= rand(2,4);
								$flag = true;
								$wk++;
							}
							break;
						}
					}
					if($flag == true) {break;};
				}
				if (! $flag) {
					$log .= \'包裹里没有水果。<br>\';
				} else {
					$dice = rand(1,5);
					if($dice==1){
						$log .= "<span class=\\"red\\">$itm</span>变钝了，无法再使用了。<br>";
						$itm = $itmk = $itmsk = \'\';
						$itme = $itms = 0;
					}
				}
				return;
			} elseif(strpos($itm,\'RP回复设备\')!==false){
				$rp = 0;
				$log .= "你使用了<span class=\\"yellow\\">$itm</span>。你的RP归零了。<br>";
				return;
			}
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_misc/main.php',
)

Array\divining ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\',\'player\'));
		
		$dice = rand(0,99);
		if($dice < 20) {
			$up = 5;
			list($uphp,$upatt,$updef) = explode(\',\',divining1($up));
			$log .= "是大吉！要有什么好事发生了！<BR><span class=\\"yellow b\\">【命】+$uphp 【攻】+$upatt 【防】+$updef</span><BR>";
		} elseif($dice < 40) {
			$up = 3;
			list($uphp,$upatt,$updef) = explode(\',\',divining1($up));
			$log .= "中吉吗？感觉还不错！<BR><span class=\\"yellow b\\">【命】+$uphp 【攻】+$upatt 【防】+$updef</span><BR>";
		} elseif($dice < 60) {
			$up = 1;
			list($uphp,$upatt,$updef) = explode(\',\',divining1($up));
			$log .= "小吉吗？有跟无也没有什么分别。<BR><span class=\\"yellow b\\">【命】+$uphp 【攻】+$upatt 【防】+$updef</span><BR>";
		} elseif($dice < 80) {
			$up = 1;
			list($uphp,$upatt,$updef) = explode(\',\',divining2($up));
			$log .= "凶，真是不吉利。<BR><span class=\\"red b\\">【命】-$uphp 【攻】-$upatt 【防】-$updef</span><BR>";
		} else {
			$up = 3;
			list($uphp,$upatt,$updef) = explode(\',\',divining2($up));
			$log .= "大凶？总觉得有什么可怕的事快要发生了<BR><span class=\\"red b\\">【命】-$uphp 【攻】-$upatt 【防】-$updef</span><BR>";
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_misc/main.php',
)

Array\divining1 ====> array (
  'vars' => '$u',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		
		$uphp = rand(0,$u);
		$upatt = rand(0,$u);
		$updef = rand(0,$u);
		
		$hp+=$uphp;
		$mhp+=$uphp;
		$att+=$upatt;
		$def+=$updef;

		return "$uphp,$upatt,$updef";

	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_misc/main.php',
)

Array\divining2 ====> array (
  'vars' => '$u',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		
		$uphp = rand(0,$u);
		$upatt = rand(0,$u);
		$updef = rand(0,$u);
		
		$hp-=$uphp;
		$mhp-=$uphp;
		$att-=$upatt;
		$def-=$updef;

		return "$uphp,$upatt,$updef";

	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_misc/main.php',
)

Array\deathnote ====> array (
  'vars' => '$itmd=0,$dnname=\'\',$dndeath=\'\',$dngender=\'m\',$dnicon=1',
  'contents' => '
		
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\'));
		
		$dn = & ${\'itm\'.$itmd};
		$dnk = & ${\'itmk\'.$itmd};
		$dne = & ${\'itme\'.$itmd};
		$dns = & ${\'itms\'.$itmd};
		$dnsk = & ${\'itmsk\'.$itmd};

		$mode = \'command\';

		if($dn != \'■DeathNote■\'){
			$log .= \'道具使用错误！<br>\';
			return;
		} elseif($dns <= 0) {
			$dn = $dnk = $dnsk = \'\';
			$dne = $dns = 0;
			$log .= \'道具不存在！<br>\';
			return;
		}

		if(!$dnname){return;}
		if($dnname == $cuser){
			$log .= "你不能自杀。<br>";
			return;
		}
		$dn_ignore_words = deathnote_process($dnname,$dndeath,$dngender,$dnicon);
		$dns--;
		if($dns<=0){
			if(!$dn_ignore_words) $log .= \'■DeathNote■突然燃烧起来，转瞬间化成了灰烬。<br>\';
			$dn = $dnk = $dnsk = \'\';
			$dne = $dns = 0;
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_misc/main.php',
)

Array\deathnote_process ====> array (
  'vars' => '$dnname=\'\',$dndeath=\'\',$dngender=\'m\',$dnicon=1',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\'));
		if(!$dndeath){$dndeath = \'心脏麻痹\';}
		$log .= "你将<span class=\\"yellow b\\">$dnname</span>的名字写在了■DeathNote■上。";
		$result = $db->query("SELECT * FROM {$tablepre}players WHERE name=\'$dnname\' AND type = 0 AND hp > 0");
		if(!$db->num_rows($result)) { 
			$log .= "但是什么都没有发生。<br>哪里出错了？<br>"; 
		} else {
			$edata = \\player\\fetch_playerdata($dnname);
			if(($dngender != $edata[\'gd\'])||($dnicon != $edata[\'icon\'])) {
				$log .= "但是什么都没有发生。<br>哪里出错了？<br>"; 
			} else {
				$log .= "<br><span class=\\"yellow b\\">$dnname</span>被你杀死了。";
				$edata[\'state\'] = 28; $sdata[\'attackwith\']=$dndeath;
				\\player\\update_sdata(); 
				\\player\\kill($sdata,$edata);
				\\player\\player_save($edata);
				\\player\\player_save($sdata);
				\\player\\load_playerdata($sdata);
				
			}
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_misc/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'input\',\'logger\'));
		
		if($mode == \'deathnote\') {
			if($dnname){
				deathnote($item,$dnname,$dndeath,$dngender,$dnicon);
			} else {
				$log .= \'嗯，暂时还不想杀人。<br>你合上了■DeathNote■。<br>\';
				$mode = \'command\';
			}
			return;
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_misc/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if(isset($exarr[\'dword\'])) $e0 = $exarr[\'dword\'];
		
		if($news == \'adminitem\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}使用了{$b}，变成了一条权限狗！（管理员{$a}宣告其正在进行测试。）</span></li>";	
		if($news == \'death28\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因<span class=\\"yellow\\">$d</span>意外身亡{$e0}</li>";
		if($news == \'death30\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因误触伪装成核弹按钮的蛋疼机关被炸死{$e0}</li>";
		if($news == \'death38\')
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因为敌意过剩，被虚拟意识救♀济！{$e0}</li>";
			
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_misc/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_combo/main.php',
)

Array\reset_game ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess();
		
		eval(import_module(\'sys\',\'gameflow_combo\'));
		
		$combonum = $deathlimit;
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_combo/main.php',
)

Array\checkcombo ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'gameflow_combo\'));
		if($gamestate < 40 && $gamestate >= 30 && $alivenum <= $combolimit) {
			$gamestate = 40;
			addnews($now,\'combo\');
			systemputchat($now,\'combo\');
		}elseif($gamestate < 40 && $gamestate >= 20 && $combonum && $deathnum >= $combonum){
			$real_combonum = $deathlimit + ceil($validnum/$deathdeno) * $deathnume;
			if($deathnum >= $real_combonum){
				$gamestate = 40;
				addnews($now,\'combo\');
				systemputchat($now,\'combo\');
			}else{
				$combonum = $real_combonum;
				addnews($now,\'comboupdate\',$combonum,$deathnum);
				systemputchat($now,\'comboupdate\',$combonum);
			}		
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_combo/main.php',
)

Array\gamestateupdate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess();
		
		checkcombo();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_combo/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		
		if($news == \'combo\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">游戏进入连斗阶段！</span></li>";
		if($news == \'comboupdate\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">连斗判断死亡数修正为{$a}人，当前死亡数为{$b}人！</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_combo/main.php',
)

Array\check_corpse_discover ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if ($gamestate>=40) return 0;	
		return $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_combo/main.php',
)

Array\calculate_meetman_rate ====> array (
  'vars' => '$schmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($gamestate >= 40) 
		{
			if ($schmode == \'search\') return $chprocess($schmode) + 20;
			if ($schmode == \'move\') return $chprocess($schmode) + 10;
		}
		return $chprocess($schmode);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_combo/main.php',
)

Array\senditem_check ====> array (
  'vars' => '$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (defined(\'MOD_TEAM\'))
		{
			if($gamestate>=40 && !in_array($gametype,$teamwin_mode)){
				$log .= \'<span class="yellow">连斗阶段无法赠送物品！</span><br>\';
				return false;
			}
		}
		return $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_combo/main.php',
)

Array\findteam ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (defined(\'MOD_TEAM\'))
		{
			if($gamestate>=40 && !in_array($gametype,$teamwin_mode)){
				$log .= \'<span class="yellow">连斗阶段所有队伍取消！</span><br>\';
				
				$mode = \'command\';
				return;
			}
			else  $chprocess($edata);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_combo/main.php',
)

Array\teammake ====> array (
  'vars' => '$tID,$tPass',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (defined(\'MOD_TEAM\'))
			if($gamestate >= 40) {
				$log .= \'连斗时不能组建队伍。<br>\';
				$mode = \'command\';
				return;
			}
			else  $chprocess($tID,$tPass);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_combo/main.php',
)

Array\teamjoin ====> array (
  'vars' => '$tID,$tPass',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (defined(\'MOD_TEAM\'))
		{
			if($gamestate >= 40) {
				$log .= \'连斗时不能加入队伍。<br>\';
				$mode = \'command\';
				return;
			}
			else  $chprocess($tID,$tPass);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_combo/main.php',
)

Array\teamquit ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (defined(\'MOD_TEAM\'))
		{
			if($gamestate>=40){
				$log .= \'你不在队伍中。<br>\';
				$mode = \'command\';
			}
			else  $chprocess();
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_combo/main.php',
)

Array\check_team_button_exist ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (defined(\'MOD_TEAM\'))
		{
			if($gamestate>=40) return 0; else return $chprocess();
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_combo/main.php',
)

Array\calculate_real_trap_obbs ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		$r=0;
		if($gamestate >= 40) $r=2.5;	
		return $chprocess()+$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/core/gameflow/gameflow_combo/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/advteam/main.php',
)

Array\get_advteam_html ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\'));
		if (!in_array($gametype,$teamwin_mode) || !$teamID) return;
		$result = $db->query("SELECT pid,mhp,hp,pls,name,flare FROM {$tablepre}players WHERE teamID=\'$teamID\' AND pid<>\'$pid\'");
		$teammate_num = $db->num_rows($result);
		$i=0; 
		while($data = $db->fetch_array($result)) 
		{
			$i++; $teammateinfo[$i]=$data; $teammateinfo[$i][\'dummy\']=0;
		}
		include template(\'MOD_ADVTEAM_TEAM\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/advteam/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'logger\'));
		if ($mode == "advteamspecial") 
		{
			if (!in_array($gametype,$teamwin_mode)) 
			{ 
				$log.="此命令在本游戏模式下不可用。<br>"; 
				$mode = \'command\';
			}
			else
			{
				if ($command=="sendflare")
				{
					$log.="发出支援请求成功。<br>";
					$flare=1;
					$mode=\'command\';
				}
				else  if ($command=="stopflare")
				{
					$log.="取消支援请求成功。<br>";
					$flare=0;
					$mode=\'command\';
				}
				else  if (strpos($command,\'findteam\') === 0)
				{
					$which=(int)substr($command,8);
					$edata = \\player\\fetch_playerdata_by_pid($which);
					if ($edata === NULL)
					{
						$log.="队友不存在。<br>";
						$mode=\'command\';
					}
					else
					{
						if (!$teamID || $edata[\'teamID\']!=$teamID)
						{
							$log.="对方不是你的队友！<br>";
							$mode=\'command\';
						}
						else  if ($edata[\'hp\']<=0)
						{
							$log.="对方已经死亡！<br>";
							$mode==\'command\';
						}
						else  if ($edata[\'pls\']!=$pls)
						{
							$log.="对方与你不在同一个地图！<br>";
							$mode==\'command\';
						}
						else
						{
							\\team\\findteam($edata);
						}	
					}
				}
			}
			return;
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/advteam/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, &$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return Array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_wrapper.php',
)

Array\apply_total_damage_modifier_up ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_wrapper.php',
)

Array\apply_total_damage_modifier_down ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_wrapper.php',
)

Array\apply_total_damage_change ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_wrapper.php',
)

Array\apply_damage ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pd[\'hp\']-=$pa[\'dmg_dealt\'];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_wrapper.php',
)

Array\player_damaged_enemy ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$dmg=$pa[\'dmg_dealt\'];
		
		eval(import_module(\'logger\'));
		
		
		if ($dmg>0){
			$multiplier = get_final_dmg_multiplier($pa, $pd, $active);
		}else{
			$multiplier= Array();
		}
		
		if ((isset($pa[\'physical_dmg_dealt\']) && $dmg>0 && $dmg!=$pa[\'physical_dmg_dealt\']) 
			|| ($dmg>0 && count($multiplier)>0))	
			{
				$fin_dmg=$dmg; $mult_words=\'\';
				foreach ($multiplier as $key)
				{
					$fin_dmg=$fin_dmg*$key;
					$mult_words.="×{$key}";
				}
				$fin_dmg=round($fin_dmg);
				if ($fin_dmg < 1) $fin_dmg = 1;
				if ($mult_words==\'\')
					$log .= "<span class=\\"yellow\\">造成的总伤害：<span class=\\"red\\">{$dmg}</span>。</span><br>";
				else  $log .= "<span class=\\"yellow\\">造成的总伤害：</span>{$dmg}{$mult_words}＝<span class=\\"red\\">{$fin_dmg}</span><span class=\\"yellow\\">。</span><br>";
				$pa[\'dmg_dealt\']=$fin_dmg;
			}
		
		
		
		apply_total_damage_modifier_down($pa,$pd,$active);
		apply_total_damage_modifier_up($pa,$pd,$active);
		
		apply_total_damage_change($pa,$pd,$active);
		
		
		apply_damage($pa,$pd,$active);
		
		eval(import_module(\'sys\')); 
		if (!$pa[\'type\'] && $pa[\'dmg_dealt\']>$hdamage)
		{
			$hdamage = $pa[\'dmg_dealt\'];
			$hplayer = $pa[\'name\'];
			\\sys\\save_combatinfo();
		}
		
		
		if (!$active)
			if ($pa[\'is_counter\'])
				$pa[\'battlelog\'] .= "对其做出了<span class=\\"yellow\\">{$pa[\'dmg_dealt\']}</span>点反击。<br>";
			else  $pa[\'battlelog\'] .= "你对其做出<span class=\\"yellow\\">{$pa[\'dmg_dealt\']}</span>点攻击，";
		else  if ($pa[\'is_counter\'])
				$pd[\'battlelog\'] .= "受到其<span class=\\"yellow\\">{$pa[\'dmg_dealt\']}</span>点反击。<br>";
			else  $pd[\'battlelog\'] .= "你受到其<span class=\\"yellow\\">{$pa[\'dmg_dealt\']}</span>点攻击，";
			
		
		post_damage_news($pa, $pd, $active, $pa[\'dmg_dealt\']);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_wrapper.php',
)

Array\player_attack_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'logger\'));
		if ($active)
			if ($pa[\'is_counter\'])
			{
				$log .= "<span class=\\"red\\">你的反击！</span><br>";
			}
			else
			{
				$log .= "你向<span class=\\"red\\">{$pd[\'name\']}</span>发起了攻击！<br>";
				$pd[\'battlelog\'] .= "手持<span class=\\"red\\">{$pa[\'wep\']}</span>的<span class=\\"yellow\\">{$pa[\'name\']}</span>向你袭击！";
			}
		else  if ($pa[\'is_counter\'])
			{
				$log .= "<span class=\\"red\\">{$pa[\'name\']}的反击！</span><br>";
			}
			else
			{
				$log .= "<span class=\\"red\\">{$pa[\'name\']}</span>突然向你袭来！<br>";
				$pa[\'battlelog\'] .= "你发现了手持<span class=\\"red\\">{$pd[\'wep\']}</span>的<span class=\\"yellow\\">{$pd[\'name\']}</span>并且先发制人！";
			}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_wrapper.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'logger\',\'player\'));
		if ($active)
		{
			$log .= "<span class=\\"yellow\\">{$pd[\'name\']}</span><span class=\\"red\\">被你杀死了！</span><br>";
			$pd[\'battlelog\'] .= "<span class=\\"red\\">你被{$pa[\'name\']}杀死了！</span><br>";
		}
		else
		{
			$log .= "<span class=\\"red\\">你被{$pa[\'name\']}杀死了！</span><br>";
			$pa[\'battlelog\'] .= "<span class=\\"yellow\\">{$pd[\'name\']}</span><span class=\\"red\\">被你杀死了！</span><br>";
		}
		
		$pd[\'state\']=$pd[\'deathmark\'];
		
		$kilmsg = \\player\\kill($pa, $pd);
		
		if ($active)
		{
			if ($kilmsg!=\'\') $log.="<span class=\\"yellow\\">你对{$pd[\'name\']}说：“{$kilmsg}”</span><br>";
		}
		else
		{
			if ($kilmsg!=\'\') $log.="<span class=\\"yellow\\">{$pa[\'name\']}对你说：“{$kilmsg}”</span><br>";
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_wrapper.php',
)

Array\load_user_combat_command ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_wrapper.php',
)

Array\load_auto_combat_command ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_wrapper.php',
)

Array\attack_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		player_attack_enemy($pa, $pd, $active);
		if ($pa[\'user_commanded\'])
			load_user_combat_command($pa);
		else  load_auto_combat_command($pa);
		load_auto_combat_command($pd);
		$pa[\'dmg_dealt\']=0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_wrapper.php',
)

Array\attack_finish ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		player_damaged_enemy($pa,$pd,$active);
		if ($pd[\'hp\']<=0){
			player_kill_enemy($pa, $pd, $active);
			\\player\\player_save($pa);
			\\player\\player_save($pd);
			if ($active)
			{
				\\player\\load_playerdata($pa);
			}
			else
			{
				\\player\\load_playerdata($pd);
			}
		}
		if ($pa[\'hp\']<=0){
			player_kill_enemy($pd, $pa, 1-$active);
			\\player\\player_save($pa);
			\\player\\player_save($pd);
			if ($active)
			{
				\\player\\load_playerdata($pa);
			}
			else
			{
				\\player\\load_playerdata($pd);
			}
		}
		unset($pa[\'physical_dmg_dealt\']);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_wrapper.php',
)

Array\attack_wrapper ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		attack_prepare($pa, $pd, $active);
		attack($pa,$pd,$active);
		attack_finish($pa,$pd,$active);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_wrapper.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack.php',
)

Array\strike ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack.php',
)

Array\attack ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		strike_prepare($pa,$pd,$active);
		strike($pa,$pd,$active);
		strike_finish($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack.php',
)

Array\post_damage_news ====> array (
  'vars' => '&$pa, &$pd, $active, $dmg',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;

		$d=$dmg; $p1=$pa[\'name\']; $p2=$pd[\'name\'];
		
		eval(import_module(\'sys\'));
		if (($d >= 100) && ($d < 150)) {
			$words = "{$p1}对{$p2}做出了{$d}点的攻击，一定是有练过。";
		} elseif (($d >= 150) && ($d < 200)) {
			$words = "{$p1}拿了什么神兵？{$p2}被打了{$d}滴血。";
		} elseif (($d >= 200) && ($d < 250)) {
			$words = "{$p1}简直不是人！{$p2}瞬间被打了{$d}点伤害。";
		} elseif (($d >= 250) && ($d < 300)) {
			$words = "{$p1}发出会心一击！{$p2}损失了{$d}点生命！";
		} elseif (($d >= 300) && ($d < 400)) {
			$words = "{$p1}使出浑身解数奋力一击！{$d}点伤害！{$p2}还安好吗？";
		} elseif (($d >= 400) && ($d < 500)) {
			$words = "{$p1}使出武器中内藏的力量！可怜的{$p2}受到了{$d}点的伤害！";
		} elseif (($d >= 500) && ($d < 600)) {
			$words = "{$p1}眼色一变使出绝招！{$p2}招架不住，生命减少{$d}点！";
		} elseif (($d >= 600) && ($d < 750)) {
			$words = "{$p1}手中的武器闪耀出七彩光芒！{$p2}招架不住，生命减少{$d}点！";
		} elseif (($d >= 750) && ($d < 1000)) {
			$words = "{$p1}受到天神的加护，打出惊天动地的一击——{$p2}被打掉{$d}点生命值！";
		} elseif (($d >= 1000) && ($d < 5000)) {
			$words = "{$p1}燃烧自己的生命得到了不可思议的力量！【{$d}】点的伤害值，没天理啊……{$p2}的HP足够么？";
		} elseif (($d >= 5000) && ($d < 10000)) {
			$words = "{$p1}超越自己的极限爆发出了震天动地的力量！在【{$d}】点的伤害后，{$p2}化作了一颗流星！";
		} elseif (($d >= 10000) && ($d < 50000)) {
			$words = "{$p1}运转百万匹周天，吐气扬声，一道霸气的光束过后，在【{$d}】点的伤害下，{$p2}还活着么？";
		} elseif (($d >= 50000) && ($d < 200000)) {
			$words = "{$p1}已然和手中的武器成为一体！随着一声令大地崩塌的长啸，{$p2}吃下了【{$d}】点的伤害！";
		}	elseif (($d >= 200000) && ($d < 500000)) {
			$words = "天空一道惊雷划过，{$p1}站在战场上，而{$p2}因为受到了【{$d}】点的伤害现在已经不见踪影！";
		} elseif ( $d >= 500000) {
			$words = "将{$p2}击飞出【{$d}】的{$p1}业已经天下无敌！";
		} else {
			$words = \'\';
		}
		if ($words) {
			addnews ( 0, \'damage\', $words );
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_news.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if(isset($exarr[\'dword\'])) $e0 = $exarr[\'dword\'];

		if($news == \'death20\') {
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>使用<span class=\\"red\\">$nowep</span>击飞$e0</li>";
		} elseif($news == \'death21\') {
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>使用<span class=\\"red\\">$d</span>殴打致死$e0</li>";
		} elseif($news == \'death22\') {
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>使用<span class=\\"red\\">$d</span>斩杀$e0</li>";
		} elseif($news == \'death23\') {
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>使用<span class=\\"red\\">$d</span>射杀$e0</li>";
		} elseif($news == \'death24\') {
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>投掷<span class=\\"red\\">$d</span>致死$e0</li>";
		} elseif($news == \'death25\') {
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>埋设<span class=\\"red\\">$d</span>伏击炸死$e0</li>";
		} elseif($news == \'death29\') {
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>发动<span class=\\"red\\">$d</span>以灵力杀死$e0</li>";
		} elseif($news == \'damage\') {
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">$a</span></li>";
		} else return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/attack/attack_news.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL301_INFO\',\'achievement;\');
		define(\'MOD_SKILL301_ACHIEVEMENT_ID\',\'1\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill301/main.php',
)

Array\acquire301 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(301,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill301/main.php',
)

Array\lost301 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill301/main.php',
)

Array\finalize301 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(301,\'cnt\',$pa);
		$x=min($x,(1<<30)-1);
		
		if (($ox<1)&&($x>=1)){
			\\cardbase\\get_qiegao(300,$pa);
		}
		if (($ox<10)&&($x>=10)){
			\\cardbase\\get_qiegao(1600,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill301/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if ($theitem[\'itm\']=="游戏解除钥匙"){
			if (\\skillbase\\skill_query(301)){
				\\skillbase\\skill_setvalue(301,\'cnt\',1);
				\\player\\player_save($sdata);
			}
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill301/main.php',
)

Array\show_achievement301 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p301=0;
		else	$p301=base64_decode_number($data);	
		$c301=0;
		if ($p301>=10){
			$c301=999;
		}else if ($p301>=1){
			$c301=1;
		}
		include template(\'MOD_SKILL301_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill301/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL307_INFO\',\'achievement;\');
		define(\'MOD_SKILL307_ACHIEVEMENT_ID\',\'7\');
		eval(import_module(\'achievement_base\'));
		$ach_allow_mode[307] = array(0, 16);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill307/main.php',
)

Array\acquire307 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(307,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill307/main.php',
)

Array\lost307 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill307/main.php',
)

Array\finalize307 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(307,\'cnt\',$pa);
		$x=min($x,(1<<30)-1);
		
		if (($ox<1)&&($x>=1)){
			\\cardbase\\get_qiegao(500,$pa);
		}
		if (($ox<8)&&($x>=8)){
			\\cardbase\\get_qiegao(2000,$pa);
			\\cardbase\\get_card(81,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill307/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if ($theitem[\'itm\']=="『G.A.M.E.O.V.E.R』"){
			if (\\skillbase\\skill_query(307)){
				\\skillbase\\skill_setvalue(307,\'cnt\',1);
				\\player\\player_save($sdata);
			}
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill307/main.php',
)

Array\show_achievement307 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p307=0;
		else	$p307=base64_decode_number($data);	
		$c307=0;
		if ($p307>=8){
			$c307=999;
		}else if ($p307>=1){
			$c307=1;
		}
		include template(\'MOD_SKILL307_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill307/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL318_INFO\',\'achievement;daily;\');
		define(\'MOD_SKILL318_ACHIEVEMENT_ID\',\'18\');
		eval(import_module(\'achievement_base\'));
		$ach_allow_mode[318] = array(0, 16);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill318/main.php',
)

Array\acquire318 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(318,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill318/main.php',
)

Array\lost318 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill318/main.php',
)

Array\finalize318 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(318,\'cnt\',$pa);
		$x=min($x,(1<<30)-1);
		
		if (($ox<1)&&($x>=1)){
			\\cardbase\\get_qiegao(573,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill318/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if ($theitem[\'itm\']=="『G.A.M.E.O.V.E.R』"){
			if (\\skillbase\\skill_query(318)){
				\\skillbase\\skill_setvalue(318,\'cnt\',1);
				\\player\\player_save($sdata);
			}
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill318/main.php',
)

Array\show_achievement318 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p318=0;
		else	$p318=base64_decode_number($data);	
		$c318=0;
		if ($p318>=1){
			$c318=999;
		}
		include template(\'MOD_SKILL318_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill318/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL322_INFO\',\'achievement;\');
		define(\'MOD_SKILL322_ACHIEVEMENT_ID\',\'22\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill322/main.php',
)

Array\acquire322 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(322,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill322/main.php',
)

Array\lost322 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill322/main.php',
)

Array\finalize322 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;	
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x=\\skillbase\\skill_getvalue(322,\'cnt\',$pa);		
		if ($x==0) $x=$ox;
		if ($ox!=0) $x=min($x,$ox);
		
		if (($x!=0)&&($x<=1800)&&(($ox>1800)||($ox==0))){
			\\cardbase\\get_qiegao(666,$pa);
			\\cardbase\\get_card(78,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill322/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if (($theitem[\'itm\']=="杏仁豆腐的ID卡")&&($theitem[\'itmk\']=="Z")&&($gamestate>=30)&&($gamestate<50)){
			if (\\skillbase\\skill_query(322)){
				\\skillbase\\skill_setvalue(322,\'cnt\',$now-$starttime);
				\\player\\player_save($sdata);
			}
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill322/main.php',
)

Array\show_achievement322 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p322=0;
		else	$p322=base64_decode_number($data);	
		$c322=0;
		if (($p322<=1800)&&($p322!=0)){
			$c322=999;
		}
		include template(\'MOD_SKILL322_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill322/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL323_INFO\',\'achievement;\');
		define(\'MOD_SKILL323_ACHIEVEMENT_ID\',\'23\');
		eval(import_module(\'achievement_base\'));
		$ach_allow_mode[323] = array(0, 16);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill323/main.php',
)

Array\acquire323 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(323,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill323/main.php',
)

Array\lost323 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill323/main.php',
)

Array\finalize323 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x=\\skillbase\\skill_getvalue(323,\'cnt\',$pa);		
		if ($x==0) $x=$ox;
		if ($ox!=0) $x=min($x,$ox);
		eval(import_module(\'cardbase\'));
		$arr=$cardindex[\'S\'];
		$c=count($arr)-1;
		$cr=$arr[rand(0,$c)];
		if (($x!=0)&&($x<=2700)&&(($ox>2700)||($ox==0))){
			\\cardbase\\get_qiegao(666,$pa);
			\\cardbase\\get_card($cr,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill323/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if ($theitem[\'itm\']=="『G.A.M.E.O.V.E.R』"){
			if (\\skillbase\\skill_query(323)){
				\\skillbase\\skill_setvalue(323,\'cnt\',$now-$starttime);
				\\player\\player_save($sdata);
			}
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill323/main.php',
)

Array\show_achievement323 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p323=0;
		else	$p323=base64_decode_number($data);	
		$c323=0;
		if (($p323<=2700)&&($p323!=0)){
			$c323=999;
		}
		include template(\'MOD_SKILL323_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill323/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/main.php',
)

Array\get_npclist ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\',\'map\',\'gtype17\'));
		if ($gametype!=17) return $chprocess();		
		return $npcinfo_gtype17;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/main.php',
)

Array\get_shoplist ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\'));
		if ($gametype!=17) return $chprocess();		
		$file = __DIR__.\'/config/shopitem.config.php\';
		$l = openfile($file);
		return $l;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/main.php',
)

Array\get_itemfilecont ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\'));
		if ($gametype!=17) return $chprocess();
		$file = __DIR__.\'/config/mapitem.config.php\';
		$l = openfile($file);
		return $l;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/main.php',
)

Array\get_trapfilecont ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\'));
		if ($gametype!=17) return $chprocess();
		$file = __DIR__.\'/config/trapitem.config.php\';
		$l = openfile($file);
		return $l;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL316_INFO\',\'achievement;daily;\');
		define(\'MOD_SKILL316_ACHIEVEMENT_ID\',\'16\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill316/main.php',
)

Array\acquire316 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(316,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill316/main.php',
)

Array\lost316 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill316/main.php',
)

Array\finalize316 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(316,\'cnt\',$pa);		
		$x=min($x,(1<<30)-1);
		
		if (($ox<200)&&($x>=200)){
			\\cardbase\\get_qiegao(250,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill316/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(316,$pa))&&($pd[\'type\']==90))
		{
			$x=(int)\\skillbase\\skill_getvalue(316,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(316,\'cnt\',$x,$pa);
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill316/main.php',
)

Array\show_achievement316 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p316=0;
		else	$p316=base64_decode_number($data);	
		$c316=0;
		if ($p316>=200){
			$c316=999;
		}
		include template(\'MOD_SKILL316_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill316/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL321_INFO\',\'achievement;daily;\');
		define(\'MOD_SKILL321_ACHIEVEMENT_ID\',\'21\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill321/main.php',
)

Array\acquire321 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(321,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill321/main.php',
)

Array\lost321 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill321/main.php',
)

Array\finalize321 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(321,\'cnt\',$pa);		
		$x=min($x,(1<<30)-1);
		
		if (($ox<2)&&($x>=2)){
			\\cardbase\\get_qiegao(110,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill321/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(321,$pa))&&($pd[\'type\']==2))
		{
			$x=(int)\\skillbase\\skill_getvalue(321,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(321,\'cnt\',$x,$pa);
		}
		$chprocess($pa, $pd, $active);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill321/main.php',
)

Array\show_achievement321 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p321=0;
		else	$p321=base64_decode_number($data);	
		$c321=0;
		if ($p321>=2){
			$c321=999;
		}
		include template(\'MOD_SKILL321_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill321/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/cardbase/main.php',
)

Array\get_user_cards ====> array (
  'vars' => '$username',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		$result = $db->query("SELECT * FROM {$gtablepre}users WHERE username=\'$username\'");
		$udata = $db->fetch_array($result);
		if ($udata[\'cardlist\']=="")
		{
			$udata[\'cardlist\']="0";
			$db->query("UPDATE {$gtablepre}users SET cardlist=\'{$udata[\'cardlist\']}\' WHERE username = \'$username\'");
		}
		$cardlist = explode(\'_\',$udata[\'cardlist\']);
		return $cardlist;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/cardbase/main.php',
)

Array\get_energy_recover_rate ====> array (
  'vars' => '$cardlist, $qiegao',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'cardbase\'));
		


		$ret = Array();
		$ret[\'S\']=100.0/7/86400;	
		$ret[\'C\']=0;			
		$ret[\'M\']=0;			
		$cnt=Array(); $cnt[\'A\']=0; $cnt[\'B\']=0;
		foreach ($cardlist as $key)
		{
			if ($cards[$key][\'rare\']==\'A\') $cnt[\'A\']++;
			if ($cards[$key][\'rare\']==\'B\') $cnt[\'B\']++;
		}
		
		$bcost = Array(\'A\' => 90/0.05, \'B\'=>90/0.2);
		foreach (Array(\'A\',\'B\') as $ty)
		{
			$z=$qiegao;
			$all=count($cardindex[$ty]);
			while ($cnt[$ty]<$all && $z>$bcost[$ty]*$all/($all-$cnt[$ty]))
			{
				$z-=$bcost[$ty]*$all/($all-$cnt[$ty]);
				$cnt[$ty]++;
			}
		}
		
		$tbase = Array(\'A\' => 43200.0, \'B\' => 10800.0);
		foreach (Array(\'A\',\'B\') as $ty)
		{
			$z=$cnt[$ty]/2;
			if ($cnt[$ty]<=6) $z=$cnt[$ty]*2/3; 
			if ($cnt[$ty]<=3) $z=2; 
			
			$tbase[$ty]*=$z;
			$ret[$ty]=100.0/$tbase[$ty];
		}
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/cardbase/main.php',
)

Array\get_user_cardinfo ====> array (
  'vars' => '$who',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'cardbase\'));
		$result = $db->query("SELECT * FROM {$gtablepre}users WHERE username=\'$who\'");
		$udata = $db->fetch_array($result);
		if ($udata[\'cardlist\']=="")
		{
			$udata[\'cardlist\']="0";
			$db->query("UPDATE {$gtablepre}users SET cardlist=\'{$udata[\'cardlist\']}\' WHERE username = \'$who\'");
		}
		$cardlist = explode(\'_\',$udata[\'cardlist\']);
		
		$energy_recover_rate = get_energy_recover_rate($cardlist, $udata[\'gold\']);
		
		$cardenergy=Array();
		if ($udata[\'cardenergy\']=="") $t=Array(); else $t=explode(\'_\',$udata[\'cardenergy\']);
		$lastupd = $udata[\'cardenergylastupd\'];
		for ($i=0; $i<count($cardlist); $i++)
			if ($i<count($t))
			{
				$cardenergy[$cardlist[$i]]=((double)$t[$i])+($now-$lastupd)*$energy_recover_rate[$cards[$cardlist[$i]][\'rare\']];
				if (in_array($cards[$cardlist[$i]][\'rare\'], array(\'C\',\'M\')) || $cardenergy[$cardlist[$i]] > $cards[$cardlist[$i]][\'energy\']-1e-5)
					$cardenergy[$cardlist[$i]] = $cards[$cardlist[$i]][\'energy\'];
			}
			else
			{
				$cardenergy[$cardlist[$i]] = $cards[$cardlist[$i]][\'energy\'];
			}
		
		$nt=\'\';
		for ($i=0; $i<count($cardlist); $i++)
		{
			$x=(double)$cardenergy[$cardlist[$i]];
			if ($i>0) $nt.=\'_\';
			$nt.=$x;
		}
		$db->query("UPDATE {$gtablepre}users SET cardenergy=\'$nt\', cardenergylastupd=\'$now\' WHERE username = \'$who\'");
		
		$ret=Array(
			\'cardlist\' => $cardlist,
			\'cardenergy\' => $cardenergy,
			\'cardchosen\' => $udata[\'card\']
		);
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/cardbase/main.php',
)

Array\save_cardenergy ====> array (
  'vars' => '$data, $who',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		$nt=\'\';
		for ($i=0; $i<count($data[\'cardlist\']); $i++)
		{
			$x=(double)$data[\'cardenergy\'][$data[\'cardlist\'][$i]];
			if ($i>0) $nt.=\'_\';
			$nt.=$x;
		}
		$db->query("UPDATE {$gtablepre}users SET cardenergy=\'$nt\' WHERE username = \'$who\'");
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/cardbase/main.php',
)

Array\get_card ====> array (
  'vars' => '$ci,$pa=NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'cardbase\'));
		if ($pa==NULL){
			$n=$name;
		}else{
			if (isset($pa[\'username\'])) $n=$pa[\'username\'];
			else $n=$pa[\'name\'];
		}
		$cn=$cards[$ci][\'name\'];
		$result = $db->query("SELECT * FROM {$gtablepre}users WHERE username=\'$n\'");
		$pu = $db->fetch_array($result);
		extract($pu,EXTR_PREFIX_ALL,\'p\');
		$carr = explode(\'_\',$p_cardlist);
		$clist = Array();
		foreach($carr as $key => $val){
			$clist[$key] = $val;
		}
		if (in_array($ci,$clist)){
			return 0;
		}else{
			$p_cardlist.="_".$ci;
			$db->query("UPDATE {$gtablepre}users SET cardlist=\'$p_cardlist\' WHERE username=\'$n\'");
			return 1;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/cardbase/main.php',
)

Array\get_qiegao ====> array (
  'vars' => '$num,$pa=NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if ($pa==NULL){
			$n=$name;
		}else{
			if (isset($pa[\'username\'])) $n=$pa[\'username\'];
			else $n=$pa[\'name\'];
		}
		$result = $db->query("SELECT gold FROM {$gtablepre}users WHERE username=\'$n\'");
		$cg = $db->result($result,0);
		$cg=$cg+$num;
		if ($cg<0) $cg=0;
		$db->query("UPDATE {$gtablepre}users SET gold=\'$cg\' WHERE username=\'$n\'");
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/cardbase/main.php',
)

Array\calc_qiegao_drop ====> array (
  'vars' => '&$pa,&$pd,&$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'cardbase\',\'sys\',\'logger\',\'map\'));
		$qiegaogain=0;
		if (!in_array($gametype,$qiegao_ignore_mode)){		
			if ($pd[\'type\']==90)	
			{
				if ($areanum/$areaadd<1)	
				{
					$dice = rand(0,99);
					if ($dice<5) 
						$qiegaogain=rand(7,15);
					else if ($dice<20)
						$qiegaogain=rand(3,7);
					else if ($dice<50)
						$qiegaogain=rand(1,3);
				}
				else if ($areanum/$areaadd<2)	
				{
					$dice = rand(0,99);
					if ($dice<5) 
						$qiegaogain=rand(3,5);
					else if ($dice<15)
						$qiegaogain=rand(1,3);
				}
			}
			if ($pd[\'type\']==2)	
			{
				if ($areanum/$areaadd<1)
				{
					$qiegaogain=rand(9,19);
				}
				else if ($areanum/$areaadd<2)
				{
					$dice=rand(0,99);
					if ($dice<30)
						$qiegaogain=rand(3,7);
					else  $qiegaogain=rand(1,3);
				}
			}
		}
		return $qiegaogain;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/cardbase/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa, $pd, $active);
		eval(import_module(\'cardbase\',\'sys\',\'logger\',\'map\'));
		$qiegaogain=calc_qiegao_drop($pa,$pd,$active);
		if ($qiegaogain>0){
			get_qiegao($qiegaogain,$pa);
			$log.="<span class=\\"orange\\">敌人掉落了{$qiegaogain}单位的切糕！</span><br>";
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/cardbase/main.php',
)

Array\itemmix_success ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		










		$chprocess();	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/cardbase/main.php',
)

Array\get_card_pack ====> array (
  'vars' => '$card_pack_name',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'cardbase\'));
		$card_pack = Array();
		foreach ($cards as $ci => $card) {
			if ($card["pack"] == $card_pack_name)
				$card_pack[$ci] = $card;
		}
		
		return $card_pack;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/cardbase/main.php',
)

Array\get_card_pack_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'cardbase\'));
		return $packlist;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/cardbase/main.php',
)

Array\in_card_pack ====> array (
  'vars' => '$packname',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'cardbase\'));
		return in_array($packname, $packlist);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/cardbase/main.php',
)

Array\kuji ====> array (
  'vars' => '$type, &$pa, $is_dryrun = false',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'cardbase\'));
		$ktype=(int)$type;
		$func=\'kuji\'.$ktype.\'\\\\kujidraw\'.$ktype;
		if (defined(\'MOD_KUJI\'.$ktype)) {
			$kr=$func($pa, $is_dryrun);
			if (!is_array($kr)){
				if ($kr==-1){
					return -1;
				}else{
					$dr=array($kr);
				}
			}else{
				$dr=$kr;
			}
			return $dr;
		}
		return -1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/cardbase/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\club_acquire ====> array (
  'vars' => '$clubid, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'clubbase\'));
		
		if ($pa == NULL)
		{
			eval(import_module(\'player\'));
			$club = $clubid;
		}
		else  $pa[\'club\'] = $clubid;
		
		foreach ($clublist[$clubid][\'skills\'] as $key)
			if (defined(\'MOD_SKILL\'.$key))
				\\skillbase\\skill_acquire($key,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\club_lost ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'clubbase\',\'logger\'));
		
		foreach (\\skillbase\\get_acquired_skill_array($pa) as $skillid) 
			if (\\skillbase\\check_skill_info($skillid,\'club\'))
				\\skillbase\\skill_lost($skillid,$pa);

		if ($pa == NULL)
		{
			$club = 0;
		}
		else  $pa[\'club\'] = 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\club_randseed_calc ====> array (
  'vars' => '$modval, $baseval, $curgid, $curuid, $curpid, $sttime, $vatime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$s=((string)$baseval).((string)$curgid).((string)$baseval).((string)$curuid).((string)$curpid).((string)$sttime).((string)$baseval).((string)$vatime).((string)$baseval);
		$s=md5($s);
		$hashval=0;
		for ($i=0; $i<strlen($s); $i++) $hashval=($hashval*269+ord($s[$i]))%$modval;
		return $hashval;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\get_club_choice_array ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'clubbase\'));
		
		
		$curgid=$gamenum;
		$curuid=233;
		$curpid=$pid+3;
		
		$mod_value = 5000077;
		$base_value = 6397;
		
		$sttime = $starttime;
		$vatime = 233;
		
		$ret = Array(0);
		for ($clubtype = 0; $clubtype <= 1; $clubtype++)
		{
			$clubcnt = 0; $club_waitlist = Array(); $p_sum = 0;
			foreach ($clublist as $key => $value) 
				if ($value[\'type\']==$clubtype)
				{ 
					$clubcnt ++; 
					array_push($club_waitlist, Array(\'id\' => $key, \'pr\' => $value[\'probability\']));
					$p_sum += $value[\'probability\'];
				}
			
			for ($k=0; $k<min($max_club_choice_num[$clubtype],$clubcnt); $k++)
			{
				if ($p_sum == 0) break;
				$base_value = ($base_value + club_randseed_calc($mod_value, $base_value, $curgid, $curuid, $curpid, $sttime, $vatime)) % $mod_value;
				$dice = club_randseed_calc($mod_value, $base_value, $curgid, $curuid, $curpid, $sttime, $vatime);
				$dice = $dice % $p_sum + 1;
				for ($i=0; $i<count($club_waitlist); $i++)
				{
					if ($dice <= $club_waitlist[$i][\'pr\'])
					{
						array_push($ret,$club_waitlist[$i][\'id\']);
						$p_sum -= $club_waitlist[$i][\'pr\'];
						$club_waitlist[$i][\'pr\']=0;
						break;
					}
					else  $dice -= $club_waitlist[$i][\'pr\'];
				}
			}
		}
		
		sort($ret);
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\player_selectclub ====> array (
  'vars' => '$id',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'clubbase\'));
		if ($club!=0) return 1;
		if ($id==0) return 2;
		if ($id<0) return 3;
		$ret = get_club_choice_array();
		if ($id>=count($ret)) return 3;
		club_acquire($ret[$id]);
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\'));
		if($mode == \'special\' && strpos($command,\'clubsel\') === 0) 
		{
			$clubchosen = substr($command,7); $clubchosen = (int)$clubchosen;
			$retval = player_selectclub($clubchosen);
			if ($retval==0)
				$log.="称号选择成功。<br>";
			else if ($retval==1)
				$log.="称号选择失败，称号一旦被选择便无法更改。<br>";
			else if ($retval==2)
				$log.="未选择称号。<br>";
			else  $log.="称号选择非法！<br>";
			$mode = \'command\';
			return;
		}
		
		if ($mode == \'special\' && $command == \'viewskills\') 
		{
			$mode = MOD_CLUBBASE_SKILLPAGE;
			return;
		}
		
		if ($mode == \'special\' && substr($command,0,5) == \'skill\' && substr($command,-8)==\'_special\' && ($subcmd==\'upgrade\' || $subcmd==\'activate\')) 
		{
			$id=substr($command,5,-8); $id=(int)$id;
			
			if (\\skillbase\\check_skill_info($id,\'upgrade\') && \\skillbase\\skill_query($id))
			{
				$func=\'skill\'.$id.\'\\\\\'.$subcmd.$id;
				$func();
			}
			else
			{
				$log.=\'你不能发动这个技能。<br>\';
			}
			if ($subcmd==\'activate\')
				$mode = \'command\';
			else  $mode = MOD_CLUBBASE_SKILLPAGE;
			return;
		}
			
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\skill_query_unlocked ====> array (
  'vars' => '$id',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$id=(int)$id;
		$func = \'skill\'.$id.\'\\\\check_unlocked\'.$id;
		eval(import_module(\'player\'));
		return $func($sdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\get_battle_skill_entry ====> array (
  'vars' => '&$edata,$which',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($which==3) $zflag = 1; else $zflag = 0;
		eval(import_module(\'clubbase\',\'player\'));
		if (isset($clublist[$club]))
			foreach ($clublist[$club][\'skills\'] as $key) 
				if (defined(\'MOD_SKILL\'.$key.\'_INFO\'))
					if (\\skillbase\\check_skill_info($key, \'club\') && \\skillbase\\check_skill_info($key, \'battle\') && \\skillbase\\skill_query($key))
					{
						$flag = 0;
						if (\\skillbase\\check_skill_info($key, \'hidden\')) $flag = 1;
						if (!$flag) 
						{
							$func = \'skill\'.$key.\'\\\\check_unlocked\'.$key;
							if ($func($sdata)) $flag = 1;
						}
						if ($flag)
						{
							$which--;
							if ($which==0)
							{
								if ($zflag) echo \'<span style="display:block;height:6px;">&nbsp;</span>\';
								include template(constant(\'MOD_SKILL\'.$key.\'_BATTLECMD\'));
								return;
							}
						}
					}
		foreach (\\skillbase\\get_acquired_skill_array() as $key) 
			if (isset($clublist[$club]) && !in_array($key,$clublist[$club][\'skills\']))
				if (defined(\'MOD_SKILL\'.$key.\'_INFO\'))
					if (!\\skillbase\\check_skill_info($key, \'achievement\') && \\skillbase\\check_skill_info($key, \'battle\'))
					{
						$flag = 0;
						if (\\skillbase\\check_skill_info($key, \'hidden\')) $flag = 1;
						if (!$flag) 
						{
							$func = \'skill\'.$key.\'\\\\check_unlocked\'.$key;
							if ($func($sdata)) $flag = 1;
						}
						if ($flag)
						{
							$which--;
							if ($which==0)
							{
								if ($zflag) echo \'<span style="display:block;height:6px;">&nbsp;</span>\';
								include template(constant(\'MOD_SKILL\'.$key.\'_BATTLECMD\'));
								return;
							}
						}
					}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\get_profile_skill_buttons ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'clubbase\'));
		$___TEMP_inclist = Array();
		if ($club!=0)
			foreach ($clublist[$club][\'skills\'] as $key) 
				if (defined(\'MOD_SKILL\'.$key.\'_INFO\') && \\skillbase\\check_skill_info($key, \'club\') && \\skillbase\\check_skill_info($key, \'active\') && \\skillbase\\skill_query($key)) 
				{ 
					$flag = 0; 
					if (\\skillbase\\check_skill_info($key, \'hidden\')) $flag = 1; 
					if (!$flag) 
					{ 
						$func = \'skill\'.$key.\'\\\\check_unlocked\'.$key; 
						if ($func($sdata)) $flag = 1; 
					} 
					if ($flag) 
						array_push($___TEMP_inclist,template(constant(\'MOD_SKILL\'.$key.\'_PROFILECMD\')));
				}
		foreach (\\skillbase\\get_acquired_skill_array() as $key) 
			if ($club==0 || !in_array($key,$clublist[$club][\'skills\']))
				if (defined(\'MOD_SKILL\'.$key.\'_INFO\') && !\\skillbase\\check_skill_info($key, \'achievement\') && \\skillbase\\check_skill_info($key, \'active\')) 
				{ 
					$flag = 0; 
					if (\\skillbase\\check_skill_info($key, \'hidden\')) $flag = 1; 
					if (!$flag) 
					{ 
						$func = \'skill\'.$key.\'\\\\check_unlocked\'.$key; 
						if ($func($sdata)) $flag = 1; 
					} 
					if ($flag) 
						array_push($___TEMP_inclist,template(constant(\'MOD_SKILL\'.$key.\'_PROFILECMD\'))); 
				}
		
		foreach ($___TEMP_inclist as $___TEMP_template_name) include $___TEMP_template_name;
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\get_skillpage ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'clubbase\'));
		$___TEMP_inclist = Array();
		$clubskill_list = array();
		if($club) {
			$clubskill_list = $clublist[$club][\'skills\'];
			foreach ($clubskill_list as $key) 
				if (defined(\'MOD_SKILL\'.$key.\'_INFO\') && \\skillbase\\check_skill_info($key, \'club\') && !\\skillbase\\check_skill_info($key, \'hidden\') && \\skillbase\\skill_query($key)) 
					array_push($___TEMP_inclist,template(constant(\'MOD_SKILL\'.$key.\'_DESC\')));
		}
		foreach (\\skillbase\\get_acquired_skill_array() as $key) 
			if (!in_array($key,$clubskill_list))
				if (defined(\'MOD_SKILL\'.$key.\'_INFO\') && !\\skillbase\\check_skill_info($key, \'achievement\') && !\\skillbase\\check_skill_info($key, \'hidden\')) 
					array_push($___TEMP_inclist,template(constant(\'MOD_SKILL\'.$key.\'_DESC\'))); 
		foreach ($___TEMP_inclist as $___TEMP_template_name) include $___TEMP_template_name;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\load_user_battleskill_command ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'input\'));
		$pdata[\'bskill\']=$bskill; $pdata[\'bskillpara\']=$bskillpara;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\load_user_combat_command ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		load_user_battleskill_command($pdata);
		$chprocess($pdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\check_npc_clubskill_load ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'clubbase\',\'logger\'));
		
		if (!isset($clublist[$pa[\'club\']]) || !isset($clublist[$pa[\'club\']][\'skills\']) || count($clublist[$pa[\'club\']][\'skills\'])==0)
			return;
			
		if (!\\skillbase\\skill_query($clublist[$pa[\'club\']][\'skills\'][0],$pa))
		{
			club_acquire($pa[\'club\'],$pa);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\battle_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'clubbase\'));
		if ($pa[\'type\'] && $pa[\'club\']) check_npc_clubskill_load($pa);
		if ($pd[\'type\'] && $pd[\'club\']) check_npc_clubskill_load($pd);
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\get_npcskillpage ====> array (
  'vars' => '$pn',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'clubbase\'));
		$___TEMP_inclist = Array();
		foreach (\\skillbase\\get_acquired_skill_array($pn) as $key) 
			if (defined(\'MOD_SKILL\'.$key.\'_INFO\') && !\\skillbase\\check_skill_info($key, \'achievement\') && \\skillbase\\check_skill_info($key, \'unique\')) 
				array_push($___TEMP_inclist,template(constant(\'MOD_SKILL\'.$key.\'_DESC\'))); 
		
		$who = $pn;
		foreach ($___TEMP_inclist as $___TEMP_template_name) include $___TEMP_template_name;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubbase/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'player\'));
		global $wep_equip_list;
		$equip_list=array_merge($equip_list,$wep_equip_list);
		$battle_equip_list=array_merge($battle_equip_list,$wep_equip_list);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_att_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1.0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_internal_att ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		return $pa[\'att\'];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_external_att ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		return $pa[\'wepe\']*2;		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_att ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return get_internal_att($pa,$pd,$active)+get_external_att($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_def_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1.0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_internal_def ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pd[\'def\'];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_def ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pd[\'internal_def\'] = get_internal_def($pa,$pd,$active);
		return $pd[\'internal_def\'];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_skill_by_kind ====> array (
  'vars' => '&$pa, &$pd, $active, $wep_kind',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		return $pa[$wep_kind];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_skill ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		return get_skill_by_kind($pa, $pd, $active, $skillinfo[$pa[\'wep_kind\']]);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_attack_method ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return substr($pdata[\'wepk\'],1,1);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\check_attack_method ====> array (
  'vars' => '&$pdata, $wm',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return get_attack_method($pdata)==$wm;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\load_user_combat_command ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'input\'));
		if (check_attack_method($pdata,$command))
			$pdata[\'wep_kind\']=$command;
		else  $pdata[\'wep_kind\']=get_attack_method($pdata);
		$chprocess($pdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\load_auto_combat_command ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pdata[\'wep_kind\']=get_attack_method($pdata);
		$pdata[\'bskill\'] = $pdata[\'bskillpara\'] = \'\';
		$chprocess($pdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'weapon\'));
		$hitrate = $hitrate_obbs[$pa[\'wep_kind\']];
		$hitrate += round($pa[\'fin_skill\'] * $hitrate_r[$pa[\'wep_kind\']]); 
		$hitrate = min($hitrate, $hitrate_max_obbs[$pa[\'wep_kind\']]);
		return $hitrate;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_weapon_fluc_max_range ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		return $dmg_fluc[$pa[\'wep_kind\']];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_weapon_fluc_percentage ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$x=get_weapon_fluc_max_range($pa,$pd,$active);
		if ($x>99) $x=99;
		return rand(-$x,$x);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_primary_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		$pa[\'fin_att\']=get_att($pa,$pd,$active)*get_att_multiplier($pa,$pd,$active);
		$pd[\'fin_def\']=get_def($pa,$pd,$active)*get_def_multiplier($pa,$pd,$active);
		$att_pow=$pa[\'fin_att\']; $def_pow=$pd[\'fin_def\']; $ws=$pa[\'fin_skill\']; $wp_kind=$pa[\'wep_kind\'];
		$damage = ($att_pow/$def_pow)*$ws*$skill_dmg[$wp_kind];
		$fluc = get_weapon_fluc_percentage($pa, $pd, $active);
		$dmg_factor = (100+$fluc)/100;
		$damage = round ( $damage * $dmg_factor * rand ( 4, 10 ) / 10 );
		if ($damage<1) $damage=1;
		return $damage;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_primary_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1.0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_fixed_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_fixed_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1.0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_physical_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$primary_dmg=get_primary_dmg($pa, $pd, $active) * get_primary_dmg_multiplier($pa, $pd, $active);
		$fixed_dmg=get_fixed_dmg($pa, $pd, $active);
		if ($fixed_dmg>0) $fixed_dmg *= get_fixed_dmg_multiplier($pa, $pd, $active);
		return round($primary_dmg + $fixed_dmg);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return Array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\calculate_physical_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		
		$multiplier = get_physical_dmg_multiplier($pa, $pd, $active);
		$dmg = get_physical_dmg($pa, $pd, $active);
		
		$fin_dmg=$dmg; $mult_words=\'\';
		foreach ($multiplier as $key)
		{
			$fin_dmg=$fin_dmg*$key;
			$mult_words.="×{$key}";
		}
		$fin_dmg=round($fin_dmg);
		if ($fin_dmg < 1) $fin_dmg = 1;
		if ($mult_words==\'\')
			$log .= "造成<span class=\\"red\\">{$dmg}</span>点伤害！<br>";
		else  $log .= "造成{$dmg}{$mult_words}＝<span class=\\"red\\">{$fin_dmg}</span>点伤害！<br>";
		$pa[\'physical_dmg_dealt\']+=$fin_dmg;
		$pa[\'dmg_dealt\']+=$fin_dmg;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\calculate_wepimp_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		return $wepimprate[$pa[\'wep_kind\']];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\calculate_wepimp ====> array (
  'vars' => '&$pa, &$pd, $active, $is_hit',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		$z=calculate_wepimp_rate($pa, $pd, $active);
		if (!$is_hit && $z<1000) return;	
		$dice=rand(0,99);
		if ($dice<$z) $pa[\'wepimp\']++;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\post_weapon_strike_events ====> array (
  'vars' => '&$pa, &$pd, $active, $is_hit',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		calculate_wepimp($pa, $pd, $active, $is_hit);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\weapon_strike ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		$dice=rand(0,99);
		if ($dice<$pa[\'fin_hitrate\'])	
		{
			$is_hit = 1;
			
			calculate_physical_dmg($pa, $pd, $active);
		}
		else  
		{	
			$is_hit = 0;
			$log .= "但是没有击中！<br>";
		}
		$pa[\'is_hit\'] = $is_hit;
		post_weapon_strike_events($pa, $pd, $active, $is_hit);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\strike ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		weapon_strike($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'weapon\',\'logger\'));
		if ($active)
		{
			$log .= "使用{$pa[\'wep\']}<span class=\\"yellow\\">".$attinfo[$pa[\'wep_kind\']]."</span>{$pd[\'name\']}！<br>";
		}
		else  
		{
			$log .= "{$pa[\'name\']}使用{$pa[\'wep\']}<span class=\\"yellow\\">".$attinfo[$pa[\'wep_kind\']]."</span>你！<br>";
		}
		
		$pd[\'deathmark\']=$wepdeathstate[$pa[\'wep_kind\']];
		$pa[\'attackwith\']=$pa[\'wep\'];
		$pa[\'fin_skill\']=get_skill($pa,$pd,$active);
		$pa[\'fin_hitrate\']=get_hitrate($pa,$pd,$active);
		
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\weapon_break ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'weapon\',\'logger\'));
		if ($active)
			if ($wepimprate[$pa[\'wep_kind\']]<1000)
				$log .= "你的<span class=\\"red\\">{$pa[\'wep\']}</span>使用过度，已经损坏，无法再装备了！<br>";
			else  $log .= "你的<span class=\\"red\\">{$pa[\'wep\']}</span>用光了！<br>";
		else  if ($wepimprate[$pa[\'wep_kind\']]<1000)
				$log .= "{$pa[\'name\']}的<span class=\\"red\\">{$pa[\'wep\']}</span>使用过度，已经损坏，无法再装备了！<br>";
			else  $log .= "{$pa[\'name\']}的<span class=\\"red\\">{$pa[\'wep\']}</span>用光了！<br>";
			
		$pa[\'wep\'] = \'拳头\';
		$pa[\'wepk\'] = \'WN\';
		$pa[\'wepe\']= 0;
		$pa[\'weps\']= $nosta;
		$pa[\'wepsk\']= \'\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\apply_weapon_imp ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'weapon\',\'logger\'));
		if (isset($pa[\'wepimp\']) && $pa[\'wepimp\'] && $pa[\'weps\']!=$nosta)
		{
			$pa[\'weps\']-=$pa[\'wepimp\'];
			if ($active)
				if ($wepimprate[$pa[\'wep_kind\']]<1000)
					$log .= "你的{$pa[\'wep\']}的耐久度下降了{$pa[\'wepimp\']}！<br>";
				else  $log .= "你用掉了{$pa[\'wepimp\']}个{$pa[\'wep\']}。<br>";
			else  if ($wepimprate[$pa[\'wep_kind\']]<1000)
					$log .= "{$pa[\'name\']}的{$pa[\'wep\']}的耐久度下降了{$pa[\'wepimp\']}！<br>";
				else  $log .= "{$pa[\'name\']}用掉了{$pa[\'wepimp\']}个{$pa[\'wep\']}。<br>";
			
			if ($pa[\'weps\']<=0) weapon_break($pa, $pd, $active);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\calculate_attack_weapon_skill_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\apply_weapon_skill_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'weapon\'));
		$pa[$skillinfo[$pa[\'wep_kind\']]]+=calculate_attack_weapon_skill_gain($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\calculate_attack_exp_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$expup = round ( ($pd[\'lvl\'] - $pa[\'lvl\']) / 3 );
		$expup = $expup > 0 ? $expup : 1;
		return $expup;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\apply_attack_exp_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'lvlctl\'));
		if ($pa[\'physical_dmg_dealt\'] > 0) 
			\\lvlctl\\getexp(calculate_attack_exp_gain($pa, $pd, $active), $pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		apply_weapon_imp($pa, $pd, $active);
		unset($pa[\'wepimp\']);
		
		apply_weapon_skill_gain($pa, $pd, $active);
		
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\attack_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		apply_attack_exp_gain($pa, $pd, $active);
		
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\calculate_counter_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		return $counter_obbs[$pa[\'wep_kind\']];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\calculate_counter_rate_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1.0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\check_counter_dice ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$counter_rate = calculate_counter_rate ($pa, $pd, $active) * calculate_counter_rate_multiplier ($pa, $pd, $active);
		$counter_dice = rand ( 0, 99 );
		if ($counter_dice < $counter_rate) 
			return 1;
		else  return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\get_weapon_range ====> array (
  'vars' => '&$pa, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		if (isset($pa[\'wep_kind\']))
			return $rangeinfo[$pa[\'wep_kind\']];
		else  return $rangeinfo[$pa[\'wepk\'][1]];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\check_counterable_by_weapon_range ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r1 = get_weapon_range($pa, $active);
		$r2 = get_weapon_range($pd, 1-$active);
		if ($r1 >= $r2 && $r1 != 0 && $r2 != 0)
			return 1;
		else  return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\check_can_counter ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (check_counterable_by_weapon_range($pa, $pd, $active))
		{
			if (!$chprocess($pa,$pd,$active)) return 0;
			return check_counter_dice($pa, $pd, $active);
		}
		else  return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'W\' ) === 0)
		{
			$eqp = \'wep\';
			$noeqp = \'WN\';
			
			if (($noeqp && strpos ( ${$eqp.\'k\'}, $noeqp ) === 0) || ! ${$eqp.\'s\'}) {
				${$eqp} = $itm;
				${$eqp.\'k\'} = $itmk;
				${$eqp.\'e\'} = $itme;
				${$eqp.\'s\'} = $itms;
				${$eqp.\'sk\'} = $itmsk;
				$log .= "装备了<span class=\\"yellow\\">$itm</span>。<br>";
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
			} else {
				swap(${$eqp},$itm);
				swap(${$eqp.\'k\'},$itmk);
				swap(${$eqp.\'e\'},$itme);
				swap(${$eqp.\'s\'},$itms);
				swap(${$eqp.\'sk\'},$itmsk);
				$log .= "卸下了<span class=\\"red\\">$itm</span>，装备了<span class=\\"yellow\\">${$eqp}</span>。<br>";
			}
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/weapon/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npcchat/main.php',
)

Array\npcchat ====> array (
  'vars' => '&$pa, &$pd, $active, $situation',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'npcchat\'));
		
		if (!$npcchaton) return;
		
		if ($pa[\'type\'])
		{
			if (!isset($npcchat[$pa[\'type\']])) return;
			if (isset($npcchat[$pa[\'type\']][$pa[\'name\']]))
				$nchat = &$npcchat[$pa[\'type\']][$pa[\'name\']];
			else  $nchat = &$npcchat[$pa[\'type\']];
			$flag = 1;
		}
		else
		{
			if (!isset($npcchat[$pd[\'type\']])) return;
			if (isset($npcchat[$pd[\'type\']][$pd[\'name\']]))
				$nchat = &$npcchat[$pd[\'type\']][$pd[\'name\']];
			else  $nchat = &$npcchat[$pd[\'type\']];
			$flag = 0;
		}
		
		$chatcolor = $nchat[\'color\'];
		if(!empty($chatcolor)){
			$npcwords = "<span class = \\"{$chatcolor}\\">";
		}else{
			$npcwords = \'<span>\';
		}
		
		if ($situation == \'meet\')	
		{
			$sid = 0;
			if($pa[\'type\'] && $pa[\'state\']==1) $pa[\'state\']=0;
			elseif($pd[\'type\'] && $pd[\'state\']==1) $pd[\'state\']=0;
		}
		elseif ($situation == \'battle\')
		{
			if ($flag)	
			{
				if ($pa[\'hp\']>=$pa[\'mhp\']/2)
				{
					if (!$pa[\'is_counter\'])
						$sid = 1;
					else  $sid = 2;
				}
				else  $sid = rand(3,4);
			}
			else		
			{
				if ($pd[\'hp\']>=$pd[\'mhp\']/2)
					$sid = rand(5,6);
				else  $sid = rand(7,8);
			}
		}
		else  if ($situation == \'cannot_counter\' && $flag)	
		{
			$sid = rand(10,11);
		}
		else  if ($situation == \'kill\')
		{
			if ($flag)	
				$sid = 13;	
			else  $sid = 9;	
		}
		
		if (!isset($nchat[$sid])) return;
		$npcwords.=$nchat[$sid].\'</span><br>\';
		
		eval(import_module(\'logger\'));
		$log .= $npcwords;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npcchat/main.php',
)

Array\battle_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa, $pd, $active);
		if (($pa[\'type\'] && $pa[\'state\']==1) || ($pd[\'type\'] && $pd[\'state\']==1)) npcchat($pa, $pd, $active, \'meet\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npcchat/main.php',
)

Array\attack_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa, $pd, $active);
		if ($pa[\'type\']) npcchat($pa, $pd, $active, \'battle\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npcchat/main.php',
)

Array\attack_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa, $pd, $active);
		if ($pd[\'type\'] && $pd[\'hp\']>0) npcchat($pa, $pd, $active, \'battle\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npcchat/main.php',
)

Array\cannot_counter ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa, $pd, $active);
		if ($pa[\'type\'] || $pd[\'type\']) npcchat($pa, $pd, $active, \'cannot_counter\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npcchat/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'type\'] || $pd[\'type\']) npcchat($pa, $pd, $active, \'kill\');
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/npcchat/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL21_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill21/main.php',
)

Array\acquire21 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill21/main.php',
)

Array\lost21 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill21/main.php',
)

Array\evonpc ====> array (
  'vars' => '$xtype,$xname',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'skill21\',\'lvlctl\',\'logger\'));
		if(!$xtype || !$xname){return false;}
		if(!isset($enpcinfo[$xtype])){return false;}
		$result = $db->query("SELECT * FROM {$tablepre}players WHERE type = \'$xtype\' AND name = \'$xname\'");
		$num = $db->num_rows($result);
		if(!$num){return false;}	
		if(!isset($enpcinfo[$xtype][$xname])){return false;}
		$npc=$enpcinfo[$xtype][$xname];
		$npc[\'hp\'] = $npc[\'mhp\'];
		$npc[\'sp\'] = $npc[\'msp\'];
		$npc[\'exp\'] = \\lvlctl\\calc_upexp($npc[\'lvl\'] - 1);
		
		if(!isset($npc[\'state\'])){$npc[\'state\'] = 0;}
		$npc[\'wp\'] = $npc[\'wk\'] = $npc[\'wg\'] = $npc[\'wc\'] = $npc[\'wd\'] = $npc[\'wf\'] = $npc[\'skill\'];
		unset($npc[\'skill\']);
		return $npc;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill21/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa, $pd, $active);
		eval(import_module(\'logger\',\'skillbase\'));
		if (\\skillbase\\skill_query(21,$pd))
		{
			$npcdata = evonpc($pd[\'type\'],$pd[\'name\']);
			$log .= \'<span class="yellow">\'.$pd[\'name\'].\'却没死去，反而爆发出真正的实力！</span><br>\';
			if($npcdata){
				addnews($now , \'evonpc\',$pd[\'name\'], $npcdata[\'name\'], $pa[\'name\']);
				foreach($npcdata as $key => $val){
					$pd[$key] = $val;
				}
				\\skillbase\\skill_lost(21,$pd);
				
				foreach (\\skillbase\\get_acquired_skill_array($pd) as $key) 
					if (defined(\'MOD_SKILL\'.$key.\'_INFO\') && !\\skillbase\\check_skill_info($key, \'achievement\') && \\skillbase\\check_skill_info($key, \'unique\')) 
						\\skillbase\\skill_lost($key,$pd);
				
				if (is_array($npcdata[\'skills\'])){
					$npcdata[\'skills\'][\'460\']=\'0\';
					foreach ($npcdata[\'skills\'] as $key=>$value){
						if (defined(\'MOD_SKILL\'.$key)){
							\\skillbase\\skill_acquire($key,$pd);
							if ($value>0){
								\\skillbase\\skill_setvalue($key,\'lvl\',$value,$pd);
							}
						}	
					}
				}
				$pd[\'npc_evolved\'] = 1;
			}	
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill21/main.php',
)

Array\counter_assault_wrapper ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (isset($pa[\'npc_evolved\']) && $pa[\'npc_evolved\']) return;	
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill21/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'evonpc\') {
			if($a == \'Dark Force幼体\'){
				$nword = "<span class=\\"lime\\">{$c}击杀了{$a}，却没料到这只是幻影……{$b}的封印已经被破坏了！</span>";
			}elseif($a == \'小莱卡\'){
				$nword = "<span class=\\"lime\\">{$c}击杀了{$a}，却发现这只是幻象……真正的{$b}受到惊动，方才加入战场！</span>";
			}else{
				$nword = "<span class=\\"lime\\">{$c}击杀了{$a}，却发现对方展现出了第二形态：{$b}！</span>";
			}
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，$nword</li>";
		}
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill21/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL204_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[204] = \'掠夺\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill204/main.php',
)

Array\acquire204 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill204/main.php',
)

Array\lost204 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill204/main.php',
)

Array\check_unlocked204 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=8;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill204/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(204,$pa))&&(check_unlocked204($pa)))
		{
			eval(import_module(\'logger\'));
			$gold_r = ($pa[\'club\']==3?2.5:1.5);
			$var_204=round($pa[\'lvl\']*$gold_r);
			if ($active)
				$log.=\'<span class="yellow">「掠夺」技能使你立即获得了\'.$var_204.\'元！<br></span>\';
			else  $log.=\'<span class="yellow">「掠夺」技能使敌人立即获得了\'.$var_204.\'元！<br></span>\';
			
			$pa[\'money\']+=$var_204;
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill204/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL310_INFO\',\'achievement;\');
		define(\'MOD_SKILL310_ACHIEVEMENT_ID\',\'10\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill310/main.php',
)

Array\acquire310 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(310,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill310/main.php',
)

Array\lost310 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill310/main.php',
)

Array\finalize310 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(310,\'cnt\',$pa);		
		$x=min($x,(1<<30)-1);
		
		if (($ox<100)&&($x>=100)){
			\\cardbase\\get_qiegao(100,$pa);
		}
		eval(import_module(\'cardbase\'));
		$arr=$cardindex[\'A\'];
		$c=count($arr)-1;
		$cr=$arr[rand(0,$c)];
		if (($ox<2500)&&($x>=2500)){
			\\cardbase\\get_qiegao(400,$pa);
			\\cardbase\\get_card($cr,$pa);
		}
		$cr=$arr[rand(0,$c)];
		if (($ox<10000)&&($x>=10000)){
			\\cardbase\\get_qiegao(1500,$pa);
			\\cardbase\\get_card($cr,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill310/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(310,$pa))&&($pd[\'type\']>0))
		{
			$x=(int)\\skillbase\\skill_getvalue(310,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(310,\'cnt\',$x,$pa);
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill310/main.php',
)

Array\show_achievement310 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p310=0;
		else	$p310=base64_decode_number($data);	
		$c310=0;
		if ($p310>=10000){
			$c310=999;
		}else if ($p310>=2500){
			$c310=2;
		}else if ($p310>=100){
			$c310=1;
		}
		include template(\'MOD_SKILL310_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill310/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL311_INFO\',\'achievement;\');
		define(\'MOD_SKILL311_ACHIEVEMENT_ID\',\'11\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill311/main.php',
)

Array\acquire311 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(311,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill311/main.php',
)

Array\lost311 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill311/main.php',
)

Array\finalize311 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(311,\'cnt\',$pa);		
		$x=min($x,(1<<30)-1);
		
		if (($ox<10)&&($x>=10)){
			\\cardbase\\get_qiegao(200,$pa);
		}
		if (($ox<100)&&($x>=100)){
			\\cardbase\\get_qiegao(1200,$pa);
		}
		if (($ox<1000)&&($x>=1000)){
			\\cardbase\\get_qiegao(4000,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill311/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(311,$pa))&&($pd[\'type\']==0))
		{
			$x=(int)\\skillbase\\skill_getvalue(311,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(311,\'cnt\',$x,$pa);
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill311/main.php',
)

Array\show_achievement311 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p311=0;
		else	$p311=base64_decode_number($data);	
		$c311=0;
		if ($p311>=1000){
			$c311=999;
		}else if ($p311>=100){
			$c311=2;
		}else if ($p311>=10){
			$c311=1;
		}
		include template(\'MOD_SKILL311_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill311/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL312_INFO\',\'achievement;\');
		define(\'MOD_SKILL312_ACHIEVEMENT_ID\',\'12\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill312/main.php',
)

Array\acquire312 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(312,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill312/main.php',
)

Array\lost312 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill312/main.php',
)

Array\finalize312 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(312,\'cnt\',$pa);		
		$x=min($x,(1<<30)-1);
		
		if (($ox<4)&&($x>=4)){
			\\cardbase\\get_qiegao(888,$pa);
			\\cardbase\\get_card(88,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill312/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(312,$pa))&&($pd[\'type\']==88))
		{
			$x=(int)\\skillbase\\skill_getvalue(312,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(312,\'cnt\',$x,$pa);
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill312/main.php',
)

Array\show_achievement312 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p312=0;
		else	$p312=base64_decode_number($data);	
		$c312=0;
		if ($p312>=4){
			$c312=999;
		}
		include template(\'MOD_SKILL312_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill312/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL314_INFO\',\'achievement;daily;\');
		define(\'MOD_SKILL314_ACHIEVEMENT_ID\',\'14\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill314/main.php',
)

Array\acquire314 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(314,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill314/main.php',
)

Array\lost314 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill314/main.php',
)

Array\finalize314 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(314,\'cnt\',$pa);		
		$x=min($x,(1<<30)-1);
		
		if (($ox<10)&&($x>=10)){
			\\cardbase\\get_qiegao(100,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill314/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(314,$pa))&&($pd[\'type\']>0))
		{
			$x=(int)\\skillbase\\skill_getvalue(314,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(314,\'cnt\',$x,$pa);
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill314/main.php',
)

Array\show_achievement314 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p314=0;
		else	$p314=base64_decode_number($data);	
		$c314=0;
		if ($p314>=10){
			$c314=999;
		}
		include template(\'MOD_SKILL314_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill314/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL315_INFO\',\'achievement;daily;\');
		define(\'MOD_SKILL315_ACHIEVEMENT_ID\',\'15\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill315/main.php',
)

Array\acquire315 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(315,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill315/main.php',
)

Array\lost315 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill315/main.php',
)

Array\finalize315 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);		
		$ox=$x;
		$x+=\\skillbase\\skill_getvalue(315,\'cnt\',$pa);		
		$x=min($x,(1<<30)-1);
		
		if (($ox<1)&&($x>=1)){
			\\cardbase\\get_qiegao(100,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill315/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(315,$pa))&&($pd[\'type\']==0))
		{
			$x=(int)\\skillbase\\skill_getvalue(315,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(315,\'cnt\',$x,$pa);
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill315/main.php',
)

Array\show_achievement315 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p315=0;
		else	$p315=base64_decode_number($data);	
		$c315=0;
		if ($p315>=1){
			$c315=999;
		}
		include template(\'MOD_SKILL315_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill315/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL443_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[443] = \'决斗\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill443/main.php',
)

Array\acquire443 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill443/main.php',
)

Array\lost443 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill443/main.php',
)

Array\check_unlocked443 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill443/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(443,$pa))&&(check_unlocked443($pa)))
		{
			eval(import_module(\'logger\'));
			$log.=\'<span class="yellow">「决斗」使你的基础攻击力提升了10点！<br></span>\';
			$pa[\'att\']+=10;
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill443/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL325_INFO\',\'achievement;\');
		define(\'MOD_SKILL325_ACHIEVEMENT_ID\',\'25\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill325/main.php',
)

Array\acquire325 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(325,\'cnt\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill325/main.php',
)

Array\lost325 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill325/main.php',
)

Array\finalize325 ====> array (
  'vars' => '&$pa, $data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')					
			$x=0;						
		else	$x=base64_decode_number($data);	
		
		$z=(int)\\skillbase\\skill_getvalue(325,\'cnt\',$pa);
		$ox=$x;
		$x=$ox+$z;
		
		if (($ox<1)&&($x>=1)){
			\\cardbase\\get_qiegao(233,$pa);
		}
		
		if (($ox<100)&&($x>=100)){
			\\cardbase\\get_qiegao(2333,$pa);
			\\cardbase\\get_card(119,$pa);
		}
		
		return base64_encode_number($x,5);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill325/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'map\'));
		if (\\skillbase\\skill_query(325,$pa) && $pd[\'type\']>0 && $pa[\'attackwith\']==\'精灵球\' && $areanum==0 && (!isset($pa[\'bskill\']) || $pa[\'bskill\']==0))
		{
			$x=(int)\\skillbase\\skill_getvalue(325,\'cnt\',$pa);
			$x+=1;
			\\skillbase\\skill_setvalue(325,\'cnt\',$x,$pa);
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill325/main.php',
)

Array\show_achievement325 ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($data==\'\')
			$p325=0;
		else	$p325=base64_decode_number($data);	
		$c325=0;
		if ($p325>=100)
			$c325=999;
		else if ($p325>=1)
			$c325=1;
		include template(\'MOD_SKILL325_DESC\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/achievement/skills/skill325/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL477_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[477] = \'忘我\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill477/main.php',
)

Array\acquire477 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill477/main.php',
)

Array\lost477 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill477/main.php',
)

Array\check_unlocked477 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill477/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if (\\skillbase\\skill_query(477,$pa) && $pd[\'ss\']<30)
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">由于敌人没戏唱了，你的伤害增加了30%！</span><br>";
			else  $log.="<span class=\\"yellow\\">由于你没戏唱了，你受到的伤害增加了30%</span><br>";
			$r=Array(1.30);	
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill477/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL479_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[479] = \'口胡\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill479/main.php',
)

Array\acquire479 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill479/main.php',
)

Array\lost479 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill479/main.php',
)

Array\check_unlocked479 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill479/main.php',
)

Array\apply_total_damage_change ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(479, $pd)) {
			$pa[\'dmg_dealt\'] = dmg_round479($pa[\'dmg_dealt\'], $active);
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill479/main.php',
)

Array\get_trap_final_damage_change ====> array (
  'vars' => '&$pa, &$pd, $tritm, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(479, $pd)) {
			$damage = dmg_round479($damage, 0);
		}
		return $damage;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill479/main.php',
)

Array\dmg_round479 ====> array (
  'vars' => '$dmg, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		$r_dmg = round($dmg/100)*100;
		if($r_dmg != $dmg) {
			if ($active) $log.="「口胡」使敌人受到的伤害由{$dmg}点变成了<span class=\\"yellow\\">{$r_dmg}</span>点！<br>";
			else $log.="「口胡」使你受到的伤害由{$dmg}点变成了<span class=\\"yellow\\">{$r_dmg}</span>点！<br>";
		}
		return $r_dmg;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill479/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL1000_INFO\',\'hidden;\');
		eval(import_module(\'cardbase\'));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/skill1000/main.php',
)

Array\acquire1000 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(1000,\'tno\',\'1\',$pa);
		\\skillbase\\skill_setvalue(1000,\'step\',\'10\',$pa);
		\\skillbase\\skill_setvalue(1000,\'prog\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/skill1000/main.php',
)

Array\lost1000 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/skill1000/main.php',
)

Array\check_unlocked1000 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/skill1000/main.php',
)

Array\check_process1000 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\'));
		if (!\\skillbase\\skill_query(1000)) {
			$log.=\'不存在教程技能，这可能是一个bug，请检查skill1000模块。\';
			return false;
		}
		return true;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/skill1000/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/kuji/kuji0/main.php',
)

Array\kujidraw0 ====> array (
  'vars' => '&$pa, $is_dryrun = false',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'cardbase\',\'kuji0\'));
		if ($pa[\'gold\']<100 && !$is_dryrun) return -1;
		$r=rand(1,$cw);
		if ($r<=$sw){
			$arr=$cardindex[\'S\'];
		}else if($r<=$aw){
			$arr=$cardindex[\'A\'];
		}else if($r<=$bw){
			$arr=$cardindex[\'B\'];
		}else{
			$arr=$cardindex[\'C\'];
		}
		$c=count($arr)-1;
		$r=$arr[rand(0,$c)];
		if (!$is_dryrun)
		{
			if ((\\cardbase\\get_card($r,$pa))==1){
				\\cardbase\\get_qiegao(-100,$pa);
				$pa[\'gold\']-=100;
			}else{
				\\cardbase\\get_qiegao(-70,$pa);
				$pa[\'gold\']-=70;
			}
		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/kuji/kuji0/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/kuji/kuji1/main.php',
)

Array\kujidraw1 ====> array (
  'vars' => '&$pa, $is_dryrun = false',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'cardbase\',\'kuji1\'));
		if ($pa[\'gold\']<1000 && !$is_dryrun) return -1;
		$rr=array();
		$r=rand(1,$cw);
		if ($r<=$sw){
			$arr=$cardindex[\'S\'];
		}else if($r<=$aw){
			$arr=$cardindex[\'A\'];
		}else{
			$arr=$cardindex[\'B\'];
		}
		$c=count($arr)-1;
		$r=$arr[rand(0,$c)];
		if (!$is_dryrun)
		{
			if ((\\cardbase\\get_card($r,$pa))!=1){
				\\cardbase\\get_qiegao(30,$pa);
				$pa[\'gold\']+=30;
			}
		}
		$rr[0]=$r;
		for ($i=1;$i<=10;$i++){
			$r=rand(1,$cw);
			if ($r<=$sw){
				$arr=$cardindex[\'S\'];
			}else if($r<=$aw){
				$arr=$cardindex[\'A\'];
			}else if($r<=$bw){
				$arr=$cardindex[\'B\'];
			}else{
				$arr=$cardindex[\'C\'];
			}
			$c=count($arr)-1;
			$r=$arr[rand(0,$c)];
			if (!$is_dryrun)
			{
				if ((\\cardbase\\get_card($r,$pa))==1){
					\\cardbase\\get_qiegao(-100,$pa);
					$pa[\'gold\']-=100;
				}else{
					\\cardbase\\get_qiegao(-70,$pa);
					$pa[\'gold\']-=70;
				}
			}
			$rr[$i]=$r;
		}		
		return $rr;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/kuji/kuji1/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/kuji/kuji2/main.php',
)

Array\kujidraw2 ====> array (
  'vars' => '&$pa, $is_dryrun = false',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'cardbase\',\'kuji2\'));
		if ($pa[\'gold\']<250 && !$is_dryrun) return -1;
		$r=rand(1,$cw);
		if ($r<=$sw){
			$arr=$cardindex[\'S\'];
		}else if($r<=$aw){
			$arr=$cardindex[\'A\'];
		}else if($r<=$bw){
			$arr=$cardindex[\'B\'];
		}else{
			$arr=$cardindex[\'C\'];
		}
		$c=count($arr)-1;
		$r=$arr[rand(0,$c)];
		if (!$is_dryrun)
		{
			if ((\\cardbase\\get_card($r,$pa))==1){
				\\cardbase\\get_qiegao(-250,$pa);
				$pa[\'gold\']-=250;
			}else{
				\\cardbase\\get_qiegao(-220,$pa);
				$pa[\'gold\']-=220;
			}
		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/kuji/kuji2/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL418_INFO\',\'card;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill418/main.php',
)

Array\acquire418 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill418/main.php',
)

Array\lost418 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill418/main.php',
)

Array\calc_qiegao_drop ====> array (
  'vars' => '&$pa,&$pd,&$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(418))&&($pd[\'type\']==90)) return ceil($chprocess($pa,$pd,$active)*1.5);
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill418/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/set_gametype/main.php',
)

Array\user_set_gamevars_list_init ====> array (
  'vars' => '$registered_gamevars = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		$registered_gamevars = $chprocess($registered_gamevars);
		$registered_gamevars[] = \'next_gametype\';
		return $registered_gamevars;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/set_gametype/main.php',
)

Array\reset_gametype ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\'));
		if(!$groomid){
			if(isset($gamevars[\'next_gametype\'])) {
				$gametype = (int)($gamevars[\'next_gametype\']);
				unset($gamevars[\'next_gametype\']);
			} elseif(0==$gametype) {
				$gametype = 4;
			} else {
				$gametype = 0;
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/set_gametype/main.php',
)

Array\user_display_gamevars_setting ====> array (
  'vars' => '$show = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\'));
		if(in_array($winmode, array(2,3,5,7))){











			$show[] = dump_template(MOD_SET_GAMETYPE_NEXT_GAMETYPE);
		}
		$ret = $chprocess($show);
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/set_gametype/main.php',
)

Array\user_set_gamevars_process ====> array (
  'vars' => '$gamevar_key,$gamevar_val,&$valid_gamevars',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$retlog = $chprocess($gamevar_key,$gamevar_val,$valid_gamevars);
		if(\'next_gametype\' == $gamevar_key) {
			eval(import_module(\'sys\'));
			$retlog = \'已将下一局游戏的\'.$gamevarsinfo[$gamevar_key].\'设定为\'.$gtinfo[$gamevar_val].\'。\';
			addnews(0,\'setnextgametype\', $winner, $gamevar_val);
		}
		return $retlog;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/set_gametype/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'setnextgametype\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}把下一局游戏设置为「{$gtinfo[$b]}」。</span></li>";
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/set_gametype/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL480_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[480] = \'泡沫\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill480/main.php',
)

Array\acquire480 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(480,\'activated\',0,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill480/main.php',
)

Array\lost480 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill480/main.php',
)

Array\check_unlocked480 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill480/main.php',
)

Array\skill480_activate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if(\\skillbase\\skill_getvalue(480,\'activated\')){
			$log .= \'<span class="red">本局游戏你已经发动过「泡沫」了！</span><br>\';
			$mode = \'command\';$command = \'\';
			return;
		}
		\\skillbase\\skill_setvalue(480,\'activated\',1);
		$log .= \'你发动了技能<span class="gold">「泡沫」</span><br>虽然你的钱包并没有变鼓，但你知道，在这个虚拟世界里，你已经富了整整一倍。<br>想到这里，你心里充满了幸福感<br>\';
		$money *= 2;
		addnews ( 0, \'bskill480\', $name);
		$mode = \'command\';$command = \'\';
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill480/main.php',
)

Array\skill480_post_activated_effect ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\'));
		if($hp>0 && \\skillbase\\skill_query(480) && \\skillbase\\skill_getvalue(480,\'activated\')){
			$money_loss = 50;
			if($money < $money_loss) $money_loss = $money;
			if($money_loss) $log .= \'<span class="red">「泡沫」</span>的余波让你的金钱减少了<span class="red">\'.$money_loss.\'</span>！<br>\';
			$money -= $money_loss;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill480/main.php',
)

Array\move ====> array (
  'vars' => '$moveto',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($moveto);
		skill480_post_activated_effect();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill480/main.php',
)

Array\search ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess();
		skill480_post_activated_effect();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill480/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'input\',\'logger\'));
	
		if ($mode == \'special\' && $command == \'skill480_activate\') 
		{
			if (!\\skillbase\\skill_query(480)) 
			{
				$log.=\'你没有这个技能。\';
				$mode = \'command\';$command = \'\';
				return;
			}
			skill480_activate();
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill480/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill480\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"gold\\">「泡沫」</span>，金钱数翻倍了。</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill480/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL1011_INFO\',\'active;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[1011] = \'具现\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1011/main.php',
)

Array\acquire1011 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1011/main.php',
)

Array\lost1011 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1011/main.php',
)

Array\check_unlocked1011 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1011/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1011/main.php',
)

Array\skill_onsave_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1011/main.php',
)

Array\skill1011_load_itemlist ====> array (
  'vars' => '$t',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'itemmain\',\'itemmix\',\'itemmix_sync\',\'itemmix_overlay\'));
		$r = array();
		if(99==$t || $t<=sizeof($plsinfo)-1){
			$itemfc = \\itemmain\\get_itemfilecont();
			foreach($itemfc as $ival){
				$ival = explode(\',\',$ival);
				if(isset($ival[1]) && $ival[1] == $t) $r[] = array
				(
					\'iarea\' => $ival[0],
					\'ipls\' => $ival[1],
					\'itm\' => $ival[3],
					\'itmk\' => $ival[4],
					\'itme\' => $ival[5],
					\'itms\' => $ival[6],
					\'itmsk\' => $ival[7]
				);
			}
		}elseif(\'mix\' == $t){







		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1011/main.php',
)

Array\skill1011_parse_itemwords ====> array (
  'vars' => '$ilist',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmain\'));
		$r = array();
		foreach($ilist as $iv){
			if(strpos($iv[\'itmk\'],\'P\')===0) $pflag = 1; else $pflag = 0;
			$iv[\'itmk\'] = \\itemmain\\parse_itmk_words($iv[\'itmk\']);
			if($pflag) $iv[\'itmk\'].=\'（毒）\';
			$iv[\'itmsk\'] = \\itemmain\\parse_itmsk_words($iv[\'itmsk\']);
			$r[] = $iv;
		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1011/main.php',
)

Array\skill1011_cons_page ====> array (
  'vars' => '$page',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'input\',\'logger\',\'map\'));
		
		
		if(2 == $page) {
			if(!isset($cons_pls)) {
				$log.=\'错误的地点指令。\';
				$mode = \'command\';$command = \'\';
				return;
			}
			global $cons_page,$itemlist,$cons_pls;
			$itemlist = skill1011_load_itemlist($cons_pls);
			$itemlist = skill1011_parse_itemwords($itemlist);
		}
		$cons_page = $page;
		include template(MOD_SKILL1011_CONS_PAGE);
		$cmd=ob_get_contents();
		ob_clean();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1011/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'input\'));
	
		if ($mode == \'special\' && $command == \'skill1011_special\') 
		{
			if (!\\skillbase\\skill_query(1011)) 
			{
				$log.=\'你没有这个技能。\';
				$mode = \'command\';$command = \'\';
				return;
			}
			if(!isset($subcmd)){
				$mode = \'command\';$command = \'\';
				return;
			}elseif(strpos($subcmd,\'cons_page\')===0) {
				$page = (int)str_replace(\'cons_page\',\'\',$subcmd);
				if(!$page) $page = 1;
				skill1011_cons_page($page);
				return;
			}elseif(strpos($subcmd,\'cons\')===0){
				$ciid = (int)str_replace(\'cons\',\'\',$subcmd);
				$itemlist = skill1011_load_itemlist($cons_pls);
				if(isset($itemlist[$ciid])){
					$item = $itemlist[$ciid];
					$itm0=$item[\'itm\'];
					$itmk0=$item[\'itmk\'];
					$itme0=$item[\'itme\'];
					$itms0=$item[\'itms\'];
					$itmsk0=$item[\'itmsk\'];
					addnews (0, \'admin_cons\', $name, $itm0 );
					\\itemmain\\itemget();
				}else{
					$log .= \'道具参数错误。\';
					$mode = \'command\';$command = \'\';
					return;
				}
			}else{
				$log .= \'命令参数错误。\';
				$mode = \'command\';$command = \'\';
				return;
			}
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1011/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'admin_cons\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}发动了技能「具现」，无中生有地创造了「{$b}」！（管理员{$a}宣告自己正在进行道具测试。）</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1011/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL1010_INFO\',\'active;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[1010] = \'降神\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1010/main.php',
)

Array\acquire1010 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1010/main.php',
)

Array\lost1010 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1010/main.php',
)

Array\check_unlocked1010 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1010/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1010/main.php',
)

Array\skill_onsave_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1010/main.php',
)

Array\skill1010_mani_load_pcs ====> array (
  'vars' => '$p',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		$p = (int)$p;
		$r = array();
		$result=$db->query("SELECT * FROM {$tablepre}players WHERE pls=\'$p\' AND pid != \'$pid\' ORDER BY type");
		while($pc = $db->fetch_array($result)){
			$r[$pc[\'pid\']] = $pc;
		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1010/main.php',
)

Array\skill1010_exma ====> array (
  'vars' => '$mpid',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'skillbase\'));
		$mpid = (int)$mpid;
		$mpdata = \\player\\fetch_playerdata_by_pid($mpid);
		if(\\skillbase\\skill_query(1010)) $flag1010 = 1;
		if(\\skillbase\\skill_query(1011)) $flag1011 = 1;
		if(empty($sdata[\'parameter_list\'])) $sdata[\'parameter_list\'] = array();
		if(empty($mpdata[\'parameter_list\'])) $mpdata[\'parameter_list\'] = array();
		$switch_list = array
		(
			\'club\',	\'hp\', \'mhp\', \'sp\', \'msp\', \'ss\', \'mss\', \'att\',	\'def\', \'lvl\', \'exp\',
			\'money\',	\'rage\',	\'wp\', \'wk\', \'wg\', \'wc\', \'wd\', \'wf\', \'acquired_list\', \'parameter_list\',
			\'wep\',	\'wepk\',	\'wepe\',	\'weps\',	\'wepsk\',
			\'arb\',	\'arbk\',	\'arbe\',	\'arbs\',	\'arbsk\',
			\'arh\',	\'arhk\',	\'arhe\',	\'arhs\',	\'arhsk\',
			\'arf\',	\'arfk\',	\'arfe\',	\'arfs\',	\'arfsk\',
			\'ara\',	\'arak\',	\'arae\',	\'aras\',	\'arask\',
			\'art\',	\'artk\',	\'arte\',	\'arts\',	\'artsk\',
			\'itm0\',	\'itmk0\',	\'itme0\',	\'itms0\',	\'itmsk0\',
			\'itm1\',	\'itmk1\',	\'itme1\',	\'itms1\',	\'itmsk1\',
			\'itm2\',	\'itmk2\',	\'itme2\',	\'itms2\',	\'itmsk2\',
			\'itm3\',	\'itmk3\',	\'itme3\',	\'itms3\',	\'itmsk3\',
			\'itm4\',	\'itmk4\',	\'itme4\',	\'itms4\',	\'itmsk4\',
			\'itm5\',	\'itmk5\',	\'itme5\',	\'itms5\',	\'itmsk5\',
			\'itm6\',	\'itmk6\',	\'itme6\',	\'itms6\',	\'itmsk6\'
		);
		foreach ($switch_list as $sval){
			swap($sdata[$sval], $mpdata[$sval]);
		}
		$acquired_list = $sdata[\'acquired_list\'];
		$parameter_list = $sdata[\'parameter_list\'];
		if($flag1010) {\\skillbase\\skill_acquire(1010);\\skillbase\\skill_lost(1010,$mpdata);}
		if($flag1011) {\\skillbase\\skill_acquire(1011);\\skillbase\\skill_lost(1011,$mpdata);}
		\\player\\player_save($mpdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1010/main.php',
)

Array\skill1010_mani_page ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'input\',\'logger\'));
		global $pcs;
		$pcs = skill1010_mani_load_pcs($pls);
		include template(MOD_SKILL1010_MANI_PAGE);
		$cmd=ob_get_contents();
		ob_clean();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1010/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'input\',\'logger\'));
	
		if ($mode == \'special\' && $command == \'skill1010_special\') 
		{
			if (!\\skillbase\\skill_query(1010)) 
			{
				$log.=\'你没有这个技能。\';
				$mode = \'command\';$command = \'\';
				return;
			}
			if(!isset($subcmd)){
				$mode = \'command\';$command = \'\';
				return;
			}elseif($subcmd == \'mani_page\') {
				skill1010_mani_page();
				return;
			}elseif($subcmd == \'meet\' || $subcmd == \'exma\'){
				$mpid = (int)$mpid;
				$pcs = skill1010_mani_load_pcs($pls);
				if(!isset($pcs[$mpid])) {
					$log .= \'该角色不在当前地图。\';
					$mode = \'command\';$command = \'\';
					return;
				}
				if($subcmd == \'meet\'){
					addnews (0, \'admin_mani\', $name, $pcs[$mpid][\'name\'] );
					\\metman\\meetman($mpid);
				}else{
					if(!$pcs[$mpid][\'type\']) {
						$log .= \'只能与NPC交换装备。\';
					}else{
						addnews (0, \'admin_exma\', $name, $pcs[$mpid][\'name\'] );
						skill1010_exma($mpid);
					}
					$mode = \'command\';$command = \'\';
					return;
				}
			}else{
				$log .= \'命令参数错误。\';
				$mode = \'command\';$command = \'\';
				return;
			}
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1010/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'admin_mani\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}发动了技能「降神」，直接传送到了「{$b}」面前！（管理员{$a}宣告自己正在进行战斗测试。）</span></li>";
		elseif($news == \'admin_exma\')
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}发动了技能「降神」，与「{$b}」交换了能力值和装备！（管理员{$a}宣告自己正在进行NPC测试。）</span></li>";
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/gmskills/skill1010/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL39_INFO\',\'club;upgrade;locked;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill39/main.php',
)

Array\acquire39 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'att\']+=200; $pa[\'def\']+=200;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill39/main.php',
)

Array\lost39 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill39/main.php',
)

Array\check_unlocked39 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill39/main.php',
)

Array\upgrade39 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\',\'input\'));
		if (!\\skillbase\\skill_query(39))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$skillpara1 = (int)$skillpara1;
		if ($skillpara1 <= 0)
		{
			$log.=\'技能点指令错误！<br>\';
			return;
		}
		if ($skillpoint<1 || $skillpoint < $skillpara1) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$att_dice = $skillpara1*7;
		$att += $att_dice;
		$def_dice = $skillpara1*11;
		$def += $def_dice;
		$log.=\'消耗了<span class="lime">\'.$skillpara1.\'</span>点技能点，你的攻击力提升了<span class="yellow">\'.$att_dice.\'</span>点，防御力提升了<span class="yellow">\'.$def_dice.\'</span>点。<br>\';
		$skillpoint-=$skillpara1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill39/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'lvlctl\'));
		if (\\skillbase\\skill_query(39,$pa)) 
		{
			$lvupatt += 2;	
			$lvupdef += rand(2,3);	
		}
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill39/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL29_INFO\',\'club;upgrade;locked;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill29/main.php',
)

Array\acquire29 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'hp\']+=200; $pa[\'mhp\']+=200;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill29/main.php',
)

Array\lost29 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill29/main.php',
)

Array\check_unlocked29 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill29/main.php',
)

Array\upgrade29 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\',\'input\'));
		if (!\\skillbase\\skill_query(29))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$skillpara1 = (int)$skillpara1;
		if ($skillpara1 <= 0)
		{
			$log.=\'技能点指令错误！<br>\';
			return;
		}
		if ($skillpoint<1 || $skillpoint < $skillpara1) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$dice = $skillpara1 * 6;
		$mhp += $dice; $hp += $dice;
		$log.=\'消耗了<span class="lime">\'.$skillpara1.\'</span>点技能点，你的生命上限提升了<span class="yellow">\'.$dice.\'</span>点。<br>\';
		$skillpoint-=$skillpara1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill29/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'lvlctl\'));
		if (\\skillbase\\skill_query(29,$pa)) $lvuphp += rand ( 6, 9 );
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill29/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL31_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill31/main.php',
)

Array\acquire31 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill31/main.php',
)

Array\lost31 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill31/main.php',
)

Array\check_unlocked31 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill31/main.php',
)

Array\get_edible_hpup ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(31,$pa)) return round($chprocess($theitem)*2.5);
		return $chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill31/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL421_INFO\',\'card;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill421/main.php',
)

Array\acquire421 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill421/main.php',
)

Array\lost421 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill421/main.php',
)

Array\check_unlocked421 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill421/main.php',
)

Array\get_edible_hpup ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(421,$pa)) return round($chprocess($theitem)*1.2);
		return $chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill421/main.php',
)

Array\get_edible_spup ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(421,$pa)) return round($chprocess($theitem)*1.2);
		return $chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill421/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL40_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[40] = \'活化\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill40/main.php',
)

Array\acquire40 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill40/main.php',
)

Array\lost40 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill40/main.php',
)

Array\check_unlocked40 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill40/main.php',
)

Array\attack_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(40,$pa) && check_unlocked40($pa))
		{
			$pa[\'att\']++;
		}
		if (\\skillbase\\skill_query(40,$pd) && check_unlocked40($pd))
		{
			$pd[\'def\']++;
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill40/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[1] = \'街头霸王\';
		$clublist[1] = Array(
			\'type\' => 0,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,11,12,	
				13,		
				32,35,36,37,38,34,
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club1/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[2] = \'见敌必斩\';
		$clublist[2] = Array(
			\'type\' => 0,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,11,12,	
				14,		
				207,75,208,209,210
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club2/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[3] = \'狙击鹰眼\';
		$clublist[3] = Array(
			\'type\' => 0,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,11,12,	
				15,		
				201,202,203,204,205,206,
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club3/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[4] = \'灌篮高手\';
		$clublist[4] = Array(
			\'type\' => 0,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,11,12,	
				16,		
				52,47,48,49,50,51,
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club4/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[5] = \'拆弹专家\';
		$clublist[5] = Array(
			\'type\' => 0,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,11,12,	
				17,		
				19,		
				20,		
				211,212,213,214,215,216,
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club5/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[9] = \'超能力者\';
		$clublist[9] = Array(
			\'type\' => 0,
			\'probability\' => 70, 
			\'skills\' => Array(
				10,11,12,	
				18,		
				65,73,76,74,
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club9/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[10] = \'高速成长\';
		$clublist[10] = Array(
			\'type\' => 1,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,11,12,
				225,
				226,228,229,
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club10/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[99] = \'第一形态\';
		$clublist[99] = Array(
			\'type\' => 1,
			\'probability\' => 0,
			\'skills\' => Array(
				21,		
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club99/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[17] = \'走路萌物\';
		$clublist[17] = Array(
			\'type\' => 1,
			\'probability\' => 0, 
			\'skills\' => Array(
				12,		
				22,		
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club17/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[20] = \'宝石骑士\';
		$clublist[20] = Array(
			\'type\' => 1,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,11,12,		
				54,23,24,25,26,27,		
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club20/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[13] = \'根性兄贵\';
		$clublist[13] = Array(
			\'type\' => 1,
			\'probability\' => 100, 
			\'skills\' => Array(
				29,11,12,		
				31,28,30,
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club13/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[14] = \'肌肉兄贵\';
		$clublist[14] = Array(
			\'type\' => 1,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,39,12,		
				44,40,45,43,41,42,46,
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club14/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/sklearn_util/main.php',
)

Array\sklearn_basecheck ====> array (
  'vars' => '$skillid',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (	defined(\'MOD_SKILL\'.$skillid.\'_INFO\') && 
			strpos(constant(\'MOD_SKILL\'.$skillid.\'_INFO\'),\'club;\')!==false && 
			strpos(constant(\'MOD_SKILL\'.$skillid.\'_INFO\'),\'locked;\')===false && 
			strpos(constant(\'MOD_SKILL\'.$skillid.\'_INFO\'),\'hidden;\')===false &&
			strpos(constant(\'MOD_SKILL\'.$skillid.\'_INFO\'),\'limited;\')===false)
				return 1;
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/sklearn_util/main.php',
)

Array\get_skilllearn_table ====> array (
  'vars' => '$callback_funcname',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'clubbase\'));
		echo \'<table border="0" cellSpacing=0 cellPadding=0 style="table-layout:fixed;" width="653px">\';
		echo \'<tr><td class="b1" width="80px">技能来源</td>\';
		
		$is_show_cost=$callback_funcname(\'show_cost\');
		$caller_id=$callback_funcname(\'caller_id\');
		
		for ($i=1; $i<=4; $i++) 
		{
			if ($is_show_cost)
				echo \'<td class="b1" width="40px">技能</td><td class="b1" width="20px">费</td><td class="b1" width="80px">操作</td>\';
			else  echo \'<td class="b1" width="60px">技能</td><td class="b1" width="80px">操作</td>\';
		}
		echo \'</tr>\';
		
		$___TEMP_tlis=Array();
		foreach ($clublist as $nowclub => $arr)
			if ($nowclub!=$club)
			{
				$lis=Array();
				foreach ($arr[\'skills\'] as $skillid)
					if (sklearn_basecheck($skillid))
						if ($callback_funcname(\'is_learnable\',$skillid))
							array_push($lis,$skillid);
				
				$sz=count($lis);
				if ($sz%4==0) $lz=4; else if ($sz%3==0) $lz=3; else if ($sz%4>=$sz%3) $lz=4; else $lz=3;
				$rz=floor($sz/$lz); $rz=(int)$rz; if ($sz%$lz!=0) $rz++;
				for ($i=0; $i<$rz; $i++)
				{
					echo \'<tr>\';
					if ($i==0) echo \'<td class="b1" rowspan=\'.$rz.\'>\'.$clubinfo[$nowclub].\'</td>\';
					$cz=$lz; if ($i==$rz-1 && $sz%$lz!=0) $cz=$sz%$lz;
					for ($j=0; $j<$cz; $j++)
					{
						$skillid=$lis[$i*$lz+$j];
						echo \'<td class="b3">\'.$clubskillname[$skillid].\'</td>\';
						if (\\skillbase\\skill_query($skillid))
						{
							if ($is_show_cost) echo \'<td class="b3"><span class="grey">∞</span></td>\';
							echo \'<td class="b3"><span class="grey">已经获得</span></td>\';
						}
						else
						{
							if ($is_show_cost)
							{
								$cost=$callback_funcname(\'query_cost\',$skillid);
								if ($cost>0)
									echo \'<td class="b3"><span class="lime">\'.$cost.\'</span></td>\';
								else  echo \'<td class="b3"><span class="grey">-</span></td>\';
							}
							echo \'<td class="b3"><span style="width:40px;" onmouseover="$(\\\'skl_util_\'.$caller_id.\'_skilllearn_\'.$skillid.\'\\\').style.display=\\\'block\\\'; $(\\\'skl_util_\'.$caller_id.\'_skilllearn_\'.$skillid.\'\\\').style.top=Number(jQuery(this).offset().top-jQuery(window).scrollTop()+10).toString()+\\\'px\\\'; $(\\\'skl_util_\'.$caller_id.\'_skilllearn_\'.$skillid.\'\\\').style.left=Number(jQuery(this).offset().left-jQuery(window).scrollLeft()+20\'.($j<3?\'\':\'-420\').\').toString()+\\\'px\\\'; " onmouseout="$(\\\'skl_util_\'.$caller_id.\'_skilllearn_\'.$skillid.\'\\\').style.display=\\\'none\\\';"><input type="button" style="width:38px" value="查看"></span>\';
							if ($callback_funcname(\'now_learnable\',$skillid))
								echo \'<span style="width:40px;"><input type="button" style="width:38px" onclick="$(\\\'mode\\\').value=\\\'special\\\';$(\\\'command\\\').value=\\\'skill\'.$caller_id.\'_special\\\';$(\\\'subcmd\\\').value=\\\'upgrade\\\';$(\\\'skillpara1\\\').value=\\\'\'.$skillid.\'\\\';postCmd(\\\'gamecmd\\\',\\\'command.php\\\');this.disabled=true;" value="学习"></span>\';
							else  echo \'<span style="width:40px;"><input type="button" style="width:38px" disabled="true" value="学习"></span>\';
							array_push($___TEMP_tlis,$skillid);
							echo \'</td>\';
						}
					}
					for ($j=$cz; $j<4; $j++) 
						if ($is_show_cost) 
							echo \'<td></td><td></td><td></td>\';
						else  echo \'<td></td><td></td>\';
					echo \'</tr>\';
				}
			}
		echo \'</table>\';
		
		$___TEMP_str=\'\';
		foreach ($___TEMP_tlis as $___TEMP_now_skillid)
		{
			echo \'<div id="skl_util_\'.$caller_id.\'_skilllearn_\'.$___TEMP_now_skillid.\'" style="width:420px;z-index:10000;position:fixed;display:none; filter:alpha(opacity=95); opacity:0.95; background-color:#000000">\';
			echo \'<table width=100% height=100%><tr id="skl_util_\'.$caller_id.\'_skilllearn_tabrow_\'.$___TEMP_now_skillid.\'">\';
			global $___TEMP_IN_SKLEARN_FLAG; $___TEMP_IN_SKLEARN_FLAG=1;
			ob_start();
			include template(constant(\'MOD_SKILL\'.$___TEMP_now_skillid.\'_DESC\'));
			$str=ob_get_contents();
			ob_end_clean();
			$i=strpos($str,\'_____TEMP_SKLEARN_START_FLAG_____\')+strlen(\'_____TEMP_SKLEARN_START_FLAG_____\');
			$j=strpos($str,\'_____TEMP_SKLEARN_END_FLAG_____\');
			echo substr($str,$i,$j-$i);
			unset($i); unset($j); unset($str);
			$___TEMP_IN_SKLEARN_FLAG=0;
			echo \'</tr></table>\';
			echo \'</div>\';
			$___TEMP_str.=\'$(\\\'skl_util_\'.$caller_id.\'_skilllearn_tabrow_\'.$___TEMP_now_skillid.\'\\\').deleteCell(1);\';
		}
		echo \'<img style="display:none;" type="hidden" src="img/blank.png" onload="\'.$___TEMP_str.\'">\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/sklearn_util/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[6] = \'宛如疾风\';
		$clublist[6] = Array(
			\'type\' => 1,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,11,12,
				248,251,253,252,255,254
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club6/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[8] = \'黑衣组织\';
		$clublist[8] = Array(
			\'type\' => 1,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,11,12,	
				217,218,219,220,221,222,223,224
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club8/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[7] = \'锡安成员\';
		$clublist[7] = Array(
			\'type\' => 1,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,11,12,
				230,231,232,233,235,234,236,237,238
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club7/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[11] = \'富家子弟\';
		$clublist[11] = Array(
			\'type\' => 1,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,11,12,	
				69,
				68,55,67,56,66,
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club11/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[19] = \'铁拳无敌\';
		$clublist[19] = Array(
			\'type\' => 1,
			\'probability\' => 40, 
			\'skills\' => Array(
				10,11,12,		
				256,258,257,260,259,262,263,261,	
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club19/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL58_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill58/main.php',
)

Array\acquire58 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		\\skillbase\\skill_setvalue(58,\'r\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill58/main.php',
)

Array\lost58 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(58,\'r\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill58/main.php',
)

Array\kill ====> array (
  'vars' => '&$pa, &$pd',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa,$pd);
		
		eval(import_module(\'sys\',\'logger\'));
		if (in_array($pd[\'state\'],Array(20,21,22,23,24,25,27,29,40,41)))
			if (\\skillbase\\skill_query(58,$pd) && ((int)\\skillbase\\skill_getvalue(58,\'r\',$pd))==0)
			{
				\\skillbase\\skill_setvalue(58,\'r\',\'1\',$pd);
				if ($pd[\'state\']==27 && !$pd[\'sourceless\'])	
				{
					$log.= "<span class=\\"lime\\">但是，由于你及时按下了BOMB键，你原地满血复活了！</span><br>";
					$w_log = "<span class=\\"lime\\">但是，由于{$pd[\'name\']}及时按下了BOMB键，其原地满血复活了！</span><br>";
					\\logger\\logsave ( $pa[\'pid\'], $now, $w_log ,\'b\');
				}
				else
				{
					
				}
				$pd[\'state\']=0; $pd[\'hp\']=$pd[\'mhp\'];
				$pd[\'skill58_flag\']=1;
				$deathnum--;
				if ($pd[\'type\']==0) $alivenum++;
				save_gameinfo();
				
				addnews ( $now, \'revival\', $pd[\'name\'] );
				
				$pd[\'mhp\']+=$pd[\'lvl\']*2; $pd[\'hp\']+=$pd[\'lvl\']*2;
				$pd[\'def\']+=$pd[\'lvl\']*5;
			}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill58/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa,$pd,$active);
		
		eval(import_module(\'sys\',\'logger\'));
		if (isset($pd[\'skill58_flag\']) && $pd[\'skill58_flag\'])
		{
			if ($active)
			{
				$log.=\'<span class="lime">但是，由于敌人及时按下了BOMB键，其原地满血复活了！</span><br>\';
				$pd[\'battlelog\'].=\'<span class="lime">但是，由于你及时按下了BOMB键，你原地满血复活了，</span>\';
			}
			else
			{
				$log.=\'<span class="lime">但是，由于你及时按下了BOMB键，你原地满血复活了！</span><br>\';
				$pd[\'battlelog\'].=\'<span class="lime">但是，由于敌人及时按下了BOMB键，其原地满血复活了，</span>\';
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill58/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'revival\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}因为及时按下了BOMB键而原地满血复活了！</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill58/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[24] = \'亡灵骑士\';
		$clublist[24] = Array(
			\'type\' => 1,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,11,12,		
				24,		
				58,		
				61,62,60,64,63,59,		
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club24/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL67_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[67] = \'理财\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill67/main.php',
)

Array\acquire67 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill67/main.php',
)

Array\lost67 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill67/main.php',
)

Array\check_unlocked67 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=11;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill67/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(67,$pa) && check_unlocked67($pa))
		{
			$pa[\'money\']+=($pa[\'club\']==11?200:150);
		}
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill67/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL68_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[68] = \'网购\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill68/main.php',
)

Array\acquire68 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill68/main.php',
)

Array\lost68 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill68/main.php',
)

Array\check_unlocked68 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill68/main.php',
)

Array\check_in_shop_area ====> array (
  'vars' => '$p',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(68)) return 1;
		return $chprocess($p);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill68/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[18] = \'天赋异秉\';
		$clublist[18] = Array(
			\'type\' => 1,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,11,12,
				70,
				72,71,77,
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club18/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL211_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[211] = \'潜行\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill211/main.php',
)

Array\acquire211 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(211,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill211/main.php',
)

Array\lost211 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill211/main.php',
)

Array\check_unlocked211 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill211/main.php',
)

Array\upgrade211 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill211\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(211))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(211,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(211,\'lvl\',$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill211/main.php',
)

Array\get_skill211_extra_hide_gain ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill211\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(211, $pa) || !check_unlocked211($pa)) return 0;
		
		$hidegainrate = $hidegain[\\skillbase\\skill_getvalue(211,\'lvl\',$pa)];
		return $hidegainrate;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill211/main.php',
)

Array\get_skill211_extra_act_gain ====> array (
  'vars' => '&$pa, &$pd',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill211\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(211, $pa) || !check_unlocked211($pa)) return 1;
		
		
		$actgainrate = $actgain[\\skillbase\\skill_getvalue(211,\'lvl\',$pa)];
		return 1+($actgainrate)/100;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill211/main.php',
)

Array\calculate_hide_obbs ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(211,$edata) || !check_unlocked211($edata)) return $chprocess($edata);
		return $chprocess($edata)+get_skill211_extra_hide_gain($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill211/main.php',
)

Array\calculate_active_obbs_multiplier ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(211,$ldata) || !check_unlocked211($ldata)) return $chprocess($ldata,$edata);
		return $chprocess($ldata,$edata)*get_skill211_extra_act_gain($ldata, $edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill211/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL212_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[212] = \'谨慎\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill212/main.php',
)

Array\acquire212 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(212,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill212/main.php',
)

Array\lost212 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill212/main.php',
)

Array\check_unlocked212 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill212/main.php',
)

Array\upgrade212 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill212\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(212))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(212,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(212,\'lvl\',$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill212/main.php',
)

Array\get_skill212_extra_ev_gain ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill212\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(212) || !check_unlocked212()) return 0;
		$hidegainrate = $hidegain[\\skillbase\\skill_getvalue(212,\'lvl\')];
		return $hidegainrate;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill212/main.php',
)

Array\get_skill212_extra_reuse_gain ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill212\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(212) || !check_unlocked212()) return 1;
		$reuserate = $reugain[\\skillbase\\skill_getvalue(212,\'lvl\')];
		return $reuserate;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill212/main.php',
)

Array\get_trap_escape_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(212)) return $chprocess()+get_skill212_extra_ev_gain(); else return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill212/main.php',
)

Array\calculate_trap_reuse_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(212)) return $chprocess()+get_skill212_extra_reuse_gain(); else return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill212/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL214_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[214] = \'专注\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill214/main.php',
)

Array\acquire214 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(214,\'choice\',\'2\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill214/main.php',
)

Array\lost214 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(214,\'choice\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill214/main.php',
)

Array\check_unlocked214 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill214/main.php',
)

Array\upgrade214 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(214) || !check_unlocked214($sdata))
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}
		eval(import_module(\'input\'));
		$val = (int)$skillpara1;
		if ($val<1 || $val>3)
		{
			$log .= \'参数不合法。<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(214,\'choice\',$val);
		$log.=\'设置成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill214/main.php',
)

Array\calculate_itemfind_obbs_multiplier ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(214) || !check_unlocked214()) return $chprocess();
		$choice = \\skillbase\\skill_getvalue(214,\'choice\');
		if ($choice==3) return 1.15*$chprocess();
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill214/main.php',
)

Array\calculate_meetman_rate ====> array (
  'vars' => '$schmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(214) || !check_unlocked214()) return $chprocess($schmode);
		$choice = \\skillbase\\skill_getvalue(214,\'choice\');
		if ($choice==1) return 1.15*$chprocess($schmode);
		return $chprocess($schmode);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill214/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL232_INFO\',\'club;upgrade;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[232] = \'力场\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill232/main.php',
)

Array\acquire232 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(232,\'lvl\',\'0\',$pa);
		\\skillbase\\skill_setvalue(232,\'lastuse\',-3000,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill232/main.php',
)

Array\lost232 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill232/main.php',
)

Array\check_unlocked232 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill232/main.php',
)

Array\upgrade232 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill232\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(232))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(232,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(232,\'lvl\',$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill232/main.php',
)

Array\activate232 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill232\',\'player\',\'logger\',\'sys\'));
		\\player\\update_sdata();
		if (!\\skillbase\\skill_query(232) || !check_unlocked232($sdata))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$st = check_skill232_state($sdata);
		if ($st==0){
			$log.=\'你不能使用这个技能！<br>\';
			return;
		}
		if ($st==2){
			$log.=\'技能冷却中！<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(232,\'lastuse\',$now);
		$clv=\\skillbase\\skill_getvalue(232,\'lvl\');
		$sc = $shieldgain[$clv];
		if ($hp<($mhp+$sc)) $hp=$mhp+$sc;
		addnews ( 0, \'bskill232\', $name );
		$log.=\'<span class="lime">技能「力场」发动成功。</span><br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill232/main.php',
)

Array\check_skill232_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(232, $pa) || !check_unlocked232($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill232\'));
		$l=\\skillbase\\skill_getvalue(232,\'lastuse\',$pa);
		$clv = (int)\\skillbase\\skill_getvalue(232,\'lvl\',$pa);
		if (($now-$l)<=$skill232_cd[$clv]) return 2;
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill232/main.php',
)

Array\apply_total_damage_modifier_down ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(232,$pd) && $pd[\'hp\']>$pd[\'mhp\'])
		{
			eval(import_module(\'logger\',\'skill232\'));
			$clv = (int)\\skillbase\\skill_getvalue(232,\'lvl\',$pd);
			$v=$shieldeff[$clv];
			$log.=\'力场护盾使你受到的伤害降低了<span class="yellow">\'.$v.\'</span>点！<br>\';
			$pa[\'dmg_dealt\']=max($pa[\'dmg_dealt\']-$v,1);
		}
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill232/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(232,$sdata))&&check_unlocked232($sdata))
		{
			eval(import_module(\'skill232\'));
			$skill232_lst = (int)\\skillbase\\skill_getvalue(232,\'lastuse\'); 
			$skill232_time = $now-$skill232_lst; 
			$clv = (int)\\skillbase\\skill_getvalue(232,\'lvl\');
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「力场」\',
				\'activate_hint\' => \'点击发动技能「力场」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill232_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill232_time<$skill232_cd[$clv])
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill232_cd[$clv];
				$z[\'nowsec\']=$skill232_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill232.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill232/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill232\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「力场」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill232/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL233_INFO\',\'club;hidden;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[233] = \'网瘾\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill233/main.php',
)

Array\acquire233 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill233/main.php',
)

Array\lost233 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill233/main.php',
)

Array\calculate_hack_proc_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'item_uee\'));
		if (\\skillbase\\skill_query(233)) return 95;
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill233/main.php',
)

Array\post_hack_events ====> array (
  'vars' => '$itmn = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if (\\skillbase\\skill_query(233)) return;
		$chprocess($itmn);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill233/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL234_INFO\',\'club;active;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[234] = \'破解\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill234/main.php',
)

Array\acquire234 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(234,\'lvl\',0,$pa);
		\\skillbase\\skill_setvalue(234,\'cur1\',0,$pa);
		\\skillbase\\skill_setvalue(234,\'cur2\',1,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill234/main.php',
)

Array\lost234 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(234,\'lvl\',$pa);
		\\skillbase\\skill_delvalue(234,\'cur1\',$pa);
		\\skillbase\\skill_delvalue(234,\'cur2\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill234/main.php',
)

Array\check_unlocked234 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill234/main.php',
)

Array\wdecode ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\',\'skill234\',\'skillbase\',\'map\'));
		if(\\skillbase\\skill_query(234)){
			$req1=$goal234[\\skillbase\\skill_getvalue(234,\'cur1\')];
			$req2=$goal234[\\skillbase\\skill_getvalue(234,\'cur2\')];
			$clv=\\skillbase\\skill_getvalue(234,\'lvl\');
			$position = 0;
			foreach(Array(1,2,3,4,5,6) as $imn){
				global ${\'itm\'.$imn},${\'itmk\'.$imn},${\'itme\'.$imn},${\'itms\'.$imn},${\'itmsk\'.$imn};
				if((${\'itm\'.$imn}==$req1)||(${\'itm\'.$imn}==$req2)){
					$position = $imn;
					break;
				}
			}
			if($position){
				$itm = ${\'itm\'.$position};
				$log .= "<span class=\\"yellow\\">破解成功。</span><br />";
				$log .= "<span class=\\"red\\">$itm</span>用光了。<br />";
				addnews ( 0, \'skill234\', $name, $clv+1);
				${\'itm\'.$position} = ${\'itmk\'.$position} = ${\'itmsk\'.$position} = \'\';
				${\'itme\'.$position} =${\'itms\'.$position} =0;
				if ($clv==50){
					$log .="<span class=\\"evergreen\\">游戏系统已经完全破解。</span><br />";
					${\'itm\'.$position} = \'游戏解除钥匙\';
					${\'itmk\'.$position} = \'Y\';
					${\'itmsk\'.$position} = \'Z\';
					${\'itme\'.$position} =1;
					${\'itms\'.$position} =1;
					\\skillbase\\skill_lost(234);
					
					if ((($areanum/$areaadd)<4)&&(!in_array($gametype,$qiegao_ignore_mode))){
						if (\\cardbase\\get_card(63)==1){
							$log.="恭喜您获得了活动奖励卡<span class=\\"orange\\">lemon</span>！<br>";
						}else{
							$log.="您已经拥有活动奖励卡了，系统奖励您<span class=\\"yellow\\">500</span>切糕！<br>";
							\\cardbase\\get_qiegao(500);
						}
					}
					
					$mode = \'command\';
					return;
				}
				$gdice=rand(1,4);
				if ($clv<5){
					if ($gdice==1){
						$exp+=10;
						$log .="<span class=\\"yellow\\">获得了10点经验值。</span><br />";
					}
					if ($gdice==2){
						$att+=10;
						$log .="<span class=\\"yellow\\">获得了10点基础攻击。</span><br />";
					}
					if ($gdice==3){ 
						$def+=10;
						$log .="<span class=\\"yellow\\">获得了10点基础防御。</span><br />";
					}if ($gdice==4){
						$wp+=10;$wk+=10;$wc+=10;$wd+=10;$wg+=10;$wf+=10;
						$log .="<span class=\\"yellow\\">获得了10点全熟练。</span><br />";
					}					
				}else if ($clv<20){
					if ($gdice==1){
						$money+=200;
						$log .="<span class=\\"yellow\\">获得了180元。</span><br />";
					}
					if ($gdice==2){
						$mhp+=7;
						$log .="<span class=\\"yellow\\">生命上限提高了7点。</span><br />";
					}
					if ($gdice==3){
						$att+=10;$def+=10;
						$log .="<span class=\\"yellow\\">基础攻防提高了10点。</span><br />";
					}
					if ($gdice==4){
						$wp+=10;$wk+=10;$wc+=10;$wd+=10;$wg+=10;$wf+=10;
						$log .="<span class=\\"yellow\\">获得了10点全熟练。</span><br />";
					}		
				}else{
					if ($gdice==1){
						$money+=320;
						$log .="<span class=\\"yellow\\">获得了320元。</span><br />";
					}
					if ($gdice==2){
						$mhp+=12;
						$log .="<span class=\\"yellow\\">生命上限提高了12点。</span><br />";
					}
					if ($gdice==3){
						$att+=15;$def+=15;
						$log .="<span class=\\"yellow\\">基础攻防提高了15点。</span><br />";
					}
					if ($gdice==4){
						$wp+=13;$wk+=13;$wc+=13;$wd+=13;$wg+=13;$wf+=13;
						$log .="<span class=\\"yellow\\">获得了13点全熟练。</span><br />";
					}		
				}
				$clv++;
				$t=count($goal234)-1;
				if ($clv<10) $t=19;
				if ($clv<5) $t=9;
				$nx=rand(0,$t);
				$ed=$goal234[$nx];
				$log .="下次破解需要物品<span class=\\"yellow\\">{$ed}</span>或";
				\\skillbase\\skill_setvalue(234,\'cur1\',$nx);	
				$nx1=rand(0,$t);
				while ($nx1==$nx) $nx1=rand(0,$t);
				$ed=$goal234[$nx1];
				$log .="<span class=\\"yellow\\">{$ed}</span>。<br />";
				\\skillbase\\skill_setvalue(234,\'cur2\',$nx1);				
				\\skillbase\\skill_setvalue(234,\'lvl\',$clv);
				$mode = \'command\';
				return;
			}else{
				$log .= "你没有进行破解所需的物品。<br />";
				$mode = \'command\';
				return;
			}
		}else{
			$log .= \'<span class="red">你没有这个技能！</span><br />\';
			$mode = \'command\';
			return;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill234/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\'));
	
		if ($mode == \'special\' && $command == \'skill234_special\' && $subcmd==\'wdecode\') 
		{
			wdecode();
			return;
		}
			
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill234/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'skill234\') 
			if ($b==51)
				return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"evergreen\\">{$a}完成了对幻境系统的破解</span></li>";
			else
				return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}完成了第{$b}次<span class=\\"yellow\\">「破解」</span>尝试</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill234/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL235_INFO\',\'club;active;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[235] = \'探测\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill235/main.php',
)

Array\acquire235 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill235/main.php',
)

Array\lost235 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill235/main.php',
)

Array\check_unlocked235 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill235/main.php',
)

Array\wscan ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'skill235\'));
		if(\\skillbase\\skill_query(235)){
			$lv=(int)\\skillbase\\skill_getvalue(235,\'lvl\');
			if ($skillpoint>0 || $lv==1){
				if ($lv!=1) $skillpoint--;
				\\radar\\newradar(2);
			}else{
				$log .= \'<span class="red">你的技能点不足，不能发动技能！</span><br />\';
				$mode = \'command\';
				return;
			}
		}else{
			$log .= \'<span class="red">你没有这个技能！</span><br />\';
			$mode = \'command\';
			return;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill235/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\'));
	
		if ($mode == \'special\' && $command == \'skill235_special\' && $subcmd==\'wscan\') 
		{
			wscan();
			return;
		}
			
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill235/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL420_INFO\',\'card;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[420] = \'结晶\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill420/main.php',
)

Array\acquire420 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill420\'));
		\\skillbase\\skill_setvalue(420,\'lastuse\',0,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill420/main.php',
)

Array\lost420 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill420/main.php',
)

Array\check_unlocked420 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill420/main.php',
)

Array\activate420 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill420\',\'player\',\'logger\',\'sys\',\'itemmain\'));
		\\player\\update_sdata();
		if (!\\skillbase\\skill_query(420) || !check_unlocked420($sdata))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$st = check_skill420_state($sdata);
		if ($st==0){
			$log.=\'你不能使用这个技能！<br>\';
			return;
		}
		if ($skillpoint<1){
			$log.=\'你需要消耗1个技能点来发动这个技能！<br>\';
			return;
		}
		if ($st==2){
			$log.=\'技能冷却中！<br>\';
			return;
		}
		$skillpoint--;
		\\skillbase\\skill_setvalue(420,\'lastuse\',$now);
		addnews ( 0, \'bskill420\', $name );
		$r=rand(0,9);
		if ($r==9)
			$log.=\'<span class="yellow">“咕咕咕！”</span><span class="lime">技能「结晶」发动……成功？</span><br>\';
		else
			$log.=\'<span class="lime">技能「结晶」发动成功。</span><br>\';
		
		$nl=array(\'红色方块\',\'黄色方块\',\'蓝色方块\',\'绿色方块\',\'金色方块\',\'银色方块\',\'水晶方块\',\'黑色方块\',\'白色方块\',\'黄鸡方块\');
		$itm0=$nl[$r];
		$itme0=1;$itms0=1;$itmsk0=\'\';$itmk0=\'X\';
		\\itemmain\\itemget();	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill420/main.php',
)

Array\check_skill420_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(420, $pa) || !check_unlocked420($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill420\'));
		$l=\\skillbase\\skill_getvalue(420,\'lastuse\',$pa);
		if (($now-$l)<=$skill420_cd) return 2;
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill420/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(420,$sdata))&&check_unlocked420($sdata))
		{
			eval(import_module(\'skill420\'));
			$skill420_lst = (int)\\skillbase\\skill_getvalue(420,\'lastuse\'); 
			$skill420_time = $now-$skill420_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「结晶」\',
				\'activate_hint\' => \'点击发动技能「结晶」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill420_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill420_time<$skill420_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill420_cd;
				$z[\'nowsec\']=$skill420_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill420.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill420/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill420\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「结晶」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill420/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL424_INFO\',\'club;active;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[424] = \'除错\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill424/main.php',
)

Array\acquire424 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(424,\'lvl\',0,$pa);
		\\skillbase\\skill_setvalue(424,\'cur1\',0,$pa);
		\\skillbase\\skill_setvalue(424,\'cur2\',1,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill424/main.php',
)

Array\lost424 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(424,\'lvl\',$pa);
		\\skillbase\\skill_delvalue(424,\'cur1\',$pa);
		\\skillbase\\skill_delvalue(424,\'cur2\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill424/main.php',
)

Array\check_unlocked424 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill424/main.php',
)

Array\wdebug ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\',\'skill424\',\'skillbase\',\'map\'));
		if(\\skillbase\\skill_query(424)){
			$req1=$goal424[\\skillbase\\skill_getvalue(424,\'cur1\')];
			$req2=$goal424[\\skillbase\\skill_getvalue(424,\'cur2\')];
			$clv=\\skillbase\\skill_getvalue(424,\'lvl\');
			$position = 0;
			foreach(Array(1,2,3,4,5,6) as $imn){
				global ${\'itm\'.$imn},${\'itmk\'.$imn},${\'itme\'.$imn},${\'itms\'.$imn},${\'itmsk\'.$imn};
				if((${\'itm\'.$imn}==$req1)||(${\'itm\'.$imn}==$req2)){
					$position = $imn;
					break;
				}
			}
			if($position){
				$itm = ${\'itm\'.$position};
				$log .= "<span class=\\"yellow\\">除错成功。</span><br />";
				$log .= "<span class=\\"red\\">$itm</span>用光了。<br />";
				addnews ( 0, \'skill424\', $name, $clv+1);
				${\'itm\'.$position} = ${\'itmk\'.$position} = ${\'itmsk\'.$position} = \'\';
				${\'itme\'.$position} =${\'itms\'.$position} =0;
				$gdice=rand(1,3);
				$money+=200;
				$skillpoint++;
				$log .="<span class=\\"yellow\\">获得了200元和1个技能点。</span><br />";
				if ($gdice==1){
					$wp+=10;$wk+=10;$wc+=10;$wd+=10;$wg+=10;$wf+=10;
					$log .="<span class=\\"yellow\\">获得了10点全熟练。</span><br />";
				}
				if ($gdice==2){
					$att+=10;$def+=10;
					$log .="<span class=\\"yellow\\">获得了10点基础攻防。</span><br />";
				}	
				if ($gdice==3){
					$mhp+=10;$msp+=10;$hp+=10;$sp+=10;
					$log .="<span class=\\"yellow\\">获得了10点命体上限。</span><br />";
				}
				$clv++;
				$t=635;
				$nx=rand(0,$t);
				$ed=$goal424[$nx];
				$log .="下次除错需要物品<span class=\\"yellow\\">{$ed}</span>或";
				\\skillbase\\skill_setvalue(424,\'cur1\',$nx);	
				$nx1=rand(0,$t);
				while ($nx1==$nx) $nx1=rand(0,$t);
				$ed=$goal424[$nx1];
				$log .="<span class=\\"yellow\\">{$ed}</span>。<br />";
				\\skillbase\\skill_setvalue(424,\'cur2\',$nx1);				
				\\skillbase\\skill_setvalue(424,\'lvl\',$clv);
				$mode = \'command\';
				return;
			}else{
				$log .= "本次除错需要物品<span class=\\"yellow\\">$req1</span>或<span class=\\"yellow\\">$req2</span>。你没有进行除错所需的物品。<br />";
				$mode = \'command\';
				return;
			}
		}else{
			$log .= \'<span class="red">你没有这个技能！</span><br />\';
			$mode = \'command\';
			return;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill424/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\'));
	
		if ($mode == \'special\' && $command == \'skill424_special\' && $subcmd==\'wdebug\') 
		{
			wdebug();
			return;
		}
			
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill424/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'skill424\') 
				return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}完成了第{$b}次<span class=\\"yellow\\">「除错」</span>尝试</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill424/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL426_INFO\',\'club;upgrade;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[426] = \'整备\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill426/main.php',
)

Array\acquire426 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(426,\'lvl\',\'0\',$pa);
		\\skillbase\\skill_setvalue(426,\'lastuse\',-3000,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill426/main.php',
)

Array\lost426 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill426/main.php',
)

Array\check_unlocked426 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill426/main.php',
)

Array\upgrade426 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill426\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(426))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(426,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(426,\'lvl\',$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill426/main.php',
)

Array\activate426 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill426\',\'player\',\'logger\',\'sys\'));
		\\player\\update_sdata();
		if (!\\skillbase\\skill_query(426) || !check_unlocked426($sdata))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$st = check_skill426_state($sdata);
		if ($st==0){
			$log.=\'你不能使用这个技能！<br>\';
			return;
		}
		if ($st==2){
			$log.=\'技能冷却中！<br>\';
			return;
		}
		if (($hp>=$mhp)&&($sp>=$msp)){
			$log.=\'你的生命和体力都不需要恢复。<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(426,\'lastuse\',$now);
		$hp=max($hp,$mhp);$sp=max($sp,$msp);
		$log.=\'<span class="lime">技能「整备」发动成功。</span><br>\';
		$log.=\'<span class="lime">生命和体力已恢复到最大。</span><br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill426/main.php',
)

Array\check_skill426_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(426, $pa) || !check_unlocked426($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill426\'));
		$l=\\skillbase\\skill_getvalue(426,\'lastuse\',$pa);
		$v=\\skillbase\\skill_getvalue(426,\'clv\',$pa);
		if (($now-$l)<=$skill426_cd[$v]) return 2;
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill426/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(426,$sdata))&&check_unlocked426($sdata))
		{
			eval(import_module(\'skill426\'));
			$skill426_lst = (int)\\skillbase\\skill_getvalue(426,\'lastuse\'); 
			$skill426_clv = (int)\\skillbase\\skill_getvalue(426,\'lvl\'); 
			$skill426_time = $now-$skill426_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「整备」\',
				\'activate_hint\' => \'点击发动技能「整备」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill426_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill426_time<$skill426_cd[$skill426_clv])
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill426_cd[$skill426_clv];
				$z[\'nowsec\']=$skill426_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill426.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill426/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL428_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[428] = \'阴谋\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill428/main.php',
)

Array\acquire428 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(428,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill428/main.php',
)

Array\lost428 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill428/main.php',
)

Array\check_unlocked428 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill428/main.php',
)

Array\upgrade428 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill428\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(428))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(428,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(428,\'lvl\',$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill428/main.php',
)

Array\get_skill428_dmg_gain ====> array (
  'vars' => '$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill428\',\'player\'));
		if (!\\skillbase\\skill_query(428,$pa)) return 1;
		$rate = $dmggain[\\skillbase\\skill_getvalue(428,\'lvl\',$pa)];
		return (1+$rate/100);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill428/main.php',
)

Array\get_trap_damage ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'skill428\'));
		if (is_numeric($itmsk0)){
			$wdata=\\player\\fetch_playerdata_by_pid($itmsk0);
			if ((\\skillbase\\skill_query(428,$wdata))){
				$var_428=get_skill428_dmg_gain($wdata);
				return round($var_428*$chprocess());
			}
		}
		
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill428/main.php',
)

Array\kill ====> array (
  'vars' => '&$pa, &$pd',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'logger\',\'skill428\'));
		
		if (($gametype==1)&&($pd[\'state\']==27)&&($pa[\'type\']==0) && (\\skillbase\\skill_query(428,$pa))){
			$clv = \\skillbase\\skill_getvalue(428,\'lvl\',$pa);
			$pa[\'skillpoint\']+=$skptbonus[$clv];	
			if (\\skillbase\\skill_query(424,$pd)){	
				$lv=\\skillbase\\skill_getvalue(424,\'lvl\',$pd); 
				$lv-=$extralvllost[$clv]; 
				if ($lv<0) $lv=0;
				\\skillbase\\skill_setvalue(424,\'lvl\',$lv,$pd); 
			}
		}
		$chprocess($pa,$pd);	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill428/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL429_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[429] = \'谨慎\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill429/main.php',
)

Array\acquire429 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(429,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill429/main.php',
)

Array\lost429 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill429/main.php',
)

Array\check_unlocked429 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill429/main.php',
)

Array\upgrade429 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill429\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(429))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(429,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(429,\'lvl\',$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill429/main.php',
)

Array\get_skill429_dmg ====> array (
  'vars' => '$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill429\',\'player\'));
		if (!\\skillbase\\skill_query(429,$pa)) return 100;
		$rate = $dmglimit[\\skillbase\\skill_getvalue(429,\'lvl\',$pa)];
		return $rate;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill429/main.php',
)

Array\apply_total_damage_modifier_down ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(429,$pa) || !check_unlocked429($pa)) return $chprocess($pa,$pd,$active);
		$var_429=get_skill429_dmg($pa);
		if (($var_429>0)&&($var_429<100)){
			$d429=round($pd[\'mhp\']*$var_429/100);
			if ($pa[\'dmg_dealt\']>$d429){
				$pa[\'dmg_dealt\']=$d429;
				eval(import_module(\'logger\'));
				if ($active) $log .= "<span class=\\"yellow\\">你造成的伤害被限制为<span class=\\"red\\">{$d429}</span>点。</span><br>";
				else $log .= "<span class=\\"yellow\\">敌人造成的伤害被限制为<span class=\\"red\\">{$d429}</span>点。</span><br>";
			}
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill429/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL430_INFO\',\'card;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[430] = \'搬运\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill430/main.php',
)

Array\acquire430 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill430\'));
		\\skillbase\\skill_setvalue(430,\'lastuse\',-3000,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill430/main.php',
)

Array\lost430 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill430/main.php',
)

Array\check_unlocked430 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill430/main.php',
)

Array\activate430 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill430\',\'player\',\'logger\',\'sys\',\'itemmain\'));
		\\player\\update_sdata();
		if (!\\skillbase\\skill_query(430) || !check_unlocked430($sdata))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$st = check_skill430_state($sdata);
		if ($st==0){
			$log.=\'你不能使用这个技能！<br>\';
			return;
		}
		if ($st==2){
			$log.=\'技能冷却中！<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(430,\'lastuse\',$now);
		
		$file=GAME_ROOT."./include/modules/base/itemmain/config/mapitem.config.php";
		$itemlist = openfile($file);
		$in = sizeof($itemlist);
		$i=rand(4,$in-1);
		list($iarea,$imap,$inum,$iname,$ikind,$ieff,$ista,$iskind) = explode(\',\',$itemlist[$i]);
		while (strpos($iskind,"x")!==false){
			$i=rand(4,$in-1);
			list($iarea,$imap,$inum,$iname,$ikind,$ieff,$ista,$iskind) = explode(\',\',$itemlist[$i]);
		}
		$itm0=$iname;$itme0=$ieff;$itms0=$ista;$itmsk0=$iskind;$itmk0=$ikind;
		addnews ( 0, \'bskill430\', $name,$iname );
		\\itemmain\\itemget();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill430/main.php',
)

Array\check_skill430_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(430, $pa) || !check_unlocked430($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill430\'));
		$l=\\skillbase\\skill_getvalue(430,\'lastuse\',$pa);
		if (($now-$l)<=$skill430_cd) return 2;
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill430/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(430,$sdata))&&check_unlocked430($sdata))
		{
			eval(import_module(\'skill430\'));
			$skill430_lst = (int)\\skillbase\\skill_getvalue(430,\'lastuse\'); 
			$skill430_time = $now-$skill430_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「搬运」\',
				\'activate_hint\' => \'点击发动技能「搬运」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill430_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill430_time<$skill430_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill430_cd;
				$z[\'nowsec\']=$skill430_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill430.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill430/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill430\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「搬运」</span>，获得了<span class=\\"yellow\\">{$b}</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill430/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'clubbase\'));
		$clubinfo[21] = \'最强大脑\';
		$clublist[21] = Array(
			\'type\' => 1,
			\'probability\' => 100, 
			\'skills\' => Array(
				10,11,12,		
				239,240,241,242,243,244,
			)
		);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/clubs/club21/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL240_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[240] = \'洞察\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill240/main.php',
)

Array\acquire240 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill240/main.php',
)

Array\lost240 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill240/main.php',
)

Array\check_unlocked240 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill240/main.php',
)

Array\calculate_real_trap_obbs ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(240))
			return $chprocess()*0.85;
		else  return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill240/main.php',
)

Array\calculate_active_obbs_multiplier ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = 1;
		if (\\skillbase\\skill_query(240,$ldata) && check_unlocked240($ldata)) $r*=1.08;
		if (\\skillbase\\skill_query(240,$edata) && check_unlocked240($edata)) $r/=1.08;
		return $chprocess($ldata,$edata)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill240/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL241_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[241] = \'推广\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill241/main.php',
)

Array\acquire241 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill241/main.php',
)

Array\lost241 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill241/main.php',
)

Array\check_unlocked241 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill241/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa);
		eval(import_module(\'lvlctl\'));
		if (\\skillbase\\skill_query(241,$pa) && rand(0,99)<50) $lvupskpt++;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill241/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL247_INFO\',\'card;club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[247] = \'挖坑\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill247/main.php',
)

Array\acquire247 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill247\'));
		\\skillbase\\skill_setvalue(247,\'lastuse\',-3000,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill247/main.php',
)

Array\lost247 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill247/main.php',
)

Array\check_unlocked247 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill247/main.php',
)

Array\check_skill247_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(247, $pa) || !check_unlocked247($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill247\'));
		$l=\\skillbase\\skill_getvalue(247,\'lastuse\',$pa);
		if (($now-$l)<=$skill247_cd) return 2;
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill247/main.php',
)

Array\get_skill247_trap_eff ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		$skill247_lst = (int)\\skillbase\\skill_getvalue(247,\'lastuse\'); 
		$skill247_time = $now-$skill247_lst; 
		return round(min($skill247_time/60,3)*$att);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill247/main.php',
)

Array\activate247 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill247\',\'player\',\'logger\',\'sys\'));
		\\player\\update_sdata();
		if (!\\skillbase\\skill_query(247) || !check_unlocked247($sdata))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$st = check_skill247_state($sdata);
		if ($st==0){
			$log.=\'你不能使用这个技能！<br>\';
			return;
		}
		if ($st==1){
			$log.=\'你已经发动过这个技能了！<br>\';
			return;
		}
		if ($st==2){
			$log.=\'技能冷却中！<br>\';
			return;
		}
		$trapitem=Array(
			\'itm\' => \'毒性【AC大逃杀革新企划书】\',
			\'itmk\' => \'TO\',
			\'itme\' => get_skill247_trap_eff(),
			\'itms\' => 2,
			\'itmsk\' => \'\'
		);
		addnews ( 0, \'bskill247\', $name );
		\\trap\\trap_use($trapitem); \\trap\\trap_use($trapitem);
		$log.=\'<span class="lime">技能「挖坑」发动成功。</span><br>\';
		\\skillbase\\skill_setvalue(247,\'lastuse\',$now);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill247/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(247,$sdata))&&check_unlocked247($sdata))
		{
			eval(import_module(\'skill247\'));
			$skill247_lst = (int)\\skillbase\\skill_getvalue(247,\'lastuse\'); 
			$skill247_time = $now-$skill247_lst; 
			$sk247_eff = get_skill247_trap_eff();
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「挖坑」\',
				\'activate_hint\' => \'点击发动技能「挖坑」<br>在当前地图布设2个\'.$sk247_eff.\'效果的毒性陷阱\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill247_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill247_time<$skill247_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill247_cd;
				$z[\'nowsec\']=$skill247_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill247.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill247/main.php',
)

Array\get_traplist ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(247)) return $chprocess();
		eval(import_module(\'sys\',\'player\'));
		return $db->query("SELECT * FROM {$tablepre}maptrap WHERE pls = \'$pls\' AND itmsk <> \'$pid\' ORDER BY itmk DESC");
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill247/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill247\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「挖坑」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill247/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL454_INFO\',\'card;card;locked;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[454] = \'团购\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill454/main.php',
)

Array\acquire454 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill454/main.php',
)

Array\lost454 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill454/main.php',
)

Array\check_unlocked454 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill454/main.php',
)

Array\calculate_shop_itembuy_cost ====> array (
  'vars' => '$price,$bnum',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(454)) return $chprocess($price,$bnum);
		
		if (\\skillbase\\skill_query(69)) return $chprocess($price,$bnum);
		if ($bnum<=1) return $chprocess($price,$bnum);
		return round($chprocess($price,$bnum)*0.75);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill454/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL457_INFO\',\'card;card;locked;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[457] = \'文盲\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill457/main.php',
)

Array\acquire457 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill457/main.php',
)

Array\lost457 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill457/main.php',
)

Array\check_unlocked457 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill457/main.php',
)

Array\get_trap_final_damage_modifier_down ====> array (
  'vars' => '&$pa, &$pd, $tritm, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(457,$pd) || mb_strlen($tritm[\'itm\'],\'utf-8\')<=9) return $chprocess($pa,$pd,$tritm,$damage);
		eval(import_module(\'logger\'));
		$z=$chprocess($pa,$pd,$tritm,$damage);
		if ($z>=$pd[\'hp\'])
		{
			$z=$pd[\'hp\']-1;
			$log .= "<span class=\\"yellow\\">面对着又长又难以理解的陷阱名字，你不由地闭上了眼睛…… 这竟然也能减少陷阱伤害？！<br>算了还是不要吐槽了，总之你没被炸死。</span><br>";
		}
		return $z;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill457/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL249_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[249] = \'雷击\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill249/main.php',
)

Array\acquire249 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill249/main.php',
)

Array\lost249 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill249/main.php',
)

Array\check_unlocked249 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill249/main.php',
)

Array\get_trap_damage_multiplier ====> array (
  'vars' => '&$pa, &$pd, $trap, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if (\\skillbase\\skill_query(249,$pa)) 
		{
			eval(import_module(\'logger\'));
			$log.=\'对方精心埋设的陷阱使伤害增加了<span class="yellow">15</span>%！<br>\';
			$r=Array(1.15);
		}
		return array_merge($r,$chprocess($pa,$pd,$trap,$damage));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill249/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL250_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[250] = \'预感\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill250/main.php',
)

Array\acquire250 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill250/main.php',
)

Array\lost250 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill250/main.php',
)

Array\check_unlocked250 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill250/main.php',
)

Array\trap_deal_damage ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(250)) 
		{
			eval(import_module(\'logger\'));
			$log.=\'<span class="clan">“为什么莫名地感到有些不安……” </span><br>\';
		}
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill250/main.php',
)

Array\get_trap_damage_multiplier ====> array (
  'vars' => '&$pa, &$pd, $trap, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if (\\skillbase\\skill_query(250,$pd)) 
		{
			eval(import_module(\'logger\'));
			$log.=\'幸好已有预感，你及时地护住了脸……<br>\';
			$r=Array(1-rand(1,30)/100);
		}
		return array_merge($r,$chprocess($pa,$pd,$trap,$damage));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill250/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL460_INFO\',\'hidden;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[460] = \'\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill460/main.php',
)

Array\acquire460 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill460/main.php',
)

Array\lost460 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill460/main.php',
)

Array\check_unlocked460 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill460/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL461_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[461] = \'驱散\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill461/main.php',
)

Array\acquire461 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill461/main.php',
)

Array\lost461 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill461/main.php',
)

Array\check_unlocked461 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill461/main.php',
)

Array\skill_acquire ====> array (
  'vars' => '$skillid, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\check_skill_info($skillid,\'debuff\') && \\skillbase\\skill_query(461,$pa)) 
				return;
		return $chprocess($skillid,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill461/main.php',
)

Array\assault_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(461,$pa) && ((int)\\skillbase\\skill_getvalue(461,\'lvl\',$pa))==1) $pa[\'inf\']=\'\';
		if (\\skillbase\\skill_query(461,$pd) && ((int)\\skillbase\\skill_getvalue(461,\'lvl\',$pd))==1) $pd[\'inf\']=\'\';
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill461/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL251_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[251] = \'天佑\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill251/main.php',
)

Array\acquire251 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(251,\'start\',0,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill251/main.php',
)

Array\lost251 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill251/main.php',
)

Array\check_unlocked251 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill251/main.php',
)

Array\apply_total_damage_modifier_down ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(251,$pd)) return $chprocess($pa,$pd,$active);
		eval(import_module(\'sys\',\'logger\',\'skill251\'));
		$s=(int)\\skillbase\\skill_getvalue(251,\'start\',$pd);
		$x=$now-$s;
		if ($x<=$skill251_act_time && !in_array($pa[\'type\'],$skill251_no_effect_array)){	
			$pa[\'dmg_dealt\']=0;
			if ($active) $log .= "<span class=\\"yellow\\">敌人的技能「天佑」使你的攻击没有造成任何伤害！</span><br>";
			else $log .= "<span class=\\"yellow\\">你的技能「天佑」使敌人的攻击没有造成任何伤害！</span><br>";
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill251/main.php',
)

Array\kill ====> array (
  'vars' => '&$pa, &$pd',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa,$pd);
		
		eval(import_module(\'skill251\'));
		if (in_array($pd[\'state\'],Array(20,21,22,23,24,25,27,29)))
			if (\\skillbase\\skill_query(251,$pd) && in_array($pa[\'type\'],$skill251_no_effect_array))
			{
				eval(import_module(\'sys\',\'logger\'));
				$s=(int)\\skillbase\\skill_getvalue(251,\'start\',$pd);
				$x=$now-$s;
				if ($x<=$skill251_act_time)
				{
					$log.="<span class=\\"clan\\">都告诉你了，无敌对某些NPC无效……快去死吧。</span><br>";
				}
			}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill251/main.php',
)

Array\get_trap_final_damage_modifier_down ====> array (
  'vars' => '&$pa, &$pd, $tritm, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(251,$pd)) return $chprocess($pa,$pd,$tritm,$damage);
		eval(import_module(\'sys\',\'logger\',\'skill251\'));
		$s=(int)\\skillbase\\skill_getvalue(251,\'start\',$pd);
		$x=$now-$s;
		if ($x<=$skill251_act_time)
		{
			$log .= "<span class=\\"yellow\\">你的技能「天佑」使你免疫了陷阱伤害！</span><br>";
			return 0;
		}	
		return $chprocess($pa,$pd,$tritm,$damage);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill251/main.php',
)

Array\apply_damage ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$ret = $chprocess($pa, $pd, $active);
		if (\\skillbase\\skill_query(251,$pd) && $pa[\'dmg_dealt\']>=$pd[\'mhp\']*0.35 && $pd[\'hp\']>0)
		{
			eval(import_module(\'sys\',\'logger\'));
			if ($active) 
				$log .= \'<span class="yellow">敌人的技能「天佑」被触发，暂时进入了无敌状态。</span><br>\';
			else  $log .= \'<span class="yellow">你的技能「天佑」被触发，暂时进入了无敌状态！</span><br>\';
			\\skillbase\\skill_setvalue(251,\'start\',$now,$pd);
		}
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill251/main.php',
)

Array\post_traphit_events ====> array (
  'vars' => '$pa, $sdata, $tritm, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(251,$sdata) && $damage>=$sdata[\'mhp\']*0.35 && $sdata[\'hp\']>0)
		{
			eval(import_module(\'sys\',\'logger\'));
			
			$log .= \'<span class="yellow">你的技能「天佑」被触发，暂时进入了无敌状态！</span><br>\';
			\\skillbase\\skill_setvalue(251,\'start\',$now);
		}
		return $chprocess($pa, $sdata, $tritm, $damage);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill251/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(251,$sdata))&&check_unlocked251($sdata))
		{
			eval(import_module(\'skill251\'));
			$s=(int)\\skillbase\\skill_getvalue(251,\'start\',$pd);
			$skill251_time = $now-$s; 
			$z=Array(
				\'disappear\' => 0,
			);
			if ($skill251_time<$skill251_act_time)
			{
				$z[\'clickable\'] = 1;
				$z[\'style\']=1;
				$z[\'totsec\']=$skill251_act_time;
				$z[\'nowsec\']=$skill251_time;
				$skill251_rm = $skill251_act_time-$skill251_time;
				$z[\'hint\'] = "技能「天佑」生效中<br>免疫一切战斗或陷阱伤害";
			}
			else  
			{
				$z[\'clickable\'] = 0;
				$z[\'style\']=3;
				$z[\'activate_hint\'] = "技能「天佑」";
			}
			\\bufficons\\bufficon_show(\'img/skill251.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill251/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL255_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill255/main.php',
)

Array\acquire255 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill255/main.php',
)

Array\lost255 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill255/main.php',
)

Array\check_unlocked255 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill255/main.php',
)

Array\calculate_move_sp_cost ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = $chprocess();
		if (\\skillbase\\skill_query(255)) 
		{
			eval(import_module(\'player\'));
			$r-=10+round($lvl/4);
		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill255/main.php',
)

Array\calculate_search_sp_cost ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = $chprocess();
		if (\\skillbase\\skill_query(255)) 
		{
			eval(import_module(\'player\'));
			$r-=10+round($lvl/4);
		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill255/main.php',
)

Array\calculate_real_trap_obbs ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = $chprocess();
		if (\\skillbase\\skill_query(255)) $r*=0.85;
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill255/main.php',
)

Array\get_trap_escape_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = $chprocess();
		if (\\skillbase\\skill_query(255)) $r*=1.1;
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill255/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/wjfix/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'wepk\']==\'WJ\') $pa[\'bskill\']=0;
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/wjfix/main.php',
)

Array\get_battle_skill_entry ====> array (
  'vars' => '&$edata,$which',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		if ($wepk==\'WJ\') return;
		return $chprocess($edata,$which);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/wjfix/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL462_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[462] = \'抗性\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill462/main.php',
)

Array\acquire462 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill462/main.php',
)

Array\lost462 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill462/main.php',
)

Array\check_unlocked462 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill462/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if (isset($pa[\'bskill\']) && $pa[\'bskill\']>0 && \\skillbase\\skill_query(462,$pd))	
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="yellow">「抗性」使敌人受到的最终伤害降低了35%！</span><br>\';
			else  $log.=\'<span class="yellow">「抗性」使你受到的最终伤害降低了35%！</span><br>\';
			$r=Array(0.65);
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill462/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL77_INFO\',\'club;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[77] = \'觉醒\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill77/main.php',
)

Array\acquire77 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill77/main.php',
)

Array\lost77 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill77/main.php',
)

Array\check_unlocked77 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=19;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill77/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL257_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[257] = \'仁义\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill257/main.php',
)

Array\acquire257 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill257/main.php',
)

Array\lost257 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill257/main.php',
)

Array\check_unlocked257 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill257/main.php',
)

Array\get_trap_damage_multiplier ====> array (
  'vars' => '&$pa, &$pd, $trap, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=1;
		if (\\skillbase\\skill_query(257,$pa)) 
		{
			eval(import_module(\'logger\'));
			$log.=\'这个陷阱埋设的很拙劣，因而你受到的伤害减少了<span class="yellow">90</span>%！<br>\';
			$r*=0.1;
		}
		if (\\skillbase\\skill_query(257,$pd)) 
		{
			eval(import_module(\'logger\'));
			$log.=\'你灵活的反应使你受到的陷阱伤害减少了<span class="yellow">60</span>%！<br>\';
			$r*=0.4;
		}
		if ($r!=1) $r=Array($r); else $r=array();
		return array_merge($r,$chprocess($pa,$pd,$trap,$damage));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill257/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL261_INFO\',\'club;upgrade;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[261] = \'决战\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill261/main.php',
)

Array\acquire261 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill261\'));
		\\skillbase\\skill_setvalue(261,\'lastuse\',-3000,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill261/main.php',
)

Array\lost261 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$t=\\skillbase\\skill_getvalue(261,\'lastuse\',$pa);
		if ($t>0) $pa[\'wp\']=floor($pa[\'wp\']/2);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill261/main.php',
)

Array\check_unlocked261 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=19;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill261/main.php',
)

Array\activate261 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill261\',\'player\',\'logger\',\'sys\',\'itemmain\'));
		\\player\\update_sdata();
		if (!\\skillbase\\skill_query(261) || !check_unlocked261($sdata))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$st = check_skill261_state($sdata);
		if ($st==0){
			$log.=\'你不能使用这个技能！<br>\';
			return;
		}
		if ($st==2){
			$log.=\'你已经使用过这个技能了！<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(261,\'lastuse\',$now);
		$wp=$wp+$wp;
		addnews ( 0, \'bskill261\', $name );
		$log.=\'<span class="red">技能「决战」发动成功。</span><br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill261/main.php',
)

Array\check_skill261_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(261, $pa) || !check_unlocked261($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill261\'));
		$l=\\skillbase\\skill_getvalue(261,\'lastuse\',$pa);
		if (($now-$l)<=$skill261_cd) return 2;
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill261/main.php',
)

Array\search_area ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'skill261\'));
		if (\\skillbase\\skill_query(261) && check_skill261_state($sdata)==2)
		{
			$wp-=5;
			if ($wp<50) $wp=50;
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill261/main.php',
)

Array\move_to_area ====> array (
  'vars' => '$moveto',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'skill261\'));
		if (\\skillbase\\skill_query(261) && check_skill261_state($sdata)==2)
		{
			$wp-=5;
			if ($wp<50) $wp=50;
		}
		$chprocess($moveto);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill261/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(261,$sdata))&&check_unlocked261($sdata))
		{
			eval(import_module(\'skill261\'));
			$skill261_lst = (int)\\skillbase\\skill_getvalue(261,\'lastuse\'); 
			$skill261_time = $now-$skill261_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「决战」\',
				\'activate_hint\' => \'点击发动技能「决战」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill261_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill261_time<$skill261_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill261_cd;
				$z[\'nowsec\']=$skill261_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill261.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill261/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill261\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"red\\">「决战」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill261/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL474_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[474] = \'厌食\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill474/main.php',
)

Array\acquire474 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill474/main.php',
)

Array\lost474 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill474/main.php',
)

Array\check_unlocked474 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill474/main.php',
)

Array\get_edible_hpup ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(474,$pa)) return round($chprocess($theitem)*0.7);
		return $chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill474/main.php',
)

Array\get_edible_spup ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(474,$pa)) return round($chprocess($theitem)*0.7);
		return $chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill474/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL433_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[433] = \'白板\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill433/main.php',
)

Array\acquire433 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill433/main.php',
)

Array\lost433 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill433/main.php',
)

Array\check_unlocked433 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill433/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		if(!$pa[\'type\'] && !$pd[\'type\']){
			$paflag = $pdflag = 0;
			if(\\skillbase\\skill_query(433,$pa) && check_unlocked433($pa))
				$paflag = 1;
			if(\\skillbase\\skill_query(433,$pd) && check_unlocked433($pd))
				$pdflag = 1;
			if($paflag || $pdflag){
				if($paflag && $active || $pdflag && !$active) $log_tmp = \'你\';
				elseif($paflag) $log_tmp = $pa[\'name\'];
				else $log_tmp = $pd[\'name\'];
				$log.=\'<span class="yellow">\'.$log_tmp.\'的「白板」技能使双方的技能全部暂时失效了！</span><br>\';
				$pa[\'skill433_flag\']=1;
				$pd[\'skill433_flag\']=1;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill433/main.php',
)

Array\skill_query ====> array (
  'vars' => '$skillid, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skillbase\'));
		$skillid=(int)$skillid;
		if ($pa!=NULL && isset($pa[\'skill433_flag\']) && $pa[\'skill433_flag\'])
		{
			
			if (!\\skillbase\\check_skill_info($skillid,\'achievement\') && !\\skillbase\\check_skill_info($skillid,\'hidden\')) return 0;


		}
		return $chprocess($skillid,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill433/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL602_INFO\',\'club;hidden;debuff;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[602] = \'晕眩\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill602/main.php',
)

Array\acquire602 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill602/main.php',
)

Array\lost602 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill602/main.php',
)

Array\check_skill602_state ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(602,$pa)) return 0;
		$e=\\skillbase\\skill_getvalue(602,\'end\',$pa);
		$ct = floor(getmicrotime()*1000);
		if ($ct<$e) return 1;
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill602/main.php',
)

Array\set_stun_period ====> array (
  'vars' => '$t, &$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if ($gamestate>=50) $t=round($t/3);	
		$flag=1;
		$ct = floor(getmicrotime()*1000);
		$e = 0;
		if (\\skillbase\\skill_query(602,$pa))
		{
			$e = (int)\\skillbase\\skill_getvalue(602,\'end\',$pa); 
			if ($ct>=$e) $flag=0;
		}
		else  $flag=0;
		if ($flag==0)
		{
			\\skillbase\\skill_acquire(602,$pa);
			\\skillbase\\skill_setvalue(602,\'start\',$ct,$pa);
		}
		if ($ct+$t>$e) $e=$ct+$t;
		\\skillbase\\skill_setvalue(602,\'end\',$e,$pa);
		$pa[\'new_stun_flag\']=1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill602/main.php',
)

Array\assault_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($active)
		{
			if (isset($pd[\'new_stun_flag\']) && $pd[\'new_stun_flag\']==1)
			{
				$pd[\'battlelog\'] .= \'敌人的攻击导致你<span class="clan">晕眩</span>了！<br>\';
				unset($pd[\'new_stun_flag\']);
			}
		}
		else  
		{
			if (isset($pa[\'new_stun_flag\']) && $pa[\'new_stun_flag\']==1)
			{
				$pa[\'battlelog\'] .= \'敌人的攻击导致你<span class="clan">晕眩</span>了！<br>\';
				unset($pa[\'new_stun_flag\']);
			}
		}
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill602/main.php',
)

Array\send_stun_battle_news ====> array (
  'vars' => '$aname, $bname',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		addnews ( 0, \'bstun1\', $aname, $bname );
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill602/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bstun1\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}的攻击致使{$b}<span class=\\"clan\\">晕眩</span>了</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill602/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if (\\skillbase\\skill_query(602,$sdata))
		{
			eval(import_module(\'skill602\',\'skillbase\'));
			$skill602_start = (int)\\skillbase\\skill_getvalue(602,\'start\'); 
			$skill602_end = (int)\\skillbase\\skill_getvalue(602,\'end\'); 
			$z=Array(
				\'disappear\' => 1,
				\'clickable\' => 0,
				\'hint\' => \'你处于晕眩状态！<br>无法进行任何行动或战斗，受到的伤害增加\',
			);
			$ct = floor(getmicrotime()*1000);
			if ($ct<$skill602_end)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=round(($skill602_end-$skill602_start)/1000);
				$z[\'nowsec\']=round(($ct-$skill602_start)/1000);
				\\bufficons\\bufficon_show(\'img/skill602.gif\',$z);
			}
			else 
			{
				\\skillbase\\skill_lost(602);
			}
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill602/main.php',
)

Array\check_cooltime_on ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (check_skill602_state()) return 0;	
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill602/main.php',
)

Array\calculate_active_obbs_change ====> array (
  'vars' => '&$ldata,&$edata,$active_r',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (check_skill602_state($ldata)) return 0;
		if (check_skill602_state($edata)) return 100;
		return $chprocess($ldata,$edata,$active_r);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill602/main.php',
)

Array\check_can_counter ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		if (check_skill602_state($pa)) return 0; 
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill602/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (check_skill602_state($pd)) $pd[\'stun_flag\']=1;
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill602/main.php',
)

Array\pre_act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (\\skillbase\\skill_query(602,$sdata))
		{
			$ct = floor(getmicrotime()*1000);
			$e = (int)\\skillbase\\skill_getvalue(602,\'end\'); 
			$rmt = $e - $ct;
			if ($ct<$e)
			{
				$log .= \'<span class="yellow">你现在处于晕眩状态，什么都做不了！<br>晕眩状态持续时间还剩<span id="timer">\'.floor($rmt/1000).\'.\'.(floor($rmt/100)%10).\'</span>秒</span><br><img style="display:none;" type="hidden" src="img/blank.png" onload="demiSecTimerStarter(\'.$rmt.\');">\';
				$mode = \'command\'; $command = \'menu\';
			}
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill602/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL221_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[221] = \'衰弱\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill221/main.php',
)

Array\acquire221 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill221/main.php',
)

Array\lost221 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill221/main.php',
)

Array\check_unlocked221 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill221/main.php',
)

Array\get_skill221_lasttime ====> array (
  'vars' => '&$pa,&$pd,&$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 10;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill221/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(221,$pa))
		{
			eval(import_module(\'logger\',\'skill221\',\'skill600\',\'sys\'));
			$var_221=get_skill221_lasttime($pa,$pd,$active);
			if (!\\skillbase\\skill_query(600,$pd)){
				\\skillbase\\skill_acquire(600,$pd);
				$var_221_2=$now;
			}else{
				$var_221_2=\\skillbase\\skill_getvalue(600,\'end\',$pd);
				if ($var_221_2<$now) $var_221_2=$now;
			}
			\\skillbase\\skill_setvalue(600,\'start\',$var_221_2,$pd);
			\\skillbase\\skill_setvalue(600,\'end\',$var_221_2+$var_221,$pd);
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill221/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'weapon\',\'itemmain\'));
		
		
		$skillinfo[\'N\'] = \'wp\';
		
		$attinfo[\'N\'] = \'殴打\';
		
		$iteminfo[\'WN\'] = \'空手\';
		
		
		$counter_obbs[\'N\'] = 60;
		
		$rangeinfo[\'N\'] = 3;
		
		$hitrate_obbs[\'N\'] = 80;
		
		$hitrate_max_obbs[\'N\'] = 90;
		
		$hitrate_r[\'N\'] = 0.025;
		
		$dmg_fluc[\'N\'] = 15;
		
		$skill_dmg[\'N\'] = 0.6;
		
		$wepimprate[\'N\'] = -1;
		
		$wepdeathstate[\'N\'] = 20;
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_n/main.php',
)

Array\get_external_att ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		if ($pa[\'wep_kind\']==\'N\')
			return round($pa[$skillinfo[\'N\']]*2/3);
		else  return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_n/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'weapon\',\'itemmain\'));
		
		
		$skillinfo[\'P\'] = \'wp\';
		
		$attinfo[\'P\'] = \'殴打\';
		
		$iteminfo[\'WP\'] = \'钝器\';
		
		
		$counter_obbs[\'P\'] = 65;
		
		$rangeinfo[\'P\'] = 3;
		
		$hitrate_obbs[\'P\'] = 80;
		
		$hitrate_max_obbs[\'P\'] = 90;
		
		$hitrate_r[\'P\'] = 0.025;
		
		$dmg_fluc[\'P\'] = 15;
		
		$skill_dmg[\'P\'] = 0.6;
		
		$wepimprate[\'P\'] = 12;
		
		$wepdeathstate[\'P\'] = 21;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_p/main.php',
)

Array\calculate_wepimp_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		$r=1;
		if ($pa[\'wep_kind\']==\'P\' && $pa[\'weps\']==$nosta) $r=2.5;	
		return $chprocess($pa, $pd, $active)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_p/main.php',
)

Array\get_attack_method ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (strpos($pdata[\'wepk\'],\'W\')!==0) return \'P\';
		else return $chprocess($pdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_p/main.php',
)

Array\apply_weapon_imp ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'weapon\',\'logger\'));
		if ($pa[\'wep_kind\']==\'P\' && $pa[\'weps\']==$nosta)	
		{
			if (isset($pa[\'wepimp\']) && $pa[\'wepimp\'])
			{
				$pa[\'wepe\']-=$pa[\'wepimp\'];
				if ($active)
					$log .= "你的{$pa[\'wep\']}的攻击力下降了{$pa[\'wepimp\']}！<br>";
				else  $log .= "{$pa[\'name\']}的{$pa[\'wep\']}的攻击力下降了{$pa[\'wepimp\']}！<br>";
				
				if ($pa[\'wepe\']<=0) \\weapon\\weapon_break($pa, $pd, $active);
			}
		}
		else  $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_p/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'weapon\',\'itemmain\'));
		
		
		$skillinfo[\'K\'] = \'wk\';
		
		$attinfo[\'K\'] = \'斩刺\';
		
		$iteminfo[\'WK\'] = \'锐器\';
		
		
		$counter_obbs[\'K\'] = 65;
		
		$rangeinfo[\'K\'] = 3;
		
		$hitrate_obbs[\'K\'] = 75;
		
		$hitrate_max_obbs[\'K\'] = 85;
		
		$hitrate_r[\'K\'] = 0.025;
		
		$dmg_fluc[\'K\'] = 40;
		
		$skill_dmg[\'K\'] = 0.65;
		
		$wepimprate[\'K\'] = 35;
		
		$wepdeathstate[\'K\'] = 22;
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_k/main.php',
)

Array\calculate_wepimp_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		$r=1;
		if ($pa[\'wep_kind\']==\'K\' && $pa[\'weps\']==$nosta) $r=2.5;	
		return $chprocess($pa, $pd, $active)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_k/main.php',
)

Array\apply_weapon_imp ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'weapon\',\'logger\'));
		if ($pa[\'wep_kind\']==\'K\' && $pa[\'weps\']==$nosta)	
		{
			if (isset($pa[\'wepimp\']) && $pa[\'wepimp\'])
			{
				$pa[\'wepe\']-=$pa[\'wepimp\'];
				if ($active)
					$log .= "你的{$pa[\'wep\']}的攻击力下降了{$pa[\'wepimp\']}！<br>";
				else  $log .= "{$pa[\'name\']}的{$pa[\'wep\']}的攻击力下降了{$pa[\'wepimp\']}！<br>";
				
				if ($pa[\'wepe\']<=0) \\weapon\\weapon_break($pa, $pd, $active);
			}
		}
		else  $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_k/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'weapon\',\'itemmain\'));
		
		
		$skillinfo[\'C\'] = \'wc\';
		
		$attinfo[\'C\'] = \'投掷\';
		
		$iteminfo[\'WC\'] = \'投掷兵器\';












		
		
		$counter_obbs[\'C\'] = 35;
		
		$rangeinfo[\'C\'] = 5;
		
		$hitrate_obbs[\'C\'] = 70;
		
		$hitrate_max_obbs[\'C\'] = 96;
		
		$hitrate_r[\'C\'] = 0.25;
		
		$dmg_fluc[\'C\'] = 5;
		
		$skill_dmg[\'C\'] = 0.35;
		
		$wepimprate[\'C\'] = 10000;
		
		$wepdeathstate[\'C\'] = 24;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_c/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'weapon\',\'itemmain\'));
		
		
		$skillinfo[\'D\'] = \'wd\';
		
		$attinfo[\'D\'] = \'伏击\';
		
		$iteminfo[\'WD\'] = \'爆炸物\';
		
		
		$counter_obbs[\'D\'] = 0;
		
		$rangeinfo[\'D\'] = 0;
		
		$hitrate_obbs[\'D\'] = 60;
		
		$hitrate_max_obbs[\'D\'] = 70;
		
		$hitrate_r[\'D\'] = 0.02;
		
		$dmg_fluc[\'D\'] = 25;
		
		$skill_dmg[\'D\'] = 0.75;
		
		$wepimprate[\'D\'] = 10000;
		
		$wepdeathstate[\'D\'] = 25;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_d/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'weapon\',\'itemmain\'));
		if (defined(\'MOD_NOISE\')) eval(import_module(\'noise\'));
		
		
		$skillinfo[\'F\'] = \'wf\';
		
		$attinfo[\'F\'] = \'攻击\';
		
		$iteminfo[\'WF\'] = \'灵力兵器\';
		
		
		$counter_obbs[\'F\'] = 35;
		
		$rangeinfo[\'F\'] = 1;
		
		$hitrate_obbs[\'F\'] = 85;
		
		$hitrate_max_obbs[\'F\'] = 96;
		
		$hitrate_r[\'F\'] = 0.1;
		
		$dmg_fluc[\'F\'] = 10;
		
		$skill_dmg[\'F\'] = 0.3;
		
		$wepimprate[\'F\'] = 10000;
		
		$wepdeathstate[\'F\'] = 29;
		
		
		if (defined(\'MOD_NOISE\')) $noiseinfo[\'F\'] = \'灵气\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_f/main.php',
)

Array\get_WF_fixed_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'wepe\'];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_f/main.php',
)

Array\get_fixed_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=0;
		if ($pa[\'wep_kind\']==\'F\') $r=get_WF_fixed_dmg($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)+$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_f/main.php',
)

Array\get_WF_sp_cost ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return max(round(0.2*$pa[\'wepe\']),1);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_f/main.php',
)

Array\get_WF_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'wep_kind\']!=\'F\') return Array();
		eval(import_module(\'logger\'));
		$spd_full=get_WF_sp_cost($pa, $pd, $active); 
		$spd_actual=min($pa[\'sp\']-1,$spd_full);
		$dmg_mul=0.5+$spd_actual/$spd_full*0.5;
		$dmg_mul_word=round($dmg_mul*100);
		$pa[\'sp\']-=$spd_actual;
		if ($active)
			$log.="你消耗{$spd_actual}点体力，发挥了灵力武器{$dmg_mul_word}％的威力！";
		else  $log.="{$pa[\'name\']}消耗{$spd_actual}点体力，发挥了灵力武器{$dmg_mul_word}％的威力！";
		return Array(round($dmg_mul*100)/100);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_f/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=get_WF_dmg_multiplier($pa, $pd, $active);
		if (isset($r[0]) && $r[0]==1) $r=Array();
		return array_merge($r,$chprocess($pa,$pd,$active));	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_f/main.php',
)

Array\check_WF_noise ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_f/main.php',
)

Array\weapon_strike ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (defined(\'MOD_NOISE\'))
			if ($pa[\'wep_kind\']==\'F\' && check_WF_noise($pa, $pd, $active)) 
				\\noise\\addnoise($pa[\'pls\'],\'F\',$pa[\'pid\'],$pd[\'pid\']);
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_f/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$iteminfo[\'M\'] = \'强化药物\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_um/main.php',
)

Array\calc_skillbook_value ====> array (
  'vars' => '$x, $v',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$k=pow($v,0.5)/25+1.05;
		return pow($x/($k-1)/$v+1,1-$k)*$v;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_um/main.php',
)

Array\itemuse_um ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		eval(import_module(\'player\',\'weapon\',\'logger\',\'lvlctl\'));
		
		$log .= "你服用了<span class=\\"red\\">$itm</span>。<br>";
			
		if (strpos ( $itmk, \'MA\' ) === 0) {
			$att_min = 200;
			$att_limit = 500;
			$dice = rand ( - 5, 5 );
			if ($att < $att_min) {
				$mefct = $itme;
			} elseif ($att < $att_limit) {
				$mefct = round ( $itme * (1 - ($att - $att_min) / ($att_limit - $att_min)) );
			} else {
				$mefct = 0;
			}
			






			$att += $mefct;
			$mdname = "基础攻击力";
		} elseif (strpos ( $itmk, \'MD\' ) === 0) {
			$def_min = 200;
			$def_limit = 500;
			$dice = rand ( - 5, 5 );
			if ($def < $def_min) {
				$mefct = $itme;
			} elseif ($def < $def_limit) {
				$mefct = round ( $itme * (1 - ($def - $def_min) / ($def_limit - $def_min)) );
			} else {
				$mefct = 0;
			}
			






			$def += $mefct;
			$mdname = "基础防御力";
		} elseif (strpos ( $itmk, \'ME\' ) === 0) {
			$lvlup_objective = $itme / 10;
			$mefct = \\lvlctl\\calc_upexp($lvlup_objective) - rand( 4, 8);
			
			$mdname = "经验值";	
		} elseif (strpos ( $itmk, \'MS\' ) === 0) {
			$mefct = $itme;
			$sp += $mefct;
			$msp += $mefct;
			$mdname = "体力上限";
		} elseif (strpos ( $itmk, \'MH\' ) === 0) {
			$mefct = $itme;
			$hp += $mefct;
			$mhp += $mefct;
			$mdname = "生命上限";
		} elseif (strpos ( $itmk, \'MV\' ) === 0) {
			$skill_minimum = 60;
			$skill_limit = 600;
			$skcnt = 0; $ws_sum = 0;
			foreach (array_unique(array_values($skillinfo)) as $key)
			{
				$skcnt++;
				$ws_sum += $$key;
			}
			$dice = rand ( - 10, 10 );
		
			if ($ws_sum < $skill_minimum * $skcnt) {
				$mefct = $itme;
			} elseif ($ws_sum < $skill_limit * $skcnt) {
				$mefct = round(calc_skillbook_value($ws_sum-$skill_minimum*$skcnt,$itme));
			} else {
				$mefct = 0;
			}
			






			foreach (array_unique(array_values($skillinfo)) as $key)
				$$key += $mefct;
				
			$mdname = "全系熟练度";
		}
		if (strpos ( $itmk, \'ME\' ) === 0) $mefct = \\lvlctl\\getexp($mefct) ? $mefct : 0;
		if ($mefct > 0) {
			$log .= "身体里有种力量涌出来！<br>你的{$mdname}提高了<span class=\\"yellow\\">$mefct</span>点！<br>";
		} elseif ($mefct == 0) {
			$log .= "已经很强了，却还想靠药物继续强化自己，是不是太贪心了？<br>你的能力没有任何提升。<br>";
		} else {
			$mefct = - $mefct;
			$log .= "已经很强了，却还想靠药物继续强化自己，是不是太贪心了？<br>你贪婪的行为引发了药物的副作用！<br>你的{$mdname}下降了<span class=\\"red\\">$mefct</span>点！<br>";
		}
		
		\\itemmain\\itms_reduce($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_um/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'M\' ) === 0) {
			itemuse_um($theitem);
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_um/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\init_battle ====> array (
  'vars' => '$ismeet = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'metman\'));
		$chprocess($ismeet);
		$tdata[\'tactic\']=$w_tactic;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\check_can_counter ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'tactic\'] == 4) return 0;	
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\calculate_meetman_rate ====> array (
  'vars' => '$schmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		$a = 0;
		if ($tactic == 4) {
			$a = -10;
			
		}
		return $chprocess($schmode) + $a;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\calculate_findman_obbs ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'tactic\'));
		return $chprocess($edata)+$tactic_meetman_obbs[$tactic];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\calculate_hide_obbs ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'tactic\'));
		return $chprocess($edata)+$tactic_hide_obbs[$edata[\'tactic\']];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\calculate_counter_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = 0;
		if($pa[\'tactic\'] == 3) $r = 30;
		return $chprocess($pa, $pd, $active) + $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\get_att_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'tactic\'));
		if ($pa[\'is_counter\'])		
		{
			return $chprocess($pa,$pd,$active)*(1+$tactic_attack_modifier[$pa[\'tactic\']]/100);
		}
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\get_def_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'tactic\'));
		
		return $chprocess($pa,$pd,$active)*(1+$tactic_defend_modifier[$pd[\'tactic\']]/100);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\get_trap_damage ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		$damage = $chprocess();
		if ($tactic == 2) if (rand(0,99)<75) $damage = round($damage * 0.75);	
		return $damage;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\get_trap_escape_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if ($tactic == 4) return $chprocess()+20; else return $chprocess();	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\tactic_change ====> array (
  'vars' => '$ntactic',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'tactic\',\'logger\'));
		$ntactic=(int)$ntactic;
		if ($tactic_player_usable[$ntactic])
		{
			$log .= "应战策略变为<span class=\\"yellow\\">{$tacinfo[$ntactic]}</span>。<br> ";
			$tactic = $ntactic;
		} 
		else  $log .= "这是什么奇怪的应战策略啦！<br> ";
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'tactic\'));
		
		if($mode == \'special\' && strpos($command,\'tac\') === 0)
		{
			tactic_change(substr($command,3,1));
			$mode = \'command\';
			return;
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\check_pc_avoid_killarea ====> array (
  'vars' => '$sub, $atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($gamestate < 40 && 4 == $sub[\'tactic\']) return true;
		else $chprocess($sub, $atime);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\post_pc_avoid_killarea ====> array (
  'vars' => '$sub, $atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\'));
		if(!$sub[\'type\']){
			$subplsinfo = $plsinfo[$sub[\'pls\']];
			$w_log = "<span class=\\"yellow\\">为了躲避禁区，你及时移动到了{$subplsinfo}</span><br>";
			\\logger\\logsave ( $sub[\'pid\'],$now, $w_log ,\'s\');
		}
		$chprocess($sub, $atime);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/tactic/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/mapattr/main.php',
)

Array\calculate_itemfind_obbs ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'mapattr\',\'logger\'));
		
		if (!isset($pls_itemfind_obbs[$pls])) $r=0; else $r=$pls_itemfind_obbs[$pls];
		return $chprocess()+$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/mapattr/main.php',
)

Array\calculate_findman_obbs ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'mapattr\',\'logger\'));
		
		if (!isset($pls_findman_obbs[$pls])) $r=0; else $r=$pls_findman_obbs[$pls];
		return $chprocess($edata)+$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/mapattr/main.php',
)

Array\calculate_meetman_rate ====> array (
  'vars' => '$schmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'mapattr\',\'logger\'));
		
		if (!isset($pls_meetman_obbs[$pls])) $r=0; else $r=$pls_meetman_obbs[$pls];
		
		return $chprocess($schmode)+$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/mapattr/main.php',
)

Array\get_att_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'mapattr\',\'logger\'));
		
		if (isset($pls_attack_modifier[$pa[\'pls\']]))		
			return $chprocess($pa,$pd,$active)*(1+$pls_attack_modifier[$pa[\'pls\']]/100);
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/mapattr/main.php',
)

Array\get_def_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'mapattr\',\'logger\'));
		
		if (isset($pls_defend_modifier[$pa[\'pls\']]))		
			return $chprocess($pa,$pd,$active)*(1+$pls_defend_modifier[$pa[\'pls\']]/100);
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/mapattr/main.php',
)

Array\calculate_real_trap_obbs ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		if($pls == 0)	
			return $chprocess()+15;
		else  return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/mapattr/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\get_inf ====> array (
  'vars' => '$hurtposition, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'wound\'));
		$flag = 1;
 		if ($pa == NULL) 
 		{
			eval(import_module(\'player\'));
			if (strpos($inf,$hurtposition) !== false) $flag = 0;
			$inf = str_replace($hurtposition,\'\',$inf);
			$inf .= $hurtposition;
		}
		else
		{
			if (strpos($pa[\'inf\'],$hurtposition) !== false) $flag = 0;
			$pa[\'inf\'] = str_replace($hurtposition,\'\',$pa[\'inf\']);
			$pa[\'inf\'] .= $hurtposition;
		}
		\\skillbase\\skill_acquire($infskillinfo[$hurtposition],$pa);
		return $flag;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\heal_inf ====> array (
  'vars' => '$hurtposition, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'wound\'));
 		if ($pa == NULL) 
 		{
			eval(import_module(\'player\'));
			$inf = str_replace($hurtposition,\'\',$inf);
		}
		else
		{
			$pa[\'inf\'] = str_replace($hurtposition,\'\',$pa[\'inf\']);
		}
		\\skillbase\\skill_lost($infskillinfo[$hurtposition],$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\calculate_inf_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'wound\'));
		return $wep_infobbs[$pa[\'wep_kind\']];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\calculate_weapon_wound_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active, $hurtposition',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\weapon_wound_success ====> array (
  'vars' => '&$pa, &$pd, $active, $hurtposition',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'attack_wounded_\'.$hurtposition]+=calculate_weapon_wound_multiplier($pa, $pd, $active, $hurtposition);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\check_weapon_inf_proc ====> array (
  'vars' => '&$pa, &$pd, $active, $hurtposition',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$inf_rate = calculate_inf_rate($pa, $pd, $active);
		$inf_dice = rand(0,99);
		if ($inf_dice < $inf_rate) 
		{
			weapon_wound_success($pa, $pd, $active, $hurtposition);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\check_weapon_inf ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'wound\'));
		$i=rand(0,strlen($inf_place)-1);
		if (strpos($wep_infatt[$pa[\'wep_kind\']], $inf_place[$i])!==false)
			check_weapon_inf_proc($pa, $pd, $active, $inf_place[$i]);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\post_weapon_strike_events ====> array (
  'vars' => '&$pa, &$pd, $active, $is_hit',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa, $pd, $active, $is_hit);
		
		if ($is_hit) check_weapon_inf($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\apply_weapon_wound_real ====> array (
  'vars' => '&$pa, &$pd, $active, $hurtposition',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'wound\',\'logger\'));
		if ($active)
			$log .= "{$pd[\'name\']}的<span class=\\"red\\">".$infinfo[$hurtposition]."</span>部受伤了！<br>";
		else  $log .= "你的<span class=\\"red\\">".$infinfo[$hurtposition]."</span>部受伤了！<br>";
		if (get_inf($hurtposition, $pd))
		{
			addnews($now,\'inf\',$pa[\'name\'],$pd[\'name\'],$hurtposition);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\apply_weapon_inf ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'wound\',\'logger\'));
		for ($i=0; $i<strlen($inf_place); $i++)
		{
			if (isset($pa[\'attack_wounded_\'.$inf_place[$i]]) && $pa[\'attack_wounded_\'.$inf_place[$i]]>0)
			{
				apply_weapon_wound_real($pa, $pd, $active, $inf_place[$i]);	
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'wound\'));
		apply_weapon_inf($pa, $pd, $active);
		for ($i=0; $i<strlen($inf_place); $i++)
			unset($pa[\'attack_wounded_\'.$inf_place[$i]]);
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\assault_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($active) $pd[\'original_inf\']=$pd[\'inf\']; else $pa[\'original_inf\']=$pa[\'inf\'];
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\assault_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($active) 
		{
			$infold=$pd[\'original_inf\'];
			$infnew=$pd[\'inf\'];
		}
		else
		{
			$infold=$pa[\'original_inf\'];
			$infnew=$pa[\'inf\'];
		}
		
		$str=\'\';
		eval(import_module(\'wound\'));
		foreach ($infname as $key => $value)
			if ((strpos($infold,$key) === false) && (strpos($infnew, $key)!==false))
			{
				if ($str!=\'\') $str.=\'、\';
				$str.=$value;
			}
		if ($str!=\'\') $str=\'敌人的攻击导致你\'.$str.\'了！<br>\';
		
		if ($active)
			$pd[\'battlelog\'] .= $str;
		else  $pa[\'battlelog\'] .= $str;
		
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\init_battle ====> array (
  'vars' => '$ismeet = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($ismeet);
		
		eval(import_module(\'sys\',\'player\',\'metman\',\'wound\'));
		if($w_inf) {
			$w_infdata = \'\';
			foreach ($infinfo as $inf_ky => $inf_nm) {
				if(strpos($w_inf,$inf_ky) !== false) {
					$w_infdata .= $inf_nm;
				}
			}
		$tdata[\'infdata\']=$w_infdata;
		} else {
			$tdata[\'infdata\'] = \'\';
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\chginf ====> array (
  'vars' => '$infpos',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'wound\'));
		$normalinf = Array(\'h\',\'b\',\'a\',\'f\');
		if(!$infpos)
		{
			$mode = \'command\'; return;
		}
		if(in_array($infpos,$normalinf) && strpos($inf,$infpos) !== false){	
			if($sp <= $inf_recover_sp_cost) {
				$log .= "包扎伤口需要{$inf_recover_sp_cost}点体力，先回复体力吧！";
				$mode = \'command\';
				return;
			} else {
				heal_inf($infpos);
				$sp -= $inf_recover_sp_cost;
				$log .= "消耗<span class=\\"yellow\\">$inf_recover_sp_cost</span>点体力，{$infinfo[$infpos]}<span class=\\"red\\">部</span>的伤口已经包扎好了！";
				$mode = \'command\';
				return;
			}
		}elseif(strpos($inf,$infpos) !== false){  
		














			$log .= \'异常状态不能被直接治疗！\';
			$mode = \'command\';
			return;
		}else{
			$log .= \'你不需要包扎这个伤口！\';
			$mode = \'command\';
			return;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		
		if($news == \'inf\') 
		{
			eval(import_module(\'wound\'));
			if (strpos(\'bhaf\',$c)===false)	
				return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"red\\">{$a}的攻击致使{$b}</span>{$infname[$c]}<span class=\\"red\\">了</span></li>";
			else  return \'\';
		}
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		if ($mode == \'special\' && strpos($command,\'inf\') === 0) 
		{
			$infpos = substr($command,3,1);
			chginf($infpos);
			return;
		} 
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/wound/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill2/main.php',
)

Array\acquire2 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill2/main.php',
)

Array\lost2 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill2/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (strpos($pa[\'inf\'],\'h\')!==false) \\skillbase\\skill_acquire(2,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill2/main.php',
)

Array\skill_onsave_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(2,$pa)) \\skillbase\\skill_lost(2,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill2/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(2,$pa))		
			return $chprocess($pa,$pd,$active)*0.75;
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill2/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill3/main.php',
)

Array\acquire3 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill3/main.php',
)

Array\lost3 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill3/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (strpos($pa[\'inf\'],\'a\')!==false) \\skillbase\\skill_acquire(3,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill3/main.php',
)

Array\skill_onsave_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(3,$pa)) \\skillbase\\skill_lost(3,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill3/main.php',
)

Array\get_att_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(3,$pa)) 
			return $chprocess($pa,$pd,$active)*0.75;
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill3/main.php',
)

Array\calculate_search_sp_cost ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(3)) 
			return $chprocess()+10;
		else  return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill3/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$iteminfo[\'VO\'] = \'卡片礼物\';
		$iteminfo[\'V\'] = \'技能书籍\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_uv/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'weapon\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'V\' ) === 0) 
		{
			if ($itmk[1] == \'O\')
				$log .= "你打开了<span class=\\"red\\">$itm</span>。<br>";
			else
				$log .= "你阅读了<span class=\\"red\\">$itm</span>。<br>";
				
			
			if (strpos ( substr($itmk,1), \'S\' ) !== false)	
			{
				eval(import_module(\'clubbase\'));
				$useflag = 0;
				$sk_kind = (int)$itmsk;
				if ($sk_kind<1) $sk_kind = 1;
				if (defined(\'MOD_SKILL\'.$sk_kind) && $clubskillname[$sk_kind]!=\'\')
				{
					if (\\skillbase\\skill_query($sk_kind))
					{
						$log.="你发现这本书就是昨天刚刚看过的那本，不打算继续看下去了。<br>";
					}
					else
					{
						$log.="你感觉受益匪浅。你获得了技能「<span class=\\"yellow\\">".$clubskillname[$sk_kind]."</span>」，请前往技能界面查看。<br>";
						\\skillbase\\skill_acquire($sk_kind);
						$useflag = 1;
						
					}
				}
				else
				{
					$log.="技能书参数错误，这应该是一个BUG，请联系管理员。<br>";
					return;
				}
			}
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			if (defined(\'MOD_CARDBASE\') && $itmk[1] == \'O\')	
			{
				eval(import_module(\'cardbase\'));
				if (strlen($itmk) == 2) $cardpresent_type = \'1\'; else $cardpresent_type = $itmk[2];
				$itmn = $theitem[\'itmn\'];
				$cardpresent_desc = \'N/A\';
				if ($cardpresent_type == \'1\') $cardpresent_desc = \'获得卡片“\'.$cards[(int)$itmsk][\'name\'].\'”\';
				if ($cardpresent_type == \'2\') $cardpresent_desc = \'从中有机会获得\'.$card_rarity_html[\'A\'].\'/\'.$card_rarity_html[\'B\'].\'/\'.$card_rarity_html[\'C\'].\'级卡片\';
				if ($cardpresent_type == \'3\') $cardpresent_desc = \'从中有机会获得\'.$card_rarity_html[\'S\'].\'/\'.$card_rarity_html[\'A\'].\'/\'.$card_rarity_html[\'B\'].\'级卡片\';
				if ($cardpresent_type == \'4\') $cardpresent_desc = \'从中有机会获得特殊卡片“<span class="yellow">\'.$cards[(int)$itmsk][\'name\'].\'</span>”，或一张\'.$card_rarity_html[\'S\'].\'级或\'.$card_rarity_html[\'A\'].\'级的卡片\';
				if ($cardpresent_type == \'5\') $cardpresent_desc = \'从中可以获得一张\'.$card_rarity_html[\'S\'].\'级卡片\';
				if ($cardpresent_type == \'6\') $cardpresent_desc = \'从中可以获得一张\'.$card_rarity_html[\'A\'].\'级卡片\';
				if ($cardpresent_type == \'7\') $cardpresent_desc = \'从中可以获得一张\'.$card_rarity_html[\'B\'].\'级卡片\';
				if ($cardpresent_type == \'8\') $cardpresent_desc = \'从中可以获得一张\'.$card_rarity_html[\'C\'].\'级卡片\';
				if ($cardpresent_type == \'9\') $cardpresent_desc = \'从中有机会获得\'.$card_rarity_html[\'B\'].\'级或\'.$card_rarity_html[\'C\'].\'级卡片\';
				
				if ($cardpresent_desc == \'N/A\')
				{
					$log.=\'物品代码配置错误，请联系管理员。<br>\';
					return;
				}
				
				if ($itm == \'博丽神社的参拜券\')
				{
					eval(import_module(\'sys\'));
					if ($now - $starttime >= 1200)
					{
						$log.=\'<span class="yellow">博丽神社今天已经关门啦，下次请早点来吧。（这个道具必须在开局20分钟内使用）<br></span>\';
						return;
					}
				}
				
				eval(import_module(\'input\'));
				if ($subcmd == \'flipcard\')
				{
					$get_card_id = 0;
					if ($cardpresent_type == \'1\')
					{
						$get_card_id = (int)$itmsk;
					}
					else if ($cardpresent_type == \'4\' && rand(1,100)<=15)
					{
						$get_card_id = (int)$itmsk;
					}
					else 
					{
						if ($cardpresent_type == \'2\') $cardraw_pr = Array(\'S\'=>0, \'A\'=>10, \'B\'=>35, \'C\'=>55);
						if ($cardpresent_type == \'3\') $cardraw_pr = Array(\'S\'=>10, \'A\'=>25, \'B\'=>65, \'C\'=>0);
						if ($cardpresent_type == \'4\') $cardraw_pr = Array(\'S\'=>24, \'A\'=>76, \'B\'=>0, \'C\'=>0);
						if ($cardpresent_type == \'5\') $cardraw_pr = Array(\'S\'=>100, \'A\'=>0, \'B\'=>0, \'C\'=>0);
						if ($cardpresent_type == \'6\') $cardraw_pr = Array(\'S\'=>0, \'A\'=>100, \'B\'=>0, \'C\'=>0);
						if ($cardpresent_type == \'7\') $cardraw_pr = Array(\'S\'=>0, \'A\'=>0, \'B\'=>100, \'C\'=>0);
						if ($cardpresent_type == \'8\') $cardraw_pr = Array(\'S\'=>0, \'A\'=>0, \'B\'=>0, \'C\'=>100);
						if ($cardpresent_type == \'9\') $cardraw_pr = Array(\'S\'=>0, \'A\'=>0, \'B\'=>30, \'C\'=>70);
						$dice=rand(1,100); $kind=\'\';
						foreach ($cardraw_pr as $key => $value)
						{
							if ($dice<=$value)
							{
								$kind=$key; break;
							}
							else
							{
								$dice-=$value;
							}
						}
						if ($kind==\'\')
						{
							$log.=\'物品代码配置错误，请联系管理员。<br>\';
							return;
						}
						$get_card_id = $cardindex[$kind][rand(0,count($cardindex[$kind])-1)];
					}
					
					if ($get_card_id==0)
					{
						$log.=\'物品代码配置错误，请联系管理员。<br>\';
						return;
					}
					
					$is_new = \'\';
					if ((\\cardbase\\get_card($get_card_id))==1) $is_new = "<span class=\\"L5\\">NEW!</span>";;
					ob_clean();
					include template(\'MOD_CARDBASE_CARDFLIP_RESULT\');
					$log .= ob_get_contents();
					ob_clean();
					
					$log.=\'<span class="yellow">你获得了卡片「\'.$cards[$get_card_id][\'name\'].\'」！请前往“帐号资料”→“查看我的卡册”查看。</span><br>\';
					
					addnews ( 0, \'VOgetcard\', $name, $itm, $cards[$get_card_id][\'name\'] );
					
					\\itemmain\\itms_reduce($theitem);
					
					return;
				}
				else
				{
					ob_clean();
					include template(\'MOD_CARDBASE_CARDFLIP_BACK\');
					$log .= ob_get_contents();
					ob_clean();
					return;
				}
			}
			
			
			$skill_minimum = 100;
			$skill_limit = 300;
			
			$dice = rand ( - 5, 5 );
			$vefct = NULL;
			if (strpos ( substr($itmk,1), \'V\' ) !== false) {
				$skcnt = 0; $ws_sum = 0;
				foreach (array_unique(array_values($skillinfo)) as $key)
				{
					$skcnt++;
					$ws_sum += $$key;
				}
				if ($ws_sum < $skill_minimum * $skcnt) {
					$vefct = $itme;
				} elseif ($ws_sum < $skill_limit * $skcnt) {
					$vefct = round ( $itme * (1 - ($ws_sum - $skill_minimum * $skcnt) / ($skill_limit * $skcnt - $skill_minimum * $skcnt)) );
				} else {
					$vefct = 0;
				}
				if ($vefct < 5) {
					if ($vefct < $dice) {
						$vefct = - $dice;
					}
				}
				foreach (array_unique(array_values($skillinfo)) as $key)
				{
					$$key+=$vefct;
				}
				$wsname = "全系熟练度";
				$useflag = 1;
			} elseif (strpos ( substr($itmk,1), \'P\' ) !== false) {
				if ($wp < $skill_minimum) {
					$vefct = $itme;
				} elseif ($wp < $skill_limit) {
					$vefct = round ( $itme * (1 - ($wp - $skill_minimum) / ($skill_limit - $skill_minimum)) );
				} else {
					$vefct = 0;
				}
				if ($vefct < 5) {
					if ($vefct < $dice) {
						$vefct = - $dice;
					}
				}
				$wp += $vefct; 
				$wsname = "斗殴熟练度";
				$useflag = 1;
			} elseif (strpos ( substr($itmk,1), \'K\' ) !== false) {
				if ($wk < $skill_minimum) {
					$vefct = $itme;
				} elseif ($wk < $skill_limit) {
					$vefct = round ( $itme * (1 - ($wk - $skill_minimum) / ($skill_limit - $skill_minimum)) );
				} else {
					$vefct = 0;
				}
				if ($vefct < 5) {
					if ($vefct < $dice) {
						$vefct = - $dice;
					}
				}
				$wk += $vefct;
				$wsname = "斩刺熟练度";
				$useflag = 1;
			} elseif (strpos ( substr($itmk,1), \'G\' ) !== false) {
				if ($wg < $skill_minimum) {
					$vefct = $itme;
				} elseif ($wg < $skill_limit) {
					$vefct = round ( $itme * (1 - ($wg - $skill_minimum) / ($skill_limit - $skill_minimum)) );
				} else {
					$vefct = 0;
				}
				if ($vefct < 5) {
					if ($vefct < $dice) {
						$vefct = - $dice;
					}
				}
				$wg += $vefct;
				$wsname = "射击熟练度";
				$useflag = 1;
			} elseif (strpos ( substr($itmk,1), \'C\' ) !== false) {
				if ($wc < $skill_minimum) {
					$vefct = $itme;
				} elseif ($wc < $skill_limit) {
					$vefct = round ( $itme * (1 - ($wc - $skill_minimum) / ($skill_limit - $skill_minimum)) );
				} else {
					$vefct = 0;
				}
				if ($vefct < 5) {
					if ($vefct < $dice) {
						$vefct = - $dice;
					}
				}
				$wc += $vefct;
				$wsname = "投掷熟练度";
				$useflag = 1;
			} elseif (strpos ( substr($itmk,1), \'D\' ) !== false) {
				if ($wd < $skill_minimum) {
					$vefct = $itme;
				} elseif ($wd < $skill_limit) {
					$vefct = round ( $itme * (1 - ($wd - $skill_minimum) / ($skill_limit - $skill_minimum)) );
				} else {
					$vefct = 0;
				}
				if ($vefct < 5) {
					if ($vefct < $dice) {
						$vefct = - $dice;
					}
				}
				$wd += $vefct;
				$wsname = "引爆熟练度";
				$useflag = 1;
			} elseif (strpos ( substr($itmk,1), \'F\' ) !== false) {
				if ($wf < $skill_minimum) {
					$vefct = $itme;
				} elseif ($wf < $skill_limit) {
					$vefct = round ( $itme * (1 - ($wf - $skill_minimum) / ($skill_limit - $skill_minimum)) );
				} else {
					$vefct = 0;
				}
				if ($vefct < 5) {
					if ($vefct < $dice) {
						$vefct = - $dice;
					}
				}
				$wf += $vefct;
				$wsname = "灵击熟练度";
				$useflag = 1;
			}
			if(NULL!==$vefct) {
				if ($vefct > 0) {
					$log .= "嗯，有所收获。<br>你的{$wsname}提高了<span class=\\"yellow\\">$vefct</span>点！<br>";
				} elseif ($vefct == 0) {
					$log .= "对你来说书里的内容过于简单了。<br>你的熟练度没有任何提升。<br>";
				} else {
					$vefct = - $vefct;
					$log .= "对你来说书里的内容过于简单了。<br>而且由于盲目相信书上的知识，你反而被编写者的纰漏所误导了！<br>你的{$wsname}下降了<span class=\\"red\\">$vefct</span>点！<br>";
				}
			}
			if($useflag) \\itemmain\\itms_reduce($theitem);
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_uv/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'VOgetcard\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}打开了{$b}，获得了卡片“{$c}”！</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_uv/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL41_INFO\',\'club;locked;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill41/main.php',
)

Array\acquire41 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(41,\'u\',\'0\',$pa);	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill41/main.php',
)

Array\lost41 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill41/main.php',
)

Array\unlock41 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(41,\'u\',\'1\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill41/main.php',
)

Array\relock41 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(41,\'u\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill41/main.php',
)

Array\check_unlocked41 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_getvalue(41,\'u\',$pa)==\'1\') return 1; else return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill41/main.php',
)

Array\get_internal_att ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(41,$pa) || !check_unlocked41($pa)) return $chprocess($pa,$pd,$active);
		return $chprocess($pa,$pd,$active)*1.1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill41/main.php',
)

Array\attack_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(41,$pa) && check_unlocked41($pa))
		{
			if (rand(0,99)<50) $pa[\'att\']++;
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill41/main.php',
)

Array\battle_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(41,$pd) && check_unlocked41($pd))
		{
			$pd[\'skill41_proced\']=0;
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill41/main.php',
)

Array\check_counter_dice ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(41,$pa) || !check_unlocked41($pa)) return $chprocess($pa,$pd,$active);
		if (rand(0,99)<65) 
		{
			$pa[\'skill41_proced\']=1; return 1;
		}
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill41/main.php',
)

Array\counter_assault ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(41,$pa) || !check_unlocked41($pa)) return $chprocess($pa,$pd,$active);
		eval(import_module(\'logger\'));
		if ($pa[\'skill41_proced\'])
		{
			if ($active)
				$log.=\'<span class="yellow">你以惊人的速度完成了反击准备，并立即对敌人进行了反击！</span><br>\';
			else  $log.=\'<span class="yellow">\'.$pa[\'name\'].\'以惊人的速度完成了反击准备，并立即对你进行了反击！</span><br>\';
		}
		$pa[\'skill41_proced\']=0;
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill41/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL45_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[45] = \'重拳\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill45/main.php',
)

Array\acquire45 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill45/main.php',
)

Array\lost45 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill45/main.php',
)

Array\check_unlocked45 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill45/main.php',
)

Array\get_rage_cost45 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill45\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill45/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=45) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(45,$pa) || !check_unlocked45($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost45($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「重拳」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「重拳」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill45\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill45/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ($pa[\'bskill\']==45) 
		{
			eval(import_module(\'logger\'));
			$r=Array(1.3);
			if ($active)
				$log.=\'<span class="yellow">你向敌人打出了一记重拳！</span><br>\';
			else  $log.=\'<span class="yellow">敌人向你打出了一记重拳！</span><br>\';
		}
		return array_merge($r,$chprocess($pa, $pd, $active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill45/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill45\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「重拳」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill45/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL46_INFO\',\'club;battle;limited;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[46] = \'暴打\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill46/main.php',
)

Array\acquire46 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(46,\'rmtime\',\'2\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill46/main.php',
)

Array\lost46 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill46/main.php',
)

Array\check_unlocked46 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=15;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill46/main.php',
)

Array\get_remaintime46 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return \\skillbase\\skill_getvalue(46,\'rmtime\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill46/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=46) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(46,$pa) || !check_unlocked46($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$remtime = (int)get_remaintime46($pa);
			if ($remtime>=1)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「暴打」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「暴打」！</span><br>";
				$remtime--; 
				\\skillbase\\skill_setvalue(46,\'rmtime\',$remtime,$pa);
				$pd[\'skill46_flag\']=1;
				addnews ( 0, \'bskill46\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill46/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ($pa[\'bskill\']==46) 
		{
			eval(import_module(\'logger\'));
			$r=Array(1.65);
			if ($active)
				$log.=\'<span class="yellow">你把敌人按在地上一顿暴打！</span><br>\';
			else  $log.=\'<span class="yellow">敌人把你按在地上一顿暴打！</span><br>\';
		}
		return array_merge($r,$chprocess($pa, $pd, $active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill46/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill46\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"red\\">「暴打」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill46/main.php',
)

Array\skill_query ====> array (
  'vars' => '$skillid, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skillbase\'));
		$skillid=(int)$skillid;
		if ($pa!=NULL && isset($pa[\'skill46_flag\']) && $pa[\'skill46_flag\'])
		{
			
			if (!\\skillbase\\check_skill_info($skillid,\'achievement\') && !\\skillbase\\check_skill_info($skillid,\'hidden\'))
				return 0;
		}
		return $chprocess($skillid,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill46/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL52_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[52] = \'臂力\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill52/main.php',
)

Array\acquire52 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(52,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill52/main.php',
)

Array\lost52 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(52,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill52/main.php',
)

Array\check_unlocked52 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill52/main.php',
)

Array\upgrade52 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill52\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(52) || !check_unlocked52($sdata))
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}

		$clv = \\skillbase\\skill_getvalue(52,\'lvl\');
		$clv = (int)$clv;
		if ($upgradecost[$clv]==-1)
		{
			$log.=\'你已经升到满级了。<br>\';
			return;
		}
		if ($skillpoint<$upgradecost[$clv])
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint -= $upgradecost[$clv];
		$clv++; \\skillbase\\skill_setvalue(52,\'lvl\',(string)$clv);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill52/main.php',
)

Array\calculate_counter_rate_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(52,$pa) || !check_unlocked52($pa)) return $chprocess($pa, $pd, $active);
		if (substr($pa[\'wepk\'],0,2)!=\'WC\') return $chprocess($pa, $pd, $active);
		eval(import_module(\'skill52\'));
		$clv = (int)\\skillbase\\skill_getvalue(52,\'lvl\');
		$r=(100+$counterperc[$clv])/100;
		return $chprocess($pa, $pd, $active)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill52/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL60_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[60] = \'恐惧\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill60/main.php',
)

Array\acquire60 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill60/main.php',
)

Array\lost60 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill60/main.php',
)

Array\check_unlocked60 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=12;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill60/main.php',
)

Array\get_rage_cost60 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill60\',\'player\'));
		if ($pa===NULL) 
		{
			$clv = $lvl; $clb = $club;
		}
		else 
		{
			$clv = $pa[\'lvl\']; $clb = $pa[\'club\'];
		}
		if ($clb==24)
			return max(20,50-$clv);
		else  return max(25,50-round($clv*0.7));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill60/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=60) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(60,$pa) || !check_unlocked60($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost60($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「恐惧」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「恐惧」！</span><br>";
				$pa[\'rage\']-=$rcost;
				$pa[\'skill60_flag\']=floor((1-min(1,$pd[\'hp\']/$pd[\'mhp\']))*100);
				addnews ( 0, \'bskill60\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill60/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ($pa[\'bskill\']==60) 
		{
			eval(import_module(\'logger\'));
			$r=Array(1+$pa[\'skill60_flag\']/100);
			if ($active)
				$log.=\'<span class="yellow">敌人因惊吓过度，受到的物理伤害增加了\'.$pa[\'skill60_flag\'].\'%！</span><br>\';
			else  $log.=\'<span class="yellow">你因惊吓过度，受到的物理伤害增加了\'.$pa[\'skill60_flag\'].\'%！</span><br>\';
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill60/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']==60) unset($pa[\'skill60_flag\']);
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill60/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill60\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「恐惧」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill60/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL61_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[61] = \'黑暗\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill61/main.php',
)

Array\acquire61 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill61/main.php',
)

Array\lost61 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill61/main.php',
)

Array\check_unlocked61 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill61/main.php',
)

Array\get_sk_procrate61 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		if ($pa===NULL) $clb=$club; else $clb=$pa[\'club\'];
		if ($clb==24) return 35; else return 15;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill61/main.php',
)

Array\get_hp_procrate61 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		if ($pa===NULL) $clb=$club; else $clb=$pa[\'club\'];
		if ($clb==24) return 35; else return 15;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill61/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(61,$pa))
		{
			eval(import_module(\'logger\'));
			if (rand(0,99)<get_sk_procrate61($pa))
			{
				eval(import_module(\'weapon\'));
				foreach (array_unique(array_values($skillinfo)) as $key)
					if ($pd[$key]>0)
					{
						$pa[$key]++;
						$pd[$key]--;
					}
				if ($active)
					$log.=\'<span class="yellow">你吸取了敌人1点全系熟练！</span><br>\';
				else  $log.=\'<span class="yellow">敌人吸取了你1点全系熟练！</span><br>\';
			}
			if (rand(0,99)<get_hp_procrate61($pa))
			{
				$pa[\'mhp\']++; $pa[\'hp\']++;
				if ($pd[\'mhp\']>1)
				{
					$pd[\'mhp\']--; $pd[\'hp\']--;
				}
				if ($active)
					$log.=\'<span class="yellow">你吸取了敌人1点生命上限！</span><br>\';
				else  $log.=\'<span class="yellow">敌人吸取了你1点生命上限！</span><br>\';
			}
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill61/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL62_INFO\',\'club;upgrade;limited;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[62] = \'腐蚀\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill62/main.php',
)

Array\acquire62 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill62\'));
		\\skillbase\\skill_setvalue(62,\'t\',$numlim62,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill62/main.php',
)

Array\lost62 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill62\'));
		$clv = $numlim62-((int)\\skillbase\\skill_getvalue(62,\'t\',$pa));
		
		$pa[\'mhp\']-=$clv*100; $pa[\'hp\']-=$clv*100;
		if ($pa[\'mhp\']<=0) $pa[\'mhp\']=1;
		if ($pa[\'hp\']<=0) $pa[\'hp\']=1;
		\\skillbase\\skill_delvalue(62,\'t\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill62/main.php',
)

Array\check_unlocked62 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=7;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill62/main.php',
)

Array\upgrade62 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill62\',\'player\',\'logger\'));
		\\player\\update_sdata();
		if (!\\skillbase\\skill_query(62) || !check_unlocked62($sdata))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = (int)\\skillbase\\skill_getvalue(62,\'t\');
		if ($clv == 0)
		{
			$log.=\'发动次数达到了上限。<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(62,\'t\',$clv-1);
		$mhp+=50; $hp+=50;
		addnews ( 0, \'bskill62\', $name );
		$log.=\'发动成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill62/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if (\\skillbase\\skill_query(62,$pa) && check_unlocked62($pa))
		{
			eval(import_module(\'skill62\',\'logger\'));
			$x = 7*($numlim62-((int)\\skillbase\\skill_getvalue(62,\'t\',$pa)));
			if ($x>0)
			{
				if ($active)
					$log.=\'「腐蚀」技能使敌人受到的伤害减少了\'.$x.\'%！<br>\';
				else  $log.=\'「腐蚀」技能使你受到的伤害减少了\'.$x.\'%！<br>\';
				$r=Array((100-$x)/100);
			}
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill62/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill62\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「腐蚀」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill62/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL63_INFO\',\'club;battle;limited;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[63] = \'噩梦\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill63/main.php',
)

Array\acquire63 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		\\skillbase\\skill_setvalue(63,\'t\',\'1\',$pa);
		
		\\skillbase\\skill_setvalue(63,\'p\',\'0\',$pa);
		
		\\skillbase\\skill_setvalue(63,\'n\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill63/main.php',
)

Array\lost63 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(63,\'t\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill63/main.php',
)

Array\check_unlocked63 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=21;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill63/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=63) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(63,$pa) || !check_unlocked63($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$clv = (int)\\skillbase\\skill_getvalue(63,\'t\',$pa);
			if ($clv>0)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「噩梦」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「噩梦」！</span><br>";
				$clv--; \\skillbase\\skill_setvalue(63,\'t\',$clv,$pa);
				\\skillbase\\skill_setvalue(63,\'p\',$pd[\'pid\'],$pa);
				\\skillbase\\skill_setvalue(63,\'n\',$pd[\'name\'],$pa);
				addnews ( 0, \'bskill63\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill63/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if (\\skillbase\\skill_query(63,$pd) && check_unlocked63($pd)) 
		{
			eval(import_module(\'logger\'));
			$clv = (int)\\skillbase\\skill_getvalue(63,\'t\',$pd);
			if ($clv==0)	
			{
				$ep = (int)\\skillbase\\skill_getvalue(63,\'p\',$pd);
				if ($pa[\'pid\']==$ep)	
				{
					if ($active)
						$log.=\'<span class="yellow">由于你被噩梦缠绕，你对其造成的最终伤害减少了20%！</span><br>\';
					else  $log.=\'<span class="yellow">由于敌人被噩梦缠绕，其对你造成的最终伤害减少了20%！</span><br>\';
					$r=Array(0.8);
				}
			}
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill63/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill63\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"red\\">「噩梦」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill63/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL64_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[64] = \'索魂\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill64/main.php',
)

Array\acquire64 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill64/main.php',
)

Array\lost64 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill64/main.php',
)

Array\check_unlocked64 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=15;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill64/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		if (\\skillbase\\skill_query(64,$pa) && check_unlocked64($pa))
		{
			eval(import_module(\'weapon\',\'logger\'));
			if ($pa[\'bskill\']==60)
				$arr=Array(0,1,2,3);
			else  $arr=Array(rand(0,3));
			$tmp_log = array();
			for ($i=0; $i<=3; $i++){
				if (in_array($i,$arr))
				{
					$dice = rand(3,5);
					if ($i==0)
					{
						
						$pa[\'mhp\']+=$dice; $pa[\'msp\']+=$dice;
						$tmp_log[] = "<span class=\'yellow\'>最大生命和最大体力</span>增加了{$dice}点";
					}
					if ($i==1)
					{
						
						\\lvlctl\\getexp($dice,$pa);
						$tmp_log[] = "<span class=\'yellow\'>经验值</span>增加了{$dice}点";
					}
					if ($i==2)
					{
						
						foreach (array_unique(array_values($skillinfo)) as $key)
							$pa[$key]+=$dice;
						$tmp_log[] = "<span class=\'yellow\'>全系熟练度</span>增加了{$dice}点";
					}
					if ($i==3)
					{
						
						$pa[\'att\']+=$dice; $pa[\'def\']+=$dice;
						$tmp_log[] = "<span class=\'yellow\'>攻击力与防御力</span>增加了{$dice}点";
					}
				}	
			}
			if(!empty($tmp_log)){
				$log .= "你的".implode(\'，\',$tmp_log)."！<br>";
			}
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill64/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL203_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[203] = \'瞄准\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill203/main.php',
)

Array\acquire203 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill203/main.php',
)

Array\lost203 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill203/main.php',
)

Array\check_unlocked203 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill203/main.php',
)

Array\get_rage_cost203 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill203\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill203/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=203) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(203,$pa) || !check_unlocked203($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost203($pa);
			if (($pa[\'rage\']>=$rcost)&&($pa[\'wep_kind\']=="G"))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「瞄准」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「瞄准」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill203\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill203/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=203) return $chprocess($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)*1.15;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill203/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ($pa[\'bskill\']==203) 
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="yellow">「瞄准」使你造成的物理伤害提高了20%！</span><br>\';
			else  $log.=\'<span class="yellow">「瞄准」使敌人造成的物理伤害提高了20%！</span><br>\';
			$r=Array(1.2);
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill203/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill203\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「瞄准」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill203/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL209_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[209] = \'舞钢\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill209/main.php',
)

Array\acquire209 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill209/main.php',
)

Array\lost209 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill209/main.php',
)

Array\check_unlocked209 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=15;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill209/main.php',
)

Array\get_weapon_fluc_percentage ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(209,$pa))&&(check_unlocked209($pa))&&($pa[\'wep_kind\']==\'K\'))
			return abs($chprocess($pa, $pd, $active));
		else  return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill209/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL66_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[66] = \'人杰\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill66/main.php',
)

Array\acquire66 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill66/main.php',
)

Array\lost66 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill66/main.php',
)

Array\check_unlocked66 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=19;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill66/main.php',
)

Array\get_skill ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(66,$pa) || !check_unlocked66($pa)) return $chprocess($pa, $pd, $active);
		eval(import_module(\'weapon\'));
		$max_skill=0;
		foreach (array_unique(array_values($skillinfo)) as $key)
			$max_skill=max($max_skill,\\weapon\\get_skill_by_kind($pa, $pd, $active, $key));
		return $max_skill;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill66/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL70_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill70/main.php',
)

Array\acquire70 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'skillpoint\']+=5;
		eval(import_module(\'weapon\'));
		foreach (array_unique(array_values($skillinfo)) as $key)
			$pa[$key]+=5;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill70/main.php',
)

Array\lost70 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill70/main.php',
)

Array\check_unlocked70 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill70/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa);
		eval(import_module(\'lvlctl\'));
		if (\\skillbase\\skill_query(70,$pa) && $pa[\'lvl\']%2==0)
			$lvupskpt ++;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill70/main.php',
)

Array\get_skill_by_kind ====> array (
  'vars' => '&$pa, &$pd, $active, $wep_kind',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(70,$pa)) return $chprocess($pa,$pd,$active,$wep_kind);
		eval(import_module(\'weapon\'));
		$fsk=$chprocess($pa,$pd,$active,$wep_kind);
		$r70=0.25;
		if ($pa[\'lvl\']>=19) $r70=0.55;
		foreach (array_unique(array_values($skillinfo)) as $key)
			if ($key!=$wep_kind)
				$fsk+=$r70*$pa[$key];
		$fsk=round($fsk);
		return $fsk;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill70/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL71_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[71] = \'解构\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill71/main.php',
)

Array\acquire71 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill71/main.php',
)

Array\lost71 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill71/main.php',
)

Array\check_unlocked71 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill71/main.php',
)

Array\get_rage_cost71 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill71\'));
		if ($pa===NULL)
		{
			eval(import_module(\'player\'));
			$clb=$club;
		}
		else  $club=$pa[\'club\'];
		return ($club==18?18:25);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill71/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=71) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(71,$pa) || !check_unlocked71($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost71($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「解构」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「解构」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill71\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill71/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ($pa[\'bskill\']==71) 
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="yellow">「解构」使你造成的物理伤害提高了20%！</span><br>\';
			else  $log.=\'<span class="yellow">「解构」使敌人造成的物理伤害提高了20%！</span><br>\';
			$r=Array(1.2);
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill71/main.php',
)

Array\calculate_skill71_expgain ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$coef=($pa[\'club\']==18?0.15:0.3);
		return max(0,round($pd[\'lvl\']-$pa[\'lvl\']*$coef));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill71/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa,$pd,$active);
		if ($pa[\'bskill\']==71)
		{
			eval(import_module(\'logger\'));
			$expgain=calculate_skill71_expgain($pa,$pd,$active);
			if ($active)
				$log.=\'<span class="yellow">「解构」使你获得了额外\'.$expgain.\'点经验！</span><br>\';
			else  $log.=\'<span class="yellow">「解构」使敌人获得了额外\'.$expgain.\'点经验！</span><br>\';
			\\lvlctl\\getexp($expgain,$pa);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill71/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill71\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「解构」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill71/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL74_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[74] = \'心火\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill74/main.php',
)

Array\acquire74 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill74/main.php',
)

Array\lost74 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill74/main.php',
)

Array\check_unlocked74 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=19;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill74/main.php',
)

Array\get_rage_cost74 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill74\'));
		if ($pa===NULL)
		{
			eval(import_module(\'player\'));
			$clb=$club;
		}
		else  $club=$pa[\'club\'];
		return ($club==9?60:85);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill74/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=74) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(74,$pa) || !check_unlocked74($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost74($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「心火」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「心火」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill74\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill74/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ($pa[\'bskill\']==74) 
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="lime">你对敌人释放出必杀技！</span><br>\';
			else  $log.=\'<span class="lime">敌人对你释放出必杀技！</span><br>\';
			$x=($pa[\'club\']==9?2:1.7);
			$r=Array($x);
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill74/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill74\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「心火」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill74/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL213_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[213] = \'反思\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill213/main.php',
)

Array\acquire213 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill213/main.php',
)

Array\lost213 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill213/main.php',
)

Array\check_unlocked213 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill213/main.php',
)

Array\apply_attack_exp_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa,$pd,$active);
		
		eval(import_module(\'lvlctl\'));
		if (($pa[\'physical_dmg_dealt\'] <= 0)&&(\\skillbase\\skill_query(213,$pa))&&(check_unlocked213($pa))&&($pa[\'wep_kind\']==\'D\')) 
			\\lvlctl\\getexp(1,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill213/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL216_INFO\',\'club;battle;limited;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[216] = \'双响\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill216/main.php',
)

Array\acquire216 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(216,\'rmtime\',\'2\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill216/main.php',
)

Array\lost216 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill216/main.php',
)

Array\check_unlocked216 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=19;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill216/main.php',
)

Array\get_remaintime216 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return \\skillbase\\skill_getvalue(216,\'rmtime\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill216/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=216) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(216,$pa) || !check_unlocked216($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$remtime = (int)get_remaintime216($pa);
			if (($remtime>=1)&&($pa[\'wep_kind\']=="D"))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「双响」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「双响」！</span><br>";
				$remtime--; 
				\\skillbase\\skill_setvalue(216,\'rmtime\',$remtime,$pa);
				addnews ( 0, \'bskill216\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill216/main.php',
)

Array\attack ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa,$pd,$active);
		eval(import_module(\'logger\'));
		if (($pa[\'bskill\']==216)&&($pa[\'wep_kind\']=="D")&&($pa[\'wepe\']>0)&&(($pa[\'weps\']>0)||($pa[\'weps\']==\'∞\'))){
			unset($pa[\'bskill\']);
			$log.="<span class=\\"yellow\\">你再一次引爆了爆炸物！</span><br>";
			$chprocess($pa,$pd,$active);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill216/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill216\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"red\\">「双响」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill216/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL404_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[404] = \'底力\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill404/main.php',
)

Array\acquire404 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(404,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill404/main.php',
)

Array\lost404 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(404,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill404/main.php',
)

Array\check_unlocked404 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill404/main.php',
)

Array\get_skill404_extdmg ====> array (
  'vars' => '&$pa,&$pd,&$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill404\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(404, $pa) || !check_unlocked404($pa)) return 0;
		if ($active) $log .= "<span class=\\"red\\">身负重伤的你反而越战越勇！</span><br>";
			else $log .= "<span class=\\"red\\">身负重伤的{$pa[\'name\']}反而越战越勇！</span><br>";
		$r = $extdmg[\\skillbase\\skill_getvalue(404,\'lvl\',$pa)];
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill404/main.php',
)

Array\get_fixed_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(404,$pa) || !check_unlocked404($pa) ||($pa[\'hp\']>($pa[\'mhp\']/2))) return $chprocess($pa,$pd,$active);
		$var_404=get_skill404_extdmg($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)+$var_404;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill404/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL405_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[405] = \'疾走\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill405/main.php',
)

Array\acquire405 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill405/main.php',
)

Array\lost405 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill405/main.php',
)

Array\check_unlocked405 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill405/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ((\\skillbase\\skill_query(405,$pa))&&(check_unlocked405($pa))&&(($pa[\'wep_kind\']==\'K\')||($pa[\'wep_kind\']==\'D\')))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">「疾走」使你造成的最终伤害提高了20%！</span><br>";
			else  $log.="<span class=\\"yellow\\">「疾走」使敌人造成的最终伤害提高了20%！</span><br>";
			$r=Array(1.2);	
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill405/main.php',
)

Array\calculate_hide_obbs ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(405,$edata) || !check_unlocked405($edata)) return $chprocess($edata);
		return $chprocess($edata)+15;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill405/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL406_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[406] = \'心火\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill406/main.php',
)

Array\acquire406 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill406/main.php',
)

Array\lost406 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill406/main.php',
)

Array\check_unlocked406 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill406/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ((\\skillbase\\skill_query(406,$pa))&&(check_unlocked406($pa)))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">「心火」使你造成的最终伤害提高了100%！</span><br>";
			else  $log.="<span class=\\"yellow\\">「心火」使敌人造成的最终伤害提高了100%！</span><br>";
			$r=Array(2);	
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill406/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL403_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[403] = \'追击\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill403/main.php',
)

Array\acquire403 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(403,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill403/main.php',
)

Array\lost403 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(403,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill403/main.php',
)

Array\check_unlocked403 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill403/main.php',
)

Array\get_skill403_procrate ====> array (
  'vars' => '&$pa,&$pd,&$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill403\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(403, $pa) || !check_unlocked403($pa)) return 0;
		$r = $procrate[\\skillbase\\skill_getvalue(403,\'lvl\',$pa)];
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill403/main.php',
)

Array\attack ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa,$pd,$active);
		eval(import_module(\'logger\',\'skill403\'));
		$var_403=get_skill403_procrate($pa,$pd,$active);
		while (rand(0,99)<$var_403){
			$log.="<span class=\\"clan\\">追加攻击！</span><br>";
			$chprocess($pa,$pd,$active);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill403/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL400_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[400] = \'重击\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill400/main.php',
)

Array\acquire400 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(400,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill400/main.php',
)

Array\lost400 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(400,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill400/main.php',
)

Array\check_unlocked400 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill400/main.php',
)

Array\check_skill400_proc ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill400\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(400, $pa) || !check_unlocked400($pa)) return Array();
		$l400=\\skillbase\\skill_getvalue(400,\'lvl\',$pa);
		if (rand(0,99)<$procrate[$l400])
		{
			if ($active){
				if ($l400>=5)
					$log.="<span class=\\"yellow\\">你朝{$pd[\'name\']}打出了猛烈的一击！</span><br>";
				else
					$log.="<span class=\\"yellow\\">你朝{$pd[\'name\']}打出了重击！</span><br>";
			}else{
				if ($l400>=5)
					$log.="<span class=\\"yellow\\">{$pa[\'name\']}朝你打出了猛烈的一击！</span><br>";
				else
					$log.="<span class=\\"yellow\\">{$pa[\'name\']}朝你打出了重击！</span><br>";
			}
			$dmggain = (100+$attgain[$l400])/100;
			return Array($dmggain);
		}
		return Array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill400/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = check_skill400_proc($pa,$pd,$active);
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill400/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL402_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[402] = \'直死\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill402/main.php',
)

Array\acquire402 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(402,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill402/main.php',
)

Array\lost402 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(402,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill402/main.php',
)

Array\check_unlocked402 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill402/main.php',
)

Array\get_skill402_procrate ====> array (
  'vars' => '&$pa,&$pd,&$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill402\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(402, $pa) || !check_unlocked402($pa)) return 0;
		$r = $procrate[\\skillbase\\skill_getvalue(402,\'lvl\',$pa)];
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill402/main.php',
)

Array\apply_total_damage_modifier_up ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(402,$pa) || !check_unlocked402($pa)) return $chprocess($pa,$pd,$active);
		$chprocess($pa,$pd,$active);
		$var_402=get_skill402_procrate($pa,$pd,$active);
		if ((rand(0,99)<$var_402)&&(($pd[\'mhp\']<5000000)||($var_402>=10))){
			$pa[\'dmg_dealt\']=$pd[\'hp\'];
			if ($pa[\'dmg_dealt\']<100000000) $pa[\'dmg_dealt\']=100000000;
			eval(import_module(\'logger\'));
			if ($active) $log .= "<span class=\\"red\\">一股来自东方的神秘力量直接杀死了你的敌人！</span><br>";
			else $log .= "<span class=\\"red\\">一股来自东方的神秘力量直接杀死了你！</span><br>";
		}
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill402/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL401_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[401] = \'硬化\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill401/main.php',
)

Array\acquire401 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(401,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill401/main.php',
)

Array\lost401 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(401,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill401/main.php',
)

Array\check_unlocked401 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill401/main.php',
)

Array\check_skill401_proc ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill401\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(401, $pd) || !check_unlocked401($pd)) return Array();
		$l401=\\skillbase\\skill_getvalue(401,\'lvl\',$pd);
		if ($l401>0){
			if ($active){
				if ($l401==5)
					$log.="<span class=\\"yellow\\">{$pd[\'name\']}的护甲使其几乎刀枪不入！</span><br>";
				else  
					$log.="<span class=\\"yellow\\">{$pd[\'name\']}坚硬的护甲减少了你造成的物理伤害！</span><br>";
			}else{
				if ($l401==5)
					$log.="<span class=\\"yellow\\">你的护甲使你几乎刀枪不入！</span><br>";
				else  
					$log.="<span class=\\"yellow\\">你坚硬的护甲减少了{$pa[\'name\']}造成的物理伤害！</span><br>";
			}
			$dmggain = (100-$dmgreduce[$l401])/100;
			return Array($dmggain);
		}
		return Array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill401/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = check_skill401_proc($pa,$pd,$active);
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill401/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL225_INFO\',\'club;hidden;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[225] = \'高速\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill225/main.php',
)

Array\acquire225 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill225/main.php',
)

Array\lost225 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill225/main.php',
)

Array\calculate_attack_weapon_skill_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(225,$pa)) return (1+$chprocess($pa,$pd,$active));
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill225/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL226_INFO\',\'club;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[226] = \'神智\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill226/main.php',
)

Array\acquire226 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill226/main.php',
)

Array\lost226 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill226/main.php',
)

Array\check_unlocked226 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=7;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill226/main.php',
)

Array\apply_attack_exp_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa,$pd,$active);
		
		eval(import_module(\'lvlctl\'));
		if (($pa[\'physical_dmg_dealt\']>0)&&(\\skillbase\\skill_query(226,$pa))&&(check_unlocked226($pa))) 
			\\lvlctl\\getexp(1,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill226/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL229_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[229] = \'神功\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill229/main.php',
)

Array\acquire229 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill229/main.php',
)

Array\lost229 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill229/main.php',
)

Array\check_unlocked229 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=18;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill229/main.php',
)

Array\calculate_attack_weapon_skill_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(229,$pa))&&(check_unlocked229($pa))) return (1+$chprocess($pa,$pd,$active));
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill229/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL408_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[408] = \'菁英\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill408/main.php',
)

Array\acquire408 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(408,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill408/main.php',
)

Array\lost408 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill408/main.php',
)

Array\check_unlocked408 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill408/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ((\\skillbase\\skill_query(408,$pa))&&(check_unlocked408($pa)))
		{
			eval(import_module(\'logger\',\'skill408\',\'weapon\'));
			$l408=\\skillbase\\skill_getvalue(408,\'lvl\',$pa);
			$var_408=0;
			if ($l408==1){
				if ($pa[\'wep_kind\']==\'P\') $var_408=20;
				if ($pa[\'wep_kind\']==\'N\') $var_408=40;
			}else if ($l408==2){
				if ($pa[\'wep_kind\']==\'G\') $var_408=20;
			}else if ($l408==3){
				if ($pa[\'wep_kind\']==\'K\') $var_408=20;
				if ($pa[\'wep_kind\']==\'C\') $var_408=15;
			}else if ($l408==4){
				if ($pa[\'wep_kind\']==\'D\') $var_408=15;
			}else if ($l408==5){
				$var_408=$rangeinfo[$pd[\'wepk\'][1]]*3;
				if ($var_408==0) $var_408=24;
			}
			if ($var_408>0){
				if ($active)
					$log.="<span class=\\"yellow\\">「菁英」使你造成的最终伤害提高了{$var_408}%！</span><br>";
				else  $log.="<span class=\\"yellow\\">「菁英」使敌人造成的最终伤害提高了{$var_408}%！</span><br>";
				$r=Array(1+$var_408/100);
			}
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill408/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL409_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[409] = \'不动\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill409/main.php',
)

Array\acquire409 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill409/main.php',
)

Array\lost409 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill409/main.php',
)

Array\check_unlocked409 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill409/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ((\\skillbase\\skill_query(409,$pd))&&(check_unlocked409($pd)))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">「不动」使敌人受到的最终伤害降低了10%！</span><br>";
			else  $log.="<span class=\\"yellow\\">「不动」使你受到的最终伤害降低了10%！</span><br>";
			$r=Array(0.9);	
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill409/main.php',
)

Array\get_trap_damage_multiplier ====> array (
  'vars' => '&$pa, &$pd, $trap, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if (\\skillbase\\skill_query(409,$pd)) 
		{
			eval(import_module(\'logger\'));
			$log.=\'「不动」使你受到的陷阱伤害降低了10%！<br>\';
			$r=Array(0.9);
		}
		return array_merge($r,$chprocess($pa,$pd,$trap,$damage));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill409/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL415_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[415] = \'影像\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill415/main.php',
)

Array\acquire415 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(415,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill415/main.php',
)

Array\lost415 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(415,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill415/main.php',
)

Array\check_unlocked415 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill415/main.php',
)

Array\apply_total_damage_modifier_down ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(415,$pd) || !check_unlocked415($pd)) return $chprocess($pa,$pd,$active);
		eval(import_module(\'logger\'));
		$var_415=\\skillbase\\skill_getvalue(415,\'lvl\',$pd);
		$pa[\'dmg_dealt\']=(int)$pa[\'dmg_dealt\'];
		if (($var_415==0)&&(($pa[\'dmg_dealt\']%2)==0)){
			$tz=1;
			while ($pa[\'dmg_dealt\']>0 && ($pa[\'dmg_dealt\']%2)==0) 
			{
				$pa[\'dmg_dealt\']=floor($pa[\'dmg_dealt\']/2);	
				$tz*=2;
			}
			if ($tz>1)
			{
				if ($active) 
					$log .= "<span class=\\"yellow\\">你的攻击被敌人的技能「影像」防御了，伤害降低至{$tz}分之1！</span><br>";
				else 
					$log .= "<span class=\\"yellow\\">敌人的攻击被你的技能「影像」防御了，伤害降低至{$tz}分之1！</span><br>";
			}
		}
		if (($var_415==1)&&(($pa[\'dmg_dealt\']%1000)!=666)){
			$pa[\'dmg_dealt\']=0;
			if ($active) $log .= "<span class=\\"yellow\\">敌人的技能「影像」使你的攻击没有造成任何效果！</span><br>";
			else $log .= "<span class=\\"yellow\\">你的技能「影像」使敌人的攻击没有造成任何效果！</span><br>";
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill415/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL412_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[412] = \'反演\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill412/main.php',
)

Array\acquire412 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill412/main.php',
)

Array\lost412 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill412/main.php',
)

Array\check_unlocked412 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill412/main.php',
)

Array\calculate_mobius_function ====> array (
  'vars' => '$val',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$val=(int)$val;
		if ($val>1e11) return 0;	
		$x=2; $c=0;
		while ($x<$val/$x+2)
		{
			if ($val%$x==0) 
			{
				$c++; $val/=$x;
				if ($val%$x==0) return 0;
			}
			$x++;
		}
		if ($x!=1) $c++;
		if ($c%2==0) return 1; else return -1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill412/main.php',
)

Array\apply_total_damage_change ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(412,$pd) && check_unlocked412($pd) && $pa[\'dmg_dealt\']>0)
		{
			eval(import_module(\'logger\'));
			$t=calculate_mobius_function($pa[\'dmg_dealt\']);
			if ($t==0)
			{
				
				$log.=\'<span class="lime">只见敌人周围突然出现了奇怪的呈U形的力场，你的伤害似乎被力场完全吸收了。</span><br>\';
				$pa[\'dmg_dealt\']=0;
			}
			else  if ($t==1)
			{
				
				$log.=\'<span class="lime">只见敌人周围突然出现了奇怪的呈U形的力场，但是你的攻击势不可挡地击穿了它。</span><br>\';
			}
			else  
			{
				
				$pa[\'mobiusflag\'] = 1;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill412/main.php',
)

Array\apply_damage ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		if(isset($pa[\'mobiusflag\']) && $pa[\'mobiusflag\']) {
			unset($pa[\'mobiusflag\']);
			$log.=\'<span class="lime">只见敌人周围突然出现了奇怪的呈U形的力场，你造成的伤害竟然被反弹了回来！</span><br>\';
			$log.="<span class=\\"red\\">你受到了{$pa[\'dmg_dealt\']}点伤害！</span><br>";
			\\attack\\post_damage_news($pd, $pa, 1-$active, $pa[\'dmg_dealt\']);
			$pa[\'hp\']-=$pa[\'dmg_dealt\'];
			if ($pa[\'hp\']<0) $pa[\'hp\']=0;
			$pa[\'dmg_dealt\']=0;
			if ($pa[\'hp\']<=0)
			{
				$pa[\'deathmark\']=39;
				
			}
		}
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill412/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'death39\') {
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"red\\">$c</span>的反演力场反弹伤害而亡{$e0}</li>";
		}
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill412/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL416_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[416] = \'团结\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill416/main.php',
)

Array\acquire416 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(416,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill416/main.php',
)

Array\lost416 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill416/main.php',
)

Array\check_unlocked416 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill416/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ((\\skillbase\\skill_query(416,$pa))&&(check_unlocked416($pa)))
		{
			eval(import_module(\'skill416\',\'logger\'));
			$l416=\\skillbase\\skill_getvalue(416,\'lvl\',$pa);
			if ($pd[\'type\']==0){
				if ($l416==0){
					if ($active)
						$log.="<span class=\\"yellow\\">「团结」使你造成的最终伤害降低了50%！</span><br>";
					else  $log.="<span class=\\"yellow\\">「团结」使敌人造成的最终伤害降低了50%！</span><br>";
					$r=Array(0.5);
				}else if ($l416==1){
					if ($active)
						$log.="<span class=\\"yellow\\">「独斗」使你造成的最终伤害提高了10%！</span><br>";
					else  $log.="<span class=\\"yellow\\">「独斗」使敌人造成的最终伤害提高了10%！</span><br>";
					$r=Array(1.1);
				}
			}else{
				if ($l416==0){
					if ($active)
						$log.="<span class=\\"yellow\\">「团结」使你造成的最终伤害提高了30%！</span><br>";
					else  $log.="<span class=\\"yellow\\">「团结」使敌人造成的最终伤害提高了30%！</span><br>";
					$r=Array(1.3);
				}else if ($l416==1){
					if ($active)
						$log.="<span class=\\"yellow\\">「独斗」使你造成的最终伤害降低了10%！</span><br>";
					else  $log.="<span class=\\"yellow\\">「独斗」使敌人造成的最终伤害降低了10%！</span><br>";
					$r=Array(0.9);
				}
			}
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill416/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL419_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[419] = \'暗夜\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill419/main.php',
)

Array\acquire419 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill419/main.php',
)

Array\lost419 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill419/main.php',
)

Array\check_unlocked419 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		list($sec,$min,$hour,$day,$month,$year,$wday) = explode(\',\',date("s,i,H,j,n,Y,w",$now));
		if (($hour>=1)&&($hour<7)) return 1;
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill419/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ((\\skillbase\\skill_query(419,$pa))&&(check_unlocked419($pa)))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">「暗夜」使你造成的最终伤害提高了12%！</span><br>";
			else  $log.="<span class=\\"yellow\\">「暗夜」使敌人造成的最终伤害提高了12%！</span><br>";
			$r=Array(1.12);	
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill419/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL414_INFO\',\'card;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[414] = \'鹰眼\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill414/main.php',
)

Array\acquire414 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill414\'));
		\\skillbase\\skill_setvalue(414,\'lastuse\',-3000,$pa);
		\\skillbase\\skill_setvalue(414,\'dur\',0,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill414/main.php',
)

Array\lost414 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill414/main.php',
)

Array\check_unlocked414 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill414/main.php',
)

Array\activate414 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill414\',\'player\',\'logger\',\'sys\'));
		\\player\\update_sdata();
		if (!\\skillbase\\skill_query(414) || !check_unlocked414($sdata))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$st = check_skill414_state($sdata);
		if ($st==0){
			$log.=\'你不能使用这个技能！<br>\';
			return;
		}
		if ($st==1){
			$log.=\'你已经发动过这个技能了！<br>\';
			return;
		}
		if ($st==2){
			$log.=\'技能冷却中！<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(414,\'dur\',600+$wc*4);
		\\skillbase\\skill_setvalue(414,\'lastuse\',$now);
		addnews ( 0, \'bskill414\', $name );
		$log.=\'<span class="lime">技能「鹰眼」发动成功。</span><br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill414/main.php',
)

Array\check_skill414_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(414, $pa) || !check_unlocked414($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill414\'));
		$l=\\skillbase\\skill_getvalue(414,\'lastuse\',$pa);
		$d=\\skillbase\\skill_getvalue(414,\'dur\',$pa);
		if (($now-$l)<=$d) return 1;
		if (($now-$l)<=$d+$skill414_cd) return 2;
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill414/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(414,$pa) || !(check_skill414_state($pa)==1) || $pa[\'wep_kind\']==\'D\' || $pa[\'wepk\']==\'WJ\') return $chprocess($pa, $pd, $active);
		return 10000;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill414/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(414,$sdata))&&check_unlocked414($sdata))
		{
			eval(import_module(\'skill414\'));
			$skill414_lst = (int)\\skillbase\\skill_getvalue(414,\'lastuse\'); 
			$skill414_dur = (int)\\skillbase\\skill_getvalue(414,\'dur\'); 
			$skill414_time = $now-$skill414_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「鹰眼」\',
				\'activate_hint\' => \'点击发动技能「鹰眼」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill414_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill414_time<$skill414_dur)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=$skill414_dur;
				$z[\'nowsec\']=$skill414_time;
			}
			else  if ($skill414_time<$skill414_dur+$skill414_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill414_cd;
				$z[\'nowsec\']=$skill414_time-$skill414_dur;
				\\skillbase\\skill_lost(414);
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill414.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill414/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill414\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「鹰眼」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill414/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL423_INFO\',\'card;unique;hidden;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[423] = \'魔鬼\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill423/main.php',
)

Array\acquire423 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(423,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill423/main.php',
)

Array\lost423 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(423,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill423/main.php',
)

Array\check_unlocked423 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill423/main.php',
)

Array\apply_total_damage_modifier_down ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(423,$pd) || !check_unlocked423($pd)) return $chprocess($pa,$pd,$active);
		eval(import_module(\'logger\'));
		if ($pa[\'type\']==88){
			$pa[\'dmg_dealt\']=0;
			if ($active) $log .= "<span class=\\"yellow\\">你的攻击被敌人完全吸收了！</span><br>";
			else $log .= "<span class=\\"yellow\\">敌人的攻击被你完全吸收了！</span><br>";
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill423/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL239_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[239] = \'对偶\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill239/main.php',
)

Array\acquire239 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(239,\'lvl\',\'0\',$pa);
		\\skillbase\\skill_setvalue(239,\'spent\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill239/main.php',
)

Array\lost239 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill239/main.php',
)

Array\check_unlocked239 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill239/main.php',
)

Array\upgrade239 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill239\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(239))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(239,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(239,\'lvl\',$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill239/main.php',
)

Array\get_skill239_percentage ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill239\',\'player\',\'logger\'));
		$clv = (int)\\skillbase\\skill_getvalue(239,\'lvl\',$pa);
		return $sk239_ratio[$clv];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill239/main.php',
)

Array\get_skill ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		if (!\\skillbase\\skill_query(239, $pa) || !check_unlocked239($pa)) return $chprocess($pa,$pd,$active);
		return $chprocess($pa,$pd,$active)+round($pa[\'att\']*get_skill239_percentage($pa, $pd, $active)/100.0);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill239/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL437_INFO\',\'card;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[437] = \'EM\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill437/main.php',
)

Array\acquire437 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill437/main.php',
)

Array\lost437 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill437/main.php',
)

Array\check_unlocked437 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill437/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'map\',\'player\',\'logger\',\'metman\',\'input\',\'weapon\'));
		if($mode == \'combat\') 
		{
			if ($command == \'back\') 
			{
				if ((\\skillbase\\skill_query(437))&&(check_unlocked437())){
					${$skillinfo[substr($wepk,1,1)]}+=3;
					\\lvlctl\\getexp(2);
				}
			}
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill437/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL438_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[438] = \'挽鸽\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill438/main.php',
)

Array\acquire438 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill438\'));
		$t438=$now-$starttime;
		$r438=115;
		if ($t438>300) $r438=125;
		if ($t438>600) $r438=150;
		if ($t438>900) $r438=175;
		if ($t438>1200) $r438=200;
		\\skillbase\\skill_setvalue(438,\'rate\',$r438,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill438/main.php',
)

Array\lost438 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill438/main.php',
)

Array\check_unlocked438 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill438/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ((\\skillbase\\skill_query(438,$pa))&&(check_unlocked438($pa)))
		{
			eval(import_module(\'logger\',\'skill438\'));
			$r438=\\skillbase\\skill_getvalue(438,\'rate\',$pa);
			$r=Array(($r438/100));	
			$r438-=100;
			if ($active)
				$log.="<span class=\\"yellow\\">「挽鸽」使你造成的最终伤害提高了{$r438}%！</span><br>";
			else  $log.="<span class=\\"yellow\\">「挽鸽」使敌人造成的最终伤害提高了{$r438}%！</span><br>";
			
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill438/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL439_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[439] = \'面子\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill439/main.php',
)

Array\acquire439 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(439,\'type\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill439/main.php',
)

Array\lost439 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(439,\'type\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill439/main.php',
)

Array\check_unlocked439 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill439/main.php',
)

Array\apply_total_damage_modifier_down ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(439,$pd) || !check_unlocked439($pd)) return $chprocess($pa,$pd,$active);
		if ($pa[\'dmg_dealt\']<=0) return $chprocess($pa,$pd,$active);
		eval(import_module(\'logger\'));
		$var_439=\\skillbase\\skill_getvalue(439,\'type\',$pd);
		if ($var_439!=$pa[\'wep_kind\']){
			\\skillbase\\skill_setvalue(439,\'type\',$pa[\'wep_kind\'],$pd);
		}else{
			\\skillbase\\skill_setvalue(439,\'type\',\'0\',$pd);
			if ($active) 
				$log .= "<span class=\\"yellow\\">黄翔把你的攻击方式ban了，造成的伤害降低75%！</span><br>";
			else 
				$log .= "<span class=\\"yellow\\">黄翔把敌人的攻击方式ban了，造成的伤害降低75%！</span><br>";
			$pa[\'dmg_dealt\']=ceil($pa[\'dmg_dealt\']/4);
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill439/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL440_INFO\',\'card;battle;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[440] = \'父爱\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill440/main.php',
)

Array\acquire440 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill440\'));
		\\skillbase\\skill_setvalue(440,\'lastuse\',$now,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill440/main.php',
)

Array\lost440 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill440/main.php',
)

Array\check_unlocked440 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill440/main.php',
)

Array\check_skill440_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(440, $pa) || !check_unlocked440($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill440\'));
		$l=\\skillbase\\skill_getvalue(440,\'lastuse\',$pa);
		if (($now-$l)<=$skill440_cd) return 2;
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill440/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=440) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(440,$pa) || !check_unlocked440($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			eval(import_module(\'sys\',\'skill440\'));
			$l=\\skillbase\\skill_getvalue(440,\'lastuse\',$pa);
			if (($pd[\'type\']==0)&&(($now-$l)>=$skill440_cd)){
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「父爱」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「父爱」！</span><br>";
				\\skillbase\\skill_setvalue(440,\'lastuse\',$now,$pa);
				$pd[\'skill440_flag\']=1;
				addnews ( 0, \'bskill440\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'因对方非玩家或其他原因而未发动技能。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill440/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(440,$sdata))&&check_unlocked440($sdata))
		{
			eval(import_module(\'skill440\'));
			$skill440_lst = (int)\\skillbase\\skill_getvalue(440,\'lastuse\'); 
			$skill440_time = $now-$skill440_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'战斗技「父爱」\',
				\'activate_hint\' => \'战斗技「父爱」已就绪<br>在战斗界面可以发动\',
				\'onclick\' => "",
			);
			if ($skill440_time<$skill440_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill440_cd;
				$z[\'nowsec\']=$skill440_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill440.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill440/main.php',
)

Array\skill_query ====> array (
  'vars' => '$skillid, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skillbase\'));
		$skillid=(int)$skillid;
		if ($pa!=NULL && isset($pa[\'skill440_flag\']) && $pa[\'skill440_flag\'])
		{
			
			if (!\\skillbase\\check_skill_info($skillid,\'achievement\') && !\\skillbase\\check_skill_info($skillid,\'hidden\'))
				return 0;
		}
		return $chprocess($skillid,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill440/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=440) return $chprocess($pa, $pd, $active);
		eval(import_module(\'logger\',\'skill440\',\'skill600\',\'sys\'));
		$var_440=40;
		if (!\\skillbase\\skill_query(600,$pd)){
			\\skillbase\\skill_acquire(600,$pd);
			$var_440_2=$now;
		}else{
			$var_440_2=\\skillbase\\skill_getvalue(600,\'end\',$pd);
			if ($var_440_2<$now) $var_440_2=$now;
		}
		\\skillbase\\skill_setvalue(600,\'start\',$var_440_2,$pd);
		\\skillbase\\skill_setvalue(600,\'end\',$var_440_2+$var_440,$pd);
		if (strpos($pd[\'inf\'],\'u\')===false)
		{
			$pd[\'inf\'].=\'u\';
		}
		if (strpos($pd[\'inf\'],\'p\')===false)
		{
			$pd[\'inf\'].=\'p\';
		}
		if ($active)
			$log.=\'<span class="red">敌人已经大难临头了！</span><br>\';
		else  $log.="<span class=\\"red\\">你已经大难临头了！</span><br>";
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill440/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill440\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「父爱」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill440/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL442_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[442] = \'E术\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill442/main.php',
)

Array\acquire442 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill442/main.php',
)

Array\lost442 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill442/main.php',
)

Array\check_unlocked442 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill442/main.php',
)

Array\get_weapon_fluc_percentage ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(442,$pa))&&(check_unlocked442($pa)))
			return (1.5*$chprocess($pa, $pd, $active));
		else  return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill442/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL446_INFO\',\'card;upgrade;locked;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[446] = \'死线\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill446/main.php',
)

Array\acquire446 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill446\'));
		\\skillbase\\skill_setvalue(446,\'lastuse\',0,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill446/main.php',
)

Array\lost446 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill446/main.php',
)

Array\check_unlocked446 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill446/main.php',
)

Array\activate446 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill446\',\'player\',\'logger\',\'sys\'));
		\\player\\update_sdata();
		if (!\\skillbase\\skill_query(446) || !check_unlocked446($sdata))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$st = check_skill446_state($sdata);
		if ($st==0){
			$log.=\'你不能使用这个技能！<br>\';
			return;
		}
		if ($st==1){
			$log.=\'你已经发动过这个技能了！<br>\';
			return;
		}
		if ($st==2){
			$log.=\'技能冷却中！<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(446,\'lastuse\',$now);
		addnews ( 0, \'bskill446\', $name );
		$log.=\'<span class="lime">技能「死线」发动成功。</span><br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill446/main.php',
)

Array\check_skill446_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(446, $pa) || !check_unlocked446($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill446\'));
		$l=\\skillbase\\skill_getvalue(446,\'lastuse\',$pa);
		if (($now-$l)<=$skill446_act_time) return 1;
		if (($now-$l)<=$skill446_act_time+$skill446_cd) return 2;
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill446/main.php',
)

Array\apply_total_damage_modifier_down ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(446,$pd) || !check_unlocked446($pd)) return $chprocess($pa,$pd,$active);
		eval(import_module(\'logger\',\'skill446\'));
		$var_446=check_skill446_state($pd);
		if ($var_446==1){
			$pa[\'dmg_dealt\']=0;
			if ($active) $log .= "<span class=\\"yellow\\">敌人的技能「死线」使你的攻击没有造成任何伤害！</span><br>";
			else $log .= "<span class=\\"yellow\\">你的技能「死线」使敌人的攻击没有造成任何伤害！</span><br>";
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill446/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(446,$sdata))&&check_unlocked446($sdata))
		{
			eval(import_module(\'skill446\'));
			$skill446_lst = (int)\\skillbase\\skill_getvalue(446,\'lastuse\'); 
			$skill446_time = $now-$skill446_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「死线」\',
				\'activate_hint\' => \'点击发动技能「死线」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill446_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill446_time<$skill446_act_time)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=$skill446_act_time;
				$z[\'nowsec\']=$skill446_time;
			}
			else  if ($skill446_time<$skill446_act_time+$skill446_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill446_cd;
				$z[\'nowsec\']=$skill446_time-$skill446_act_time;
				\\skillbase\\skill_lost(446);	
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill446.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill446/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill446\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「死线」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill446/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL447_INFO\',\'card;locked;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[447] = \'热寂\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill447/main.php',
)

Array\acquire447 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill447/main.php',
)

Array\lost447 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill447/main.php',
)

Array\check_unlocked447 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill447/main.php',
)

Array\apply_total_damage_modifier_up ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(447,$pa) || !check_unlocked447($pa)) return $chprocess($pa,$pd,$active);
		$chprocess($pa,$pd,$active);
		if ((($pd[\'hp\']*0.9)<$pa[\'dmg_dealt\'])&&($pd[\'hp\']>$pa[\'dmg_dealt\'])){
			$pa[\'dmg_dealt\']=$pd[\'hp\'];
			eval(import_module(\'logger\'));
			if ($active) $log .= "<span class=\\"clan\\">敌人的形体直接消失了，就像本来就没有存在过一样。</span><br>";
			else $log .= "<span class=\\"clan\\">你的形体直接消失了，就像本来就没有存在过一样。</span><br>";
		}
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill447/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL449_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[449] = \'一指\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill449/main.php',
)

Array\acquire449 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill449/main.php',
)

Array\lost449 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill449/main.php',
)

Array\check_unlocked449 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill449/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ((\\skillbase\\skill_query(449,$pa))&&(check_unlocked449($pa)))
		{
			eval(import_module(\'skill449\',\'logger\'));
			if ($pd[\'type\']==90){
				if ($active)
					$log.="<span class=\\"yellow\\">你对小兵的仇恨使你造成的最终伤害提高了8%！</span><br>";
				else  $log.="<span class=\\"yellow\\">敌人对小兵的仇恨使其造成的最终伤害提高了8%！</span><br>";
				$r=Array(1.08);
			}
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill449/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL450_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[450] = \'淘汰\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill450/main.php',
)

Array\acquire450 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill450/main.php',
)

Array\lost450 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill450/main.php',
)

Array\check_unlocked450 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill450/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ((\\skillbase\\skill_query(450,$pa))&&(check_unlocked450($pa)))
		{
			eval(import_module(\'skill450\',\'logger\'));
			if ($pd[\'hp\']<($pd[\'mhp\']*0.2)){
				if ($active)
					$log.="<span class=\\"yellow\\">「淘汰」使你造成的最终伤害提高了15%！</span><br>";
				else  $log.="<span class=\\"yellow\\">「淘汰」使敌人造成的最终伤害提高了15%！</span><br>";
				$r=Array(1.15);
			}
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill450/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(450,$pa) || !check_unlocked450($pa)) return $chprocess($pa, $pd, $active);
		if ($pd[\'hp\']<($pd[\'mhp\']*0.2)){
			return $chprocess($pa, $pd, $active)*1.1;
		}else return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill450/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL452_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[452] = \'转移\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill452/main.php',
)

Array\acquire452 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill452/main.php',
)

Array\lost452 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill452/main.php',
)

Array\check_unlocked452 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill452/main.php',
)

Array\battle_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(452,$pd)&&(check_unlocked452($pd))&&($pa[\'dmg_dealt\']>=150)&&($pd[\'hp\']>0))
		{
			eval(import_module(\'logger\',\'map\',\'sys\'));
			$plsnum = sizeof($plsinfo) - 1;
			$pls452 = $arealist[rand($areanum+1,$plsnum)];	
			if ($areanum+1 < $plsnum){
				while ($pls452==34) {$pls452 = $arealist[rand($areanum+1,$plsnum)];}
			}
			if ($active)
				$log.="<span class=\\"clan\\">{$pd[\'name\']}通过相位裂隙紧急转移到了{$plsinfo[$pls452]}！</span><br>";
			else  $log.="<span class=\\"clan\\">你通过相位裂隙紧急转移到了{$plsinfo[$pls452]}！</span><br>";
			$pd[\'pls\']=$pls452;
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill452/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL246_INFO\',\'club;upgrade;locked;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[246] = \'隐身\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill246/main.php',
)

Array\acquire246 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill246\'));
		\\skillbase\\skill_setvalue(246,\'lastuse\',0,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill246/main.php',
)

Array\lost246 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill246/main.php',
)

Array\check_unlocked246 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill246/main.php',
)

Array\activate246 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill246\',\'player\',\'logger\',\'sys\'));
		\\player\\update_sdata();
		if (!\\skillbase\\skill_query(246) || !check_unlocked246($sdata))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$st = check_skill246_state($sdata);
		if ($st==0){
			$log.=\'你不能使用这个技能！<br>\';
			return;
		}
		if ($st==1){
			$log.=\'你已经发动过这个技能了！<br>\';
			return;
		}
		if ($st==2){
			$log.=\'技能冷却中！<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(246,\'lastuse\',$now);
		$log.=\'<span class="lime">技能「隐身」发动成功。</span><br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill246/main.php',
)

Array\check_skill246_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(246, $pa) || !check_unlocked246($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill246\'));
		$l=\\skillbase\\skill_getvalue(246,\'lastuse\',$pa);
		if (($now-$l)<=$skill246_act_time) return 1;
		if (($now-$l)<=$skill246_act_time+$skill246_cd) return 2;
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill246/main.php',
)

Array\load_user_battleskill_command ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(246,$pdata) && check_skill246_state($pdata)==1)
			$pdata[\'bskill\']=246; 
		else  $chprocess($pdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill246/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=246) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(246,$pa) || check_skill246_state($pa)!=1)
		{
			eval(import_module(\'logger\'));
			$log .= \'你没有这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			eval(import_module(\'logger\'));
			$log .= \'<span class="yellow">敌人完全没有预料到你的存在，你对着措手不及的敌人发起了致命一击！</span><br>\';
			\\skillbase\\skill_lost(246, $pa);
			addnews ( 0, \'bskill246\', $pa[\'name\'], $pd[\'name\'] );
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill246/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=246) return $chprocess($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)*1.3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill246/main.php',
)

Array\check_alive_discover ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(246,$edata) && check_skill246_state($edata)==1)
			return 0;
		else  return $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill246/main.php',
)

Array\check_enemy_meet_active ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(246,$ldata) && check_skill246_state($ldata)==1)
			return 1;
		else  return $chprocess($ldata,$edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill246/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(246,$sdata))&&check_unlocked246($sdata))
		{
			eval(import_module(\'skill246\'));
			$skill246_lst = (int)\\skillbase\\skill_getvalue(246,\'lastuse\'); 
			$skill246_time = $now-$skill246_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「隐身」\',
				\'activate_hint\' => \'点击发动技能「隐身」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill246_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill246_time<$skill246_act_time)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=$skill246_act_time;
				$z[\'nowsec\']=$skill246_time;
			}
			else  if ($skill246_time<$skill246_act_time+$skill246_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill246_cd;
				$z[\'nowsec\']=$skill246_time-$skill246_act_time;
				\\skillbase\\skill_lost(246);	
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill246.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill246/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill246\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「破隐一击」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill246/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL453_INFO\',\'card;locked;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[453] = \'狂击\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill453/main.php',
)

Array\acquire453 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill453\'));
		\\skillbase\\skill_setvalue(453,\'lasthit\',$now,$pa);
		\\skillbase\\skill_setvalue(453,\'target\',\'\',$pa);
		\\skillbase\\skill_setvalue(453,\'tarpid\',0,$pa);
		\\skillbase\\skill_setvalue(453,\'cnt\',0,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill453/main.php',
)

Array\lost453 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill453/main.php',
)

Array\check_unlocked453 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill453/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if (\\skillbase\\skill_query(453,$pa) && !$pa[\'is_counter\']) 	
		{
			sk453_skill_status_update();
			eval(import_module(\'sys\',\'logger\'));
			$tarpid = (int)\\skillbase\\skill_getvalue(453,\'tarpid\',$pa); 
			$skill453_count = (int)\\skillbase\\skill_getvalue(453,\'cnt\',$pa); 
			
			if ($pd[\'pid\']!=$tarpid || $skill453_count==0)
			{
				
				$skill453_count=0;
				\\skillbase\\skill_setvalue(453,\'target\',$pd[\'name\'],$pa); 
				\\skillbase\\skill_setvalue(453,\'tarpid\',$pd[\'pid\'],$pa); 
			}
			$skill453_count++;
			$rat=$skill453_count*10;
			if ($active)
				$log.=\'<span class="yellow">你对敌人的连续攻击使伤害增加了\'.$rat.\'%！</span><br>\';
			else  $log.=\'<span class="yellow">敌人对你的连续攻击使伤害增加了\'.$rat.\'%！</span><br>\';
			$r=Array(1+$rat/100.0);
			\\skillbase\\skill_setvalue(453,\'cnt\',$skill453_count,$pa); 
			\\skillbase\\skill_setvalue(453,\'lasthit\',$now,$pa);
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill453/main.php',
)

Array\sk453_skill_status_update ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill453\'));
		$skill453_lst = (int)\\skillbase\\skill_getvalue(453,\'lasthit\'); 
		$skill453_count = (int)\\skillbase\\skill_getvalue(453,\'cnt\'); 
		
		$tm=$now-$skill453_lst;
		$down=floor($tm/$skill453_buff_lose_time);
		if ($down>0)
		{
			$skill453_count=max($skill453_count-$down,0);
			$skill453_lst+=$skill453_buff_lose_time*$down;
			\\skillbase\\skill_setvalue(453,\'lasthit\',$skill453_lst);
			\\skillbase\\skill_setvalue(453,\'cnt\',$skill453_count);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill453/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(453,$sdata))&&check_unlocked453($sdata))
		{
			sk453_skill_status_update();
			
			eval(import_module(\'skill453\'));
			$skill453_lst = (int)\\skillbase\\skill_getvalue(453,\'lasthit\'); 
			$skill453_target = \\skillbase\\skill_getvalue(453,\'target\'); 
			$skill453_count = (int)\\skillbase\\skill_getvalue(453,\'cnt\'); 
			$rat=$skill453_count*13;
			
			$nlostime = $skill453_buff_lose_time-($now-$skill453_lst);
			
			$z=Array(
				\'style\' => 3,
				\'disappear\' => 0,
				\'clickable\' => 1,
			);
			if ($skill453_count>0)
			{
				$z[\'activate_hint\'] = "你对{$skill453_target}造成的最终伤害将增加{$rat}%<br>{$nlostime}秒内没有攻击将会自动失去一层效果";
				$z[\'corner-text\'] = $skill453_count;
			}
			else
			{
				$z[\'activate_hint\'] = "你连续主动攻击同一目标时<br>造成的伤害每次增加10%";
			}
			
			\\bufficons\\bufficon_show(\'img/skill453.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill453/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL455_INFO\',\'card;upgrade;locked;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[455] = \'无敌\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill455/main.php',
)

Array\acquire455 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill455/main.php',
)

Array\lost455 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill455/main.php',
)

Array\check_unlocked455 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill455/main.php',
)

Array\apply_total_damage_modifier_down ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(455,$pd)) return $chprocess($pa,$pd,$active);
		eval(import_module(\'sys\',\'logger\',\'skill455\'));
		$x=$now-$starttime;
		if ($x<=$skill455_act_time && !in_array($pa[\'type\'],$skill455_no_effect_array)){	
			$pa[\'dmg_dealt\']=0;
			if ($active) $log .= "<span class=\\"yellow\\">敌人的技能「无敌」使你的攻击没有造成任何伤害！</span><br>";
			else $log .= "<span class=\\"yellow\\">你的技能「无敌」使敌人的攻击没有造成任何伤害！</span><br>";
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill455/main.php',
)

Array\kill ====> array (
  'vars' => '&$pa, &$pd',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa,$pd);
		
		eval(import_module(\'skill455\'));
		if (in_array($pd[\'state\'],Array(20,21,22,23,24,25,27,29)))
			if (\\skillbase\\skill_query(455,$pd) && in_array($pa[\'type\'],$skill455_no_effect_array))
			{
				eval(import_module(\'sys\',\'logger\'));
				$x=$now-$starttime;
				if ($x<=$skill455_act_time)
				{
					$log.="<span class=\\"clan\\">都告诉你了，无敌对某些NPC无效……快去死吧。</span><br>";
				}
			}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill455/main.php',
)

Array\get_trap_final_damage_modifier_down ====> array (
  'vars' => '&$pa, &$pd, $tritm, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(455,$pd)) return $chprocess($pa,$pd,$tritm,$damage);
		eval(import_module(\'sys\',\'logger\',\'skill455\'));
		$x=$now-$starttime;
		if ($x<=$skill455_act_time)
		{
			$log .= "<span class=\\"yellow\\">你的技能「无敌」使你免疫了陷阱伤害！</span><br>";
			return 0;
		}	
		return $chprocess($pa,$pd,$tritm,$damage);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill455/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(455,$sdata))&&check_unlocked455($sdata))
		{
			eval(import_module(\'skill455\'));
			$skill455_time = $now-$starttime; 
			$z=Array(
				\'disappear\' => 0,
			);
			if ($skill455_time<$skill455_act_time)
			{
				$z[\'clickable\'] = 1;
				$z[\'style\']=1;
				$z[\'totsec\']=$skill455_act_time;
				$z[\'nowsec\']=$skill455_time;
				$skill455_rm = $skill455_act_time-$skill455_time;
				$z[\'hint\'] = "技能「无敌」";
			}
			else  
			{
				$z[\'clickable\'] = 0;
				$z[\'style\']=3;
				$z[\'activate_hint\'] = "技能「无敌」生效时间已经结束";
			}
			\\bufficons\\bufficon_show(\'img/skill455.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill455/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL456_INFO\',\'card;upgrade;locked;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[456] = \'突击\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill456/main.php',
)

Array\acquire456 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill456/main.php',
)

Array\lost456 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill456/main.php',
)

Array\check_unlocked456 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill456/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if (\\skillbase\\skill_query(456,$pa)) 
		{
			eval(import_module(\'sys\',\'logger\',\'skill456\'));
			$x=$now-$starttime; 
			if ($x<$skill456_act_time)
			{
				if ($active)
					$log.=\'<span class="yellow">你抱着破釜沉舟之心，对敌人打出致命一击！</span><br>\';
				else  $log.=\'<span class="yellow">敌人抱着破釜沉舟之心，对你打出致命一击！</span><br>\';
				$r=Array(1.4);
			}
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill456/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(456,$sdata))&&check_unlocked456($sdata))
		{
			eval(import_module(\'skill456\'));
			$skill456_time = $now-$starttime; 
			$z=Array(
				\'disappear\' => 0,
			);
			if ($skill456_time<$skill456_act_time)
			{
				$z[\'clickable\'] = 1;
				$z[\'style\']=1;
				$z[\'totsec\']=$skill456_act_time;
				$z[\'nowsec\']=$skill456_time;
				$skill456_rm = $skill456_act_time-$skill456_time;
				$z[\'hint\'] = "技能「突击」";
			}
			else  
			{
				$z[\'clickable\'] = 0;
				$z[\'style\']=3;
				$z[\'activate_hint\'] = "技能「突击」生效时间已经结束";
			}
			\\bufficons\\bufficon_show(\'img/skill456.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill456/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL459_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[459] = \'菁英\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill459/main.php',
)

Array\acquire459 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill459/main.php',
)

Array\lost459 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill459/main.php',
)

Array\check_unlocked459 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill459/main.php',
)

Array\calculate_attack_exp_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(459,$pd)) return 0;
		if (\\skillbase\\skill_query(459,$pa)) return $chprocess($pa,$pd,$active)*3;
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill459/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL253_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[253] = \'天威\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill253/main.php',
)

Array\acquire253 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill253/main.php',
)

Array\lost253 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill253/main.php',
)

Array\check_unlocked253 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=5;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill253/main.php',
)

Array\get_rage_cost253 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill253\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill253/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=253) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(253,$pa) || !check_unlocked253($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost253($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「天威」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「天威」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill253\', $pa[\'name\'], $pd[\'name\'] );
				$pd[\'old_hp\']=$pd[\'hp\'];	
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill253/main.php',
)

Array\get_skill ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=253) return $chprocess($pa,$pd,$active);
		$r = min(220,round($pa[\'lvl\']*($pa[\'rage\']+get_rage_cost253())/6));
		eval(import_module(\'logger\'));
		if ($active)
			$log.=\'<span class="yellow">「天威」使你的熟练度暂时增加了\'.$r.\'点！</span><br>\';
		else  $log.=\'<span class="yellow">「天威」使敌人的熟练度暂时增加了\'.$r.\'点！</span><br>\';
		return $chprocess($pa,$pd,$active)+$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill253/main.php',
)

Array\kill ====> array (
  'vars' => '&$pa, &$pd',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa,$pd);
		
		if ($pa[\'bskill\']==253 && $pa[\'dmg_dealt\'] <= $pd[\'old_hp\']*1.5)
		{
			$r=get_rage_cost253();
			eval(import_module(\'logger\'));
			$log.=\'「天威」击杀效果触发，返还了<span class="yellow">\'.$r.\'</span>点怒气！<br>\';
			$pa[\'rage\']+=$r;
			if ($pa[\'rage\']>100) $pa[\'rage\']=100;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill253/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill253\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「天威」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill253/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL260_INFO\',\'club;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[260] = \'熟练\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill260/main.php',
)

Array\acquire260 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill260/main.php',
)

Array\lost260 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill260/main.php',
)

Array\check_unlocked260 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=2;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill260/main.php',
)

Array\calculate_attack_weapon_skill_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r260=0;
		if ((\\skillbase\\skill_query(260,$pa))&&(check_unlocked260($pa))&&($pa[\'wepk\']=="WN")) {
			$t260=rand(0,99);
			if ($t260<50) $r260++;
			if ($t260<15) $r260++;
			if ($t260<10) $r260++;
			if ($t260<5) $r260++;
		}
		return $r260+$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill260/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL464_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[464] = \'抖M\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill464/main.php',
)

Array\acquire464 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill464/main.php',
)

Array\lost464 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill464/main.php',
)

Array\check_unlocked464 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill464/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(464,$pd))
		{
			eval(import_module(\'sys\',\'player\',\'weapon\',\'itemmain\',\'logger\'));
			foreach (array_unique(array_values($skillinfo)) as $key)
			{
				if ($$key>$maxv)
				{
					$maxv=$$key;
					$maxwhich=$key;
				}
			}
			$$maxwhich++;
			if (!$active) $log.=\'你的技能「抖M」使你的最高系熟练度增加了1！<br>\';
		}
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill464/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL466_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[466] = \'死神\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill466/main.php',
)

Array\acquire466 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill466/main.php',
)

Array\lost466 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill466/main.php',
)

Array\check_unlocked466 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill466/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(466,$pa) && $pa[\'dmg_dealt\']>0 && $pd[\'type\']==0)
		{
			$dmg=round($pd[\'mhp\']*min($pd[\'lvl\'],30)/100.0);
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<class span="yellow">你的技能「死神」额外造成了\'.$dmg.\'点伤害！</span><br>\';
			else  $log.=\'<class span="yellow">敌人的技能「死神」额外造成了\'.$dmg.\'点伤害！</span><br>\';
			$pa[\'dmg_dealt\']+=$dmg;
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill466/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL469_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[469] = \'自爆\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill469/main.php',
)

Array\acquire469 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill469/main.php',
)

Array\lost469 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill469/main.php',
)

Array\check_unlocked469 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill469/main.php',
)

Array\apply_damage ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(469,$pd) && ceil($pd[\'mhp\']*0.9)<=$pa[\'dmg_dealt\'] && $pa[\'dmg_dealt\']<$pd[\'mhp\'])
		{
			eval(import_module(\'logger\'));
			
			$pd[\'hp\']=0; $pd[\'deathmark\']=40;
			$suicidedmg = round($pd[\'mhp\']*1.1);
			$pa[\'hp\']-=$suicidedmg;
			if ($active)
				$log .= "<span class=\\"yellow\\">你暴风骤雨般的攻击将对方打得毫无还手之力，<br>
					正当你欺身向前，准备了结对方的性命时，对方忽然振臂高呼：</span><br>
					<span class=\\"clan\\">“安拉胡阿克巴！”</span><br>
					<span class=\\"yellow\\">你这才发现对方腰间绑着一排明晃晃的炸药，但他已猛地扑了上来。</span><br>
					猛烈的爆炸对你造成了<span class=\\"red\\">$suicidedmg</span>点伤害！<br>";
			else	$log .= "<span class=\\"yellow\\">你被对方暴风骤雨般的攻击打得毫无还手之力。<br>
					对方欺身向前，准备了结你的性命。 你不甘就这么死去，振臂高呼到：</span><br>
					<span class=\\"clan\\">“安拉胡阿克巴！”</span><br>
					<span class=\\"yellow\\">对方这才发现你腰间绑着一排明晃晃的炸药。你用尽最后的力气拉响了引线，猛地扑了上去。</span><br>
					猛烈的爆炸对<span class=\\"yellow\\">".$pa[\'name\']."</span>造成了<span class=\\"red\\">$suicidedmg</span>点伤害！<br>";
			if ($pa[\'hp\']<0) $pa[\'hp\']=0;
			if ($pa[\'hp\']<=0)
			{
				$pa[\'deathmark\']=41;
				
				
			}
		}
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill469/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'death40\') {	
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>受到<span class=\\"yellow\\">$c</span>的袭击，自爆身亡了！{$e0}</li>";
		}
		if($news == \'death41\') {
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"yellow\\">$c</span>的自爆炸死了！{$e0}</li>";
		}
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill469/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL470_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[470] = \'狙击\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill470/main.php',
)

Array\acquire470 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill470/main.php',
)

Array\lost470 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill470/main.php',
)

Array\check_unlocked470 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill470/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if (isset($pa[\'bskill\']) && $pa[\'bskill\']>0 && \\skillbase\\skill_query(470,$pa))	
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="yellow">「狙击」使敌人受到的最终伤害增加了12%！</span><br>\';
			else  $log.=\'<span class="yellow">「狙击」使你受到的最终伤害增加了12%！</span><br>\';
			$r=Array(1.12);
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill470/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL471_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[471] = \'气功\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill471/main.php',
)

Array\acquire471 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill471/main.php',
)

Array\lost471 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill471/main.php',
)

Array\check_unlocked471 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill471/main.php',
)

Array\apply_damage ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(471,$pd) && $pa[\'dmg_dealt\']>=$pd[\'hp\'] && $pd[\'rage\']>0)
		{
			$dmgred = min(round($pd[\'rage\']*1.5), $pa[\'dmg_dealt\']-$pd[\'hp\']+1);
			$rageused = floor($dmgred/1.5);
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">敌人发动气功，消耗{$rageused}点怒气抵挡了<span class=\\"red\\">{$dmgred}</span>点伤害！</span><br>";
			else  $log.="<span class=\\"yellow\\">你发动气功，消耗{$rageused}点怒气抵挡了<span class=\\"red\\">{$dmgred}</span>点伤害！</span><br>";
			$pd[\'rage\']-=$rageused;
			$pa[\'dmg_dealt\']-=$dmgred;
		}
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill471/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL473_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[473] = \'神蚀\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill473/main.php',
)

Array\acquire473 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill473/main.php',
)

Array\lost473 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill473/main.php',
)

Array\check_unlocked473 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill473/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(473,$pa) && $pa[\'dmg_dealt\']>0)
		{
			$spcost=floor($pa[\'sp\']*0.09);
			$pa[\'sp\']-=$spcost;
			$pa[\'dmg_dealt\']+=$spcost;
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<class span="yellow">你的技能「神蚀」消耗了\'.$spcost.\'点体力，并对敌人造成了相同的伤害！</span><br>\';
			else  $log.=\'<class span="yellow">敌人的技能「神蚀」消耗了\'.$spcost.\'点体力，并对你造成了相同的伤害！</span><br>\';
			$pa[\'dmg_dealt\']+=$dmg;
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill473/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL262_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[262] = \'蓄力\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill262/main.php',
)

Array\acquire262 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		\\skillbase\\skill_setvalue(262,\'ct\',0,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill262/main.php',
)

Array\lost262 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill262/main.php',
)

Array\check_unlocked262 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=8;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill262/main.php',
)

Array\findenemy ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$ct = floor(getmicrotime()*1000);
		\\skillbase\\skill_setvalue(262,\'ct\',$ct);
		return $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill262/main.php',
)

Array\skill262_get_pretime ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'club\']==19) return 1000; else return 2000;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill262/main.php',
)

Array\skill262_get_dmgperc ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'club\']==19) return 17; else return 5;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill262/main.php',
)

Array\skill262_get_maxdmgperc ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'club\']==19) return 100; else return 50;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill262/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if (\\skillbase\\skill_query(262,$pa) && check_unlocked262($pa) && $pa[\'user_commanded\']==1 && $active && !$pa[\'is_counter\'] && (!isset($pa[\'sk262flag\']) || !$pa[\'sk262flag\'])) 
		{
			eval(import_module(\'logger\'));
			$ct = floor(getmicrotime()*1000);
			$st = (int)\\skillbase\\skill_getvalue(262,\'ct\',$pa); 
			$t = $ct - $st;
			
			$pretime = skill262_get_pretime($pa);
			$dmgperc = skill262_get_dmgperc($pa);
			$maxdmgperc = skill262_get_maxdmgperc($pa);
			
			
			if ($t<$pretime) 
				$z=0;
			else
			{
				$z=($t-$pretime)/1000*$dmgperc;
				$z=min($z,$maxdmgperc);
				$z=round($z);
				$log.=\'<span class="lime">你积蓄力量打出了致命的一拳！伤害增加了\'.$z.\'%！</span><br>\';
			}
			$r=Array(1+$z/100);
		}
		return array_merge($r,$chprocess($pa, $pd, $active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill262/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL263_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[263] = \'格斗\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill263/main.php',
)

Array\acquire263 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill263/main.php',
)

Array\lost263 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill263/main.php',
)

Array\check_unlocked263 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=11;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill263/main.php',
)

Array\get_internal_def ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(263,$pd))&&(check_unlocked263($pd))) return $chprocess($pa,$pd,$active)+$pd[\'wp\'];
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill263/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(263,$pd) && check_unlocked263($pd))
		{
			if (\\skillbase\\skill_query(261,$pd))
			{
				$t=(int)\\skillbase\\skill_getvalue(261,\'lastuse\',$pd);
				if ($t>0) $chance=35; else $chance=20;
			}
			else	$chance=20;
			if ($pd[\'club\']!=19) $chance=10;
			if (rand(0,99)<$chance)
			{
				eval(import_module(\'logger\'));
				$dmgred=min($pd[\'wp\'],800);
				if ($active)
					$log.=\'<span class="yellow">敌人精湛的格斗技术抵挡了\'.$dmgred.\'点伤害！</span><br>\';
				else	$log.=\'<span class="yellow">你精湛的格斗技术抵挡了\'.$dmgred.\'点伤害！</span><br>\';
				$pa[\'dmg_dealt\']-=$dmgred;
				if ($pa[\'dmg_dealt\']<1) $pa[\'dmg_dealt\']=1;
			}
		}
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill263/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL264_INFO\',\'club;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[264] = \'连打\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill264/main.php',
)

Array\acquire264 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill264/main.php',
)

Array\lost264 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill264/main.php',
)

Array\check_unlocked264 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=15;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill264/main.php',
)

Array\assault ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa,$pd,$active);
		
		if (\\skillbase\\skill_query(264,$pa) && check_unlocked264($pa) && $pa[\'user_commanded\']==1 && $pa[\'wepk\']==\'WN\' && $pd[\'type\']==0 && $pd[\'counter_assaulted\'])
		{
			while (rand(0,99)<30)
			{
				$pa[\'sk262flag\']=1;	
				eval(import_module(\'input\')); $bskill=0;	
				eval(import_module(\'logger\',\'skill264\'));
				$log.=\'<span class="clan">\'.$sk264_words[rand(0,count($sk264_words)-1)].\'</span><br>\';
				$chprocess($pa,$pd,$active);
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill264/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL476_INFO\',\'club;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[476] = \'尊严\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype3/skill476/main.php',
)

Array\acquire476 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype3/skill476/main.php',
)

Array\lost476 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype3/skill476/main.php',
)

Array\check_unlocked476 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype3/skill476/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ((\\skillbase\\skill_query(476,$pa))&&(check_unlocked476($pa)))
		{
			eval(import_module(\'logger\'));
			if (strpos($pa[\'wep\'],"精工")===false){
				if ($active)
					$log.="<span class=\\"yellow\\">「尊严」使你造成的最终伤害降低了60%！</span><br>";
				else  $log.="<span class=\\"yellow\\">「尊严」使敌人造成的最终伤害降低了60%！</span><br>";
				$r=Array(0.4);
			}else{
				if ($active)
					$log.="<span class=\\"yellow\\">「尊严」使你造成的最终伤害提高了10%！</span><br>";
				else  $log.="<span class=\\"yellow\\">「尊严」使敌人造成的最终伤害提高了10%！</span><br>";
				$r=Array(1.1);
			}
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype3/skill476/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL483_INFO\',\'card;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[483] = \'氪金\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill483/main.php',
)

Array\acquire483 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill483\'));
		\\skillbase\\skill_setvalue(483,\'lastuse\',-3000,$pa);
		\\skillbase\\skill_setvalue(483,\'dur\',0,$pa);
		\\skillbase\\skill_setvalue(483,\'cost\',500,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill483/main.php',
)

Array\lost483 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill483/main.php',
)

Array\check_unlocked483 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill483/main.php',
)

Array\activate483 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill483\',\'player\',\'logger\',\'sys\'));
		\\player\\update_sdata();
		if (!\\skillbase\\skill_query(483) || !check_unlocked483($sdata))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$st = check_skill483_state($sdata);
		if ($st==0){
			$log.=\'你不能使用这个技能！<br>\';
			return;
		}
		if ($st==1){
			$log.=\'你已经发动过这个技能了！<br>\';
			return;
		}
		if ($st==2){
			$log.=\'技能冷却中！<br>\';
			return;
		}
		$c=(int)\\skillbase\\skill_getvalue(483,\'cost\',$pa);
		if ($money<$c)
		{
			$log.=\'<span class="yellow">金钱不足！用你的脑子想一想，不充钱你会变得更强吗？</span><br>\';
			return;
		}
		$money-=$c;
		\\skillbase\\skill_setvalue(483,\'dur\',120);
		\\skillbase\\skill_setvalue(483,\'lastuse\',$now);
		\\skillbase\\skill_setvalue(483,\'cost\',$c*2);
		addnews ( 0, \'bskill483\', $name );
		$log.=\'<span class="lime">技能「氪金」发动成功。</span><br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill483/main.php',
)

Array\check_skill483_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(483, $pa) || !check_unlocked483($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill483\'));
		$l=\\skillbase\\skill_getvalue(483,\'lastuse\',$pa);
		$d=\\skillbase\\skill_getvalue(483,\'dur\',$pa);
		if (($now-$l)<=$d) return 1;
		if (($now-$l)<=$d+$skill483_cd) return 2;
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill483/main.php',
)

Array\kill ====> array (
  'vars' => '&$pa, &$pd',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa,$pd);
		
		eval(import_module(\'sys\',\'logger\'));
		if (check_skill483_state($pd)==1 && in_array($pd[\'state\'],Array(20,21,22,23,24,25,29)) && $pa[\'type\']==0)
		{
			$pd[\'state\']=0; $pd[\'hp\']=$pd[\'mhp\'];
			$pd[\'skill483_flag\']=1;
			$deathnum--;
			if ($pd[\'type\']==0) $alivenum++;
			save_gameinfo();
				
			addnews ( $now, \'revival483\', $pa[\'name\'], $pd[\'name\'] );
		}
	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill483/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa,$pd,$active);
		
		eval(import_module(\'sys\',\'logger\'));
		if (isset($pd[\'skill483_flag\']) && $pd[\'skill483_flag\'])
		{
			if ($active)
			{
				$log.=\'<span class="lime">但是氪金战士不可能死！敌人又站了起来！</span><br>\';
				$pd[\'battlelog\'].=\'<span class="lime">但是氪金战士不可能死！</span>你又站了起来，\';
			}
			else
			{
				$log.=\'<span class="lime">但是氪金战士不可能死！你又站了起来！</span><br>\';
				$pa[\'battlelog\'].=\'<span class="lime">但是氪金战士不可能死！</span>敌人又站了起来，\';
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill483/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(483,$sdata))&&check_unlocked483($sdata))
		{
			eval(import_module(\'skill483\'));
			$skill483_lst = (int)\\skillbase\\skill_getvalue(483,\'lastuse\'); 
			$skill483_dur = (int)\\skillbase\\skill_getvalue(483,\'dur\'); 
			$skill483_cost = \\skillbase\\skill_getvalue(483,\'cost\'); 
			$skill483_time = $now-$skill483_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「氪金」\',
				\'activate_hint\' => \'点击发动技能「氪金」，消耗\'.$skill483_cost.\'元\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill483_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill483_time<$skill483_dur)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=$skill483_dur;
				$z[\'nowsec\']=$skill483_time;
			}
			else  if ($skill483_time<$skill483_dur+$skill483_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill483_cd;
				$z[\'nowsec\']=$skill483_time-$skill483_dur;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill483.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill483/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill483\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「氪金」</span></span></li>";
		
		if($news == \'revival483\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}击杀了{$b}，却不料{$b}是传说中的氪金战士！{$b}又站了起来！</span></li>";
		
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill483/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL242_INFO\',\'club;upgrade;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[242] = \'灵感\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill242/main.php',
)

Array\acquire242 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(242,\'c\',0,$pa);
		\\skillbase\\skill_setvalue(242,\'i\',0,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill242/main.php',
)

Array\lost242 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(242,\'c\',$pa);
		\\skillbase\\skill_delvalue(242,\'i\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill242/main.php',
)

Array\check_unlocked242 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=7;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill242/main.php',
)

Array\upgrade242 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'clubbase\',\'skill242\',\'logger\',\'input\'));
		if (!\\skillbase\\skill_query(242) || !check_unlocked242($sdata)) 
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}
		$remcnt=$lvl-(int)\\skillbase\\skill_getvalue(242,\'c\');
		if ($remcnt<=0)
		{
			$log .= \'你现在不能改变技能。<br>\';
			return;
		}
		$can_list = Array();
		foreach ($clublist as $nowclub => $arr)
			if ($nowclub!=$club)
			{
				foreach ($arr[\'skills\'] as $skillid)
					if (\\sklearn_util\\sklearn_basecheck($skillid) && !in_array($skillid,$sk242_cannot_list) && !\\skillbase\\skill_query($skillid))
						array_push($can_list,$skillid);
			}
		$sk=$can_list[rand(0,count($can_list)-1)];
		
		$ori_sk=(int)\\skillbase\\skill_getvalue(242,\'i\');
		if ($ori_sk) \\skillbase\\skill_lost($ori_sk);
		\\skillbase\\skill_acquire($sk);
		\\skillbase\\skill_setvalue(242,\'i\',$sk);
		$z=(int)\\skillbase\\skill_getvalue(242,\'c\'); $z++;
		\\skillbase\\skill_setvalue(242,\'c\',$z);
		$log.="改变成功。<br>";
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill242/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL53_INFO\',\'club;upgrade;locked;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill53/main.php',
)

Array\acquire53 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(53,\'l\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill53/main.php',
)

Array\lost53 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill53/main.php',
)

Array\check_unlocked53 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=11;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill53/main.php',
)

Array\sklearn_checker53 ====> array (
  'vars' => '$a=\'\', $b=\'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($a==\'caller_id\') return 53;
		if ($a==\'show_cost\') return 0;
		if ($a==\'is_learnable\') 
		{
			$val=constant(\'MOD_SKILL\'.$b.\'_INFO\');
			
			if (strpos($val,\'battle;\')===false) return 1;
			return 0;
		}
		if ($a==\'now_learnable\') return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill53/main.php',
)

Array\upgrade53 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\',\'input\'));
		$skillpara1=(int)$skillpara1;
		if (!\\skillbase\\skill_query(53) || !check_unlocked53($sdata)) 
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}
		if (!\\sklearn_util\\sklearn_basecheck($skillpara1) || !sklearn_checker53(\'is_learnable\',$skillpara1)) 
		{
			$log.=\'你不可以学习这个技能！<br>\';
			return;
		}
		if (!sklearn_checker53(\'now_learnable\',$skillpara1))
		{
			$log.=\'现在尚没有足够资源学习这个技能！<br>\';
			return;
		}
		if (\\skillbase\\skill_query($skillpara1))
		{
			$log.=\'你已经拥有这个技能了！<br>\';
			return;
		}
		if (((int)\\skillbase\\skill_getvalue(53,\'l\'))!=0)
		{
			$log.=\'你已经学习过一个技能了！<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(53,\'l\',$skillpara1);
		\\skillbase\\skill_acquire($skillpara1);
		$log.=\'学习成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill53/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL55_INFO\',\'club;upgrade;locked;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill55/main.php',
)

Array\acquire55 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(55,\'l\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill55/main.php',
)

Array\lost55 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill55/main.php',
)

Array\check_unlocked55 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill55/main.php',
)

Array\sklearn_checker55 ====> array (
  'vars' => '$a=\'\', $b=\'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($a==\'caller_id\') return 55;
		if ($a==\'show_cost\') return 0;
		if ($a==\'is_learnable\') 
		{
			if ((int)$b==257) return 0;
			return 1;
		}
		if ($a==\'now_learnable\') 
		{
			if (((int)\\skillbase\\skill_getvalue(55,\'l\'))==0) return 1;
			eval(import_module(\'skill55\',\'player\'));
			if ($money>=$skill55_need) return 1; else return 0;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill55/main.php',
)

Array\upgrade55 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill55\',\'player\',\'logger\',\'input\'));
		$skillpara1=(int)$skillpara1;
		if (!\\skillbase\\skill_query(55) || !check_unlocked55($sdata)) 
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}
		if (!\\sklearn_util\\sklearn_basecheck($skillpara1) || !sklearn_checker55(\'is_learnable\',$skillpara1)) 
		{
			$log.=\'你不可以学习这个技能！<br>\';
			return;
		}
		if (!sklearn_checker55(\'now_learnable\',$skillpara1))
		{
			$log.=\'现在尚没有足够资源学习这个技能！<br>\';
			return;
		}
		if (\\skillbase\\skill_query($skillpara1))
		{
			$log.=\'你已经拥有这个技能了！<br>\';
			return;
		}
		if (((int)\\skillbase\\skill_getvalue(55,\'l\'))!=0)
		{
			\\skillbase\\skill_lost((int)\\skillbase\\skill_getvalue(55,\'l\'));
			$money-=$skill55_need;
		}
		
		\\skillbase\\skill_setvalue(55,\'l\',$skillpara1);
		\\skillbase\\skill_acquire($skillpara1);
		$log.=\'学习成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill55/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL72_INFO\',\'club;upgrade;locked;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill72/main.php',
)

Array\acquire72 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(72,\'t\',\'0\',$pa);
		\\skillbase\\skill_setvalue(72,\'b\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill72/main.php',
)

Array\lost72 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill72/main.php',
)

Array\check_unlocked72 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill72/main.php',
)

Array\sklearn_checker72 ====> array (
  'vars' => '$a=\'\', $b=\'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($a==\'caller_id\') return 72;
		if ($a==\'show_cost\') return 1;
		if ($a==\'query_cost\')
		{
			eval(import_module(\'skill72\'));
			return $skill72_skpoint_need[((int)$b)];
		}
		if ($a==\'is_learnable\') 
		{
			eval(import_module(\'skill72\'));
			$x=(int)\\skillbase\\skill_getvalue(72,\'t\');
			if ($x>=$sk72_max_learn_num) return 0;	
			
			$x=(int)\\skillbase\\skill_getvalue(72,\'b\');
			if ($x==0) return 1;				
			
			$val=constant(\'MOD_SKILL\'.$b.\'_INFO\');
			if (strpos($val,\'battle;\')===false) return 1;	
			return 0;
		}
		if ($a==\'now_learnable\') 
		{
			eval(import_module(\'skill72\',\'player\'));
			if ($skillpoint>=$skill72_skpoint_need[((int)$b)]) return 1; else return 0;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill72/main.php',
)

Array\upgrade72 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill72\',\'player\',\'logger\',\'input\'));
		$skillpara1=(int)$skillpara1;
		if (!\\skillbase\\skill_query(72) || !check_unlocked72($sdata)) 
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}
		if (!\\sklearn_util\\sklearn_basecheck($skillpara1) || !sklearn_checker72(\'is_learnable\',$skillpara1)) 
		{
			$log.=\'你不可以学习这个技能！<br>\';
			return;
		}
		if (!sklearn_checker72(\'now_learnable\',$skillpara1))
		{
			$log.=\'现在尚没有足够资源学习这个技能！<br>\';
			return;
		}
		if (\\skillbase\\skill_query($skillpara1))
		{
			$log.=\'你已经拥有这个技能了！<br>\';
			return;
		}
		
		$x=(int)\\skillbase\\skill_getvalue(72,\'t\');
		$x++;
		\\skillbase\\skill_setvalue(72,\'t\',$x);
		
		$val=constant(\'MOD_SKILL\'.$skillpara1.\'_INFO\');
		if (strpos($val,\'battle;\')!==false)
		{
			$x=(int)\\skillbase\\skill_getvalue(72,\'b\');
			$x++;
			\\skillbase\\skill_setvalue(72,\'b\',$x);
		}
		
		$skillpoint-=$skill72_skpoint_need[$skillpara1];
		
		\\skillbase\\skill_acquire($skillpara1);
		$log.=\'学习成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill72/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL227_INFO\',\'club;upgrade;locked;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill227/main.php',
)

Array\acquire227 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(227,\'l\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill227/main.php',
)

Array\lost227 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill227/main.php',
)

Array\check_unlocked227 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=15;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill227/main.php',
)

Array\sklearn_checker227 ====> array (
  'vars' => '$a=\'\', $b=\'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($a==\'caller_id\') return 227;
		if ($a==\'show_cost\') return 0;
		if ($a==\'is_learnable\') 
		{
			$val=constant(\'MOD_SKILL\'.$b.\'_INFO\');
			
			if (strpos($val,\'battle;\')===false) return 1;
			return 0;
		}
		if ($a==\'now_learnable\') return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill227/main.php',
)

Array\upgrade227 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\',\'input\'));
		$skillpara1=(int)$skillpara1;
		if (!\\skillbase\\skill_query(227) || !check_unlocked227($sdata)) 
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}
		if (!\\sklearn_util\\sklearn_basecheck($skillpara1) || !sklearn_checker227(\'is_learnable\',$skillpara1)) 
		{
			$log.=\'你不可以学习这个技能！<br>\';
			return;
		}
		if (!sklearn_checker227(\'now_learnable\',$skillpara1))
		{
			$log.=\'现在尚没有足够资源学习这个技能！<br>\';
			return;
		}
		if (\\skillbase\\skill_query($skillpara1))
		{
			$log.=\'你已经拥有这个技能了！<br>\';
			return;
		}
		if (((int)\\skillbase\\skill_getvalue(227,\'l\'))!=0)
		{
			$log.=\'你已经学习过一个技能了！<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(227,\'l\',$skillpara1);
		\\skillbase\\skill_acquire($skillpara1);
		$log.=\'学习成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill227/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL472_INFO\',\'card;upgrade;locked;unique;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill472/main.php',
)

Array\acquire472 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(472,\'l\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill472/main.php',
)

Array\lost472 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill472/main.php',
)

Array\check_unlocked472 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill472/main.php',
)

Array\sklearn_checker472 ====> array (
  'vars' => '$a=\'\', $b=\'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($a==\'caller_id\') return 472;
		if ($a==\'show_cost\') return 0;
		if ($a==\'is_learnable\') 
		{
			$val=constant(\'MOD_SKILL\'.$b.\'_INFO\');
			if ((int)$b==257) return 0;
			if (strpos($val,\'battle;\')===false) return 1;
			return 0;
		}
		if ($a==\'now_learnable\') return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill472/main.php',
)

Array\upgrade472 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill472\',\'player\',\'logger\',\'input\'));
		$skillpara1=(int)$skillpara1;
		if (!\\skillbase\\skill_query(472) || !check_unlocked472($sdata)) 
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}
		if (!\\sklearn_util\\sklearn_basecheck($skillpara1) || !sklearn_checker472(\'is_learnable\',$skillpara1)) 
		{
			$log.=\'你不可以学习这个技能！<br>\';
			return;
		}
		if (!sklearn_checker472(\'now_learnable\',$skillpara1))
		{
			$log.=\'现在尚没有足够资源学习这个技能！<br>\';
			return;
		}
		if (\\skillbase\\skill_query($skillpara1))
		{
			$log.=\'你已经拥有这个技能了！<br>\';
			return;
		}
		if (((int)\\skillbase\\skill_getvalue(472,\'l\'))!=0)
			\\skillbase\\skill_lost((int)\\skillbase\\skill_getvalue(472,\'l\'));

		\\skillbase\\skill_setvalue(472,\'l\',$skillpara1);
		\\skillbase\\skill_acquire($skillpara1);
		$log.=\'学习成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill472/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL475_INFO\',\'club;locked;hidden;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[475] = \'特殊\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/skill475/main.php',
)

Array\acquire475 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(475,\'wpt\',0,$pa);		
		\\skillbase\\skill_setvalue(475,\'bounty\',100,$pa);	
		\\skillbase\\skill_setvalue(475,\'dc\',0,$pa);		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/skill475/main.php',
)

Array\lost475 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(475,\'wpt\',$pa);
		\\skillbase\\skill_delvalue(475,\'bounty\',$pa);
		\\skillbase\\skill_delvalue(475,\'dc\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/skill475/main.php',
)

Array\check_unlocked475 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/skill475/main.php',
)

Array\sk475_revive_player ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'hp\']=round($pa[\'mhp\']/2); $pa[\'state\']=0;
		$pa[\'player_dead_flag\']=0;
		eval(import_module(\'sys\'));
		$db->query("UPDATE {$tablepre}players SET player_dead_flag=\'0\' WHERE pid=\'".$pa[\'pid\']."\'");
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/skill475/main.php',
)

Array\pre_act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(475))
		{
			eval(import_module(\'sys\',\'player\',\'skill475\'));
			if ($hp<=0 && $now>=$endtime+$skill475_revive_time)	
				sk475_revive_player($sdata);
		}
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/skill475/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(475,$pa))
		{
			eval(import_module(\'sys\',\'skill475\'));
			if ($pa[\'hp\']<=0 && $now>=$pa[\'endtime\']+$skill475_revive_time)	
				sk475_revive_player($pa);
		}
		return $chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/skill475/main.php',
)

Array\getcorpse_action ====> array (
  'vars' => '&$edata, $item',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		if (!\\skillbase\\skill_query(475)) return $chprocess($edata, $item);
		
		if ($edata[\'type\']!=0)	
		{
			if ($item==\'money\')	
			{
				$btgain=$edata[\'money\'];
				$nbt=((int)\\skillbase\\skill_getvalue(475,\'bounty\'))+$btgain;
				\\skillbase\\skill_setvalue(475,\'bounty\',$nbt);
			}
			return $chprocess($edata, $item);
		}
		
		$w_log=\'\';
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if ($item==\'money1\')
		{
			$t=round($edata[\'money\']*0.3);
			$edata[\'money\']-=$t;
			$log.="销毁了对方{$t}元金钱。<br>";
			$w_log="敌人销毁了你的{$t}元金钱！<br>";
		}
		else if ($item==\'money2\')
		{
			$t=round($edata[\'money\']*0.3);
			$edata[\'money\']-=$t;
			$money+=$t;
			$wpt=(int)\\skillbase\\skill_getvalue(475,\'wpt\');
			$wpt=max($wpt-$t,0);
			\\skillbase\\skill_setvalue(475,\'wpt\',$wpt);
			$log.="获得了对方{$t}元金钱。<br>";
			$w_log="敌人抢走了你的{$t}元金钱！<br>";
			
			$nbt=((int)\\skillbase\\skill_getvalue(475,\'bounty\'))+$t;
			\\skillbase\\skill_setvalue(475,\'bounty\',$nbt);
		}
		else if ($item==\'wep\')
		{
			$edata[\'wepe\']=round($edata[\'wepe\']*0.88);
			$log.="削弱了对方的武器。<br>";
			$w_log="敌人削弱了你的武器！<br>";
		}
		else if ($item==\'arb\' || $item==\'ara\' || $item==\'arh\' || $item==\'arf\')
		{
			$edata[$item.\'e\']=round($edata[$item.\'e\']*0.8);
			$log.="削弱了对方的指定防具。<br>";
			if ($item==\'arb\') $w_log=\'敌人削弱了你的身体防具！<br>\';
			if ($item==\'ara\') $w_log=\'敌人削弱了你的手臂防具！<br>\';
			if ($item==\'arh\') $w_log=\'敌人削弱了你的头部防具！<br>\';
			if ($item==\'arf\') $w_log=\'敌人削弱了你的足部防具！<br>\';
		}
		if ($item==\'art\')
		{
			$edata[\'art\']=\'\';
			$edata[\'ark\']=\'\';
			$edata[\'arte\']=0;
			$edata[\'arts\']=0;
			$edata[\'artsk\']=\'\';
			$log.="摧毁了对方装备的饰品。<br>";
			$w_log=\'敌人摧毁了你的饰品！<br>\';
		}
		else if ($item==\'itm0\' || $item==\'itm1\' || $item==\'itm2\' || $item==\'itm3\' || $item==\'itm4\' || $item==\'itm5\' || $item==\'itm6\')
		{
			$w_log=\'敌人摧毁了你背包中的物品<span class="yellow">\'.$edata[$item].\'</span>！<br>\';
			$edata[$item]=\'\';
			$edata[\'itmk\'.$item[3]]=\'\';
			$edata[\'itme\'.$item[3]]=0;
			$edata[\'itms\'.$item[3]]=0;
			$edata[\'itmsk\'.$item[3]]=\'\';
			$log.="摧毁了对方的指定背包物品。<br>";
		}
		$mode = \'command\';
		$action = \'\';
		if ($w_log!=\'\') \\logger\\logsave ( $edata[\'pid\'], $now, $w_log ,\'b\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/skill475/main.php',
)

Array\kill ====> array (
  'vars' => '&$pa, &$pd',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		if (!\\skillbase\\skill_query(475,$pa) && !\\skillbase\\skill_query(475,$pd)) return $chprocess($pa, $pd);

		if ($pa[\'pid\']!=$pd[\'pid\'] && $pa[\'type\']==0 && $pd[\'type\']==0)	
		{
			$ebounty=(int)\\skillbase\\skill_getvalue(475,\'bounty\',$pd);
			$wptgain=round($ebounty*0.15);
			$btgain=round($ebounty*0.3);
			$nwpt=((int)\\skillbase\\skill_getvalue(475,\'wpt\',$pa))+$wptgain;
			$nbt=((int)\\skillbase\\skill_getvalue(475,\'bounty\',$pa))+$btgain;
			$nbt_pd=$ebounty-$wptgain-$btgain;
			\\skillbase\\skill_setvalue(475,\'wpt\',$nwpt,$pa);
			\\skillbase\\skill_setvalue(475,\'bounty\',$nbt,$pa);
			\\skillbase\\skill_setvalue(475,\'bounty\',$nbt_pd,$pd);
			eval(import_module(\'sys\',\'player\',\'logger\'));
			if ($pa[\'pid\']==$sdata[\'pid\'])
				$log.=\'<span class="orange">你获得了\'.$wptgain.\'点胜利点数！</span><br>\';
			else
			{
				if (in_array($pd[\'state\'],Array(20,21,22,23,24,25,29)))	
					$pa[\'battlelog\'].=\'<span class="orange">你获得了\'.$wptgain.\'点胜利点数！</span><br>\';
				else
				{
					$w_log.=\'<span class="orange">你获得了\'.$wptgain.\'点胜利点数！</span><br>\';
					\\logger\\logsave ( $pa[\'pid\'], $now, $w_log ,\'b\');
				}
			}
		}
		else if ($pa[\'type\']==0 && $pd[\'type\']>0)	
		{
			$wptarr=Array(
				2=>250,	
				5=>1200,	
				6=>2500,	
				11=>750,	
				45=>750,	
				90=>20	
			);
			if (isset($wptarr[$pd[\'type\']]))
			{
				$wptgain=$wptarr[$pd[\'type\']];
				$nwpt=((int)\\skillbase\\skill_getvalue(475,\'wpt\',$pa))+$wptgain;
				\\skillbase\\skill_setvalue(475,\'wpt\',$nwpt,$pa);
				eval(import_module(\'logger\'));
				$log.=\'<span class="orange">你获得了\'.$wptgain.\'点胜利点数！</span><br>\';
			}
		}
		else if ($pd[\'type\']==0) 
		{
			$cnt=(int)\\skillbase\\skill_getvalue(475,\'dc\',$pd);
			$cnt++;
			if ($cnt>3) 
			{
				$pd[\'mhp\']=ceil($pd[\'mhp\']*0.95);
				$nwpt=(int)\\skillbase\\skill_getvalue(475,\'wpt\',$pd);
				$nwpt=round($nwpt*0.97);
				\\skillbase\\skill_setvalue(475,\'wpt\',$nwpt,$pd);
			}
			\\skillbase\\skill_setvalue(475,\'dc\',$cnt,$pd);
		}
				
		return $chprocess($pa,$pd);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/skill475/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL59_INFO\',\'club;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[59] = \'新生\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill59/main.php',
)

Array\acquire59 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill59/main.php',
)

Array\lost59 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill59/main.php',
)

Array\check_unlocked59 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return ((int)\\skillbase\\skill_getvalue(58,\'r\',$pa))==1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill59/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL425_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[425] = \'重载\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill425/main.php',
)

Array\acquire425 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill425\'));
		\\skillbase\\skill_setvalue(425,\'lastuse\',-3000,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill425/main.php',
)

Array\lost425 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill425/main.php',
)

Array\check_unlocked425 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill425/main.php',
)

Array\check_skill425_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(425, $pa) || !check_unlocked425($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill425\'));
		$l=\\skillbase\\skill_getvalue(425,\'lastuse\',$pa);
		if (($now-$l)<=$skill425_cd){
			if ($pa[\'money\']<500) return 1;
			return 2;
		}
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill425/main.php',
)

Array\activate425 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill425\',\'skill424\',\'player\',\'logger\',\'sys\',\'skillbase\'));
		\\player\\update_sdata();
		if (!\\skillbase\\skill_query(425) || !check_unlocked425($sdata))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$st=check_skill425_state($sdata);
		if ($st==1){
			$log.=\'你的金钱不足！<br>\';
			return;
		}
		if ($st==2){
			$money-=500;
			$log.=\'<span class="lime">消耗了500元，</span>\';
		}
		$log.=\'<span class="lime">技能「重载」发动成功。</span><br>\';
		\\skillbase\\skill_setvalue(425,\'lastuse\',$now);
		$t=635;
		$nx=rand(0,$t);
		$ed=$goal424[$nx];
		$log .="下次除错需要物品<span class=\\"yellow\\">{$ed}</span>或";
		\\skillbase\\skill_setvalue(424,\'cur1\',$nx);	
		$nx1=rand(0,$t);
		while ($nx1==$nx) $nx1=rand(0,$t);
		$ed=$goal424[$nx1];
		$log .="<span class=\\"yellow\\">{$ed}</span>。<br />";
		\\skillbase\\skill_setvalue(424,\'cur2\',$nx1);	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill425/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(425,$sdata))&&check_unlocked425($sdata))
		{
			eval(import_module(\'skill425\'));
			$skill425_lst = (int)\\skillbase\\skill_getvalue(425,\'lastuse\'); 
			$skill425_time = $now-$skill425_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「重载」\',
				\'activate_hint\' => \'点击发动技能「重载」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill425_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill425_time<$skill425_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill425_cd;
				$z[\'nowsec\']=$skill425_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill425.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill425/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL427_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[427] = \'续命\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill427/main.php',
)

Array\acquire427 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill427/main.php',
)

Array\lost427 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill427/main.php',
)

Array\check_unlocked427 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill427/main.php',
)

Array\kill ====> array (
  'vars' => '&$pa, &$pd',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa,$pd);
		
		eval(import_module(\'sys\',\'logger\'));
		
		if (in_array($pd[\'state\'],Array(20,21,22,23,24,25,27,29)))
			if (\\skillbase\\skill_query(427,$pd))
			{
				if (($pa[\'type\']==88)||($pa[\'type\']==1)){
					$log.= "<span class=\\"linen\\">都告诉你了，对某些NPC无效……快去死吧。</span><br>";
					return;
				}
				\\skillbase\\skill_setvalue(427,\'r\',\'1\',$pd);
				if ($pd[\'state\']==27 && !$pd[\'sourceless\'])	
				{
					$log.= "<span class=\\"lime\\">但是，由于你及时按下了BOMB键，你原地满血复活了！</span><br>";
					$w_log = "<span class=\\"lime\\">但是，由于{$pd[\'name\']}及时按下了BOMB键，其原地满血复活了！</span><br>";
					\\logger\\logsave ( $pa[\'pid\'], $now, $w_log ,\'b\');
				}
				else
				{
					
				}
				$pd[\'state\']=0; $pd[\'hp\']=$pd[\'mhp\'];
				$pd[\'skill427_flag\']=1;
				$deathnum--;
				if ($pd[\'type\']==0) $alivenum++;
				save_gameinfo();
				
				if (\\skillbase\\skill_query(424,$pd)){
					$clv=\\skillbase\\skill_getvalue(424,\'lvl\',$pd); 
					$clv=$clv-2;
					if ($clv<0) $clv=0;
					\\skillbase\\skill_setvalue(424,\'lvl\',$clv,$pd); 
				}
				
				
				if ($pd[\'state\']==27){
					$pa[\'skillpoint\']+=3;
				}
				
				addnews ( $now, \'revival\', $pd[\'name\'] );
			}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill427/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa,$pd,$active);
		
		eval(import_module(\'sys\',\'logger\'));
		if (isset($pd[\'skill427_flag\']) && $pd[\'skill427_flag\'])
		{
			if ($active)
			{
				$log.=\'<span class="lime">但是，由于敌人及时按下了BOMB键，其原地满血复活了！</span><br>\';
				$pd[\'battlelog\'].=\'<span class="lime">但是，由于你及时按下了BOMB键，你原地满血复活了，</span>\';
			}
			else
			{
				$log.=\'<span class="lime">但是，由于你及时按下了BOMB键，你原地满血复活了！</span><br>\';
				$pd[\'battlelog\'].=\'<span class="lime">但是，由于敌人及时按下了BOMB键，其原地满血复活了，</span>\';
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill427/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'revival\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}因为及时按下了BOMB键而原地满血复活了！</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/skill427/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL228_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[228] = \'神击\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill228/main.php',
)

Array\acquire228 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill228/main.php',
)

Array\lost228 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill228/main.php',
)

Array\check_unlocked228 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=15;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill228/main.php',
)

Array\get_rage_cost228 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 100;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill228/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=228) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(228,$pa) || !check_unlocked228($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost228($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「神击」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「神击」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill228\', $pa[\'name\'], $pd[\'name\'] );
			}else if ($pa[\'skillpoint\']>=5){
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「神击」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「神击」！</span><br>";
				$pa[\'skillpoint\']-=5;
				addnews ( 0, \'bskill228\', $pa[\'name\'], $pd[\'name\'] );
			}else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill228/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ($pa[\'bskill\']==228) 
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="lime">你有如天神下凡，对敌人打出雷霆一击！</span><span class="clan">敌人被你击晕了！</span><br>\';
			else  $log.=\'<span class="lime">敌人有如天神下凡，对你打出雷霆一击！</span><span class="clan">你被敌人击晕了！</span><br>\';
			$r=Array(1.6);
			\\skill602\\set_stun_period(1500,$pd);
			\\skill602\\send_stun_battle_news($pa[\'name\'],$pd[\'name\']);
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill228/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill228\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「神击」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill228/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL236_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[236] = \'科学\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill236/main.php',
)

Array\acquire236 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill236/main.php',
)

Array\lost236 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill236/main.php',
)

Array\check_unlocked236 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill236/main.php',
)

Array\get_rage_cost236 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill236\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill236/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=236) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(236,$pa) || !check_unlocked236($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost236($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「科学」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「科学」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill236\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill236/main.php',
)

Array\get_fixed_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		if ($pa[\'bskill\']!=236) return $chprocess($pa,$pd,$active);
		if ($active) $log .= "<span class=\\"red\\">你掏出撬棍猛击敌人！</span><span class=\\"clan\\">敌人被你打晕了过去！</span><br>";
			else $log .= "<span class=\\"red\\">敌人掏出撬棍猛击你！</span><span class=\\"clan\\">你被打晕了过去！</span><br>";
		\\skill602\\set_stun_period(1000,$pd);
		\\skill602\\send_stun_battle_news($pa[\'name\'],$pd[\'name\']);
		return $chprocess($pa, $pd, $active)+60;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill236/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill236\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「科学」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill236/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL237_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[237] = \'EMP\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill237/main.php',
)

Array\acquire237 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill237/main.php',
)

Array\lost237 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill237/main.php',
)

Array\check_unlocked237 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=11;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill237/main.php',
)

Array\get_rage_cost237 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill237\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill237/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=237) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(237,$pa) || !check_unlocked237($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost237($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「EMP」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「EMP」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill237\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill237/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ($pa[\'bskill\']==237) 
		{
			eval(import_module(\'logger\'));
			$r=Array(1.3);
			if ($active)
				$log.=\'<span class="yellow">你向敌人扔出了一颗电磁干扰弹！</span><br>\';
			else  $log.=\'<span class="yellow">敌人向你扔出了一颗电磁干扰弹！</span><br>\';
		}
		return array_merge($r,$chprocess($pa, $pd, $active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill237/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']==237 && $pa[\'is_hit\'])
		{
			eval(import_module(\'logger\',\'skill601\',\'sys\'));
			if (!\\skillbase\\skill_query(601,$pd)){
				\\skillbase\\skill_acquire(601,$pd);
				$var_237=$now;
			}else{
				$var_237=\\skillbase\\skill_getvalue(601,\'end\',$pd);
				if ($var_237<$now) $var_237=$now;
			}
			\\skillbase\\skill_setvalue(601,\'start\',$var_237,$pd);
			\\skillbase\\skill_setvalue(601,\'end\',$var_237+40,$pd);
			\\skill602\\set_stun_period(2000,$pd);
			\\skill602\\send_stun_battle_news($pa[\'name\'],$pd[\'name\']);
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill237/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill237\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「EMP」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill237/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL35_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[35] = \'猛击\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill35/main.php',
)

Array\acquire35 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(35,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill35/main.php',
)

Array\lost35 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(35,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill35/main.php',
)

Array\check_unlocked35 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill35/main.php',
)

Array\upgrade35 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill35\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(35))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(35,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(35,\'lvl\',$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill35/main.php',
)

Array\calculate_skill35_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill35\'));
		return $proc_rate;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill35/main.php',
)

Array\check_skill35_proc ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill35\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(35, $pa) || !check_unlocked35($pa)) return Array();
		if ($pa[\'wepk\']!=\'WP\') return Array();
		if (rand(0,99)<calculate_skill35_proc_rate($pa,$pd,$active))
		{
			if ($active)
				$log.="<span class=\\"yellow\\">你朝着{$pd[\'name\']}打出了凶猛的一击！<span class=\\"clan\\">敌人被打晕了过去！</span></span><br>";
			else  $log.="<span class=\\"yellow\\">{$pa[\'name\']}朝你打出了凶猛的一击！<span class=\\"clan\\">你被打晕了过去！</span></span><br>";
			$clv = (int)\\skillbase\\skill_getvalue(35,\'lvl\',$pa);
			$dmggain = (100+$attgain[$clv])/100;
			\\skill602\\set_stun_period($sk35_stuntime[$clv]*1000,$pd);
			\\skill602\\send_stun_battle_news($pa[\'name\'],$pd[\'name\']);
			return Array($dmggain);
		}
		return Array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill35/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = check_skill35_proc($pa,$pd,$active);
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill35/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL467_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[467] = \'巨力\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill467/main.php',
)

Array\acquire467 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill467/main.php',
)

Array\lost467 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill467/main.php',
)

Array\check_unlocked467 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill467/main.php',
)

Array\check_skill467_proc ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (rand(0,99)<17 && \\skillbase\\skill_query(467,$pa))
		{
			eval(import_module(\'player\',\'logger\'));
			if ($active)
				$log.="<span class=\\"clan\\">敌人被你一拳打晕了过去！</span></span><br>";
			else  $log.="<span class=\\"clan\\">你被敌人一拳打晕了过去！</span></span><br>";
			\\skill602\\set_stun_period(2500,$pd);
			\\skill602\\send_stun_battle_news($pa[\'name\'],$pd[\'name\']);
		}
		return Array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill467/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		check_skill467_proc($pa,$pd,$active);
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill467/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL468_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[468] = \'月光\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill468/main.php',
)

Array\acquire468 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill468/main.php',
)

Array\lost468 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill468/main.php',
)

Array\check_unlocked468 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill468/main.php',
)

Array\check_skill468_proc ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (rand(0,99)<17 && \\skillbase\\skill_query(468,$pd))
		{
			eval(import_module(\'player\',\'logger\'));
			if ($active)
				$log.="<span class=\\"clan\\">母山岭巨人的力量使你晕了过去！</span></span><br>";
			else  $log.="<span class=\\"clan\\">母山岭巨人的力量使敌人晕了过去！</span></span><br>";
			\\skill602\\set_stun_period(2500,$pa);
			\\skill602\\send_stun_battle_news($pd[\'name\'],$pa[\'name\']);
		}
		return Array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill468/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		check_skill468_proc($pa,$pd,$active);
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill468/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL481_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[481] = \'■■\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill481/main.php',
)

Array\acquire481 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill481/main.php',
)

Array\lost481 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill481/main.php',
)

Array\check_unlocked481 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill481/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(481,$pa))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="yellow">一股神秘的力量使敌人晕眩了1秒，你仿佛感觉获得了新的能量。</span><br>\';
			else  $log.=\'<span class="yellow">一股神秘的力量使你晕眩了1秒，但你仿佛感觉刚刚完成了一件很有意义的事情。</span><br>\';
			\\skill602\\set_stun_period(100,$pd);
		}
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill481/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL482_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[482] = \'梦想<br>天生\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill482/main.php',
)

Array\acquire482 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill482/main.php',
)

Array\lost482 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill482/main.php',
)

Array\check_unlocked482 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill482/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		$ret=$chprocess($pa,$pd,$active);
		if (\\skillbase\\skill_query(482,$pa) && rand(1,100)<=30 && $pa[\'wepk\']==\'WF\')
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="red">你身体中的灵力仿佛与武器融为了一体，打出了爆炸般的伤害！</span><br>\';
			else  $log.=\'<span class="red">敌人身体中的灵力仿佛与武器融为了一体，打出了爆炸般的伤害！</span><br>\';
			$r=Array(2);
		}
		return array_merge($r,$ret);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill482/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'weapon\',\'itemmain\'));
		if (defined(\'MOD_NOISE\')) eval(import_module(\'noise\'));
		
		
		$skillinfo[\'G\'] = \'wg\';
		
		$attinfo[\'G\'] = \'射击\';
		
		$iteminfo[\'WG\'] = \'远程兵器\';
		
		
		$counter_obbs[\'G\'] = 50;
		
		$rangeinfo[\'G\'] = 7;
		
		$hitrate_obbs[\'G\'] = 70;
		
		$hitrate_max_obbs[\'G\'] = 95;
		
		$hitrate_r[\'G\'] = 0.05;
		
		$dmg_fluc[\'G\'] = 20;
		
		$skill_dmg[\'G\'] = 0.6;
		
		$wepimprate[\'G\'] = 10000;
		
		$wepdeathstate[\'G\'] = 23;

		
		if (defined(\'MOD_NOISE\')) $noiseinfo[\'G\'] = \'枪声\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_g/main.php',
)

Array\get_attack_method ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		if (substr($pdata[\'wepk\'],1,1) == \'G\' && $pdata[\'weps\']==$nosta) {
			return \'P\';
		}
		else  return $chprocess($pdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_g/main.php',
)

Array\get_WG_att_as_WP_modifier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 0.1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_g/main.php',
)

Array\get_external_att ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		if ($pa[\'wep_kind\']==\'P\' && substr($pa[\'wepk\'],1,1) == \'G\')
			return get_WG_att_as_WP_modifier($pa,$pd,$active)*$chprocess($pa, $pd, $active);
		else  return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_g/main.php',
)

Array\calculate_wepimp_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		$r=1; 
		if ($pa[\'wep_kind\']==\'P\' && substr($pa[\'wepk\'],1,1) == \'G\') $r=2.5;	
		return $chprocess($pa, $pd, $active)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_g/main.php',
)

Array\apply_weapon_imp ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'weapon\',\'logger\'));
		if ($pa[\'wep_kind\']==\'G\')	
		{
			if (isset($pa[\'wepimp\']) && $pa[\'wepimp\'])
			{
				$pa[\'weps\']-=$pa[\'wepimp\'];
				if ($active)
					$log .= "你的{$pa[\'wep\']}的弹药数减少了{$pa[\'wepimp\']}。<br>";
				else  $log .= "{$pa[\'name\']}的{$pa[\'wep\']}的弹药数减少了{$pa[\'wepimp\']}。<br>";
				
				if ($pa[\'weps\']<=0) \\weapon\\weapon_break($pa, $pd, $active);
			}
		}
		else  $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_g/main.php',
)

Array\weapon_break ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'weapon\',\'logger\'));
		if ($pa[\'wep_kind\']==\'G\')	
		{
			if ($active)
				$log .= "你的<span class=\\"red\\">{$pa[\'wep\']}</span>的弹药用光了！<br>";
			else  $log .= "{$pa[\'name\']}的<span class=\\"red\\">{$pa[\'wep\']}</span>的弹药用光了！<br>";
			$pa[\'weps\']=$nosta;
		}
		else  $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_g/main.php',
)

Array\weapon_WG_addnoise ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (defined(\'MOD_NOISE\'))
			\\noise\\addnoise($pa[\'pls\'],\'G\',$pa[\'pid\'],$pd[\'pid\']);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_g/main.php',
)

Array\weapon_strike ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (defined(\'MOD_NOISE\'))
			if ($pa[\'wep_kind\']==\'G\') 
				weapon_WG_addnoise($pa, $pd, $active);
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_g/main.php',
)

Array\get_internal_att ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'wep_kind\']==\'G\')
		{
			$val = $chprocess($pa,$pd,$active);
			if ($val > 270) $val = 270 + ($val - 270) / 3;	
			return $val;
		}
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_g/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'weapon\',\'itemmain\'));
		if (defined(\'MOD_NOISE\')) eval(import_module(\'noise\'));
		
		
		$skillinfo[\'J\'] = \'wg\';
		
		$attinfo[\'J\'] = \'狙击\';
		
		$iteminfo[\'WJ\'] = \'重型枪械\';
		
		
		$counter_obbs[\'J\'] = 20;
		
		$rangeinfo[\'J\'] = 8;
		
		$hitrate_obbs[\'J\'] = 10;
		
		$hitrate_max_obbs[\'J\'] = 98;
		
		$hitrate_r[\'J\'] = 0.2;
		
		$dmg_fluc[\'J\'] = 10;
		
		$skill_dmg[\'J\'] = 0.7;
		
		$wepimprate[\'J\'] = 10000;
		
		$wepdeathstate[\'J\'] = 23;

		
		if (defined(\'MOD_NOISE\')) $noiseinfo[\'J\'] = \'枪声\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_j/main.php',
)

Array\get_WJ_fixed_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$damage = min(round($pd[\'mhp\']/3),20000) + round($pa[\'wepe\']*2/3);
		return $damage;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_j/main.php',
)

Array\get_fixed_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=0;
		if ($pa[\'wep_kind\']==\'J\') $r=get_WJ_fixed_dmg($pa, $pd, $active);
		return $r+$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_j/main.php',
)

Array\get_attack_method ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		if (substr($pdata[\'wepk\'],1,1) == \'J\' && $pdata[\'weps\']==$nosta) {
			return \'P\';
		}
		else  return $chprocess($pdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_j/main.php',
)

Array\get_WJ_att_as_WP_modifier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 0.1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_j/main.php',
)

Array\get_external_att ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		if ($pa[\'wep_kind\']==\'P\' && substr($pa[\'wepk\'],1,1) == \'J\')
			return get_WJ_att_as_WP_modifier($pa,$pd,$active)*$chprocess($pa, $pd, $active);
		else  return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_j/main.php',
)

Array\calculate_wepimp_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		$r=1; 
		if ($pa[\'wep_kind\']==\'P\' && substr($pa[\'wepk\'],1,1) == \'J\') $r=6;	
		return $chprocess($pa, $pd, $active)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_j/main.php',
)

Array\apply_weapon_imp ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'weapon\',\'logger\'));
		if ($pa[\'wep_kind\']==\'J\')	
		{
			if (isset($pa[\'wepimp\']) && $pa[\'wepimp\'])
			{
				$pa[\'weps\']-=$pa[\'wepimp\'];
				if ($active)
					$log .= "你的{$pa[\'wep\']}的弹药数减少了{$pa[\'wepimp\']}。<br>";
				else  $log .= "{$pa[\'name\']}的{$pa[\'wep\']}的弹药数减少了{$pa[\'wepimp\']}。<br>";
				
				if ($pa[\'weps\']<=0) \\weapon\\weapon_break($pa, $pd, $active);
			}
		}
		else  $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_j/main.php',
)

Array\weapon_break ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'weapon\',\'logger\'));
		if ($pa[\'wep_kind\']==\'J\')	
		{
			if ($active)
				$log .= "你的<span class=\\"red\\">{$pa[\'wep\']}</span>的弹药用光了！<br>";
			else  $log .= "{$pa[\'name\']}的<span class=\\"red\\">{$pa[\'wep\']}</span>的弹药用光了！<br>";
			$pa[\'weps\']=$nosta;
		}
		else  $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_j/main.php',
)

Array\weapon_WJ_addnoise ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (defined(\'MOD_NOISE\'))
			\\noise\\addnoise($pa[\'pls\'],\'J\',$pa[\'pid\'],$pd[\'pid\']);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_j/main.php',
)

Array\weapon_strike ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (defined(\'MOD_NOISE\'))
			if ($pa[\'wep_kind\']==\'J\') 
				weapon_WJ_addnoise($pa, $pd, $active);
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_j/main.php',
)

Array\get_internal_att ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'wep_kind\']==\'J\')
		{
			$val = $chprocess($pa,$pd,$active);
			if ($val > 340) $val = 340 + ($val - 340) / 3;	
			return $val;
		}
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_j/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ($pd[\'wepk\']==\'WJ\')	
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"red\\">由于{$pd[\'name\']}手中的武器过于笨重，受到的伤害大增！</span><br>";
			else  $log.="<span class=\\"red\\">由于你手中的武器过于笨重，受到的伤害大增！真是大快人心啊！</span><br>";
			$r=Array(1.5);
		}
		return array_merge($r,$chprocess($pa, $pd, $active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/wep_j/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/event/main.php',
)

Array\event ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'logger\',\'wound\'));
		
		$dice1 = rand(0,5);
		$dice2 = rand(20,40);
		if($pls == 0) { 
		} elseif($pls == 1) { 
		} elseif($pls == 2) { 
			$log = ($log . "突然，一个戴着面具的怪人出现了！<BR>");
			if($dice1 == 2){
				$log = ($log . "“呜嘛呜——！”<br>被怪人<span class=\\"red\\">打中了头</span>！<BR>");
				$inf = str_replace(\'h\',\'\',$inf);
				$inf = ($inf . \'h\');
			}elseif($dice1 == 3){
				$log = ($log . "“呜嘛呜——！”<br>被怪人打中了，<span class=\\"red\\">受到{$dice2}点伤害</span>！<BR>");
				$hp-=$dice2;
			}elseif($rp <=45){
				$log = ($log . "“呜嘛呜——！”<br>怪人给了你一个钱包！里面有<span class=\\"red\\">{$dice2}个1元硬币</span>！<BR>");
				$money = $money + $dice2 * 1;
				$rp = $rp + 15;
			}else{
				$log = ($log . "呼，总算逃脱了。<BR>");
			}
		} elseif($pls == 3) { 
			if($rp <=70){
				$log = ($log . "突然，一位拿着纸袋的少女向你撞来！<BR>");
				if($dice1 == 2){
					$log = ($log . "你身体一侧，成功回避了被撞倒的厄运。<BR>你看着少女面朝下重重地摔在地上，转头走开了。<BR>");
					$rp = $rp + 40;
				}
				else{
					$log = ($log . "你回避不及，被少女撞个正着！<BR>你面朝下地重重地摔在地上。");
					$inf = str_replace(\'h\',\'\',$inf);
					$inf = ($inf . \'h\');	
					$rp = $rp + 25;
					$log = ($log . "不过知道少女不是故意找茬后，<BR>你原谅了她，并且和她分享了雕鱼烧，你感觉全身舒畅。");
					if($hp < $mhp) $hp = $mhp;
					if($sp < $msp) $sp = $msp;
				}
			}else{
				$log = ($log . "突然，一位少女向你撞来！<BR>");
				if($dice1 == 2){
					$log = ($log . "你身体一侧，成功回避了被撞倒的厄运。<BR>你看着少女面朝下重重地摔在地上，转头走开了。<BR>");
					$rp = $rp + 40;
				}
				else{
					$log = ($log . "你回避不及，被少女撞个正着！<BR>你面朝下地重重地摔在地上。");
					$inf = str_replace(\'h\',\'\',$inf);
					$inf = ($inf . \'h\');	
					$rp = $rp - 5;
				}
			}		
		} elseif($pls == 4) { 
		} elseif($pls == 5) { 
		} elseif($pls == 6) { 
		} elseif($pls == 7) { 
			$log = ($log . "糟糕，脚下滑了一下！<BR>");
			if($dice1 <= 3){
				$dice2 += 10;
				if($sp <= $dice2){
					$dice2 = $sp-1;
				}
				$sp-=$dice2;
				$log = ($log . "你摔进了池里！<BR>从水池里爬出来<span class=\\"red\\">消耗了{$dice2}点体力</span>。<BR>");
			}else{
				$log = ($log . "万幸，你没跌进池中。<BR>");
			}
		} elseif($pls == 8) { 
		} elseif($pls == 9) { 
		} elseif($pls == 10) { 
		} elseif($pls == 11) { 
			$log = ($log . "哇！一个大锤向你锤来！<BR>");
			if($dice1 == 2){
				$log = ($log . "大锤重重地<span class=\\"red\\">砸到了腿上</span>，好疼！<BR>");
				$inf = str_replace(\'f\',\'\',$inf);
				$inf = ($inf . \'f\');
			}elseif($dice1 == 3){
				$log = ($log . "你被击飞出了窗外，<span class=\\"red\\">受到{$dice2}点伤害</span>！<BR>");
				$hp-=$dice2;
			}else{
				$log = ($log . "你勉强躲过了大锤的攻击。<BR>");
			}
		} elseif($pls == 12) { 
			$log = ($log . "突然，天空出现一大群乌鸦！<BR>");
			if($dice1 == 2){
				$log = ($log . "被乌鸦袭击，<span class=\\"red\\">头部受了伤</span>！<BR>");
				$inf = str_replace(\'h\',\'\',$inf);
				$inf = ($inf . \'h\');
			}elseif($dice1 == 3){
				$log = ($log . "被乌鸦袭击，<span class=\\"red\\">受到{$dice2}点伤害</span>！<BR>");
				$hp-=$dice2;
			}else{
				$log = ($log . "呼，总算击退了。<BR>");
			}
		} elseif($pls == 13) { 
		} elseif($pls == 14) { 
		} elseif($pls == 15) { 
			$log = ($log . "突然有妖怪袭击你！<BR>");
			if($dice1 == 2){
				$log = ($log . "被妖怪吓着了！你惊慌中<span class=\\"red\\">撞伤了自己的头部</span>！<BR>");
				$inf = str_replace(\'h\',\'\',$inf);
				$inf = ($inf . \'h\');
			}elseif($dice1 == 3){
				$log = ($log . "妖怪的弹幕使你<span class=\\"red\\">受到{$dice2}点伤害</span>！<BR>");
				$hp-=$dice2;
			}else{
				$log = ($log . "呼，所谓妖怪不过是个撑着紫伞的少女而已，没什么可害怕的。<BR>");
			}
		} elseif($pls == 16) { 
			$log = ($log . "野生的皮卡丘从草丛中钻出来了！<BR>");
			if($dice1 == 2){
				$log = ($log . "皮卡丘使用了电击！<span class=\\"red\\">手臂被击伤了</span>！<BR>");
				$inf = str_replace(\'a\',\'\',$inf);
				$inf = ($inf . \'a\');
			}elseif($dice1 == 3){
				$log = ($log . "皮卡丘使用了电光石火！<span class=\\"red\\">受到{$dice2}点伤害</span>！<BR>");
				$hp-=$dice2;
			}else{
				$log = ($log . "成功地逃跑了。<BR>");
			}
		} elseif($pls == 17) { 
		} elseif($pls == 18) { 
			$log = ($log . "突然，天空出现一大群乌鸦！<BR>");
			if($dice1 == 2){
				$log = ($log . "被乌鸦袭击，<span class=\\"red\\">头部受了伤</span>！<BR>");
				$inf = str_replace(\'h\',\'\',$inf);
				$inf = ($inf . \'h\');
			}elseif($dice1 == 3){
				$log = ($log . "被乌鸦袭击，<span class=\\"red\\">受到{$dice2}点伤害</span>！<BR>");
				$hp-=$dice2;
			}else{
				$log = ($log . "呼，总算击退了。<BR>");
			}

		} elseif($pls == 19) { 
		} elseif($pls == 20) { 
		} elseif($pls == 21) { 
			if($gamestate < 50){
				$log = ($log . "隶属于时空部门G的特殊部队『天使』正在实弹演习！<BR>你被卷入了弹幕中！<BR>");
				if($dice1 <= 1 ){
					$log = ($log . "在弹幕的狂风中，你有惊无险地回避着弹幕，总算擦弹成功了。<BR>");
					if($dice2 == 40 && $rp > 40){
						$log = ($log . "咦，头顶上……好像有一名少女被弹幕击中了……？<BR>“对不起、对不起！”伴随着焦急的道歉声，少女以及她乘坐的机体向你笔直坠落下来。<br>你还来不及反应，重达数十吨的机体便直接落在了你的头上。<br>");
						$state = 33;
						\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = \'\';
						\\player\\kill($sdata,$sdata);
						\\player\\player_save($sdata);
						\\player\\load_playerdata($sdata);
						return;
					}
					elseif($dice2 == 30){
					$log = ($log . "接下来你看见驾驶着棕色机体的少女向你飞来。<BR>“实在对不起，我们看起来没有放假的时候啊。危险躲藏在每个大意之中不是么？”<br>她扔给了你些什么东西，貌似是面额为573的『纸币』？<br>“祝你好运！”少女这么说完就飞走了。");
					$money = $money + 573;
					$rp = $rp + 100;
					}
				}
				else{
					$log = ($log . "在弹幕的狂风中，你徒劳地试图回避弹幕……<BR>擦弹什么的根本做不到啊！<BR>你被少女们打成了筛子！<BR>");
					$infcache = \'\';
					foreach(Array(\'h\',\'b\',\'a\',\'f\') as $value){
						$dice3=rand(0,10);
						if($dice3<=6){
							$inf = str_replace($value,\'\',$inf);
							$infcache .= $value;
							$log .= "<span class=\\"red\\">弹幕造成你{$infname[$value]}了！</span><br />";
						}
					}
					if(empty($infcache)){
						$inf = str_replace(\'b\',\'\',$inf);
						$inf .= \'b\';
						$log .= "<span class=\\"red\\">弹幕造成你胸部受伤了！</span><br />";
					} else {$inf .= $infcache;}
		
		
		
		
		
					if($dice2 >= 39){
						$log = ($log . "并且，少女们的弹幕击中了要害！<BR><span class=\\"red\\">你感觉小命差点就交代在这里了</span>。<BR>");
						$hp = 1;
					}
					elseif($dice2 >= 36){
						$log = ($log . "并且，黑洞激光造成你<span class=\\"blue\\">冻结</span>了！<BR>");
						$inf = str_replace(\'i\',\'\',$inf);
						$inf = ($inf . \'i\');
					}
					elseif($dice2 >= 32){
						$log = ($log . "并且，环形激光导致你<span class=\\"red\\">烧伤</span>了！<BR>");
						$inf = str_replace(\'u\',\'\',$inf);
						$inf = ($inf . \'u\');
					}
					elseif($dice2 >= 27){
						$log = ($log . "并且，精神震荡弹导致你<span class=\\"yellow\\">全身麻痹</span>了！<BR>");
						$inf = str_replace(\'e\',\'\',$inf);
						$inf = ($inf . \'e\');
					}
					elseif($dice2 >= 23){
						$log = ($log . "并且，音波装备导致你<span class=\\"grey\\">混乱</span>了！<BR>");
						$inf = str_replace(\'w\',\'\',$inf);
						$inf = ($inf . \'w\');
					}
					else{
						$log = ($log . "并且，干扰用强袭装备导致你<span class=\\"purple\\">中毒</span>了！<BR>");
						$inf = str_replace(\'p\',\'\',$inf);
						$inf = ($inf . \'p\');
					}
					$log = ($log . "你遍体鳞伤、连滚带爬地逃走了。<BR>");
				}
			} else {
				$log = ($log . "特殊部队『天使』的少女们不知道去了哪里。<BR>");
			}
		} elseif($pls == 22) { 
		} elseif($pls == 23) { 
		} elseif($pls == 24) { 
		} elseif($pls == 25) { 
		} elseif($pls == 26) { 
		} elseif($pls == 27) { 
		} elseif($pls == 28) { 
		} elseif($pls == 29) { 
		} elseif($pls == 30) { 
		} elseif($pls == 31) { 
		} elseif($pls == 32) { 
		} elseif($pls == 33) { 
			$result = $db->query("SELECT pid,hp FROM {$tablepre}players WHERE type=4");
			if(!$db->num_rows($result)) $flag = 0;
			else{
				$result = $db->fetch_array($result);
				if($result[\'hp\'] >0) $flag = 1;
				else $flag = 2;
			}
			if(!$flag){
				$dice=rand(0,10);
				if ($dice < 3){
					if ($rp < 40){
						$log = ($log . "少女抬头看了你一眼，随后低下头去继续她的研究。<BR>");
						$rp = $rp + rand(10,25);
					}elseif ($rp < 500){
						$log = ($log . "少女抬头看了你一眼，貌似对你的举动很感兴趣的样子。<BR>");
						$rp = $rp + rand(50,100);
					}elseif ($rp < 1000 && $killnum == 0){
						$log = ($log . "少女向你扔来一个保温瓶。<BR>里面是类似于咖啡的液体；<BR>你喝了一口，感觉味道不怎么样。<BR>");
						
						$spup = rand(50,100);
						
						$msp += $spup;
						$sp = $msp;		
						$rp += $spup*2;	
					}elseif ($rp < 1000){
						$log = ($log . "不知道为什么，你觉得双腿一软……<BR>");
						$spdown = round($rp/4);
						$sp -= $spdown;
						if($sp <= 0){$sp = 1;}
						
					}elseif ($rp < 5000 && $killnum == 0){
						$log = ($log . "看见少女离开了，你好奇地向少女身下的那幅不明『绘卷』上看去……<BR>");
						$mhp = $mhp - rand(5,10);
						if($mhp <= 37){$mhp = 37;}
						$hp = 1;
						$msp = $msp - rand(10,20);
						if($msp <= 37){$msp = 37;}
						$sp = 1;
						
						$inf = str_replace(\'h\',\'\',$inf);
						$inf = str_replace(\'b\',\'\',$inf);
						$inf = str_replace(\'a\',\'\',$inf);
						$inf = str_replace(\'f\',\'\',$inf);
						$inf = ($inf . \'hbaf\');
						$log = ($log . "不能承受绘卷上所述的知识量，你浑身冒血连滚带爬地逃走了。<BR>");
					}elseif ($rp < 5000){
						death_kagari(rand(1,2));
					}else{
						death_kagari(3);
						
					}
				}elseif ($dice < 6){
					if ($rp < 40){
						$log = ($log . "少女抬头看了你一眼，貌似对你的举动很感兴趣的样子。<BR>");
						$rp = $rp + rand(50,100);
					}elseif ($rp < 500){
						$log = ($log . "不知道为什么，你觉得双腿一软……<BR>");
						$hpdown = round($rp/4);
						$hp -= $hpdown;
						if($hp <= 0 ){$hp = 1;}
						
					}elseif ($rp < 1000 && $killnum == 0){
						$log = ($log . "少女的丝带飞到你的面前，<BR>在你的脸上重重地刮了一下。<BR>");
						$inf = str_replace(\'h\',\'\',$inf);
						$inf = ($inf . \'h\');
					}elseif ($rp < 1000){
						$log = ($log . "少女的丝带飞到你的面前，<BR>在你的脸上重重地刮了一下。<BR>");
						$inf = str_replace(\'e\',\'\',$inf);
						$inf = ($inf . \'e\');
					}elseif ($rp < 5000 && $killnum == 0){
						$log = ($log . "少女的丝带飞到你的面前，<BR>在你的头上重重地敲了一下。<BR>");
						$inf = str_replace(\'h\',\'\',$inf);
						$inf = str_replace(\'w\',\'\',$inf);
						$inf = ($inf . \'hw\');
					}elseif ($rp < 5000){
						death_kagari(rand(1,2));
					}else{
						death_kagari(3);
						
					}		
				}elseif ($dice < 9){
					if ($rp < 40){
						$log = ($log . "少女抬头开始注意你的一举一动。<BR>");
						$rp = $rp + rand(200,400);
					}elseif ($rp < 500){
						$log = ($log . "少女向你扔来一个保温瓶。<BR>里面是奇怪的深色液体；<BR>你喝了一口，感觉体内有一种力量涌出来。<BR>");
						$mhpup = rand(25,50);
						$mhp = $mhp + $mhpup;
						if($hp < $mhp) $hp = $mhp;
						$rp += $mhpup*4;
					}elseif ($rp < 1000 && $killnum == 0){
						$log = ($log . "你小心翼翼地在少女旁边坐下，（竟然没被她赶走！）<BR>看着她身下的『绘卷』<BR>");
						$hp = round($mhp/10);
						if($hp <= 0){$hp = 1;}
						$sp = round($msp/10);
						if($sp <= 0){$sp = 1;}
		
		
		
		
						$log = ($log . "当你觉得你看懂了点什么的时候<BR>只见少女用惊讶的眼光盯着你。<BR>这时你才发现你已经七窍流血。<BR>");
						$skillupsum = 0;
						foreach(array(\'wp\',\'wk\',\'wg\',\'wc\',\'wd\',\'wf\') as $val){
							$up = rand(23,34);
							${$val} += $up;
							$skillupsum += $up;
						}
						$rp += $skillupsum*2;
		
		
		
		
		
		
					}elseif ($rp < 1000){
						$log = ($log . "你小心翼翼地在少女旁边坐下，想看看她身下的『绘卷』<BR>结果被红色的丝带正中腿部。<BR>");
		
		
						$hp = round($mhp/8);
						if($hp <= 0){$hp = 1;}
		
		
						$inf = str_replace(\'f\',\'\',$inf);
						$inf = ($inf . \'f\');
						$log = ($log . "你龇牙咧嘴地逃走了。<BR>");			
					}elseif ($rp < 5000){
						death_kagari(1);
					}elseif ($rp > 5000){
						death_kagari(2);
					}else{
						$log = ($log . "少女抬头看了你一眼，随后低下头去继续她的研究。<BR>");
					}		
				}else{
					if ($rp < 40){
						$log = ($log . "少女飘了起来，并且跟在了你的后面，<BR>太可怕了，还是赶快离开为妙！<BR>");
						$rp = $rp + rand(500,1000);
					}elseif ($rp < 500){
						$log = ($log . "少女瞪了你一眼，你感觉你的生命力被抽干了，<BR>太可怕了，还是赶快离开为妙！<BR>");
						$oldhp = $hp;$oldsp = $sp;
						$hp = 1;
						$sp = 1;
						$rp = $rp - round(($oldhp+$oldsp)/10);
					}elseif ($rp < 1000 && $killnum == 0){
						$log = ($log . "少女瞪了你一眼，你感觉头晕目眩，<BR>太可怕了，还是赶快离开为妙！<BR>");
						$skilldownsum = 0;
						foreach(array(\'wp\',\'wk\',\'wg\',\'wc\',\'wd\',\'wf\') as $val){
							$down = rand(1,round(${$val}/2));
							${$val} -= $down;
							$skilldownsum += $down;
						}
						$rp -= round($skilldownsum/6);
					}elseif ($rp < 1000){
						$log = ($log . "少女瞪了你一眼，你被一种无形的压力直接压在了地上，<BR>太可怕了，还是赶快离开为妙！<BR>");
						$mhp = round($mhp/2);
						if($mhp <= 37){$mhp = 37;}
						if($hp > $mhp){$hp = $mhp;}
						$msp = round($msp/2);
						if($msp <= 37){$msp = 37;}
						if($sp > $msp){$sp = $msp;}
						
						$rp = $rp - 37;
					}elseif ($rp < 5000){
						death_kagari(1);
					}elseif ($rp > 5000){
						death_kagari(2);
					}else{
						$log = ($log . "少女抬头看了你一眼，随后低下头去继续她的研究。<BR>");
					}		
				}
				
			}elseif($flag == 1){
				$log .= \'明白了少女已经是敌人的你，刻意躲避着少女的追踪。不过至少你不用担心被绘卷搞得七窍流血了。<BR>\';
			}else{
				$log .= \'少女的尸体静静地躺在雏菊盛开的山丘上，这里不再有任何危险了。<BR>但是不知为何，你丝毫没有轻松的感觉。<br>\';
			}
		}elseif ($pls==34){
			if (($art!=\'Untainted Glory\')&&($gamestate != 50)&&($gametype!=2)){
				$rpls=-1;
				while ($rpls<0 || $arealist[$rpls]==34){
					if($hack){$rpls = rand(0,sizeof($plsinfo)-1);}
					else {$rpls = rand($areanum+1,sizeof($plsinfo)-1);}
				} 
				$pls=$arealist[$rpls];
				$log.="殿堂的深处传来一个声音：<span class=\\"evergreen\\">“你还没有进入这里的资格”。</span><br>一股未知的力量包围了你，当你反应过来的时候，发现自己正身处<span class=\\"yellow\\">{$plsinfo[$pls]}</span>。<br>";
				if (CURSCRIPT !== \'botservice\') $log.="<span id=\\"HsUipfcGhU\\"></span>";
			}
		}	else {
		}

		if($hp<=0 && $state < 10){
			$state = 13;
			\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = \'\';
			\\player\\kill($sdata,$sdata);
			\\player\\player_save($sdata);
			\\player\\load_playerdata($sdata);
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/event/main.php',
)

Array\death_kagari ====> array (
  'vars' => '$type',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'logger\'));
		if($type == 1){
			$log = ($log . "从少女的身上延伸出了红色的丝带，<BR>如巨蟒般将你紧紧地捆住。<BR>");
			if ($gamestate == 50 ){
				$log = ($log . "不过，在你即将被绞碎时，上空射来的奇异光束烧毁了丝带，救了你一命。<BR>少女见状扭头离去了。<br>");
				$inf = str_replace(\'b\',\'\',$inf);
				$inf .= \'b\';
				$hp = round($hp/100);
				if($hp <= 0){$hp = 1;}
			}else{
				$state = 36;
				\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = \'\';
				\\player\\kill($sdata,$sdata);
				\\player\\player_save($sdata);
				\\player\\load_playerdata($sdata);
				return;
			}	
		}elseif($type == 2){
			$log = ($log . "从少女的身上延伸出了红色的丝带，<BR>锋利的丝带朝着你的头部飞来！<BR>");
			if ($gamestate == 50 ){
				$log = ($log . "不过，在你即将身首异处时，上空射来的奇异光束烧毁了丝带，救了你一命。<BR>少女见状扭头离去了。<br>");
				$hp = round($hp/100);
				$inf = str_replace(\'h\',\'\',$inf);
				$inf .= \'h\';
				if($hp <= 0){$hp = 1;}
			}else{
				$state = 37;
				\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = \'\';
				\\player\\kill($sdata,$sdata);
				\\player\\player_save($sdata);
				\\player\\load_playerdata($sdata);
				return;
			}		
		}elseif($type == 3){
			$log = ($log . "从少女的身上延伸出了红色的丝带，<BR>灼热的丝带朝着你高速飞来！<BR>");
			if ($gamestate == 50 ){
				$log = ($log . "不过，在喷射着岩浆的丝带即将把你融化时，上空射来的奇异光束烧毁了丝带，救了你一命。<BR>少女见状扭头离去了。<br>");
				$hp = round($hp/100);
				$inf = str_replace(\'u\',\'\',$inf);
				$inf .= \'u\';
				if($hp <= 0){$hp = 1;}
			}else{
				$state = 38;
				\\player\\update_sdata(); $sdata[\'sourceless\'] = 1; $sdata[\'attackwith\'] = \'\';
				\\player\\kill($sdata,$sdata);
				\\player\\player_save($sdata);
				\\player\\load_playerdata($sdata);
				return;
			}	
		}else{
			return;
		}	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/event/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if(isset($exarr[\'dword\'])) $e0 = $exarr[\'dword\'];
			
		if($news == \'death13\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因<span class=\\"red\\">意外事故</span>死亡{$e0}</li>";
		if($news == \'death33\')
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因卷入特殊部队『天使』的实弹演习，被坠落的少女和机体“亲吻”而死{$e0}</li>";
		if($news == \'death35\')
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因为敌意过剩，被虚拟意识救♀济！{$e0}</li>";
		if($news == \'death36\')
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因为敌意过剩，被虚拟意识腰★斩！{$e0}</li>";
		if($news == \'death37\')
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因为敌意过剩，被虚拟意识断★头！{$e0}</li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/event/main.php',
)

Array\discover ====> array (
  'vars' => '$schmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'logger\',\'event\'));
		$event_dice = rand(0,99);
		if(($event_dice < $event_obbs)||(($art!="Untainted Glory")&&($pls==34)&&($gamestate != 50))){
			event();
			$mode = \'command\';
			return;
		}
		$chprocess($schmode);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/event/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'wound\'));
		
		$infinfo[\'p\'] = \'<span class="purple">毒</span>\';
		
		$infname[\'p\'] = \'<span class="purple">中毒</span>\';
		
		$infskillinfo[\'p\'] = 5;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill5/main.php',
)

Array\acquire5 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill5/main.php',
)

Array\lost5 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill5/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (strpos($pa[\'inf\'],\'p\')!==false) \\skillbase\\skill_acquire(5,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill5/main.php',
)

Array\skill_onsave_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skillbase\'));
		if (\\skillbase\\skill_query(5,$pa)) \\skillbase\\skill_lost(5,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill5/main.php',
)

Array\deal_poison_move_damage ====> array (
  'vars' => '$damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		$hp -= $damage;
		$log .= "<span class=\\"purple\\">毒发</span>减少了<span class=\\"red\\">$damage</span>点生命！<br>";
		if($hp <= 0 ){
			$state = 12;
			\\player\\update_sdata(); $sdata[\'sourceless\'] = 1;
			\\player\\kill($sdata,$sdata);
			\\player\\player_save($sdata);
			\\player\\load_playerdata($sdata);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill5/main.php',
)

Array\search_area ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (\\skillbase\\skill_query(5))
		{
			$damage = round($mhp * 0.03125) + rand(0,10);
			deal_poison_move_damage($damage);
		}
		if ($hp>0) $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill5/main.php',
)

Array\move_to_area ====> array (
  'vars' => '$moveto',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (\\skillbase\\skill_query(5))
		{
			$damage = round($mhp * 0.0625) + rand(0,10);
			deal_poison_move_damage($damage);
		}
		if ($hp>0) $chprocess($moveto);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill5/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'death12\') 
		{
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因<span class=\\"red\\">毒发</span>死亡{$e0}</li>";
		} 
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill5/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'wound\'));
		
		$infinfo[\'u\'] = \'<span class="red">烧</span>\';
		
		$infname[\'u\'] = \'<span class="red">烧伤</span>\';
		
		$infskillinfo[\'u\'] = 6;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill6/main.php',
)

Array\acquire6 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill6/main.php',
)

Array\lost6 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill6/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (strpos($pa[\'inf\'],\'u\')!==false) \\skillbase\\skill_acquire(6,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill6/main.php',
)

Array\skill_onsave_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(6,$pa)) \\skillbase\\skill_lost(6,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill6/main.php',
)

Array\deal_burn_move_damage ====> array (
  'vars' => '$damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		$hp -= $damage;
		$log .= "<span class=\\"red\\">烧伤发作</span>减少了<span class=\\"red\\">$damage</span>点生命！<br>";
		if($hp <= 0 ){
			$state = 18;
			\\player\\update_sdata(); $sdata[\'sourceless\'] = 1;
			\\player\\kill($sdata,$sdata);
			\\player\\player_save($sdata);
			\\player\\load_playerdata($sdata);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill6/main.php',
)

Array\search_area ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (\\skillbase\\skill_query(6))
		{
			$damage = round($mhp * 0.03125) + rand(0,10);
			deal_burn_move_damage($damage);
		}
		if ($hp>0) $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill6/main.php',
)

Array\move_to_area ====> array (
  'vars' => '$moveto',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if (\\skillbase\\skill_query(6))
		{
			$damage = round($mhp * 0.0625) + rand(0,10);
			deal_burn_move_damage($damage);
		}
		if ($hp>0) $chprocess($moveto);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill6/main.php',
)

Array\get_att_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(6,$pa)) 
			return $chprocess($pa,$pd,$active)*0.6;
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill6/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'death18\') 
		{
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e)
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			else  $e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因<span class=\\"red\\">烧伤发作</span>死亡{$e0}</li>";
		} 
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill6/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'wound\'));
		
		$infinfo[\'i\'] = \'<span class="clan">冻</span>\';
		
		$infname[\'i\'] = \'<span class="clan">冻结</span>\';
		
		$infskillinfo[\'i\'] = 7;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill7/main.php',
)

Array\acquire7 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill7/main.php',
)

Array\lost7 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill7/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (strpos($pa[\'inf\'],\'i\')!==false) \\skillbase\\skill_acquire(7,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill7/main.php',
)

Array\skill_onsave_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(7,$pa)) \\skillbase\\skill_lost(7,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill7/main.php',
)

Array\calculate_move_sp_cost ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(7)) 
			return $chprocess()+20;
		else  return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill7/main.php',
)

Array\calculate_search_sp_cost ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(7)) 
			return $chprocess()+20;
		else  return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill7/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(7,$pa))			
			return $chprocess($pa,$pd,$active)*0.8;
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill7/main.php',
)

Array\get_def_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(7,$pd))		
			return $chprocess($pa,$pd,$active)*0.9;
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill7/main.php',
)

Array\get_att_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(7,$pa)) 
			return $chprocess($pa,$pd,$active)*0.9;
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill7/main.php',
)

Array\calculate_active_obbs_multiplier ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(7,$ldata)) 
			return $chprocess($ldata,$edata)*0.9;
		else  return $chprocess($ldata,$edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill7/main.php',
)

Array\calculate_counter_rate_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(7,$pa)) 
			return $chprocess($pa,$pd,$active)*0.9;
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill7/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'wound\'));
		
		$infinfo[\'e\'] = \'<span class="yellow">麻</span>\';
		
		$infname[\'e\'] = \'<span class="yellow">身体麻痹</span>\';
		
		$infskillinfo[\'e\'] = 8;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill8/main.php',
)

Array\acquire8 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill8/main.php',
)

Array\lost8 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill8/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (strpos($pa[\'inf\'],\'e\')!==false) \\skillbase\\skill_acquire(8,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill8/main.php',
)

Array\skill_onsave_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(8,$pa)) \\skillbase\\skill_lost(8,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill8/main.php',
)

Array\calculate_move_sp_cost ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(8)) 
			return $chprocess()+5;
		else  return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill8/main.php',
)

Array\calculate_search_sp_cost ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(8)) 
			return $chprocess()+5;
		else  return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill8/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(8,$pa))			
			return $chprocess($pa,$pd,$active)*0.9;
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill8/main.php',
)

Array\calculate_active_obbs_multiplier ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(8,$ldata)) 
			return $chprocess($ldata,$edata)*0.2;
		else  return $chprocess($ldata,$edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill8/main.php',
)

Array\calculate_counter_rate_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(8,$pa)) 
			return $chprocess($pa,$pd,$active)*0.2;
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill8/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'wound\'));
		
		$infinfo[\'w\'] = \'<span class="grey">乱</span>\';
		
		$infname[\'w\'] = \'<span class="grey">混乱</span>\';
		
		$infskillinfo[\'w\'] = 9;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill9/main.php',
)

Array\acquire9 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill9/main.php',
)

Array\lost9 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill9/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (strpos($pa[\'inf\'],\'w\')!==false) \\skillbase\\skill_acquire(9,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill9/main.php',
)

Array\skill_onsave_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(9,$pa)) \\skillbase\\skill_lost(9,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill9/main.php',
)

Array\get_def_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(9,$pd))		
			return $chprocess($pa,$pd,$active)*0.7;
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill9/main.php',
)

Array\calculate_active_obbs_multiplier ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(9,$ldata)) 
			return $chprocess($ldata,$edata)*0.8;
		else  return $chprocess($ldata,$edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill9/main.php',
)

Array\calculate_counter_rate_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(9,$pa)) 
			return $chprocess($pa,$pd,$active)*0.8;
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/skills/skill9/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/poison/main.php',
)

Array\parse_itmk_words ====> array (
  'vars' => '$k_value',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (isset($k_value[0]) && $k_value[0]==\'P\') $k_value[0]=\'H\';
		return $chprocess($k_value);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/poison/main.php',
)

Array\send_poison_enemylog ====> array (
  'vars' => '$itm,$itmsk',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if($hp<=0){
			$w_log = "<span class=\\"red\\">{$name}食用了你下毒的补给{$itm}并被毒死了！</span><br>";
			\\logger\\logsave ( $itmsk, $now, $w_log ,\'b\');
		}
		else
		{
			$w_log = "<span class=\\"yellow\\">{$name}食用了你下毒的补给{$itm}！</span><br>";
			\\logger\\logsave ( $itmsk, $now, $w_log ,\'b\');
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/poison/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'P\' ) === 0) {
			if (strpos ( $itmk, \'2\' ) === 2) {
				$damage = round ( $itme * 2 );
			} elseif (strpos ( $itmk, \'1\' ) === 2) {
				$damage = round ( $itme * 1.5 );
			} else {
				$damage = round ( $itme );
			}
			
			if (defined(\'MOD_WOUND\')) \\wound\\get_inf(\'p\');
			
			$hp -= $damage;
			
			$playerflag = 0;
			if ($itmsk && is_numeric($itmsk)) $playerflag = 1;
			$selflag = 0;
			if ($playerflag && $itmsk == $pid) $selflag = 1;
			if  ($playerflag)
			{
				$wdata = \\player\\fetch_playerdata_by_pid($itmsk);
				$wprefix = \'<span class="yellow">\'.$wdata[\'name\'].\'</span>\';
				if ($selflag) $wprefix = \'你自己\';
				$log .= "糟糕，<span class=\\"yellow\\">$itm</span>中被{$wprefix}掺入了毒药！你受到了<span class=\\"dmg\\">$damage</span>点伤害！<br>";
				addnews ( $now, \'poison\', $name, $wdata [\'name\'], $itm );
				if (!$selflag) send_poison_enemylog($itm,$itmsk);
			} else {
				$log .= "糟糕，<span class=\\"yellow\\">$itm</span>有毒！你受到了<span class=\\"dmg\\">$damage</span>点伤害！<br>";
			}
			if ($hp <= 0) {
			
				$state = 26;
				\\player\\update_sdata();
				
				if ($playerflag && !$selflag) 	
				{	
					$sdata[\'bid\'] = $itmsk;
					$log .= "你被<span class=\\"red\\">" . $wdata [\'name\'] . "</span>毒死了！";
				}
				else  if ($playerflag)			
				{
					$sdata[\'bid\'] = $itmsk;
					$wdata = &$sdata;
					$log .= "你被毒死了！";
				}
				else						
				{
					$wdata = &$sdata;
					$sdata[\'sourceless\']=1;
					$log .= "你被毒死了！";
				}
				$wdata[\'attackwith\']=$itm;
				$killmsg = \\player\\kill($wdata,$sdata);
				if (isset($sdata[\'sourceless\'])) unset($sdata[\'sourceless\']);
				
				if($killmsg){$log .= "<span class=\\"yellow\\">{$wdata[\'name\']}对你说：“{$killmsg}”</span><br>";}
				
				if ($playerflag && !$selflag) \\player\\player_save($wdata);
				\\player\\player_save($sdata);
				\\player\\load_playerdata($sdata);
			} 
			\\itemmain\\itms_reduce($theitem);
			return;
		}
		
		if ((strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) && ($itm == \'毒药\')) 
		{
			include template(MOD_POISON_POISON);
			$cmd = ob_get_contents();
			ob_clean();
			return;
		}
		
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/poison/main.php',
)

Array\poison ====> array (
  'vars' => '$itmn = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\'));
		if ( $itmp < 1 || $itmp > 6 ) {
			$log .= \'此道具不存在，请重新选择。\';
			$mode = \'command\';
			return;
		}
		$poison = & ${\'itm\'.$itmp};
		$poisonk = & ${\'itmk\'.$itmp};
		$poisone = & ${\'itme\'.$itmp};
		$poisons = & ${\'itms\'.$itmp};
		$poisonsk = & ${\'itmsk\'.$itmp};
		if ( $itmn < 1 || $itmn > 6 ) {
			$log .= \'此道具不存在，请重新选择。\';
			$mode = \'command\';
			return;
		}
		$itm = & ${\'itm\'.$itmn};
		$itmk = & ${\'itmk\'.$itmn};
		$itmsk = & ${\'itmsk\'.$itmn};
		
		if(($poison != \'毒药\') || (strpos($itmk, \'H\') !==0 && strpos($itmk, \'P\') !== 0)) {
			$log .= \'道具选择错误，请重新选择。<br>\';
			$mode = \'command\';
			return;
		}
		$itmk = substr_replace($itmk,\'P\',0,1);
		
		if($art == \'毒物说明书\') $itmk = substr_replace($itmk,\'1\',2,1); 
		if($art == \'妖精的羽翼\') {$itmk = substr_replace($itmk,\'H\',0,1);$log .= "一种神秘的力量净化了毒药，你的毒药变成了解毒剂！";}
		$itmsk = $pid;
		if($art == \'妖精的羽翼\') {$log .= "使用了 <span class=\\"red\\">$poison</span> ，<span class=\\"yellow\\">${\'itm\'.$itmn}</span> 被净化了！<br>";}
		else {$log .= "使用了 <span class=\\"red\\">$poison</span> ，<span class=\\"yellow\\">${\'itm\'.$itmn}</span> 被下毒了！<br>";}
		$poisons--;
		if($poisons <= 0){
			$log .= "<span class=\\"red\\">$poison</span> 用光了。<br>";
			$poison = $poisonk = \'\';$poisone = $poisons = 0;
		}

		$mode = \'command\';
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/poison/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'input\'));
		if($mode == \'item\' && $usemode == \'poison\') 
		{
			if ($command==\'menu\'){
				$mode = \'command\';
				return;
			}
			$item = substr($command,3);
			poison($item);
			return;
		}
		
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/poison/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'poison\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"purple\\">{$a}食用了{$b}下毒的{$c}</span></li>";
		
		if($news == \'death26\') {
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e){
				$e0="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			}else{
				$e0="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			}
			if($c) {
				return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因食用了<span class=\\"yellow\\">$c</span>下毒的<span class=\\"red\\">$d</span>被毒死{$e0}</li>";
			} else {
				return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>因食用了有毒的<span class=\\"red\\">$d</span>被毒死{$e0}</li>";
			}
		}
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/poison/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'player\',\'itemmain\'));
		global $armor_equip_list, $armor_iteminfo;
		$equip_list=array_merge($equip_list,$armor_equip_list);
		$battle_equip_list=array_merge($battle_equip_list,$armor_equip_list);
		$iteminfo+=$armor_iteminfo;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/armor/main.php',
)

Array\get_external_def_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1.0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/armor/main.php',
)

Array\get_external_def ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'armor\'));
		$sum = 0;
		foreach($armor_equip_list as $key) $sum+=$pd[$key.\'e\'];
		return $sum;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/armor/main.php',
)

Array\get_def ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pd[\'external_def\'] = get_external_def($pa,$pd,$active)*get_external_def_multiplier($pa,$pd,$active);
		return $chprocess($pa, $pd, $active)+$pd[\'external_def\'];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/armor/main.php',
)

Array\armor_break ====> array (
  'vars' => '&$pa, &$pd, $active, $whicharmor',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'logger\'));
		if ($active)
		{
			$log .= "{$pd[\'name\']}的<span class=\\"red\\">".$pd[$whicharmor]."</span>受损过重，无法再装备了！<br>";
			$pd[\'armorbreaklog\'] .= "你的<span class=\\"red\\">".$pd[$whicharmor]."</span>受损过重，无法再装备了！<br>";
		}
		else  $log .= "你的<span class=\\"red\\">".$pd[$whicharmor]."</span>受损过重，无法再装备了！<br>";
		
		$pd[$whicharmor] = \'\'; $pd[$whicharmor.\'e\'] = 0; $pd[$whicharmor.\'s\'] = 0; $pd[$whicharmor.\'sk\'] = \'\';
						
		if ($whicharmor==\'arb\')
		{
			eval(import_module(\'armor\'));
			$pd[\'arb\'] = $noarb; $pd[\'arbs\'] = $nosta;$pd[\'arbk\']="DN";
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/armor/main.php',
)

Array\armor_hurt ====> array (
  'vars' => '&$pa, &$pd, $active, $which, $hurtvalue',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'armor\',\'wound\',\'logger\'));
		if (in_array($which,$armor_equip_list) && isset($pd[$which.\'e\']) && $pd[$which.\'e\']>0)	
		{
			if ($pd[$which.\'s\'] == $nosta)	
			{
				$pd[$which.\'s\'] = $hurtvalue;
			}
			$x = min($pd[$which.\'s\'], $hurtvalue);
			$pd[$which.\'s\'] -= $x;

			if ($active)
			{
				$log .= "{$pd[\'name\']}的".$pd[$which]."的耐久度下降了{$x}！<br>";
			}
			else
			{
				$log .= "你的".$pd[$which]."的耐久度下降了{$x}！<br>";
			}
					
			if ($pd[$which.\'s\']<=0) armor_break($pa, $pd, $active, $which);
			
			return $x;
		}
		else  return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/armor/main.php',
)

Array\apply_weapon_inf ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'armor\',\'wound\',\'logger\'));
		for ($i=0; $i<strlen($inf_place); $i++)
			if (isset($pa[\'attack_wounded_\'.$inf_place[$i]]) && $pa[\'attack_wounded_\'.$inf_place[$i]]>0)
			{
				$pa[\'attack_wounded_\'.$inf_place[$i]] -= armor_hurt($pa, $pd, $active, \'ar\'.$inf_place[$i], $pa[\'attack_wounded_\'.$inf_place[$i]]);
			}
		
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/armor/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'D\' ) === 0)
		{
			if(strpos ( $itmk, \'DB\' ) === 0) {
				$eqp = \'arb\';
				$noeqp = \'DN\';
			}elseif(strpos ( $itmk, \'DH\' ) === 0) {
				$eqp = \'arh\';
				$noeqp = \'\';
			}elseif(strpos ( $itmk, \'DA\' ) === 0) {
				$eqp = \'ara\';
				$noeqp = \'\';
			}elseif(strpos ( $itmk, \'DF\' ) === 0) {
				$eqp = \'arf\';
				$noeqp = \'\';
			}
			if (($noeqp && strpos ( ${$eqp.\'k\'}, $noeqp ) === 0) || ! ${$eqp.\'s\'}) {
				${$eqp} = $itm;
				${$eqp.\'k\'} = $itmk;
				${$eqp.\'e\'} = $itme;
				${$eqp.\'s\'} = $itms;
				${$eqp.\'sk\'} = $itmsk;
				$log .= "装备了<span class=\\"yellow\\">$itm</span>。<br>";
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
			} else {
				swap(${$eqp},$itm);
				swap(${$eqp.\'k\'},$itmk);
				swap(${$eqp.\'e\'},$itme);
				swap(${$eqp.\'s\'},$itms);
				swap(${$eqp.\'sk\'},$itmsk);
				$log .= "卸下了<span class=\\"red\\">$itm</span>，装备了<span class=\\"yellow\\">${$eqp}</span>。<br>";
			}
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/armor/main.php',
)

Array\assault_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($active) $pd[\'armorbreaklog\']=\'\'; else $pa[\'armorbreaklog\']=\'\';
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/armor/main.php',
)

Array\assault_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($active) 
			$pd[\'battlelog\'].=$pd[\'armorbreaklog\'];
		else  $pa[\'battlelog\'].=$pa[\'armorbreaklog\'];
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/armor/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/rest/main.php',
)

Array\calculate_rest_upsp ====> array (
  'vars' => '$rtime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'rest\'));
		$upsp = round ( $msp * $rtime / $rest_sleep_time / 100 );
		return $upsp;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/rest/main.php',
)

Array\calculate_rest_uphp ====> array (
  'vars' => '$rtime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'rest\'));
		$uphp = round ( $mhp * $rtime / $rest_heal_time / 100 );
		if (strpos ( $inf, \'b\' ) !== false) {
			$uphp = round ( $uphp / 2 );
		}
		return $uphp;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/rest/main.php',
)

Array\get_wound_recover_time ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'rest\'));
		return $rest_recover_time;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/rest/main.php',
)

Array\rest ====> array (
  'vars' => '$restcommand',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'rest\'));
		
		$resttime = $now - $endtime;
		$endtime = $now;
		
		if ($state == 1 || $state == 3) {
			$oldsp = $sp;
			$upsp = calculate_rest_upsp($resttime);
			$sp += $upsp; $sp = min($sp, $msp);
			$upsp = $sp - $oldsp;
			$upsp=max(0,$upsp);
			$log .= "你的体力恢复了<span class=\\"yellow\\">$upsp</span>点。";
		} 
		
		if ($state == 2 || $state == 3) {
			$oldhp = $hp;
			$uphp = calculate_rest_uphp($resttime);
			$hp += $uphp; $hp = min($hp, $mhp);
			$uphp = $hp - $oldhp;
			$uphp=max(0,$uphp);
			$log .= "你的生命恢复了<span class=\\"yellow\\">$uphp</span>点。";
		} 
		
		$log .= \'<br>\';
		
		if ($state == 3 && defined(\'MOD_WOUND\'))
		{
			eval(import_module(\'wound\'));
			$refintv = get_wound_recover_time();
			if ($inf && $resttime > $refintv) 
			{
				while ($inf!=\'\')
				{
					$log .= "<span class=\\"yellow\\">你从{$infname[$inf[0]]}状态中恢复了！</span><br>";
					\\wound\\heal_inf($inf[0]);
				}
			}
			elseif ($inf)
			{
				$log .= "也许是时间不够吧……你没有治好任何异常状态。<br>";
			}
		} 
		
		if ($restcommand != \'rest\') {
			$state = 0;
			$endtime = $now;
			$mode = \'command\';
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/rest/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		
		if ($mode == \'command\' && ($command==\'rest1\' || $command==\'rest2\' || $command==\'rest3\'))
		{
			eval(import_module(\'rest\'));
			if($command==\'rest3\' && !in_array($pls,$rest_hospital_list)){
				$log .= \'<span class="yellow">你所在的位置并非医院，不能静养！</span><br>\';
			}else{
				$state = substr($command,4,1);
				$mode = \'rest\';
			}
			return;
		}
		
		if($mode == \'rest\')
		{
			rest($command);
			return;
		}
		
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/rest/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$iteminfo[\'C\'] = \'药剂\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_uc/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'wound\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'C\' ) === 0) 
		{
			$ck=substr($itmk,1,1);
			if($ck == \'a\'){
				$flag=false;
				$log .= "服用了<span class=\\"red\\">$itm</span>。<br>";
				$inf0 = $inf;
				for ($i=0; $i<strlen($inf0); $i++)
				{
					if(strpos($inf_place,$inf0[$i])===false){
						$log .= "{$infname[$inf0[$i]]}状态解除了。<br>";
						$inf = str_replace($inf0[$i],\'\',$inf);
						$flag=true;
					}
				}
				
				if(!$flag){
					$log .= \'但是什么也没发生。<br>\';
				}
			}
			else
			{
				if(strpos ( $inf, $ck ) !== false){
					$inf = str_replace ( $ck, \'\', $inf );
					$log .= "服用了<span class=\\"red\\">$itm</span>，{$infname[$ck]}状态解除了。<br>";
				}else{
					$log .= "服用了<span class=\\"red\\">$itm</span>，但是什么效果也没有。<br>";
				}
			}
			
			\\itemmain\\itms_reduce($theitem);
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/item_uc/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL12_INFO\',\'club;upgrade;locked;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill12/main.php',
)

Array\acquire12 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill12/main.php',
)

Array\lost12 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill12/main.php',
)

Array\check_unlocked12 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill12/main.php',
)

Array\upgrade12 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(12))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		if ($skillpoint<1) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		eval(import_module(\'wound\'));
		$flag=false;
		$log.="消耗了<span class=\'lime\'>1</span>点技能点，<br>";
		for ($i=0; $i<strlen($inf); $i++)
		{
			$log .= "{$infname[$inf[$i]]}状态解除了。<br>";
			$flag=true;
		}
		$inf = \'\';
		if(!$flag){
			$log .= \'但是什么也没发生。<br>\';
		}
		$skillpoint--; $inf=\'\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill12/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL223_INFO\',\'club;battle;limited;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[223] = \'暗杀\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill223/main.php',
)

Array\acquire223 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(223,\'rmtime\',\'2\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill223/main.php',
)

Array\lost223 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill223/main.php',
)

Array\check_unlocked223 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=20;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill223/main.php',
)

Array\get_remaintime223 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return \\skillbase\\skill_getvalue(223,\'rmtime\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill223/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=223) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(223,$pa) || !check_unlocked223($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$remtime = (int)get_remaintime223($pa);
			if ($remtime>=1)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「暗杀」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「暗杀」！</span><br>";
				$remtime--; 
				\\skillbase\\skill_setvalue(223,\'rmtime\',$remtime,$pa);
				addnews ( 0, \'bskill223\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill223/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=223) return $chprocess($pa, $pd, $active);
		return 10000;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill223/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ($pa[\'bskill\']==223) 
		{
			eval(import_module(\'logger\'));
			$var_223=50;
			if (isset($pd[\'original_inf\'])){
				$var_223+=(50*strlen($pd[\'original_inf\']));
			}
			if ($active)
				$log.="<span class=\\"yellow\\">「暗杀」使你造成的最终伤害提高了{$var_223}%！</span><br>";
			else  $log.="<span class=\\"yellow\\">「暗杀」使敌人造成的最终伤害提高了{$var_223}！</span><br>";
			$var_223=($var_223+100)/100;
			$r=Array($var_223);
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill223/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill223\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"red\\">「暗杀」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill223/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL36_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[36] = \'偷袭\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill36/main.php',
)

Array\acquire36 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill36/main.php',
)

Array\lost36 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill36/main.php',
)

Array\check_unlocked36 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill36/main.php',
)

Array\get_rage_cost36 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill36\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill36/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=36) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(36,$pa) || !check_unlocked36($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost36($pa);
			if ($pa[\'rage\']>=$rcost && $pa[\'wepk\']==\'WP\')
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「偷袭」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「偷袭」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill36\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill36/main.php',
)

Array\calculate_skill35_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=36) return $chprocess($pa, $pd, $active);
		return 100;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill36/main.php',
)

Array\check_can_counter ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		if ($pd[\'bskill\']!=36) return $chprocess($pa, $pd, $active);
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill36/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill36\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「偷袭」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill36/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL38_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[38] = \'闷棍\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill38/main.php',
)

Array\acquire38 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill38/main.php',
)

Array\lost38 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill38/main.php',
)

Array\check_unlocked38 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=11;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill38/main.php',
)

Array\get_rage_cost38 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill38\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill38/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=38) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(38,$pa) || !check_unlocked38($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost38($pa);
			if ($pa[\'rage\']>=$rcost && $pa[\'wepk\']==\'WP\')
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「闷棍」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「闷棍」！</span><br>";
				if (!$pd[\'type\'])
					$pa[\'skill38_dmg_extra\']=max($pd[\'msp\']-$pd[\'sp\'],0);
				else  $pa[\'skill38_dmg_extra\']=0;
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill38\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill38/main.php',
)

Array\calculate_skill35_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=38) return $chprocess($pa, $pd, $active);
		return 100;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill38/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=38) return $chprocess($pa, $pd, $active);
		eval(import_module(\'logger\'));
		if ($pa[\'is_hit\'])
		{
			if ($active)
				$log.="闷棍对体力不支的敌人造成了<span class=\\"yellow\\">{$pa[\'skill38_dmg_extra\']}</span>点额外伤害！<br>";
			else  $log.="闷棍对体力不支的你造成了<span class=\\"yellow\\">{$pa[\'skill38_dmg_extra\']}</span>点额外伤害！<br>";
			$pa[\'dmg_dealt\']+=$pa[\'skill38_dmg_extra\'];
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill38/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill38\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「闷棍」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill38/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		global $dualwep_iteminfo;
		$iteminfo+=$dualwep_iteminfo;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/dualwep/main.php',
)

Array\get_sec_attack_method ====> array (
  'vars' => '&$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		extract($pdata);
		eval(import_module(\'weapon\'));
		$w2 = substr($wepk,2,1);
		if (($w2==\'0\')||($w2==\'1\')) {$w2=\'\';}
		if ($w2!=\'\')
		{
			if((($w2 == \'G\')||($w2==\'J\'))&&($weps==$nosta)){ $w2 = \'P\'; }
		}
		return $w2;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/dualwep/main.php',
)

Array\check_attack_method ====> array (
  'vars' => '&$pdata, $wm',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($wm!=\'\' && get_sec_attack_method($pdata)==$wm) return 1;
		return $chprocess($pdata,$wm);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weapon/dualwep/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$iteminfo[\'GB\'] = \'手枪弹药\';	
		$iteminfo[\'GBr\'] = \'机枪弹药\';
		$iteminfo[\'GBi\'] = \'气体弹药\';
		$iteminfo[\'GBh\'] = \'重型弹药\';
		$iteminfo[\'GBe\'] = \'能源弹药\';
		
		$itemspkinfo[\'o\'] = \'一发\';
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/ammunition/main.php',
)

Array\itemuse_ugb ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if ((strpos ( $wepk, \'WG\' ) !== 0)&&(strpos ( $wepk, \'WJ\' ) !== 0)) {
			$log .= "<span class=\\"red\\">你没有装备枪械，不能使用子弹。</span><br>";
			$mode = \'command\';
			return;
		}
		
		if (strpos ( $wepsk, \'o\' ) !== false) {
			$log .= "<span class=\\"red\\">{$wep}不能装填弹药。</span><br>";
			$mode = \'command\';
			return;
		}
		if (strpos ($wepk,\'WG\')===false){
			if ($itmk==\'GBh\'){
				$bulletnum = 1;	
			}else{
				$log .= "<span class=\\"red\\">枪械类型和弹药类型不匹配。</span><br>";
				$mode = \'command\';
				return;
			}
		}
		elseif (strpos ( $wepsk, \'e\' ) !== false || strpos ( $wepsk, \'w\' ) !== false) {
			if ($itmk == \'GBe\') {
				$bulletnum = 10;
			} else {
				$log .= "<span class=\\"red\\">枪械类型和弹药类型不匹配。</span><br>";
				$mode = \'command\';
				return;
			}
		} elseif (strpos ( $wepsk, \'i\' ) !== false || strpos ( $wepsk, \'u\' ) !== false) {
			if ($itmk == \'GBi\') {
				$bulletnum = 10;
			} else {
				$log .= "<span class=\\"red\\">枪械类型和弹药类型不匹配。</span><br>";
				$mode = \'command\';
				return;
			}
		} else {
			if (strpos ( $wepsk, \'r\' ) !== false) {
				if ($itmk == \'GBr\') {
					$bulletnum = 20;
				} else {
					$log .= "<span class=\\"red\\">枪械类型和弹药类型不匹配。</span><br>";
					$mode = \'command\';
					return;
				}
			} else {
				if ($itmk == \'GB\') {
					$bulletnum = 6;
				} else {
					$log .= "<span class=\\"red\\">枪械类型和弹药类型不匹配。</span><br>";
					$mode = \'command\';
					return;
				}
			}
		}
		if ($weps == $nosta) {
			$weps = 0;
		}
		$bullet = $bulletnum - $weps;
		if ($bullet <= 0) {
				$log .= "<span class=\\"red\\">{$wep}的弹匣是满的，不能装弹。</span>";
			return;
		} elseif ($bullet >= $itms) {
			$bullet = $itms;
		}
		$itms -= $bullet;
		$weps += $bullet;
		$log .= "为<span class=\\"red\\">$wep</span>装填了<span class=\\"red\\">$itm</span>，<span class=\\"red\\">$wep</span>残弹数增加<span class=\\"yellow\\">$bullet</span>。<br>";
		if ($itms <= 0) {
			$log .= "<span class=\\"red\\">$itm</span>用光了。<br>";
			$itm = $itmk = $itmsk = \'\';
			$itme = $itms = 0;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/ammunition/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'GB\' ) === 0) 
		{
			itemuse_ugb($theitem);
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/ammunition/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL458_INFO\',\'card;active;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[458] = \'鸡肉\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill458/main.php',
)

Array\acquire458 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill458/main.php',
)

Array\lost458 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill458/main.php',
)

Array\check_unlocked458 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill458/main.php',
)

Array\sk458_convert_item ====> array (
  'vars' => '$which',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\'));
		if (${\'itms\'.$which}==$nosta) ${\'itms\'.$which}=10;	
		${\'itmk\'.$which}=\'PB2\';		
		${\'itmsk\'.$which}=$pid;		
		$z=${\'itm\'.$which};
		${\'itm\'.$which}=\'鸡肉\';	
		$log.="你熟练的把<span class=\\"yellow\\">{$z}</span>去掉了头，现在它可以吃了！<br>";
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill458/main.php',
)

Array\cast_skill458 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\',\'input\'));
		if (!\\skillbase\\skill_query(458)) 
		{
			$log.=\'你没有这个技能。\';
			return;
		}
		if (isset($skill458_choice))
		{
			$z=(int)$skill458_choice;
			if (1<=$z && $z<=6 && ${\'itms\'.$z} && ${\'itmk\'.$z}[0]!=\'H\' && ${\'itmk\'.$z}[0]!=\'P\')
			{
				sk458_convert_item($z);
				$mode=\'command\';
				return;
			}
			else
			{
				$log.=\'参数不合法。<br>\';
			}
		}
		include template(MOD_SKILL458_CASTSK458);
		$cmd=ob_get_contents();
		ob_clean();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill458/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(458) && $theitem[\'itmk\'][0]==\'P\')
		{
			$theitem[\'itmk\'][0]=\'H\';
			$ret=$chprocess($theitem);
			if ($theitem[\'itmk\']!=\'\') $theitem[\'itmk\'][0]=\'P\';
			return $ret;
		}
		else	return $chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill458/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\'));
	
		if ($mode == \'special\' && $command == \'skill458_special\' && $subcmd==\'castsk458\') 
		{
			cast_skill458();
			return;
		}
			
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill458/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/attrbase/main.php',
)

Array\get_ex_def_array ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		$ret = Array();
		foreach ($battle_equip_list as $itm)
			foreach (\\itemmain\\get_itmsk_array($pd[$itm.\'sk\']) as $key)
				array_push($ret,$key);
				
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/attrbase/main.php',
)

Array\get_ex_attack_array ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (attr_dmg_check_not_WPG($pa, $pd, $active))
			$ret = \\itemmain\\get_itmsk_array($pa[\'wepsk\']);
		else $ret = array();
		
		if (defined(\'MOD_ARMOR\'))
		{		
			eval(import_module(\'armor\'));
			foreach ($armor_equip_list as $itm)
				foreach (\\itemmain\\get_itmsk_array($pa[$itm.\'sk\']) as $key)
					array_push($ret,$key);	
		}
		
		if (defined(\'MOD_ARMOR_ART\'))
		{
			$ret = array_merge($ret,\\itemmain\\get_itmsk_array($pa[\'artsk\']));
			
			if ($pa[\'artk\']==\'Al\') array_push($ret,\'l\');
			if ($pa[\'artk\']==\'Ag\') array_push($ret,\'g\');
		}
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/attrbase/main.php',
)

Array\attr_dmg_check_not_WPG ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		return (strpos($pa[\'wepk\'],$pa[\'wep_kind\'])!==false);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/attrbase/main.php',
)

Array\check_itmsk ====> array (
  'vars' => '$nm, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\'));
		if ($pa == NULL)
		{
			foreach ($battle_equip_list as $itm)
				foreach (\\itemmain\\get_itmsk_array(${$itm.\'sk\'}) as $key)
					if ($key==$nm)
						return 1;
			return 0;
		}
		else
		{
			foreach ($battle_equip_list as $itm)
				foreach (\\itemmain\\get_itmsk_array($pa[$itm.\'sk\']) as $key)
					if ($key==$nm)
						return 1;
			return 0;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/attrbase/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL407_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[407] = \'红石\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill407/main.php',
)

Array\acquire407 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill407/main.php',
)

Array\lost407 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill407/main.php',
)

Array\check_unlocked407 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill407/main.php',
)

Array\get_def ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		$var_407=0;
		if (($pd[\'hp\']>($pd[\'mhp\']/2))&&(\\skillbase\\skill_query(407,$pd))&&(check_unlocked407($pd))) $var_407=get_att($pd,$pa,1-$active);
		if ($var_407>100000) $var_407=100000;
		return $chprocess($pa,$pd,$active)+($var_407/2);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill407/main.php',
)

Array\get_att ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'armor\'));
		$var_407=0;
		if (($pa[\'hp\']<($pa[\'mhp\']/2))&&(\\skillbase\\skill_query(407,$pa))&&(check_unlocked407($pa))) $var_407=get_def($pd,$pa,$active);
		return $chprocess($pa,$pd,$active)+($var_407/2);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill407/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/empowers/main.php',
)

Array\use_nail ====> array (
  'vars' => '$itm, $itme',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		if (( strpos ( $wep, \'棍棒\' ) !== false) && ($wepk == \'WP\')) 
		{	
			$dice = rand ( 0, 100 );
			if ($dice >= 10) 
			{
				$wepe += $itme;
				$log .= "使用了<span class=\\"yellow\\">$itm</span>，<span class=\\"yellow\\">$wep</span>的攻击力变成了<span class=\\"yellow\\">$wepe</span>。<br>";
				if (strpos ( $wep, \'钉\' ) === false) {
					$wep = str_replace ( \'棍棒\', \'钉棍棒\', $wep );
				}
			} 
			else 
			{
				$wepe -= ceil ( $itme / 2 );
				if ($wepe <= 0) {
					$log .= "<span class=\\"red\\">$itm</span>使用失败，<span class=\\"red\\">$wep</span>损坏了！<br>";
					$wep = $wepk = $wepsk = \'\';
					$wepe = $weps = 0;
				} else {
					$log .= "<span class=\\"red\\">$itm</span>使用失败，<span class=\\"red\\">$wep</span>的攻击力变成了<span class=\\"red\\">$wepe</span>。<br>";
				}
			}
			return 1;
		} else {
			$log .= \'你没装备棍棒，不能安装钉子。<br>\';
			return 0;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/empowers/main.php',
)

Array\use_stone ====> array (
  'vars' => '$itm, $itme',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		if (strpos ( $wepk, \'K\' ) == 1 && strpos ( $wepsk, \'Z\' ) === false) 
		{
			$dice = rand ( 0, 100 );
			if ($dice >= 15) 
			{
				$wepe += $itme;					
				$log .= "使用了<span class=\\"yellow\\">$itm</span>，<span class=\\"yellow\\">$wep</span>的攻击力变成了<span class=\\"yellow\\">$wepe</span>。<br>";
				if (strpos ( $wep, \'锋利的\' ) === false) {
					$wep = \'锋利的\'.$wep;
				}
			} 
			else 
			{
				$wepe -= ceil ( $itme / 2 );
				if ($wepe <= 0) {
					$log .= "<span class=\\"red\\">$itm</span>使用失败，<span class=\\"red\\">$wep</span>损坏了！<br>";
					$wep = $wepk = $wepsk = \'\';
					$wepe = $weps = 0;
				} else {
					$log .= "<span class=\\"red\\">$itm</span>使用失败，<span class=\\"red\\">$wep</span>的攻击力变成了<span class=\\"red\\">$wepe</span>。<br>";
				}
			}
			return 1;
		} else {
			$log .= \'你没装备锐器，不能使用磨刀石。<br>\';
			return 0;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/empowers/main.php',
)

Array\use_anya ====> array (
  'vars' => '$itm',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		if (! $weps || ! $wepe) {
			$log .= \'请先装备武器。<br>\';
			return 0;
		}
		
		$dice = rand ( 0, 99 );
		$dice2 = rand ( 0, 99 );
		$skill = array (\'WP\' => $wp, \'WK\' => $wk, \'WG\' => $wg, \'WC\' => $wc, \'WD\' => $wd, \'WF\' => $wf );
		arsort ( $skill );
		$skill_keys = array_keys ( $skill );
		$nowsk = substr ( $wepk, 0, 2 );
		$maxsk = $skill_keys [0];
		if (($skill [$nowsk] != $skill [$maxsk]) && ($dice < 30)) {
			$wepk = $maxsk;
			$kind = "更改了{$wep}的<span class=\\"yellow\\">类别</span>！";
		} elseif (($weps != $nosta) && ($dice2 < 70)) {
			$weps += ceil ( $wepe / 2 );
			$kind = "增强了{$wep}的<span class=\\"yellow\\">耐久</span>！";
		} else {
			$wepe += ceil ( $wepe / 2 );
			$kind = "提高了{$wep}的<span class=\\"yellow\\">攻击力</span>！";
		}
		$log .= "你使用了<span class=\\"yellow\\">$itm</span>，{$kind}";
		addnews ( $now, \'newwep\', $name, $itm, $wep );
		if (strpos ( $wep, \'-改\' ) === false) {
			$wep = $wep . \'-改\';
		}
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/empowers/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'armor\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) 
		{
			if (strpos ( $itm, \'磨刀石\' ) !== false) 
			{
				if (use_stone($itm,$itme)) \\itemmain\\itms_reduce($theitem);
				return;
			} 
			else  if (preg_match ( "/钉$/", $itm ) || preg_match ( "/钉\\[/", $itm )) 
			{
				if (use_nail($itm,$itme)) \\itemmain\\itms_reduce($theitem);
				return;
			} 
			else  if ($itm == \'针线包\') 
			{
				if (($arb == $noarb) || ! $arb) {
					$log .= \'你没有装备防具，不能使用针线包。<br>\';
				} elseif(strpos($arbsk,\'Z\')!==false){
					$log .= \'<span class="yellow">该防具太单薄以至于不能使用针线包。</span><br>你感到一阵蛋疼菊紧，你的蛋疼度增加了<span class="yellow">233</span>点。<br>\';
				}else {
					$arbe += (rand ( 0, 2 ) + $itme);
					$log .= "用<span class=\\"yellow\\">$itm</span>给防具打了补丁，<span class=\\"yellow\\">$arb</span>的防御力变成了<span class=\\"yellow\\">$arbe</span>。<br>";
					\\itemmain\\itms_reduce($theitem);
				}
				return;
			}
			elseif ($itm == \'武器师安雅的奖赏\') 
			{
				if (use_anya($itm)) \\itemmain\\itms_reduce($theitem);
				return;
			}
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/empowers/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'newwep\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了{$b}，改造了<span class=\\"yellow\\">$c</span>！</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/empowers/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL32_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[32] = \'格挡\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill32/main.php',
)

Array\acquire32 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(32,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill32/main.php',
)

Array\lost32 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(32,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill32/main.php',
)

Array\check_unlocked32 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill32/main.php',
)

Array\upgrade32 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill32\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(32))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(32,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(32,\'lvl\',$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill32/main.php',
)

Array\get_skill32_extra_def_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill32\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(32, $pd) || !check_unlocked32($pd)) return 0;
		if ($pd[\'wepk\']!=\'WP\') return 0;
		$defgainrate = $defgain[\\skillbase\\skill_getvalue(32,\'lvl\',$pd)];
		return min(2000, $defgainrate * $pd[\'wepe\'] / 100);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill32/main.php',
)

Array\get_external_def ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $chprocess($pa, $pd, $active) + get_skill32_extra_def_gain($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill32/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL202_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[202] = \'破甲\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill202/main.php',
)

Array\acquire202 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(202,\'lvl\',\'0\',$pa);
		\\skillbase\\skill_setvalue(202,\'spent\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill202/main.php',
)

Array\lost202 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill202/main.php',
)

Array\check_unlocked202 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill202/main.php',
)

Array\upgrade202 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill202\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(202))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(202,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(202,\'lvl\',$clv+1);
		\\skillbase\\skill_setvalue(202,\'spent\',$upgradecount[$clv+1],$pa);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill202/main.php',
)

Array\get_skill202_extra_inf_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill202\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(202, $pa) || !check_unlocked202($pa)) return 1;
		if ($pa[\'wep_kind\']!=\'G\' && $pa[\'wep_kind\']!=\'J\') return 1;
		$infrgainrate = $infrgain[\\skillbase\\skill_getvalue(202,\'lvl\',$pa)];
		return 1+($infrgainrate)/100;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill202/main.php',
)

Array\calculate_inf_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(202,$pa) || !check_unlocked202($pa)) return $chprocess($pa, $pd, $active);
		$t=get_skill202_extra_inf_rate($pa, $pd, $active);
		return $t*$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill202/main.php',
)

Array\get_skill202_extra_wounds ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill202\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(202, $pa) || !check_unlocked202($pa)) return 0;
		if ($pa[\'wep_kind\']!=\'G\' && $pa[\'wep_kind\']!=\'J\') return 0;
		$extrahit2 = $exthit2[\\skillbase\\skill_getvalue(202,\'lvl\',$pa)];
		return $extrahit2; 
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill202/main.php',
)

Array\calculate_weapon_wound_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active, $hurtposition',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(202,$pa) || !check_unlocked202($pa)) return $chprocess($pa, $pd, $active, $hurtposition);
		return $chprocess($pa, $pd, $active, $hurtposition)*(1+get_skill202_extra_wounds($pa, $pd, $active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill202/main.php',
)

Array\get_skill202_extra_dmgrate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill202\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(202, $pa) || !check_unlocked202($pa)) return 0;
		if ($pa[\'wep_kind\']!=\'G\' && $pa[\'wep_kind\']!=\'J\') return 0;
		$extd = $extrdmg[\\skillbase\\skill_getvalue(202,\'lvl\',$pa)];
		return $extd; 
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill202/main.php',
)

Array\apply_weapon_wound_real ====> array (
  'vars' => '&$pa, &$pd, $active, $hurtposition',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa, $pd, $active, $hurtposition);
		
		if ((\\skillbase\\skill_query(202,$pa))&&(check_unlocked202($pa))&&($pa[\'wep_kind\']=="G" || $pa[\'wep_kind\']==\'J\'))
		{
			$pa[\'skill202_count\']++;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill202/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa, $pd, $active);

		if ((\\skillbase\\skill_query(202,$pa))&&(check_unlocked202($pa))&&($pa[\'wep_kind\']=="G" || $pa[\'wep_kind\']==\'J\'))
		{
			$pa[\'skill202_count\']=0;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill202/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ((\\skillbase\\skill_query(202,$pa))&&(check_unlocked202($pa))&&($pa[\'wep_kind\']=="G" || $pa[\'wep_kind\']==\'J\'))
		{
			$var_202=$pa[\'skill202_count\']*get_skill202_extra_dmgrate($pa,$pd,$active);
			eval(import_module(\'logger\'));
			if ($var_202>0)
			{
				if ($active)
					$log.="<span class=\\"yellow\\">「破甲」使你造成的最终伤害提高了{$var_202}%！</span><br>";
				else  $log.="<span class=\\"yellow\\">「破甲」使敌人造成的最终伤害提高了{$var_202}%！</span><br>";
				$r=Array(1+$var_202/100);
			}	
			unset($pa[\'skill202_count\']);
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill202/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL445_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[445] = \'转化\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill445/main.php',
)

Array\acquire445 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill445/main.php',
)

Array\lost445 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill445/main.php',
)

Array\check_unlocked445 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill445/main.php',
)

Array\get_internal_def ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(445,$pd))&&(check_unlocked445($pd))) return $chprocess($pa,$pd,$active)*1.7;
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill445/main.php',
)

Array\get_internal_att ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(445,$pa))&&(check_unlocked445($pa))) return 1;
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill445/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\calculate_real_trap_obbs ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		$r = 0;
		if($pose==1)
			$r = 1;
		else if($pose==3)	
			$r = 3;
		return $r+$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\pose_change ====> array (
  'vars' => '$npose',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'pose\',\'logger\'));
		$npose=(int)$npose;
		if ($pose_player_usable[$npose])
		{
			$log .= "基础姿态变为<span class=\\"yellow\\">$poseinfo[$npose]</span>。<br> ";
			$pose = $npose;
		}
		else  $log .= "这个姿势太奇怪啦！<br> ";
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\init_battle ====> array (
  'vars' => '$ismeet = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'metman\'));
		$chprocess($ismeet);
		$tdata[\'pose\']=$w_pose;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\calculate_meetman_rate ====> array (
  'vars' => '$schmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		$a = 0;
		if ($schmode == \'search\') 
		{
			if($pose==3) {
				$a = -25;
				
			}
			elseif($pose==4) {
				$a = 10;
				
			}
		}
		if ($schmode == \'move\') 
		{
			if($pose==3) {
				$a = -25;
				
			}elseif($pose==4) {
				$a = 10;
				
			}
		}
		return $chprocess($schmode) + $a;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\check_can_counter ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'pose\'] == 5) return 0;	
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\calculate_itemfind_obbs ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'pose\'));
		return $chprocess()+$pose_itemfind_obbs[$pose];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\calculate_hide_obbs ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'pose\'));
		return $chprocess($edata)+$pose_hide_obbs[$edata[\'pose\']];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\calculate_findman_obbs ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'pose\'));
		return $chprocess($edata)+$pose_meetman_obbs[$pose];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\calculate_active_obbs ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'pose\'));
		
		return $chprocess($ldata,$edata)+$pose_active_obbs[$ldata[\'pose\']]+$pose_dactive_obbs[$edata[\'pose\']];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\get_att_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'pose\'));
		if (!$pa[\'is_counter\'])		
		{
			return $chprocess($pa,$pd,$active)*(1+$pose_attack_modifier[$pa[\'pose\']]/100);
		}
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\get_def_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'pose\'));
		
		return $chprocess($pa,$pd,$active)*(1+$pose_defend_modifier[$pd[\'pose\']]/100);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\calculate_rest_upsp ====> array (
  'vars' => '$rtime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		if ($pose == 5) 	
			return $chprocess($rtime)*2; 
		else  return $chprocess($rtime);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\calculate_rest_uphp ====> array (
  'vars' => '$rtime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		if ($pose == 5) 	
			return $chprocess($rtime)*2; 
		else  return $chprocess($rtime);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\get_wound_recover_time ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		if ($pose == 5) 	
			return $chprocess() - 30; 
		else  return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'pose\'));
		if ($mode == \'special\' && strpos($command,\'pose\') === 0) 
		{
			pose_change(substr($command,4,1));
			$mode = \'command\';
			return;
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/pose/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill1/main.php',
)

Array\acquire1 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill1/main.php',
)

Array\lost1 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill1/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (strpos($pa[\'inf\'],\'b\')!==false) \\skillbase\\skill_acquire(1,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill1/main.php',
)

Array\skill_onsave_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(1,$pa)) \\skillbase\\skill_lost(1,$pa);
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill1/main.php',
)

Array\get_def_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(1,$pd))	
			return $chprocess($pa,$pd,$active)*0.75;
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill1/main.php',
)

Array\calculate_rest_upsp ====> array (
  'vars' => '$rtime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(1)) 	
			return round($chprocess($rtime)/2); 
		else  return $chprocess($rtime);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill1/main.php',
)

Array\calculate_rest_uphp ====> array (
  'vars' => '$rtime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(1)) 	
			return round($chprocess($rtime)/2); 
		else  return $chprocess($rtime);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill1/main.php',
)

Array\get_wound_recover_time ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(1)) 	
			return $chprocess() + 30; 
		else  return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/skills/skill1/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL600_INFO\',\'club;hidden;debuff;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill600/main.php',
)

Array\acquire600 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill600\'));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill600/main.php',
)

Array\lost600 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill600/main.php',
)

Array\chginf ====> array (
  'vars' => '$infpos',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\',\'sys\',\'player\',\'skill600\'));
		if ((\\skillbase\\skill_query(600))&&(check_skill600_state()==1)) 
		{
			$log .= \'你现在不能处理伤口或异常状态！\';
			$mode = \'command\';
			return;
		}
		$chprocess($infpos);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill600/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\',\'skill600\'));
		if ((strpos ( $theitem[\'itmk\'], \'C\' ) === 0)&&(\\skillbase\\skill_query(600))&&(check_skill600_state()==1)) 
		{
			$log .= \'你喝了一小口药剂，感觉自己根本就喝不下去！\';
			$mode = \'command\';
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill600/main.php',
)

Array\upgrade12 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\',\'skill600\'));
		if ((\\skillbase\\skill_query(600))&&(check_skill600_state()==1))
		{
			$log.=\'你现在不能处理伤口或异常状态！<br>\';
			$mode = \'command\';
			return;
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill600/main.php',
)

Array\check_skill600_state ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'skill600\'));
		if (!\\skillbase\\skill_query(600)) return 0;
		$e=\\skillbase\\skill_getvalue(600,\'end\');
		if ($now<$e) return 1;
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill600/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if (\\skillbase\\skill_query(600,$sdata))
		{
			eval(import_module(\'skill600\',\'skillbase\'));
			$skill600_start = (int)\\skillbase\\skill_getvalue(600,\'start\'); 
			$skill600_end = (int)\\skillbase\\skill_getvalue(600,\'end\'); 
			$z=Array(
				\'disappear\' => 1,
				\'clickable\' => 0,
				\'hint\' => \'状态「衰弱」<br>无法解除异常状态或包扎伤口\',
			);
			if ($now<$skill600_end)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=$skill600_end-$skill600_start;
				$z[\'nowsec\']=$now-$skill600_start;
			}
			else 
			{
				$z[\'style\']=4;
			}
			\\bufficons\\bufficon_show(\'img/skill600.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill600/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'P\'] = \'防殴\';
		$itemspkinfo[\'K\'] = \'防斩\';
		$itemspkinfo[\'G\'] = \'防弹\';
		$itemspkinfo[\'C\'] = \'防投\';
		$itemspkinfo[\'D\'] = \'防爆\';
		$itemspkinfo[\'F\'] = \'防符\';
		$itemspkinfo[\'A\'] = \'全系防御\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_phy_def/main.php',
)

Array\get_ex_phy_def_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 90;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_phy_def/main.php',
)

Array\check_ex_phy_def_proc ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$proc_rate = get_ex_phy_def_proc_rate($pa, $pd, $active);
		$dice = rand(0,99);
		return ($dice<$proc_rate);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_phy_def/main.php',
)

Array\check_physical_def_attr ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'ex_phy_def\',\'logger\'));
		if (isset($def_kind[$pa[\'wep_kind\']])) 
		{
			$ex_def_array = \\attrbase\\get_ex_def_array($pa, $pd, $active);
			if (in_array($def_kind[$pa[\'wep_kind\']], $ex_def_array) || in_array(\'A\', $ex_def_array))
			{
				if (check_ex_phy_def_proc($pa,$pd,$active))
				{
					if ($active)
						$log .= "<span class=\\"yellow\\">{$pd[\'name\']}的装备使你的攻击伤害减半了！</span><br>";
					else  $log .= "<span class=\\"yellow\\">你的装备使{$pa[\'name\']}的攻击伤害减半了！</span><br>";
					return Array(0.5);
				}
				else
				{
					if ($active)
						$log .= "<span class=\\"yellow\\">{$pd[\'name\']}的装备没能发挥攻击伤害减半的效果！</span><br>";
					else  $log .= "<span class=\\"yellow\\">你的装备没能发挥攻击伤害减半的效果！</span><br>";
					return Array();
				}
			}
		}
		return Array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_phy_def/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return array_merge(check_physical_def_attr($pa, $pd, $active), $chprocess($pa, $pd, $active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_phy_def/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$iteminfo[\'HR\']=\'怒气增加\';
		$itemspkinfo[\'c\']=\'重击辅助\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/rage/main.php',
)

Array\calculate_attack_rage_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$rageup = round ( ($pa[\'lvl\'] - $pd[\'lvl\']) / 3 );
		$rageup = $rageup > 0 ? $rageup : 1;
		return $rageup;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/rage/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'is_hit\'])	
		{
			$pd[\'rage\']+=calculate_attack_rage_gain($pa, $pd, $active);
			$pd[\'rage\']=min($pd[\'rage\'],100);
			if (\\attrbase\\check_itmsk(\'c\',$pa)){
				$pa[\'rage\']++;
				$pa[\'rage\']=min($pa[\'rage\'],100);
			}
		}
		$chprocess($pa,$pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/rage/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'wound\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'HR\' ) === 0) 
		{
			$rageup = min(100-$rage,$itme);
			if ($rageup<=0)
			{
				$log.=\'你已经出离愤怒了，动怒伤肝，还是歇歇吧！<br>\';
				return;
			}
			$rage += $rageup;
			$log.="你吃了一口{$itm}，顿时感觉心中充满了愤怒。你的怒气值增加了<span class=\\"yellow\\">{$rageup}</span>点！<br>";
			\\itemmain\\itms_reduce($theitem);
			return;
		}
		
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/rage/main.php',
)

Array\attack_prepare ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'original_rage\']=$pa[\'rage\'];
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/rage/main.php',
)

Array\attack_finish ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\attrbase\\check_itmsk(\'c\',$pa))
		{
			$lost_rage = $pa[\'original_rage\']-$pa[\'rage\'];
			if ($lost_rage > 0)
			{
				$payback_rage = round($lost_rage/10);
				$pa[\'rage\']+=$payback_rage;
				if ($pa[\'rage\']>100) $pa[\'rage\']=100;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/rage/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL30_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[30] = \'压制\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill30/main.php',
)

Array\acquire30 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill30/main.php',
)

Array\lost30 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill30/main.php',
)

Array\check_unlocked30 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=7;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill30/main.php',
)

Array\get_rage_cost30 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill30\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill30/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=30) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(30,$pa) || !check_unlocked30($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost30($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				$hpcost = min($pa[\'hp\']-1, round($pa[\'mhp\']*0.15));
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「压制」！</span><br>
						<span class=\\"yellow\\">你消耗了<span class=\\"red\\">{$hpcost}</span>点生命值，发动了鲁莽的一击！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「压制」！</span><br>
						<span class=\\"yellow\\">其消耗了<span class=\\"red\\">{$hpcost}</span>点生命值，发动了鲁莽的一击！</span><br>";
				$pa[\'rage\']-=$rcost;
				$pa[\'hp\']-=$hpcost;
				
				$pa[\'skill30_hpcost\']=$hpcost;
				addnews ( 0, \'bskill30\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill30/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=30) return $chprocess($pa, $pd, $active);
		if ($pa[\'dmg_dealt\']>0){
			$pa[\'dmg_dealt\']+=$pa[\'skill30_hpcost\'];
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill30/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill30\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「压制」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill30/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL441_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[441] = \'嗑药\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill441/main.php',
)

Array\acquire441 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill441/main.php',
)

Array\lost441 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill441/main.php',
)

Array\check_unlocked441 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill441/main.php',
)

Array\check_skill441_proc ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill441\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(441, $pa) || !check_unlocked441($pa) || !isset($pa[\'inf\'])) return Array();
		$l441=strlen($pa[\'inf\'])*35;
		if ($l441>0)
		{
			if ($active){
				$log.="<span class=\\"yellow\\">你拖着病体反而越战越勇，造成的物理伤害提高了{$l441}%！</span><br>";
			}else{
				$log.="<span class=\\"yellow\\">{$pa[\'name\']}拖着病体反而越战越勇，造成的物理伤害提高了{$l441}%！</span><br>";
			}
			$dmggain = (100+$l441)/100;
			return Array($dmggain);
		}
		return Array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill441/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = check_skill441_proc($pa,$pd,$active);
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill441/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL259_INFO\',\'club;battle;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[259] = \'乱击\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill259/main.php',
)

Array\acquire259 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(259,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill259/main.php',
)

Array\lost259 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(259,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill259/main.php',
)

Array\check_unlocked259 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=5;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill259/main.php',
)

Array\get_rage_cost259 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill259\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill259/main.php',
)

Array\upgrade259 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill259\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(259))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(259,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(259,\'lvl\',$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill259/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=259) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(259,$pa) || !check_unlocked259($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost259($pa);
			if (($pa[\'wepk\']=="WN")&&($pa[\'rage\']>=$rcost))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「乱击」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「乱击」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill259\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill259/main.php',
)

Array\get_skill259_adddmg ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill259\'));
		if (\\skillbase\\skill_query(259,$pa) && check_unlocked259($pa) && $pa[\'wepk\']=="WN"){
			$l259=\\skillbase\\skill_getvalue(259,\'lvl\');
			if ($adddmg[$l259]<=0) return 0;
			return 1+floor($pa[\'wp\']/$adddmg[$l259]);
		}
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill259/main.php',
)

Array\get_fixed_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\',\'skill259\'));
		if ($pa[\'bskill\']!=259) return $chprocess($pa,$pd,$active);
		if ($active) $log .= "<span class=\\"red\\">你对着敌人打出了一屏幕的拳头！</span><br>";
			else $log .= "<span class=\\"red\\">敌人对着你打出了一屏幕的拳头！</span><br>";
		$r259=get_skill259_adddmg($pa);
		return 1+$r259+$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill259/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill259\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「乱击」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill259/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'r\'] = \'连击\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_rapid_attr/main.php',
)

Array\get_rapid_times ====> array (
  'vars' => '$pa, $pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		return 2 + min ( floor($pa[\'fin_skill\'] / 200), 4 );
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_rapid_attr/main.php',
)

Array\get_rapid_wepimp_increase ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1.35;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_rapid_attr/main.php',
)

Array\calculate_wepimp_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$z = get_rapid_wepimp_increase($pa, $pd, $active);
		$r = $chprocess($pa, $pd, $active);
		for ($i=1; $i<$pa[\'actual_rapid_time\']; $i++) $r*=$z;
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_rapid_attr/main.php',
)

Array\get_rapid_inf_rate_loss ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 0.9;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_rapid_attr/main.php',
)

Array\calculate_inf_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$z = get_rapid_inf_rate_loss($pa, $pd, $active);
		$r = $chprocess($pa, $pd, $active);
		for ($i=1; $i<$pa[\'actual_rapid_time\']; $i++) $r*=$z;
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_rapid_attr/main.php',
)

Array\get_rapid_damage_modifier ====> array (
  'vars' => '&$pa, &$pd, $active, $hit_time',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$z = Array( 0 => 0, 1 => 1, 2 => 2, 3 => 2.8, 4 => 3.4, 5 => 4, 6 => 4.6 );
		return $z[$hit_time];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_rapid_attr/main.php',
)

Array\get_rapid_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = Array();
		if ($pa[\'is_rapid_strike\'] == 1)
		{
			eval(import_module(\'logger\'));
			$log .= "{$pa[\'actual_rapid_time\']}次连续攻击命中<span class=\\"yellow\\">{$pa[\'actual_hit_time\']}</span>次！";
			$r = Array(get_rapid_damage_modifier($pa, $pd, $active, $pa[\'actual_hit_time\']));
		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_rapid_attr/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = get_rapid_dmg_multiplier($pa, $pd, $active);
		return array_merge($r,$chprocess($pa, $pd, $active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_rapid_attr/main.php',
)

Array\get_rapid_accuracy_loss ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 0.8;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_rapid_attr/main.php',
)

Array\check_rapid ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=\\attrbase\\get_ex_attack_array($pa, $pd, $active);
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_rapid_attr/main.php',
)

Array\weapon_strike ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!in_array(\'r\',check_rapid($pa, $pd, $active)))
		{
			$chprocess($pa, $pd, $active);
			return;
		}
		
		eval(import_module(\'weapon\',\'ex_rapid_attr\',\'logger\'));
		$pa[\'is_rapid_strike\'] = 1;
		$rapid_times = get_rapid_times($pa, $pd, $active);
		$pa[\'actual_rapid_time\'] = 0; $pa[\'actual_hit_time\'] = 0; $is_hit = 0;
		for ($cur_rapid_time=0; $cur_rapid_time<$rapid_times; $cur_rapid_time++)
		{
			$pa[\'actual_rapid_time\']++;
			$dice=rand(0,99);
			if ($dice<$pa[\'fin_hitrate\'])	
			{
				$is_hit = 1;
				$pa[\'actual_hit_time\']++;
				\\weapon\\post_weapon_strike_events($pa, $pd, $active, 1);
			}
			else
			{
				\\weapon\\post_weapon_strike_events($pa, $pd, $active, 0);
			}
			if ($pa[\'weps\']!=$nosta && $pa[\'wepimp\']>=$pa[\'weps\']) break; 	
			$pa[\'fin_hitrate\']*=get_rapid_accuracy_loss($pa, $pd, $active);	
		}
		
		$pa[\'is_hit\']=$is_hit;
		if ($is_hit)
		{
			
			\\weapon\\calculate_physical_dmg($pa, $pd, $active);
		}
		else
		{
			$log .= "但是没有击中！<br>";
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_rapid_attr/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'is_rapid_strike\'] = 0;
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_rapid_attr/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'S\'] = \'消音\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_silencer/main.php',
)

Array\weapon_WG_addnoise ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (in_array(\'S\',\\attrbase\\get_ex_attack_array($pa, $pd, $active))) return; 
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_silencer/main.php',
)

Array\weapon_WJ_addnoise ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (in_array(\'S\',\\attrbase\\get_ex_attack_array($pa, $pd, $active))) return;
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_silencer/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) 
			if ($itm == \'消音器\') 
			{
				if (strpos ( $wepk, \'WG\' ) !== 0) {
					$log .= \'你没有装备枪械，不能使用消音器。<br>\';
				} elseif (strpos ( $wepsk, \'S\' ) === false) {
					$wepsk .= \'S\';
					$log .= "你给<span class=\\"yellow\\">$wep</span>安装了<span class=\\"yellow\\">$itm</span>。<br>";
					\\itemmain\\itms_reduce($theitem);
				} else {
					$log .= "你的武器已经安装了消音器。<br>";
				}
				return;
			}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_silencer/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'p\'] = \'带毒\';
		$itemspkinfo[\'u\'] = \'火焰\';
		$itemspkinfo[\'i\'] = \'冻气\';
		$itemspkinfo[\'e\'] = \'电击\';
		$itemspkinfo[\'w\'] = \'音波\';
		$itemspkinfo[\'d\'] = \'爆炸\';
		$itemspkinfo[\'f\'] = \'灼焰\';
		$itemspkinfo[\'k\'] = \'冰华\';
		
		if (defined(\'MOD_NOISE\')) 
		{
			eval(import_module(\'noise\'));
			$noiseinfo[\'d\'] = \'爆炸声\';
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\get_basic_ex_dmg ====> array (
  'vars' => '&$pa,&$pd,$active,$key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'ex_dmg_att\'));
		$damage = $ex_base_dmg[$key]+$pa[\'wepe\']/$ex_wep_dmg[$key]+$pa[\'fin_skill\']/$ex_skill_dmg[$key];
		return $damage;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\get_ex_dmg_restriction ====> array (
  'vars' => '&$pa,&$pd,$active,$key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'ex_dmg_att\'));
		return $ex_max_dmg[$key];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\calculate_ex_single_original_dmg ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'ex_dmg_att\'));
		
		$damage=get_basic_ex_dmg($pa,$pd,$active,$key);
		
		
		$ex_dmg_restriction=get_ex_dmg_restriction($pa,$pd,$active,$key);
		if ($ex_dmg_restriction>0) $damage = $ex_max_dmg[$key] * $damage / ( $damage + $ex_max_dmg[$key] / 2 );
		
		if ($pa[\'wep_kind\']==$ex_good_wep[$key]) $damage *= 2;
		
		$damage = $damage * rand(100 - $ex_dmg_fluc[$key], 100 + $ex_dmg_fluc[$key]) / 100;
		return $damage;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\get_ex_inf_dmg_punish ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'ex_dmg_att\'));
		return $ex_inf_punish[$key];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\calculate_ex_inf_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'ex_dmg_att\',\'wound\',\'logger\'));
		$r = 1;
		if (isset($ex_inf[$key]))
		{
			if (\\skillbase\\skill_query($ex_inf[$key], $pd))
			{
				$infkey = array_search($ex_inf[$key], $infskillinfo);
				$punish = get_ex_inf_dmg_punish($pa, $pd, $active, $key);
				if ($punish != 1)
				{
					if ($punish > 1) $punish_word = "倍增"; else $punish_word = "减少";
					if ($active)
						$log .= "由于{$pd[\'name\']}已经{$infname[$infkey]}，{$exdmgname[$key]}伤害{$punish_word}！";
					else  $log .= "由于你已经{$infname[$infkey]}，{$exdmgname[$key]}伤害{$punish_word}！";
				}
				$r *= $punish;
			}
		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return calculate_ex_inf_multiple($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\calculate_ex_inf_rate ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'ex_dmg_att\',\'wound\',\'logger\'));
		if (!isset($ex_inf[$key])) return 0; 	
		if (\\skillbase\\skill_query($ex_inf[$key], $pd)) return 0;	
		$rate = $ex_inf_r[$key]+$pa[\'fin_skill\']*$ex_skill_inf_r[$key];
		return min($rate,$ex_max_inf_r[$key]);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\get_ex_inf_rate_modifier ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\check_ex_inf_infliction ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'ex_dmg_att\',\'wound\',\'logger\'));
		
		$inf_rate = calculate_ex_inf_rate($pa, $pd, $active, $key)+get_ex_inf_rate_modifier($pa, $pd, $active, $key);
		$inf_dice = rand(0,99);
		if ($inf_dice < $inf_rate)
		{
			$infkey = array_search($ex_inf[$key], $infskillinfo);
			if ($active)
				$log .= "并造成{$pd[\'name\']}{$infname[$infkey]}了！";
			else  $log .= "并造成你{$infname[$infkey]}了！";
			\\wound\\get_inf($infkey,$pd);
			addnews($now,\'inf\',$pa[\'name\'],$pd[\'name\'],$infkey);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\calculate_ex_single_dmg ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'ex_dmg_att\',\'wound\',\'logger\'));
		
		$damage_multiple = calculate_ex_single_dmg_multiple($pa, $pd, $active, $key);
		
		$damage = calculate_ex_single_original_dmg($pa, $pd, $active, $key);
		
		$damage *= $damage_multiple;
		$damage = round($damage); if ($damage < 1) $damage = 1;
		$pa[\'ex_dmg_\'.$key.\'_dealt\'] = $damage;
		if ($pd[\'ex_dmg_\'.$key.\'_defend_success\'] == 1)	
			$log .= "造成了<span class=\\"red\\">{$damage}</span>点额外伤害！";
		else  $log .= "{$exdmgname[$key]}造成了<span class=\\"red\\">{$damage}</span>点额外伤害！";
		
		check_ex_inf_infliction($pa, $pd, $active, $key);
		$log.=\'<br>\';
		return $damage;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\calculate_ex_attack_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'ex_dmg_att\'));
		$tot = 0;
		$ex_attack_array = \\attrbase\\get_ex_attack_array($pa, $pd, $active);
		foreach ( $ex_attack_list as $key )
			if (in_array($key, $ex_attack_array))
			{
				$damage = calculate_ex_single_dmg($pa, $pd, $active, $key);
				$pa[\'ex_dmg_dealt\'] +=$damage;
				$tot += $damage;
			}
		return $tot;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\strike ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa, $pd, $active);
		
		if ($pa[\'is_hit\'] && \\attrbase\\attr_dmg_check_not_WPG($pa, $pd, $active))	
		{
			$dmg = calculate_ex_attack_dmg($pa, $pd, $active);
			$pa[\'dmg_dealt\'] += $dmg;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'ex_dmg_att\'));
		$pa[\'ex_dmg_dealt\'] = 0;
		foreach ( $ex_attack_list as $key ) $pa[\'ex_dmg_\'.$key.\'_dealt\'] = 0;
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\add_ex_att_noise ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (defined(\'MOD_NOISE\') && in_array(\'d\',\\attrbase\\get_ex_attack_array($pa, $pd, $active)))
		{
			\\noise\\addnoise($pa[\'pls\'],\'d\',$pa[\'pid\'],$pd[\'pid\']);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		add_ex_att_noise($pa, $pd, $active);
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\post_traphit_events ====> array (
  'vars' => '&$pa, &$pd, $tritm, $damage',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa, $pd, $tritm, $damage);
		eval(import_module(\'player\',\'logger\',\'ex_dmg_att\',\'wound\'));
		if (strpos($tritm[\'itm\'],\'毒性\')!==false) 
		{
			\\wound\\get_inf(\'p\');
			$log.="敌人的陷阱还使你{$infname[\'p\']}了！<br>";
		}
		if (strpos($tritm[\'itm\'],\'电气\')!==false) 
		{
			\\wound\\get_inf(\'e\');
			$log.="敌人的陷阱还使你{$infname[\'e\']}了！<br>";
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_att/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'N\'] = \'冲击\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_charge/main.php',
)

Array\get_ex_charge_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 40;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_charge/main.php',
)

Array\check_charge_proc ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		$ex_att_array = \\attrbase\\get_ex_attack_array($pa, $pd, $active);
		if (in_array(\'N\', $ex_att_array))
		{
			$proc_rate = get_ex_charge_proc_rate($pa, $pd, $active);
			$dice = rand(0,99);
			if ($dice<$proc_rate)
			{
				$pa[\'physical_charge_success\'] = 1;
				return 1;
			}
		}
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_charge/main.php',
)

Array\get_external_def_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (check_charge_proc($pa, $pd, $active))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log .= "<span class=\\"yellow\\">你的攻击隔着{$pd[\'name\']}的防具造成了伤害！</span><br>";
			else  $log .= "<span class=\\"yellow\\">{$pa[\'name\']}的攻击隔着你的防具造成了伤害！</span><br>";
			return $chprocess($pa, $pd, $active)/2;
		}
		else  return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_charge/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'physical_charge_success\'] = 0;
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_charge/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'H\'] = \'HP制御\';
		$itemspkinfo[\'h\'] = \'伤害制御\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_hp_def/main.php',
)

Array\calculate_hp_rev_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'dmg_dealt\']<1000) return 0;
		$rate = 0.5;
		if ($pa[\'dmg_dealt\']>=2000) $rate = 2.0/3.0;
		if ($pa[\'dmg_dealt\']>=5000) $rate = 0.8;
		if (\\attrbase\\check_itmsk(\'H\',$pa)) $rate *= 0.1;
		$damage = round($pa[\'hp\']*$rate);
		if ($damage >= $pa[\'hp\']) $damage = $pa[\'hp\'] - 1;
		return $damage;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_hp_def/main.php',
)

Array\get_dmg_def_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 90;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_hp_def/main.php',
)

Array\check_dmg_def_attr ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		if (in_array(\'h\',\\attrbase\\get_ex_def_array($pa, $pd, $active)))
		{
			
			$dmg_dice = 1997;
			if ($pa[\'dmg_dealt\'] > $dmg_dice)
			{
				$proc_rate = get_dmg_def_proc_rate($pa, $pd, $active);
				$dice = rand(0,99);
				if ($dice<$proc_rate)
				{
					if ($active)
						$log .= "在{$pd[\'name\']}的装备的作用下，攻击伤害被限制到了<span class=\\"yellow\\">$dmg_dice</span>点！<br>";
					else  $log .= "在你的装备的作用下，攻击伤害被限制到了<span class=\\"yellow\\">$dmg_dice</span>点！<br>";
					$pa[\'dmg_dealt\'] = $dmg_dice;
				}
				else
				{
					if ($active)
						$log .= "{$pd[\'name\']}的装备没能发挥限制攻击伤害的效果！<br>";
					else  $log .= "你的装备没能发挥限制攻击伤害的效果！<br>";
				}
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_hp_def/main.php',
)

Array\apply_total_damage_change ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa, $pd, $active);
		check_dmg_def_attr($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_hp_def/main.php',
)

Array\player_damaged_enemy ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'logger\'));
		
		
		
		
		$chprocess($pa, $pd, $active);
		
		
		$damage = calculate_hp_rev_dmg($pa, $pd, $active);
		if ($damage > 0)
		{
			if ($active)
				$log .= "惨无人道的攻击对你自身造成了<span class=\\"red\\">$damage</span>点<span class=\\"red\\">反噬伤害！</span><br>";
			else  $log .= "惨无人道的攻击对{$pa[\'name\']}自身造成了<span class=\\"red\\">$damage</span>点<span class=\\"red\\">反噬伤害！</span><br>";
			$pa[\'hp\']-=$damage;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_hp_def/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'j\'] = \'多重\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/wepchange/main.php',
)

Array\weaponswap ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		
		if (strpos($wepsk,\'j\')===false)
		{
			$log.=\'你的武器不能变换。<br>\';
			$mode = \'command\';
			return;
		}
		
		$oldw=$wep;
		$file = __DIR__.\'/config/wepchange.config.php\';
		$wlist = openfile($file);
		$wnum = count($wlist)-1;
		for ($i=0;$i<=$wnum;$i++){
			list($on,$nn,$nk,$ne,$ns,$nsk) = explode(\',\',$wlist[$i]);
			if ($wep==$on){
				$wep=$nn;$wepk=$nk;$wepe=$ne;$weps=$ns;$wepsk=$nsk;
				$log.="<span class=\\"yellow\\">{$oldw}</span>变换成了<span class=\\"yellow\\">{$wep}</span>。<br>";
				return;
			}
		}
		$log.="<span class=\\"yellow\\">{$oldw}</span>由于改造或其他原因不能变换。<br>";
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/wepchange/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'input\'));
		
		if ($mode == \'command\' && $command==\'special\' && $sp_cmd == \'sp_weapon\')
		{
			weaponswap();
			$mode = \'command\';
			return;
		}
		
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/wepchange/main.php',
)

Array\use_nail ====> array (
  'vars' => '$itm, $itme',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'player\',\'logger\'));
		if (strpos($wepsk,\'j\')!==false)
		{
			$log.=\'多重武器不能改造。<br>\';
			return 0;
		}
		return $chprocess($itm,$itme);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/wepchange/main.php',
)

Array\use_stone ====> array (
  'vars' => '$itm, $itme',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'player\',\'logger\'));
		if (strpos($wepsk,\'j\')!==false)
		{
			$log.=\'多重武器不能改造。<br>\';
			return 0;
		}
		return $chprocess($itm,$itme);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/wepchange/main.php',
)

Array\use_anya ====> array (
  'vars' => '$itm',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'player\',\'logger\'));
		if (strpos($wepsk,\'j\')!==false)
		{
			$log.=\'多重武器不能改造。<br>\';
			return 0;
		}
		return $chprocess($itm);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/wepchange/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'Z\'] = \'菁英\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/blessstone/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0)
			if ($itm == \'『灵魂宝石』\' || $itm == \'『祝福宝石』\')
			{
				$cmd = \'<input type="hidden" name="mode" value="item"><input type="hidden" name="usemode" value="blessstone"><input type="hidden" name="itmp" value="\' . $theitem[\'itmn\'] . \'">你想强化哪一件装备？<br><input type="radio" name="command" id="menu" value="menu" checked><a onclick=sl("menu"); href="javascript:void(0);" >返回</a><br>\';
				for($i = 1; $i <= 6; $i ++) {
					if ((strpos ( ${\'itmsk\' . $i}, \'Z\' ) !== false) && (strpos ( ${\'itm\' . $i}, \'宝石』\' ) === false)) {
						$cmd .= \'<input type="radio" name="command" id="itm\' . $i . \'" value="itm\' . $i . \'"><a onclick=sl("itm\' . $i . \'"); href="javascript:void(0);" >\' . "${\'itm\'.$i}/${\'itme\'.$i}/${\'itms\'.$i}" . \'</a><br>\';
						$flag = true;
					}
				}
				$cmd .= \'<br><input type="button" id="z" onclick="postCmd(\\\'gamecmd\\\',\\\'command.php\\\');" value="[Z]提交">\';
				if (! $flag) {
					$log .=\'唔？你的包裹里没有可以强化的装备，是不是没有脱下来呢？DA☆ZE<br><br>\';
				}else{
					$log .="宝石在你的手上发出异样的光芒，似乎有个奇怪的女声在你耳边说道<span class=\\"yellow\\">\\"我是从天界来的凯丽\\"</span>.";
				}				
				return;
			}
		
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/blessstone/main.php',
)

Array\use_blessstone ====> array (
  'vars' => '$itmn = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\',\'input\'));
		
		$itmn = (int)$itmn;
		$itmp = (int)$itmp;
		
		if ( $itmp < 1 || $itmp > 6 ) {
			$log .= \'此道具不存在，请重新选择。\';
			$mode = \'command\';
			return;
		}
		
		$gem = & ${\'itm\'.$itmp};
		$geme = & ${\'itme\'.$itmp};
		$gems = & ${\'itms\'.$itmp};
		$gemk = & ${\'itmk\'.$itmp};
		$gemsk = & ${\'itmsk\'.$itmp};	
		
		if ( $itmn < 1 || $itmn > 6 ) {
			$log .= \'此道具不存在，请重新选择。\';
			$mode = \'command\';
			return;
		}
		
		$itm = & ${\'itm\'.$itmn};
		$itme = & ${\'itme\'.$itmn};
		$itms = & ${\'itms\'.$itmn};
		$itmk = & ${\'itmk\'.$itmn};
		$itmsk = & ${\'itmsk\'.$itmn};
		
		if($gems <= 0 || ($gem != \'『灵魂宝石』\' && $gem != \'『祝福宝石』\')) {
			$log .= \'强化道具选择错误，请重新选择。<br>\';
			$mode = \'command\';
			return;
		}
		if(!$itms || strpos ( $itmsk, \'Z\' ) === false) {
			$log .= \'被强化道具选择错误，请重新选择。<br>\';
			$mode = \'command\';
			return;
		}
		
		$o_itm = $itm;
		if(!preg_match("/\\[\\+[0-9]\\]/",$itm)){
			$itm = ${\'itm\'.$itmn}.\'[+0]\';
			$flag = true;
			$zitmlv = 0;
		}else{
			preg_match("/\\[\\+([0-9])\\]/",$itm,$zitmlv);
			$zitmlv = $zitmlv[1];
			if($zitmlv >= 4 && $gem != \'『灵魂宝石』\'){
				$log .= \'你所选的宝石只能强化装备到[+4]哦!DA☆ZE<br>\';
				$mode = \'command\';
				return;
			}else{
				if (($zitmlv==3)&&($gem==\'『祝福宝石』\')){
					if ($gems<2)
					{
						$log .= \'你需要至少2颗祝福宝石才能强化装备到[+4]哦!DA☆ZE<br>\';
						$mode = \'command\';
						return;
					}
					if ($gems==2) 	
					{
						$gems--;
						$dice = rand(1,30);
					}
					else 			
					{
						$gems -= 2;
						$dice = 1;
					}
				}elseif ($zitmlv >= 4){
					$dice = rand(1,10*($zitmlv-2));
				}elseif ($zitmlv >= 6){
					$dice = rand(1,10*($zitmlv-1));
				}elseif ($zitmlv >= 10){
					$dice = rand(1,10*$zitmlv);
				}else{
					$dice = 1;
				}
				if ($dice <= 10 ){
					$flag = true;
				}else{$flag = false;}
			}	
		}	
		addnews ( $now, \'newwep2\', $name, $gem, $o_itm );
		if ($flag){
			$log .= "<span class=\\"yellow\\">『一道神圣的闪光照耀在你的眼睛上，当你恢复视力时，发现你的装备闪耀着彩虹般的光芒』</span><br>";
			$nzitmlv = $zitmlv +1;
			$itm = str_replace(\'[+\'.$zitmlv.\']\',\'[+\'.$nzitmlv.\']\',$itm);
			$itme = round($itme * (1.5 + 0.1 * $zitmlv));
		}else{
			$itm = "悲叹之种";
			$itme = 1;
			$itms = 1;
			$itmk = \'X\';
			$itmsk = \'\';
			$log .="<span class=\\"yellow\\">『一道神圣的闪光照耀在你的眼睛上，当你恢复视力时，发现你的装备变成了{$itm}』</span><br>";
		}			
		$gems--;
		if($gems <= 0){
			$log .= "<span class=\\"red\\">$gem</span> 用光了。<br>";
			$gem = $gemk = $gemsk = \'\';$geme = $gems = 0;
		}	
		$mode = \'command\';
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/blessstone/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'input\'));
		if($mode == \'item\' && $usemode == \'blessstone\') 
		{
			$item = substr($command,3);
			use_blessstone($item);
			return;
		}
		
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/blessstone/main.php',
)

Array\use_stone ====> array (
  'vars' => '$itm, $itme',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'player\',\'logger\'));
		if(strpos ( $wepsk, \'Z\' ) !== false){
			$log .= \'咦……刀刃过于薄了，感觉稍微磨一点都会造成不可逆的损伤呢……<br>\';
			return 0;
		}
		return $chprocess($itm,$itme);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/blessstone/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		
		if($news == \'newwep2\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了{$b}，强化了<span class=\\"yellow\\">$c</span>！</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/blessstone/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL33_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[33] = \'应变\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill33/main.php',
)

Array\acquire33 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(33,\'choice\',\'2\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill33/main.php',
)

Array\lost33 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(33,\'choice\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill33/main.php',
)

Array\check_unlocked33 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill33/main.php',
)

Array\upgrade33 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(33) || !check_unlocked33($sdata))
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}
		eval(import_module(\'input\'));
		$val = (int)$skillpara1;
		if ($val<1 || $val>3)
		{
			$log .= \'参数不合法。<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(33,\'choice\',$val);
		$log.=\'设置成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill33/main.php',
)

Array\get_external_def ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(33,$pd) || !check_unlocked33($pd)) return $chprocess($pa, $pd, $active);
		$choice = \\skillbase\\skill_getvalue(33,\'choice\',$pd);
		$r = \\skill32\\get_skill32_extra_def_gain($pa, $pd, $active);
		if ($choice==2) $r = 0;
		if ($choice==3) $r *= -1;
		return $chprocess($pa, $pd, $active) + $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill33/main.php',
)

Array\get_external_att ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(33,$pa) || !check_unlocked33($pa)) return $chprocess($pa, $pd, $active);
		$choice = \\skillbase\\skill_getvalue(33,\'choice\',$pa);
		
		$r = \\skill32\\get_skill32_extra_def_gain($pd, $pa, $active);
		if ($choice==1) $r *= -0.7;
		if ($choice==2) $r = 0;
		if ($choice==3) $r *= 0.7;
		return $chprocess($pa, $pd, $active) + $r * 2;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill33/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$iteminfo[\'EW\'] = \'天气控制\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\calculate_weather_itemfind_obbs ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'weather\'));
		return $weather_itemfind_obbs[$weather];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\calculate_itemfind_obbs ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $chprocess()+calculate_weather_itemfind_obbs();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\calculate_weather_meetman_obbs ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'weather\'));
		return $weather_meetman_obbs[$weather];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\calculate_findman_obbs ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $chprocess($edata)+calculate_weather_meetman_obbs($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\calculate_weather_active_obbs ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'weather\'));
		return $weather_active_obbs[$weather];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\calculate_active_obbs ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		return $chprocess($ldata,$edata)+calculate_weather_active_obbs($ldata,$edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\calculate_weather_attack_modifier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'weather\'));
		return 1+$weather_attack_modifier[$weather]/100;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\get_att_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $chprocess($pa,$pd,$active)*calculate_weather_attack_modifier($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\calculate_weather_defend_modifier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'weather\'));
		return 1+$weather_defend_modifier[$weather]/100;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\get_def_multiplier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $chprocess($pa,$pd,$active)*calculate_weather_defend_modifier($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'weather\'));
		if($weather == 12)
			return $chprocess($pa,$pd,$active)+20;
		else  return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\calculate_hailstorm_weather_damage ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return round($mhp/12) + rand(0,20);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\deal_hailstorm_weather_damage ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		$damage = calculate_hailstorm_weather_damage();
		$hp -= $damage;
		$log .= "被<span class=\\"blue\\">冰雹</span>击中，生命减少了<span class=\\"red\\">$damage</span>点！<br>";
		if($hp <= 0 ) {
			$state = 17;
			\\player\\update_sdata();
			$sdata[\'selflag\'] = 1;
			\\player\\kill($sdata,$sdata);
			return;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\apply_tornado_weather_effect ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\',\'player\',\'logger\'));
		if($hack)
		{
			$pls = rand(0,sizeof($plsinfo)-1);
		}
		else 
		{
			$pls = rand($areanum+1,sizeof($plsinfo)-1);$pls=$arealist[$pls];
		}
		$log .= "但是强烈的龙卷风把你吹到了<span class=\\"yellow\\">$plsinfo[$pls]</span>！<br>";
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\move_to_area ====> array (
  'vars' => '$moveto',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'map\',\'player\',\'logger\'));
		if($weather == 11)	
		{
			apply_tornado_weather_effect();
		} 
		elseif($weather == 13) 	
		{
			deal_hailstorm_weather_damage();
			if ($hp<=0) return;
		} 
		elseif($weather == 14)	
		{
			$dice = rand(0,9);
			if($dice ==0 && strpos($inf,\'e\')===false){
				$log .= "空气中充斥着的<span class=\\"linen\\">狂暴电磁波</span>导致你<span class=\\"yellow\\">身体麻痹</span>了！<br>";
				\\wound\\get_inf(\'e\');
			}elseif($dice ==1 && strpos($inf,\'w\')===false){
				$log .= "空气中充斥着的<span class=\\"linen\\">狂暴电磁波</span>导致你<span class=\\"grey\\">混乱</span>了！<br>";
				\\wound\\get_inf(\'w\');
			}else{
				$log .= "空气中充斥着狂暴的电磁波……<br>";
			}
		} 
		elseif($weather == 15)	
		{
			$dice = rand(0,9);
			if($dice == 0){
				$mhpdown = rand(1,4);
				if($mhp > $mhpdown){
					$log .= "空气中弥漫着的<span class=\\"green\\">放射性尘埃</span>导致你的生命上限减少了<span class=\\"red\\">{$mhpdown}</span>点！<br>";
					$mhp -= $mhpdown;
					if($hp > $mhp){$hp = $mhp;}
				}
			}else{
				$log .= "空气中弥漫着放射性尘埃……<br>";
			}
		} 
		elseif($weather == 16)	
		{
			$dice = rand(0,9);
			if($dice == 0){
				$defdown = rand(2,5);
				if($def > $defdown){
					$log .= "高强度的<span class=\\"purple\\">紫外线照射</span>导致你的防御力减少了<span class=\\"red\\">{$defdown}</span>点！<br>";
					$def -= $defdown;
				}
			}elseif($dice ==1 && strpos($inf,\'u\')===false){
				$log .= "高强度的<span class=\\"purple\\">紫外线照射</span>导致你<span class=\\"red\\">烧伤</span>了！<br>";
				\\wound\\get_inf(\'u\');
			}else{
				$log .= "高强度的紫外线灼烧着大地……<br>";
			}
		}
		elseif($weather == 17)	
		{
			
		}
		$chprocess($moveto);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\search_area ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'map\',\'player\',\'logger\'));
		if($weather == 13) 
		{
			deal_hailstorm_weather_damage();
			if ($hp<=0) return;
		} 
		elseif($weather == 14)	
		{
			$dice = rand(0,9);
			if($dice ==0 && strpos($inf,\'e\')===false){
				$log .= "空气中充斥着的<span class=\\"linen\\">狂暴电磁波</span>导致你<span class=\\"yellow\\">身体麻痹</span>了！<br>";
				\\wound\\get_inf(\'e\');
			}elseif($dice ==1 && strpos($inf,\'w\')===false){
				$log .= "空气中充斥着的<span class=\\"linen\\">狂暴电磁波</span>导致你<span class=\\"grey\\">混乱</span>了！<br>";
				\\wound\\get_inf(\'w\');
			}else{
				$log .= "空气中充斥着狂暴的电磁波……<br>";
			}
		} 
		elseif($weather == 15)	
		{
			$dice = rand(0,9);
			if($dice == 0){
				$mhpdown = rand(1,4);
				if($mhp > $mhpdown){
					$log .= "空气中弥漫着的<span class=\\"green\\">放射性尘埃</span>导致你的生命上限减少了<span class=\\"red\\">{$mhpdown}</span>点！<br>";
					$mhp -= $mhpdown;
					if($hp > $mhp){$hp = $mhp;}
				}
			}else{
				$log .= "空气中弥漫着放射性尘埃……<br>";
			}
		} 
		elseif($weather == 16)	
		{
			$dice = rand(0,9);
			if($dice == 0){
				$defdown = rand(2,5);
				if($def > $defdown){
					$log .= "高强度的<span class=\\"purple\\">紫外线照射</span>导致你的防御力减少了<span class=\\"red\\">{$defdown}</span>点！<br>";
					$def -= $defdown;if($def < 0) $def = 0;
				}
			}elseif($dice ==1 && strpos($inf,\'u\')===false){
				$log .= "高强度的<span class=\\"purple\\">紫外线照射</span>导致你<span class=\\"red\\">烧伤</span>了！<br>";
				\\wound\\get_inf(\'u\');
			}else{
				$log .= "高强度的紫外线灼烧着大地……<br>";
			}
		} 
		elseif($weather == 17)	
		{
			
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\wthchange ====> array (
  'vars' => '$itm,$itmsk',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'map\',\'player\',\'logger\',\'weather\'));
		if($weather >= 14 && $itmsk != 95){
			addnews ( $now, \'wthfail\', $name, $weather, $itm );
			$log .= "你使用了{$itm}。<br /><span class=\\"red\\">但是天气并未发生任何变化！</span><br />";
		}else{
			if($itmsk==99){$weather = rand ( 0, 13 );}
			elseif($itmsk==98){$weather = rand ( 10, 13 );}
			elseif($itmsk==97){$weather = rand ( 0, 9 );}
			elseif($itmsk==96){$weather = rand ( 8, 9 );}
			
			elseif($itmsk==95){$weather = 17;}
			elseif(!empty($itmsk) && is_numeric($itmsk)){
				if($itmsk >=0 && $itmsk < count($wthinfo)){
					$weather = $itmsk;
				}else{$weather = 0;}
			}
			else{$weather = 0;}
			save_gameinfo ();
			addnews ( $now, \'wthchange\', $name, $weather, $itm );
			$log .= "你使用了{$itm}。<br />天气突然转变成了<span class=\\"red\\">$wthinfo[$weather]</span>！<br />";
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\add_once_area ====> array (
  'vars' => '$atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\'));
		
		if($weather <= 13) {
			$o_weather = $weather;
			do { $weather = rand(0,9); } while($weather == $o_weather);		
		}
		$chprocess($atime);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\rs_game ====> array (
  'vars' => '$xmode = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($xmode);
		
		eval(import_module(\'sys\'));
		if ($xmode & 2) 
		{
			$opening_weather_list = array(0, 2, 3, 4, 7);
			shuffle($opening_weather_list);
			$weather = $opening_weather_list[0];
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\init_playerdata ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if(($weather == 8)||($weather == 9)||($weather == 12)) 
		{
			$fog = true;
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if ( strpos( $itmk,\'EW\' ) ===0 )	
		{
			wthchange ( $itm,$itmsk);
			\\itemmain\\itms_reduce($theitem);
			return;
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'weather\'));
		if($news == \'wthchange\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了{$c}，天气变成了{$wthinfo[$b]}！</span></li>";
		if($news == \'wthfail\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了{$c}，但是天气并未发生改变！</span></li>";
		if($news == \'syswthchg\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">奇迹和魔法都是存在的！当前天气变成了{$wthinfo[$a]}！</span></li>";
		if($news == \'aurora_revival\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}在奥罗拉的作用下原地复活了！</span></li>";
		if($news == \'death17\') 
		{
			$dname = $typeinfo[$b].\' \'.$a;
			if(!$e){
				$e="<span class=\\"yellow\\">【{$dname} 什么都没说就死去了】</span><br>\\n";
			}else{
				$e="<span class=\\"yellow\\">【{$dname}：“{$e}”】</span><br>\\n";
			}
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">$a</span>被<span class=\\"red\\">冰雹砸死</span>{$e}</li>";
		}
		
		if($news == \'addarea\') 
		{
			$info = $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
			$info = str_replace("</li>", "<span class=\\"yellow\\">【天气：{$wthinfo[$b]}】</span></li>", $info);
			return $info;
		}
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\newradar ====> array (
  'vars' => '$mms = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\'));
		if($weather == 14)
		{
			$log .= \'由于<span class="linen">离子风暴</span>造成了电磁干扰，探测仪器完全显示不出信息……<br>\';
			return;
		}
		$chprocess($mms);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\apply_fog_meetenemy_effect ====> array (
  'vars' => '$ismeet',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'metman\'));
		if ($fog && !$ismeet)
		{
			$tdata[\'sNoinfo\'] = \'？？？\';
			$tdata[\'iconImg\'] = \'question.gif\';
			$tdata[\'name\'] = \'？？？\';
			$tdata[\'wep\'] = \'？？？\';
			$tdata[\'infdata\'] = \'？？？\';
			$tdata[\'pose\'] = \'？？？\';
			$tdata[\'tactic\'] = \'？？？\';
			$tdata[\'lvl\'] = \'？\';
			$tdata[\'hpstate\'] = \'？？？\';
			$tdata[\'spstate\'] = \'？？？\';
			$tdata[\'ragestate\'] = \'？？？\';
			$tdata[\'wepestate\'] = \'？？？\';
			$tdata[\'wepk\'] = \'？？？\';
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\init_battle ====> array (
  'vars' => '$ismeet = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($ismeet);
		apply_fog_meetenemy_effect($ismeet);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\attack_finish ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if(17 == $weather){
			weather_aurora_check($pa, $pd, $active);
		}
		$chprocess($pa, $pd, $active);
		weather_aurora_revive_process($pa, $pd);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\kill ====> array (
  'vars' => '&$pa, &$pd',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa,$pd);
		
		eval(import_module(\'sys\',\'logger\'));
		weather_aurora_revive_process($pa, $pd);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa,$pd,$active);
		
		eval(import_module(\'sys\',\'logger\'));

		if (!empty($pd[\'aurora_revive_flag\']))
		{
			addnews ( $now, \'aurora_revival\', $pd[\'name\'] );
			if ($active)
			{
				$log.=\'但是，空气中弥漫着的<span class="clan">奥罗拉</span><span class="lime">让敌人重新站了起来！</span><br>\';
				$log .= \'并且，敌人的生命回复了<span class="clan">\'.$pd[\'aurora_revive_flag\'].\'</span>点！<br>\';
				$pd[\'battlelog\'].=\'<span class="lime">但是，空气中弥漫着的奥罗拉让你重新站了起来！</span>\';
			}
			else
			{
				$log.=\'但是，空气中弥漫着的<span class="clan">奥罗拉</span><span class="lime">让你重新站了起来！</span><br>\';
				$log .= \'并且，你的生命回复了<span class="clan">\'.$pd[\'aurora_revive_flag\'].\'</span>点！<br>\';
				$pd[\'battlelog\'].=\'<span class="lime">但是，空气中弥漫着的奥罗拉让敌人重新站了起来！</span>\';
			}
			unset($pd[\'aurora_revive_flag\']);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\weather_aurora_check ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\'));
		if(17 != $weather) return;
		foreach(array(\'pa\',\'pd\') as $pn){
			if(!${$pn}[\'type\']) $aurora_rate = 10;
			else $aurora_rate = 1;
			if(rand(0,99) < $aurora_rate){
				${$pn}[\'aurora_revive\'] = rand(1,9);
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\weather_aurora_revive_process ====> array (
  'vars' => '&$pa,&$pd',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if(17 != $weather) return;
		foreach(array(\'pa\',\'pd\') as $pn){
			if(!empty(${$pn}[\'aurora_revive\'])){
				if(${$pn}[\'hp\'] < 0) ${$pn}[\'hp\'] = 0;
				$o_pl_hp = ${$pn}[\'hp\'];
				$aurora_revive = ${$pn}[\'aurora_revive\'];
				if($aurora_revive > ${$pn}[\'mhp\'] - ${$pn}[\'hp\']) $aurora_revive = ${$pn}[\'mhp\'] - ${$pn}[\'hp\'];
				${$pn}[\'hp\'] += $aurora_revive;
				if(!$o_pl_hp) {
					${$pn}[\'state\'] = 0;
					$deathnum--;
					if (!${$pn}[\'type\']) $alivenum++;
					save_gameinfo();
				}
				if(${$pn}[\'name\'] == $sdata[\'name\']) $logname = \'你\';
				else $logname = ${$pn}[\'name\'];

				
				if($aurora_revive) {
					if($o_pl_hp) $log .= "空气中弥漫着的<span class=\'clan\'>奥罗拉</span>让{$logname}的生命回复了<span class=\'clan\'>$aurora_revive</span>点！<br>";
					${$pn}[\'aurora_revive_flag\'] = ${$pn}[\'aurora_revive\'];
				}
				unset(${$pn}[\'aurora_revive\']);
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/weather/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/npcinfo/main.php',
)

Array\npcinfo_gen_item_description ====> array (
  'vars' => '$itm, $itmk, $itme, $itms, $itmsk',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		echo $itm;
		if ($itmk!=\'\') echo \'/\'.\\itemmain\\parse_itmk_words($itmk);
		if ($itme!=\'\') echo \'/\'.$itme;
		if ($itms!=\'\') echo \'/\'.$itms;
		if (\\itemmain\\count_itmsk_num($itmsk)>0)
		{
			echo \'/\'.\\itemmain\\parse_itmsk_words($itmsk);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/npcinfo/main.php',
)

Array\npcinfo_get_npc_description ====> array (
  'vars' => '$npckind, $npcsubkind, &$npcdata = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\',\'player\',\'clubbase\',\'npc\',\'tactic\',\'pose\',\'map\'));
		$nownpc = array_merge($npcinit,$npcinfo[$npckind]);
		$nownpc = array_merge($nownpc,$npcinfo[$npckind][\'sub\'][$npcsubkind]);
		if ($nownpc[\'mode\']==3){
			$nownpc[\'icon\'].=\'a\';
		}
		if ($npcdata)
			$nownpc = array_merge($nownpc,$npcdata);
		else  $nownpc[\'___count\']=ceil($npcinfo[$npckind][\'num\']/sizeof($npcinfo[$npckind][\'sub\']));
		include template(\'MOD_NPCINFO_NPCINFO\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/npcinfo/main.php',
)

Array\npcinfo_get_npc_description_all ====> array (
  'vars' => '$npckind',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'npc\'));
		foreach ($npcinfo[$npckind][\'sub\'] as $key => $value)
		{
			npcinfo_get_npc_description($npckind, $key);
			echo \'<br>\';
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/npcinfo/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL28_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[28] = \'毅重\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill28/main.php',
)

Array\acquire28 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill28/main.php',
)

Array\lost28 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill28/main.php',
)

Array\check_unlocked28 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill28/main.php',
)

Array\get_ex_def_array ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(28, $pd) || !check_unlocked28($pd)) return $chprocess($pa, $pd, $active);
		$r = $chprocess($pa, $pd, $active);
		if (\\itemmain\\count_itmsk_num($pd[\'wepsk\'])===0) array_push($r, \'A\');
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill28/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL254_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[254] = \'天义\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill254/main.php',
)

Array\acquire254 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill254/main.php',
)

Array\lost254 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill254/main.php',
)

Array\check_unlocked254 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=15;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill254/main.php',
)

Array\get_ex_phy_def_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(254,$pa) || !check_unlocked254($pa)) return $chprocess($pa, $pd, $active);
		return max(100-max(100-$chprocess($pa, $pd, $active),0)*3,0);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill254/main.php',
)

Array\get_ex_attack_array ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$ret = $chprocess($pa, $pd, $active);
		if (\\skillbase\\skill_query(254,$pa) && check_unlocked254($pa)) array_push($ret,\'N\');
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill254/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL37_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[37] = \'灭气\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill37/main.php',
)

Array\acquire37 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill37/main.php',
)

Array\lost37 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill37/main.php',
)

Array\check_unlocked37 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=6;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill37/main.php',
)

Array\calculate_attack_rage_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(37,$pd) || !check_unlocked37($pd)) return $chprocess($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)+rand(1,2);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill37/main.php',
)

Array\attack_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(37,$pa) || !check_unlocked37($pa)) return $chprocess($pa, $pd, $active);
		if ($pa[\'wepk\']==\'WP\' && !$pd[\'type\'])	
		{
			$pd[\'sp\']=max( $pd[\'sp\']-round($pa[\'dmg_dealt\']*2/3), 1 );
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill37/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL73_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[73] = \'必杀\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill73/main.php',
)

Array\acquire73 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill73/main.php',
)

Array\lost73 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill73/main.php',
)

Array\check_unlocked73 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill73/main.php',
)

Array\get_rage_cost73 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill73\'));
		if ($pa===NULL)
		{
			eval(import_module(\'player\'));
			$clb=$club;
		}
		else  $club=$pa[\'club\'];
		return ($club==9?40:85);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill73/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=73) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(73,$pa) || !check_unlocked73($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost73($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「必杀」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「必杀」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill73\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill73/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ($pa[\'bskill\']==73) 
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="lime">你对敌人释放出必杀技！</span><br>\';
			else  $log.=\'<span class="lime">敌人对你释放出必杀技！</span><br>\';
			$r=Array(2);
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill73/main.php',
)

Array\attack_finish ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\attrbase\\check_itmsk(\'c\',$pa) && $pa[\'bskill\']==73 && $pa[\'club\']==9)
		{
			
			$pa[\'rage\']+=15;
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill73/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill73\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「必杀」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill73/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL410_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[410] = \'猛风\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill410/main.php',
)

Array\acquire410 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill410/main.php',
)

Array\lost410 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill410/main.php',
)

Array\check_unlocked410 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill410/main.php',
)

Array\calculate_attack_rage_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(410,$pd) || !check_unlocked410($pd)) return $chprocess($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)+4;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill410/main.php',
)

Array\calculate_search_sp_cost ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(410))&&(check_unlocked410())) return $chprocess()-12;
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill410/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL258_INFO\',\'club;upgrade;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[258] = \'尊严\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill258/main.php',
)

Array\acquire258 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(258,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill258/main.php',
)

Array\lost258 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(258,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill258/main.php',
)

Array\check_unlocked258 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill258/main.php',
)

Array\upgrade258 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill258\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(258))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(258,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(258,\'lvl\',$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill258/main.php',
)

Array\check_skill258_proc ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill258\'));
		if (\\skillbase\\skill_query(258,$pa) && check_unlocked258($pa)){
			$l258=\\skillbase\\skill_getvalue(258,\'lvl\');
			if ($procrate[$l258]>=rand(0,99)) return 1;
		}
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill258/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ((\\skillbase\\skill_query(258,$pa))&&(check_unlocked258($pa))&&($pa[\'wepk\']!="WN"))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">「尊严」使你造成的最终伤害降低了90%！</span><br>";
			else  $log.="<span class=\\"yellow\\">「尊严」使敌人造成的最终伤害降低了90%！</span><br>";
			$r=Array(0.1);	
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill258/main.php',
)

Array\check_rapid ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$ret = $chprocess($pa, $pd, $active);
		eval(import_module(\'skill258\'));
		if ($pa[\'wepk\']=="WN" && \\skillbase\\skill_query(258,$pa) && check_unlocked258($pa) && check_skill258_proc($pa)) array_push($ret,\'r\');
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill258/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL444_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[444] = \'怒吼\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill444/main.php',
)

Array\acquire444 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill444/main.php',
)

Array\lost444 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill444/main.php',
)

Array\check_unlocked444 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill444/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ((\\skillbase\\skill_query(444,$pa))&&(check_unlocked444($pa)))
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.="<span class=\\"yellow\\">“就杀那个最菜的！”「怒吼」使你造成的最终伤害提高了100%！</span><br>";
			else  $log.="<span class=\\"yellow\\">“就杀那个最菜的！”「怒吼」使敌人造成的最终伤害提高了100%！</span><br>";
			$r=Array(2);	
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill444/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(444,$pa) || !check_unlocked444($pa)) return $chprocess($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)*0.45;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill444/main.php',
)

Array\get_rapid_accuracy_loss ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(444,$pa) || !check_unlocked444($pa)) return $chprocess($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)*0.9;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill444/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL207_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[207] = \'直感\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill207/main.php',
)

Array\acquire207 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(207,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill207/main.php',
)

Array\lost207 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill207/main.php',
)

Array\check_unlocked207 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill207/main.php',
)

Array\upgrade207 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill207\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(207))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(207,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(207,\'lvl\',$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill207/main.php',
)

Array\get_skill207_extra_acc_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill207\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(207, $pa) || !check_unlocked207($pa)) return 1;
		if ($pa[\'wep_kind\']!=\'K\') return 1;
		$accgainrate = $accgain[\\skillbase\\skill_getvalue(207,\'lvl\',$pa)];
		return 1+($accgainrate)/100;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill207/main.php',
)

Array\get_skill207_extra_rb_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill207\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(207, $pa) || !check_unlocked207($pa)) return 1;
		if ($pa[\'wep_kind\']!=\'K\') return 1;
		$rbgainrate = $rbgain[\\skillbase\\skill_getvalue(207,\'lvl\',$pa)];
		return 1+($rbgainrate)/100;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill207/main.php',
)

Array\get_rapid_accuracy_loss ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(207,$pa) || !check_unlocked207($pa)) return $chprocess($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)*get_skill207_extra_rb_gain($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill207/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(207,$pa) || !check_unlocked207($pa)) return $chprocess($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)*get_skill207_extra_acc_gain($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill207/main.php',
)

Array\get_skill207_fluc_bonus ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill207\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(207, $pa) || !check_unlocked207($pa)) return 1;
		if ($pa[\'wep_kind\']!=\'K\') return 1;
		$fluc = $flucgain[\\skillbase\\skill_getvalue(207,\'lvl\',$pa)];
		return (100+$fluc)/100;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill207/main.php',
)

Array\get_skill207_rangerate ====> array (
  'vars' => '&$pa, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill207\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(207, $pa) || !check_unlocked207($pa)) return 0;
		if ($pa[\'wep_kind\']!=\'K\') return 0;
		$ra = $rangerate[\\skillbase\\skill_getvalue(207,\'lvl\',$pa)];
		return $ra;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill207/main.php',
)

Array\get_weapon_fluc_max_range ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(207,$pa) || !check_unlocked207($pa)) return $chprocess($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)*get_skill207_fluc_bonus($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill207/main.php',
)

Array\check_counterable_by_weapon_range ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(207,$pa) || !check_unlocked207($pa)) return $chprocess($pa, $pd, $active);
		if (rand(0,99)<get_skill207_rangerate($pa, $active) && \\weapon\\get_weapon_range($pd, 1-$active)!=0) 
			return 1;
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill207/main.php',
)

Array\calculate_counter_rate_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(207,$pa) || !check_unlocked207($pa)) return $chprocess($pa, $pd, $active);
		if ($pa[\'wepk\']!=\'WK\') return $chprocess($pa, $pd, $active);
		eval(import_module(\'skill207\'));
		$clv = (int)\\skillbase\\skill_getvalue(207,\'lvl\',$pa);
		$r=1;
		if ($clv>=6) $r=1.3;
		return $chprocess($pa, $pd, $active)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill207/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL65_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[65] = \'灵力\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill65/main.php',
)

Array\acquire65 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(65,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill65/main.php',
)

Array\lost65 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(65,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill65/main.php',
)

Array\check_unlocked65 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill65/main.php',
)

Array\upgrade65 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill65\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(65) || !check_unlocked65($sdata))
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}

		$clv = \\skillbase\\skill_getvalue(65,\'lvl\');
		$clv = (int)$clv;
		if ($upgradecost[$clv]==-1)
		{
			$log.=\'你已经升到满级了。<br>\';
			return;
		}
		if ($skillpoint<$upgradecost[$clv])
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint -= $upgradecost[$clv];
		$clv++; \\skillbase\\skill_setvalue(65,\'lvl\',(string)$clv);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill65/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(65,$pa) || !check_unlocked65($pa)) return $chprocess($pa, $pd, $active);
		eval(import_module(\'skill65\'));
		$clv = (int)\\skillbase\\skill_getvalue(65,\'lvl\',$pa);
		return $chprocess($pa, $pd, $active)*(1-$dodgerate[$clv]/100);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill65/main.php',
)

Array\get_rapid_accuracy_loss ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(65,$pa) || !check_unlocked65($pa)) return $chprocess($pa, $pd, $active);
		eval(import_module(\'skill65\'));
		$clv = (int)\\skillbase\\skill_getvalue(65,\'lvl\',$pa);
		return $chprocess($pa, $pd, $active)*(1-$rhitpunish[$clv]/100);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill65/main.php',
)

Array\get_WF_sp_cost ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(65,$pa) || !check_unlocked65($pa)) return $chprocess($pa, $pd, $active);
		eval(import_module(\'skill65\'));
		$clv = (int)\\skillbase\\skill_getvalue(65,\'lvl\',$pa);
		return round($chprocess($pa, $pd, $active)*(1-$spredrate[$clv]/100));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill65/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL49_INFO\',\'club;battle;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[49] = \'潜能\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill49/main.php',
)

Array\acquire49 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(49,\'u\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill49/main.php',
)

Array\lost49 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill49/main.php',
)

Array\check_unlocked49 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$z=(int)\\skillbase\\skill_getvalue(49,\'u\',$pa);
		return ($z==1);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill49/main.php',
)

Array\get_rage_cost49 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill49\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill49/main.php',
)

Array\upgrade49 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill49\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(49))
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}
		if (check_unlocked49($sdata))
		{
			$log .= \'你已经解锁了这个技能。<br>\';
			return;
		}
		if ($skillpoint<$unlockcost)
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint -= $unlockcost;
		\\skillbase\\skill_setvalue(49,\'u\',1);
		$log.=\'解锁成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill49/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=49) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(49,$pa) || !check_unlocked49($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost49($pa);
			if ($pa[\'rage\']>=$rcost && $pa[\'wep_kind\']==\'C\')
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「潜能」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「潜能」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill49\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill49/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=49) return $chprocess($pa, $pd, $active);
		return 10000;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill49/main.php',
)

Array\get_rapid_accuracy_loss ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=49) return $chprocess($pa, $pd, $active);
		return 10.0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill49/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ($pa[\'bskill\']==49) 
		{
			eval(import_module(\'logger\'));
			$r=Array(1.2);
			if ($active)
				$log.=\'<span class="yellow">你爆发潜能打出了致命一击！</span><br>\';
			else  $log.=\'<span class="yellow">敌人爆发潜能打出了致命一击！</span><br>\';
		}
		return array_merge($r,$chprocess($pa, $pd, $active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill49/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill49\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「潜能」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill49/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL201_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[201] = \'静息\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill201/main.php',
)

Array\acquire201 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(201,\'lvl\',\'0\',$pa);
		\\skillbase\\skill_setvalue(201,\'spent\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill201/main.php',
)

Array\lost201 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill201/main.php',
)

Array\check_unlocked201 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill201/main.php',
)

Array\upgrade201 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill201\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(201))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(201,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(201,\'lvl\',$clv+1);
		\\skillbase\\skill_setvalue(201,\'spent\',$upgradecount[$clv+1],$pa);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill201/main.php',
)

Array\get_skill201_extra_acc_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill201\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(201, $pa) || !check_unlocked201($pa)) return 1;
		if ($pa[\'wep_kind\']!=\'G\') return 1;
		$accgainrate = $accgain[\\skillbase\\skill_getvalue(201,\'lvl\',$pa)];
		return 1+($accgainrate)/100;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill201/main.php',
)

Array\get_skill201_extra_rb_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill201\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(201, $pa) || !check_unlocked201($pa)) return 1;
		if ($pa[\'wep_kind\']!=\'G\') return 1;
		$rbgainrate = $rbgain[\\skillbase\\skill_getvalue(201,\'lvl\',$pa)];
		return 1+($rbgainrate)/100;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill201/main.php',
)

Array\get_rapid_accuracy_loss ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(201,$pa) || !check_unlocked201($pa)) return $chprocess($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)*get_skill201_extra_rb_gain($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill201/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(201,$pa) || !check_unlocked201($pa)) return $chprocess($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)*get_skill201_extra_acc_gain($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill201/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL248_INFO\',\'club;upgrade;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[248] = \'天助\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\acquire248 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(248,\'lvl1\',\'0\',$pa);
		\\skillbase\\skill_setvalue(248,\'lvl2\',\'0\',$pa);
		\\skillbase\\skill_setvalue(248,\'lvl3\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\lost248 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\check_unlocked248 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\calculate_skill248_hide_gain ====> array (
  'vars' => '$lv',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$z=min(20,$lv)*0.5;
		return $z;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\calculate_hide_obbs ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(248,$edata)) return $chprocess($edata);
		$lv=(int)\\skillbase\\skill_getvalue(248,\'lvl1\',$edata);
		return $chprocess($edata)+calculate_skill248_hide_gain($lv);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\calculate_skill248_obbs_gain ====> array (
  'vars' => '$lv',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$z=min(20,$lv)*0.5;
		return $z;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\calculate_active_obbs_multiplier ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = 1;
		if (\\skillbase\\skill_query(248,$ldata)) 
		{
			$lv=(int)\\skillbase\\skill_getvalue(248,\'lvl1\',$ldata);
			$r*=1+calculate_skill248_obbs_gain($lv)/100;
		}
		if (\\skillbase\\skill_query(248,$edata)) 
		{
			$lv=(int)\\skillbase\\skill_getvalue(248,\'lvl1\',$edata);
			$r/=1+calculate_skill248_obbs_gain($lv)/100;
		}
		return $chprocess($ldata,$edata)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\calculate_skill248_dodge_gain ====> array (
  'vars' => '$lv',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$z=min(20,$lv)*0.5;
		return $z;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\calculate_skill248_dodge_r_gain ====> array (
  'vars' => '$lv',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$z=min(20,$lv)*1;
		$z+=min(5,$lv)*1;
		return $z;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\calculate_skill248_counter_gain ====> array (
  'vars' => '$lv',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$z=min(20,$lv)*2;
		$z+=min(15,$lv)*0.5;
		$z+=min(5,$lv)*0.5;
		return $z;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\calculate_counter_rate_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(248,$pa)) return $chprocess($pa, $pd, $active);
		$lv = (int)\\skillbase\\skill_getvalue(248,\'lvl2\',$pa);
		$r=1+calculate_skill248_counter_gain($lv)/100;
		return $chprocess($pa, $pd, $active)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\calculate_skill248_hitrate_gain ====> array (
  'vars' => '$lv',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$z=min(20,$lv)*1;
		return $z;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\calculate_skill248_hitrate_r_gain ====> array (
  'vars' => '$lv',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$z=min(20,$lv)*0.5;
		$z+=min(10,$lv)*0.5;
		return $z;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$val=$chprocess($pa, $pd, $active);
		if (\\skillbase\\skill_query(248,$pa))
		{
			$lv = (int)\\skillbase\\skill_getvalue(248,\'lvl3\',$pa);
			$r = calculate_skill248_hitrate_gain($lv);
			$val = $val*(1+$r/100);
		}
		if (\\skillbase\\skill_query(248,$pd))
		{
			$lv = (int)\\skillbase\\skill_getvalue(248,\'lvl2\',$pd);
			$r = calculate_skill248_dodge_gain($lv);
			$val = $val*(1-$r/100);
		}
		return $val;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\get_rapid_accuracy_loss ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$val=$chprocess($pa, $pd, $active);
		if (\\skillbase\\skill_query(248,$pa))
		{
			$lv = (int)\\skillbase\\skill_getvalue(248,\'lvl3\',$pa);
			$r = calculate_skill248_hitrate_r_gain($lv);
			$val = $val*(1+$r/100);
		}
		if (\\skillbase\\skill_query(248,$pd))
		{
			$lv = (int)\\skillbase\\skill_getvalue(248,\'lvl2\',$pd);
			$r = calculate_skill248_dodge_r_gain($lv);
			$val = $val*(1-$r/100);
		}
		return $val;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\upgrade248 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill248\',\'player\',\'logger\',\'input\'));
		if (!\\skillbase\\skill_query(248))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$which = (int)$skillpara1;
		if ($which<1 || $which>3)
		{
			$log.=\'参数错误。<br>\';
			return;
		}
		$clv = (int)\\skillbase\\skill_getvalue(248,\'lvl\'.$which);
		if ($clv == 20)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<1) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint--; \\skillbase\\skill_setvalue(248,\'lvl\'.$which,$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill248/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'M\'] = \'陷阱探测\';
		$itemspkinfo[\'m\'] = \'陷阱迎击\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_trap/main.php',
)

Array\calculate_trapdetect_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		



		return 35;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_trap/main.php',
)

Array\get_trap_escape_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\attrbase\\check_itmsk(\'M\'))
			return calculate_trapdetect_rate()+$chprocess();
		else  return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_trap/main.php',
)

Array\calculate_trapdef_proc_rate ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 40;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_trap/main.php',
)

Array\check_trapdef_proc ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'trap\',\'logger\'));
		$proc_rate = calculate_trapdef_proc_rate();
		$dice = rand(0,99);
		if ($dice < $proc_rate)
		{
			
			if ($playerflag) 
			{
				addnews($now,\'trapdef\',$name,$trname,$itm0);
				if(!$selflag)
				{
					$w_log = "<span class=\\"yellow\\">{$name}触发了你设置的陷阱{$itm0}，但是没有受到任何伤害！</span><br>";
					\\logger\\logsave ( $itmsk0, $now, $w_log ,\'b\');
				}	
			}	
			$log .= "糟糕，你触发了{$trprefix}陷阱<span class=\\"yellow\\">$itm0</span>！<br>不过，身上装备着的自动迎击系统启动了！<span class=\\"yellow\\">在迎击功能的保护下你毫发无伤。</span><br>";
			return 1;
		}
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_trap/main.php',
)

Array\trap_deal_damage ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'trap\',\'logger\'));
		
		if (\\attrbase\\check_itmsk(\'m\'))
			if (check_trapdef_proc())
				return;
	
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_trap/main.php',
)

Array\trap_miss_broken ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		if (\\attrbase\\check_itmsk(\'M\')) $log.=\'在探雷装备的帮助下，\';
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_trap/main.php',
)

Array\trap_miss_reused ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		if (\\attrbase\\check_itmsk(\'M\')) $log.=\'在探雷装备的帮助下，\';
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_trap/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'trapdef\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}依靠迎击装备抵御了{$b}设置的陷阱{$c}的伤害</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_trap/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL422_INFO\',\'card;unique;locked;hidden;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[422] = \'枪斗\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill422/main.php',
)

Array\acquire422 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill422/main.php',
)

Array\lost422 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill422/main.php',
)

Array\check_unlocked422 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill422/main.php',
)

Array\get_WG_att_as_WP_modifier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(422,$pa))&&(check_unlocked422($pa))){
			return $chprocess($pa,$pd,$active)*12;		
		}
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill422/main.php',
)

Array\get_WJ_att_as_WP_modifier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(422,$pa))&&(check_unlocked422($pa))){
			return $chprocess($pa,$pd,$active)*10;		
		}
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill422/main.php',
)

Array\calculate_wepimp_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'weapon\'));
		$r=1;
		if ((\\skillbase\\skill_query(422,$pa))&&(check_unlocked422($pa))){
			if ($pa[\'wep_kind\']==\'P\' && substr($pa[\'wepk\'],1,1) == \'J\') $r=0.15;
			if ($pa[\'wep_kind\']==\'P\' && substr($pa[\'wepk\'],1,1) == \'G\') $r=0.4;
		}
		return $chprocess($pa, $pd, $active)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill422/main.php',
)

Array\attr_dmg_check_not_WPG ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(422,$pa))&&(check_unlocked422($pa))) return 1;	
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill422/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL231_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill231/main.php',
)

Array\acquire231 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill231/main.php',
)

Array\lost231 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill231/main.php',
)

Array\get_ex_inf_rate_modifier ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (($key==\'e\')&&(\\skillbase\\skill_query(231,$pa))) return ($chprocess($pa,$pd,$active,$key)+20);
		return $chprocess($pa,$pd,$active,$key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill231/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL230_INFO\',\'club;active;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill230/main.php',
)

Array\acquire230 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill230/main.php',
)

Array\lost230 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill230/main.php',
)

Array\wele ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		if($wepk == \'WN\' || !$wepe || !$weps){
			$log .= \'<span class="red">你没有装备武器，无法改造！</span><br />\';
			$mode = \'command\';
			return;
		}
		if (strpos($wepsk,\'j\')!==false){
			$log.=\'多重武器不能改造。<br>\';
			$mode=\'command\';
			return;
		}
		if(\\skillbase\\skill_query(230)){
			$position = 0;
			foreach(Array(1,2,3,4,5,6) as $imn){
				global ${\'itm\'.$imn},${\'itmk\'.$imn},${\'itme\'.$imn},${\'itms\'.$imn},${\'itmsk\'.$imn};
				if(strpos(${\'itmk\'.$imn},\'B\')===0 && ${\'itme\'.$imn} > 0 ){
					$position = $imn;
					break;
				}
			}
			if($position){
				if(strpos($wepsk,\'e\')!==false){
					$log .= \'<span class="red">武器已经带电，不用改造！</span><br />\';
					$mode = \'command\';
					return;
				}elseif(strlen($wepsk)>=5){
					$log .= \'<span class="red">武器属性数目达到上限，无法改造！</span><br />\';
					$mode = \'command\';
					return;
				}
				${\'itms\'.$position}-=1;
				$itm = ${\'itm\'.$position};
				$log .= "<span class=\\"yellow\\">用{$itm}改造了{$wep}，{$wep}增加了电击属性！</span><br />";
				$wep = \'电气\'.$wep;
				$wepsk .= \'e\';
				if(${\'itms\'.$position} == 0){
					$log .= "<span class=\\"red\\">$itm</span>用光了。<br />";
					${\'itm\'.$position} = ${\'itmk\'.$position} = ${\'itmsk\'.$position} = \'\';
					${\'itme\'.$position} =${\'itms\'.$position} =0;				
				}
				$mode = \'command\';
				return;
			}else{
				$log .= \'<span class="red">你没有电池，无法改造武器！</span><br />\';
				$mode = \'command\';
				return;
			}
		}else{
			$log .= \'<span class="red">你没有这个技能！</span><br />\';
			$mode = \'command\';
			return;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill230/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\'));
	

		if ($mode == \'special\' && $command == \'skill230_special\' && $subcmd==\'wele\') 
		{
			wele();
			return;
		}
			
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill230/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL224_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill224/main.php',
)

Array\acquire224 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill224/main.php',
)

Array\lost224 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill224/main.php',
)

Array\get_ex_inf_rate_modifier ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (($key==\'p\')&&(\\skillbase\\skill_query(224,$pa))) return ($chprocess($pa,$pd,$active,$key)+12);
		return $chprocess($pa,$pd,$active,$key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill224/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL222_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[222] = \'催化\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill222/main.php',
)

Array\acquire222 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill222/main.php',
)

Array\lost222 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill222/main.php',
)

Array\check_unlocked222 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=12;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill222/main.php',
)

Array\get_rage_cost222 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill222\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill222/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=222) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(222,$pa) || !check_unlocked222($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost222($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「催化」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「催化」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill222\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill222/main.php',
)

Array\calculate_ex_attack_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']==222) 
		{
			$ex_att_array = \\attrbase\\get_ex_attack_array($pa, $pd, $active);
			if (in_array(\'p\', $ex_att_array))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.=\'<span class="yellow">「催化」使你造成的毒性伤害提高了50%！</span><br>\';
				else  $log.=\'<span class="yellow">「催化」使敌人造成的毒性伤害提高了50%！</span><br>\';
			}
		}
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill222/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (($key==\'p\')&&($pa[\'bskill\']==222)) 
		{
			return $chprocess($pa, $pd, $active, $key)*1.5;
		}
		return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill222/main.php',
)

Array\get_skill221_lasttime ====> array (
  'vars' => '&$pa,&$pd,&$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']==222) return 3*$chprocess($pa, $pd, $active);
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill222/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill222\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「催化」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill222/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL218_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[218] = \'渗透\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill218/main.php',
)

Array\acquire218 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(218,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill218/main.php',
)

Array\lost218 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill218/main.php',
)

Array\check_unlocked218 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill218/main.php',
)

Array\upgrade218 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill218\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(218))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(218,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(218,\'lvl\',$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill218/main.php',
)

Array\get_skill218_extra_inf_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill218\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(218, $pa) || !check_unlocked218($pa)) return 1;
		$infrgainrate = $infrgain[\\skillbase\\skill_getvalue(218,\'lvl\',$pa)];
		return 1+($infrgainrate)/100;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill218/main.php',
)

Array\calculate_ex_inf_rate ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(218,$pa) || !check_unlocked218($pa)) return $chprocess($pa, $pd, $active,$key);
		$t=get_skill218_extra_inf_rate($pa, $pd, $active);
		return $t*$chprocess($pa, $pd, $active,$key);;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill218/main.php',
)

Array\get_skill218_extra_dmgrate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill218\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(218, $pa) || !check_unlocked218($pa)) return 0;
		$extd = $extdmg[\\skillbase\\skill_getvalue(218,\'lvl\',$pa)];
		return $extd; 
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill218/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ((\\skillbase\\skill_query(218,$pa))&&(check_unlocked218($pa))&&(strlen($pd[\'original_inf\'])>0))
		{
			$var_218=get_skill218_extra_dmgrate($pa,$pd,$active);
			eval(import_module(\'logger\'));
			if ($var_218>0)
			{
				if ($active)
					$log.="<span class=\\"yellow\\">「渗透」使你造成的最终伤害提高了{$var_218}%！</span><br>";
				else  $log.="<span class=\\"yellow\\">「渗透」使敌人造成的最终伤害提高了{$var_218}%！</span><br>";
				$r=Array(1+$var_218/100);
			}	
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill218/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL217_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[217] = \'特攻\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill217/main.php',
)

Array\acquire217 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(217,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill217/main.php',
)

Array\lost217 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill217/main.php',
)

Array\check_unlocked217 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill217/main.php',
)

Array\upgrade217 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill217\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(217))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(217,\'lvl\');
		$ucost = $upgradecost[$clv];
		if ($clv == -1)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$ucost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$ucost; \\skillbase\\skill_setvalue(217,\'lvl\',$clv+1);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill217/main.php',
)

Array\get_skill217_extra_acc_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill217\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(217, $pa) || !check_unlocked217($pa)) return 1;
		if ($pa[\'wep_kind\']!=\'G\') return 1;
		$accgainrate = $accgain[\\skillbase\\skill_getvalue(217,\'lvl\',$pa)];
		return 1+($accgainrate)/100;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill217/main.php',
)

Array\get_skill217_extra_dmg_gain ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill217\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(217, $pa) || !check_unlocked217($pa)) return 1;
		$d = $dmggain[\\skillbase\\skill_getvalue(217,\'lvl\',$pa)];
		return 1+($d/100);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill217/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(217,$pa) && check_unlocked217($pa))
			return $chprocess($pa, $pd, $active, $key)*get_skill217_extra_dmg_gain($pa, $pd, $active);
		else	return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill217/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL219_INFO\',\'club;active;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill219/main.php',
)

Array\acquire219 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill219/main.php',
)

Array\lost219 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill219/main.php',
)

Array\wpoison ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		if($wepk == \'WN\' || !$wepe || !$weps){
			$log .= \'<span class="red">你没有装备武器，无法改造！</span><br />\';
			$mode = \'command\';
			return;
		}
		if (strpos($wepsk,\'j\')!==false){
			$log.=\'多重武器不能改造。<br>\';
			$mode=\'command\';
			return;
		}
		if(\\skillbase\\skill_query(219)){
			$position = 0;
			foreach(Array(1,2,3,4,5,6) as $imn){
				global ${\'itm\'.$imn},${\'itmk\'.$imn},${\'itme\'.$imn},${\'itms\'.$imn},${\'itmsk\'.$imn};
				if(${\'itm\'.$imn} == \'毒药\' && ${\'itmk\'.$imn} == \'Y\' && ${\'itme\'.$imn} > 0 ){
					$position = $imn;
					break;
				}
			}
			if($position){
				if(strpos($wepsk,\'p\')!==false){
					$log .= \'<span class="red">武器已经带毒，不用改造！</span><br />\';
					$mode = \'command\';
					return;
				}elseif(strlen($wepsk)>=5){
					$log .= \'<span class="red">武器属性数目达到上限，无法改造！</span><br />\';
					$mode = \'command\';
					return;
				}
				$wepsk .= \'p\';
				$log .= "<span class=\\"yellow\\">用毒药为{$wep}淬毒了，{$wep}增加了带毒属性！</span><br />";
				$wep = \'毒性\'.$wep;
				${\'itms\'.$position}-=1;
				$itm = ${\'itm\'.$position};
				if(${\'itms\'.$position} == 0){
					$log .= "<span class=\\"red\\">$itm</span>用光了。<br />";
					${\'itm\'.$position} = ${\'itmk\'.$position} = ${\'itmsk\'.$position} = \'\';
					${\'itme\'.$position} =${\'itms\'.$position} =0;				
				}
				$mode = \'command\';
				return;
			}else{
				$log .= \'<span class="red">你没有毒药，无法给武器淬毒！</span><br />\';
				$mode = \'command\';
				return;
			}
		}else{
			$log .= \'<span class="red">你没有这个技能！</span><br />\';
			$mode = \'command\';
			return;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill219/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\'));
	

		if ($mode == \'special\' && $command == \'skill219_special\' && $subcmd==\'wpoison\') 
		{
			wpoison();
			return;
		}
			
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill219/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'q\'] = \'防毒\';
		$itemspkinfo[\'U\'] = \'防火\';
		$itemspkinfo[\'I\'] = \'防冻\';
		$itemspkinfo[\'E\'] = \'绝缘\';
		$itemspkinfo[\'W\'] = \'隔音\';
		$itemspkinfo[\'D\'] = \'防爆\';
		$itemspkinfo[\'a\'] = \'属性防御\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_def/main.php',
)

Array\get_ex_dmg_def_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 90;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_def/main.php',
)

Array\check_ex_dmg_def_proc ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$proc_rate = get_ex_dmg_def_proc_rate($pa, $pd, $active, $key);
		$dice = rand(0,99);
		return ($dice<$proc_rate);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_def/main.php',
)

Array\check_ex_single_dmg_def_attr ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'ex_dmg_att\',\'ex_dmg_def\',\'logger\'));
		$r = 1;
		if (isset($def_kind[$key])) 
		{
			$ex_def_array = \\attrbase\\get_ex_def_array($pa, $pd, $active);
			if (in_array($def_kind[$key], $ex_def_array) || in_array(\'a\', $ex_def_array))
			{
				if (check_ex_dmg_def_proc($pa, $pd, $active, $key))
				{
					$log .= "{$exdmgname[$key]}被防具防御了！";
					$r = 0.5;
					$pd[\'ex_dmg_\'.$key.\'_defend_success\'] = 1;
				}
				else
				{
					$log .= "属性防御装备没能发挥应有的作用！";
				}
			}
		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_def/main.php',
)

Array\calculate_ex_inf_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		if ($pd[\'ex_dmg_\'.$key.\'_defend_success\'] == 1) return 1.0;
		return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_def/main.php',
)

Array\check_ex_inf_infliction ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		if ($pd[\'ex_dmg_\'.$key.\'_defend_success\'] == 1) return;
		return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_def/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = check_ex_single_dmg_def_attr($pa, $pd, $active, $key);
		return $r*$chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_def/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'ex_dmg_att\'));
		foreach ( $ex_attack_list as $key ) $pd[\'ex_dmg_\'.$key.\'_defend_success\'] = 0;
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_def/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'b\'] = \'属性抹消\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_nullify/main.php',
)

Array\get_ex_dmg_nullify_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 95;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_nullify/main.php',
)

Array\check_ex_dmg_nullify ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'ex_dmg_att\',\'logger\'));
		$ex_att_array = \\attrbase\\get_ex_attack_array($pa, $pd, $active);
		$ex_def_array = \\attrbase\\get_ex_def_array($pa, $pd, $active);
		
		$flag = 0; $exnum = 0;
		foreach ($ex_attack_list as $key) if (in_array($key,$ex_att_array)) { $flag = 1; $exnum++; }
		if ($flag && in_array(\'b\', $ex_def_array))
		{
			$proc_rate = get_ex_dmg_nullify_proc_rate($pa, $pd, $active);
			$dice = rand(0,99);
			if ($dice<$proc_rate)
			{
				$log .= "<span class=\\"red\\">属性攻击的力量完全被防具吸收了！</span>只造成了<span class=\\"red\\">{$exnum}</span>点伤害！<br>";
				$pa[\'ex_dmg_dealt\'] = $exnum;
				$pd[\'exdmg_nullify_success\'] = 1;
				return 1;
			}
			else
			{
				$log .= "纳尼？防具使属性攻击无效化的属性竟然失效了！<br>";
				return 0;
			}
		}
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_nullify/main.php',
)

Array\calculate_ex_attack_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (check_ex_dmg_nullify($pa, $pd, $active))
			return $pa[\'ex_dmg_dealt\'];
		else  return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_nullify/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pd[\'exdmg_nullify_success\'] = 0;
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_dmg_nullify/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL25_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[25] = \'圣光\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill25/main.php',
)

Array\acquire25 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill25/main.php',
)

Array\lost25 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill25/main.php',
)

Array\check_unlocked25 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill25/main.php',
)

Array\get_ex_inf_dmg_punish ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '	
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(25,$pa) && check_unlocked25($pa))
			return $chprocess($pa, $pd, $active, $key)+0.5;
		else	return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill25/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(25,$pa) && check_unlocked25($pa))
			return $chprocess($pa, $pd, $active, $key)*1.15;
		else	return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill25/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL44_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[44] = \'金刚\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill44/main.php',
)

Array\acquire44 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(44,\'lvl\',\'0\',$pa);
		\\skillbase\\skill_setvalue(44,\'choice\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill44/main.php',
)

Array\lost44 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(44,\'lvl\',$pa);
		\\skillbase\\skill_delvalue(44,\'choice\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill44/main.php',
)

Array\check_unlocked44 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill44/main.php',
)

Array\upgrade44 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill44\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(44) || !check_unlocked44($sdata))
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}
		eval(import_module(\'input\'));
		$val = (int)$skillpara1;
		if ($val!=1 && $val!=2)
		{
			$log.=\'参数不合法。<br>\';
			return;
		}
		if ($val==1)
		{
			$clv = \\skillbase\\skill_getvalue(44,\'lvl\');
			$clv = (int)$clv;
			if ($upgradecost[$clv]==-1)
			{
				$log.=\'你已经升到满级了。<br>\';
				return;
			}
			if ($skillpoint<$upgradecost[$clv])
			{
				$log.=\'技能点不足。<br>\';
				return;
			}
			$skillpoint -= $upgradecost[$clv];
			$clv++; \\skillbase\\skill_setvalue(44,\'lvl\',(string)$clv);
			$log.=\'升级成功。<br>\';
		}
		else
		{
			$choice = \\skillbase\\skill_getvalue(44,\'choice\');
			$choice = (int)$choice; 
			$choice = 1-$choice;
			\\skillbase\\skill_setvalue(44,\'choice\',(string)$choice);
			$log.=\'切换成功。<br>\';
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill44/main.php',
)

Array\get_fixed_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(44,$pd) || !check_unlocked44($pd)) return $chprocess($pa, $pd, $active);
		$choice = \\skillbase\\skill_getvalue(44,\'choice\',$pd);
		$choice = (int)$choice; 
		if ($choice==0) 
		{
			eval(import_module(\'skill44\',\'logger\'));
			$clv = \\skillbase\\skill_getvalue(44,\'lvl\',$pd);
			$r=min(50,$dmgreduction[$clv]*$pd[\'internal_def\']); 
			if ($active)
				$log.=\'<span class="yellow">敌人健硕的身躯使你的固定伤害降低了\'.round($r).\'%！</span><br>\';
			else  $log.=\'<span class="yellow">你健硕的身躯使敌人的固定伤害降低了\'.round($r).\'%！</span><br>\';
			$r=1-$r/100;
		}
		else  $r=1;
		return $chprocess($pa, $pd, $active)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill44/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(44,$pd) || !check_unlocked44($pd)) return $chprocess($pa, $pd, $active, $key);
		$choice = \\skillbase\\skill_getvalue(44,\'choice\',$pd);
		$choice = (int)$choice; 
		if ($choice==1 && $key==\'d\') 
		{
			eval(import_module(\'skill44\',\'logger\'));
			$clv = \\skillbase\\skill_getvalue(44,\'lvl\',$pd);
			$r=min(50,$dmgreduction[$clv]*$pd[\'internal_def\']); 
			if ($active)
				$log.=\'<span class="yellow">敌人健硕的身躯抵挡了\'.round($r).\'%的爆炸伤害！</span><br>\';
			else  $log.=\'<span class="yellow">你健硕的身躯抵挡了\'.round($r).\'%的爆炸伤害！</span><br>\';
			$r=1-$r/100;
		}
		else  $r=1;
		return $chprocess($pa, $pd, $active, $key)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill44/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL47_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[47] = \'花雨\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill47/main.php',
)

Array\acquire47 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill47/main.php',
)

Array\lost47 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill47/main.php',
)

Array\check_unlocked47 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill47/main.php',
)

Array\get_rage_cost47 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill47\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill47/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=47) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(47,$pa) || !check_unlocked47($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost47($pa);
			if ($pa[\'rage\']>=$rcost && $pa[\'wep_kind\']==\'C\')
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「花雨」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「花雨」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill47\', $pa[\'name\'], $pd[\'name\'] );
				
				eval(import_module(\'ex_dmg_att\'));
				$lis=Array();
				foreach ($ex_attack_list as $key) if ($key!=\'f\' && $key!=\'k\' && $key!=\'d\') array_push($lis,$key);
				$pa[\'skill47_flag\']=$lis[rand(0,count($lis)-1)];
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill47/main.php',
)

Array\calculate_ex_attack_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=47) return $chprocess($pa, $pd, $active);
		eval(import_module(\'itemmain\',\'logger\'));
		$log.=\'技能「花雨」附加了<span class="yellow">\'.$itemspkinfo[$pa[\'skill47_flag\']].\'</span>属性伤害！<br>\';
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill47/main.php',
)

Array\get_ex_attack_array ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=47) return $chprocess($pa, $pd, $active);
		$r=$chprocess($pa, $pd, $active);
		array_push($r,$pa[\'skill47_flag\']);
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill47/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill47\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「花雨」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill47/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL48_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[48] = \'附魔\';
		eval(import_module(\'itemmain\',\'ex_dmg_att\'));
		global $skill48_ex_map, $skill48_ex_kind_list; 
		$skill48_ex_kind_list=Array();
		foreach ($ex_attack_list as $key)
			if (!isset($skill48_ex_map[$key]))
			{
				$str=$itemspkinfo[$key];
				foreach ($skill48_ex_map as $k => $v)
					if ($v==$key)
						$str.=\'/\'.$itemspkinfo[$k];
				$skill48_ex_kind_list[$key]=$str;
			}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill48/main.php',
)

Array\acquire48 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill48\'));
		\\skillbase\\skill_setvalue(48,\'tot\',\'0\',$pa);
		foreach ($skill48_ex_kind_list as $key => $value)
			\\skillbase\\skill_setvalue(48,$key,\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill48/main.php',
)

Array\lost48 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill48\'));
		\\skillbase\\skill_delvalue(48,\'tot\',$pa);
		foreach ($skill48_ex_kind_list as $key => $value)
			\\skillbase\\skill_delvalue(48,$key,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill48/main.php',
)

Array\check_unlocked48 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=5;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill48/main.php',
)

Array\get_rage_cost48 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill48\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill48/main.php',
)

Array\get_single_status_html48 ====> array (
  'vars' => '$key, $value',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$z=(int)\\skillbase\\skill_getvalue(48,$key);
		if ($z<15) 
			$sty=\'<span class="grey">\';
		else if ($z<30)
			$sty=\'<span style="color:#ffff88">\';
		else if ($z<60)
			$sty=\'<span style="color:#ffff00;">\';
		else if ($z<90)
			$sty=\'<span style="color:#ff7700;">\';
		else  $sty=\'<span style="color:#ff0000;">\';

		$str=$sty.$value.\':+\'.$z.\'%</span>\';
		return $str;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill48/main.php',
)

Array\get_status_html48 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'skill48\'));
		$sz=count($skill48_ex_kind_list);
		if ($sz%4==0)
			$lz=4;
		else if ($sz%3==0) 
			$lz=3;
		else if ($sz%4>=$sz%3)
			$lz=4;
		else  $lz=3;
		
		$s=Array();
		foreach ($skill48_ex_kind_list as $key => $value) $s[$key]=strlen($value);
		asort($s);
		
		$t=Array();
		foreach ($s as $key => $value) array_push($t,$key);
		
		$rz=floor($sz/$lz); $rz=(int)$rz; 
		for ($i=0; $i<$rz; $i++)
		{
			for ($j=0; $j<$lz; $j++)
			{
				$id=$j*$rz+$i; $key=$t[$id]; $value=$skill48_ex_kind_list[$key];
				if ($j>0) echo \'&nbsp;&nbsp\';
				echo get_single_status_html48($key,$value);
			}
			echo \'<br>\';
		}
		if ($sz%$lz!=0)
		{
			for ($i=$sz-$sz%$lz; $i<$sz; $i++)
			{
				$key=$t[$i]; $value=$skill48_ex_kind_list[$key];
				if ($i>0) echo \'&nbsp;&nbsp\';
				echo get_single_status_html48($key,$value);
			}
			echo \'<br>\';
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill48/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=48) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(48,$pa) || !check_unlocked48($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost48($pa);
			if ($pa[\'rage\']>=$rcost && $pa[\'wep_kind\']==\'C\')
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「附魔」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「附魔」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill48\', $pa[\'name\'], $pd[\'name\'] );
				
				
				$ori_val=(int)\\skillbase\\skill_getvalue(48,\'tot\',$pa);
				$ori_val++;
				\\skillbase\\skill_setvalue(48,\'tot\',$ori_val,$pa);
		
				eval(import_module(\'ex_dmg_att\',\'skill48\'));
				$lis=Array();
				$ex_attack_array = \\attrbase\\get_ex_attack_array($pa, $pd, $active);
				foreach ( $ex_attack_list as $key )
					if (in_array($key, $ex_attack_array))
						if (isset($skill48_ex_map[$key]))
							array_push($lis,$skill48_ex_map[$key]);
						else  array_push($lis,$key);
				
				if (count($lis)>0)
					$pa[\'skill48_flag\']=$lis[rand(0,count($lis)-1)];
				else  unset($pa[\'skill48_flag\']);
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill48/main.php',
)

Array\calculate_ex_attack_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=48) return $chprocess($pa, $pd, $active);
		
		$r=$chprocess($pa, $pd, $active);
		
		eval(import_module(\'itemmain\',\'logger\'));
		if (isset($pa[\'skill48_flag\']))
		{
			if ($active)
				$log.=\'技能「附魔」使你的<span class="yellow">\'.$itemspkinfo[$pa[\'skill48_flag\']].\'</span>伤害永久提高了<span class="yellow">3%</span>。<br>\';
			else  $log.=\'技能「附魔」使敌人的<span class="yellow">\'.$itemspkinfo[$pa[\'skill48_flag\']].\'</span>伤害永久提高了<span class="yellow">3%</span>。<br>\';
			$ori_val=(int)\\skillbase\\skill_getvalue(48,$pa[\'skill48_flag\'],$pa);
			$ori_val+=3;
			if ($ori_val>150) $ori_val=150;
			\\skillbase\\skill_setvalue(48,$pa[\'skill48_flag\'],$ori_val,$pa);
		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill48/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(48,$pa) || !check_unlocked48($pa)) return $chprocess($pa, $pd, $active, $key);
		
		eval(import_module(\'skill48\'));
		$z=$key; if (isset($skill48_ex_map[$z])) $z=$skill48_ex_map[$z];
		$ori_val=(int)\\skillbase\\skill_getvalue(48,$z,$pa);
		return $chprocess($pa, $pd, $active, $key)*(1+$ori_val/100);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill48/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill48\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「附魔」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill48/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL54_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[54] = \'圣盾\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill54/main.php',
)

Array\acquire54 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(54,\'lvl\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill54/main.php',
)

Array\lost54 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(54,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill54/main.php',
)

Array\check_unlocked54 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill54/main.php',
)

Array\upgrade54 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill54\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(54) || !check_unlocked54($sdata))
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}

		$clv = \\skillbase\\skill_getvalue(54,\'lvl\');
		$clv = (int)$clv;
		if ($upgradecost[$clv]==-1)
		{
			$log.=\'你已经升到满级了。<br>\';
			return;
		}
		if ($skillpoint<$upgradecost[$clv])
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint -= $upgradecost[$clv];
		$clv++; \\skillbase\\skill_setvalue(54,\'lvl\',(string)$clv);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill54/main.php',
)

Array\calculate_ex_attack_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(54,$pd) || !check_unlocked54($pd)) return $chprocess($pa, $pd, $active);
		if (count(\\attrbase\\get_ex_attack_array($pa,$pd,$active))>0)
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="yellow">技能「圣盾」降低了敌人受到的属性伤害！</span><br>\';
			else  $log.=\'<span class="yellow">技能「圣盾」降低了你受到的属性伤害！</span><br>\';
		}
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill54/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(54,$pd) || !check_unlocked54($pd)) return $chprocess($pa, $pd, $active, $key);
		eval(import_module(\'skill54\'));
		$clv = \\skillbase\\skill_getvalue(54,\'lvl\',$pd);
		$clv = (int)$clv;
		return $chprocess($pa, $pd, $active, $key)*(1-$dmgreduction[$clv]/100);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill54/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL205_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[205] = \'咆哮\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill205/main.php',
)

Array\acquire205 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill205/main.php',
)

Array\lost205 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill205/main.php',
)

Array\check_unlocked205 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=15;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill205/main.php',
)

Array\get_rage_cost205 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill205\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill205/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=205) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(205,$pa) || !check_unlocked205($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost205($pa);
			if (($pa[\'rage\']>=$rcost)&&($pa[\'wep_kind\']=="G"))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「咆哮」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「咆哮」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill205\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill205/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ($pa[\'bskill\']==205) 
		{
			eval(import_module(\'logger\'));
			if ($active)
				$log.=\'<span class="yellow">「咆哮」使你造成的物理伤害提高了20%！</span><br>\';
			else  $log.=\'<span class="yellow">「咆哮」使敌人造成的物理伤害提高了20%！</span><br>\';
			$r=Array(1.2);
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill205/main.php',
)

Array\calculate_ex_attack_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']==205) 
		{
			if (count(\\attrbase\\get_ex_attack_array($pa,$pd,$active))>0)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.=\'<span class="yellow">「咆哮」使你造成的属性伤害提高了80%！</span><br>\';
				else  $log.=\'<span class="yellow">「咆哮」使敌人造成的属性伤害提高了80%！</span><br>\';
			}
		}
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill205/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']==205) 
		{
			return $chprocess($pa, $pd, $active, $key)*1.8;
		}
		return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill205/main.php',
)

Array\calculate_weapon_wound_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active, $hurtposition',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=205) return $chprocess($pa, $pd, $active, $hurtposition);
		return $chprocess($pa, $pd, $active, $hurtposition)*2;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill205/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill205\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「咆哮」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill205/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL75_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[75] = \'剑心\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill75/main.php',
)

Array\acquire75 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill75\'));
		if ($pa[\'club\']==2)
		{
			\\skillbase\\skill_setvalue(75,\'lastuse\',-3000,$pa);
		}
		else
		{
			\\skillbase\\skill_setvalue(75,\'lastuse\',$now,$pa);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill75/main.php',
)

Array\lost75 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill75/main.php',
)

Array\check_unlocked75 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill75/main.php',
)

Array\check_skill75_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(75, $pa) || !check_unlocked75($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill75\'));
		$l=\\skillbase\\skill_getvalue(75,\'lastuse\',$pa);
		if (($now-$l)<=$skill75_cd) return 2;
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill75/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=75) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(75,$pa) || !check_unlocked75($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			eval(import_module(\'sys\',\'skill75\'));
			$l=\\skillbase\\skill_getvalue(75,\'lastuse\',$pa);
			if ($now-$l>=$skill75_cd && $pa[\'wep_kind\']==\'K\')
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「剑心」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「剑心」！</span><br>";
				\\skillbase\\skill_setvalue(75,\'lastuse\',$now,$pa);
				addnews ( 0, \'bskill75\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'冷却时间未到或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill75/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']==75 && $pa[\'is_hit\'])
		{
			eval(import_module(\'logger\'));
			$d=$pa[\'lvl\']+30;
			$log.=\'<span class="yellow">「剑心」附加了\'.$d.\'点伤害！</span><br>\';
			$pa[\'dmg_dealt\']+=$d;
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill75/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(75,$sdata))&&check_unlocked75($sdata))
		{
			eval(import_module(\'skill75\'));
			$skill75_lst = (int)\\skillbase\\skill_getvalue(75,\'lastuse\'); 
			$skill75_time = $now-$skill75_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'战斗技「剑心」\',
				\'activate_hint\' => \'战斗技「剑心」已就绪<br>在战斗界面可以发动\',
				\'onclick\' => "",
			);
			if ($skill75_time<$skill75_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill75_cd;
				$z[\'nowsec\']=$skill75_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill75.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill75/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill75\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「剑心」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill75/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL76_INFO\',\'club;upgrade;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[76] = \'充能\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill76/main.php',
)

Array\acquire76 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill76\'));
		\\skillbase\\skill_setvalue(76,\'lastuse\',0,$pa);
		\\skillbase\\skill_setvalue(76,\'rmt\',2,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill76/main.php',
)

Array\lost76 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill76/main.php',
)

Array\check_unlocked76 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=11;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill76/main.php',
)

Array\check_skill76_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(76, $pa) || !check_unlocked76($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill76\'));
		$l=\\skillbase\\skill_getvalue(76,\'lastuse\',$pa);
		$r=(int)\\skillbase\\skill_getvalue(76,\'rmt\',$pa);
		if ($r==0 && ($now-$l)<=$skill76_cd) return 2;
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill76/main.php',
)

Array\activate76 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill76\',\'player\',\'logger\',\'sys\'));
		\\player\\update_sdata();
		if (!\\skillbase\\skill_query(76) || !check_unlocked76($sdata))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$st = check_skill76_state($sdata);
		if ($st==0){
			$log.=\'你不能使用这个技能！<br>\';
			return;
		}
		if ($st==1){
			$log.=\'你已经发动过这个技能了！<br>\';
			return;
		}
		if ($st==2){
			$log.=\'技能冷却中！<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(76,\'lastuse\',$now);
		$r=(int)\\skillbase\\skill_getvalue(76,\'rmt\',$pa);
		if ($r>0)
		{
			$r--; \\skillbase\\skill_setvalue(76,\'rmt\',$r,$pa);
		}
		$rage = 100;
		addnews ( 0, \'bskill76\', $name );
		$log.=\'<span class="lime">技能「充能」发动成功。</span><br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill76/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(76,$sdata))&&check_unlocked76($sdata))
		{
			eval(import_module(\'skill76\'));
			$skill76_lst = (int)\\skillbase\\skill_getvalue(76,\'lastuse\'); 
			$skill76_time = $now-$skill76_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「充能」\',
				\'activate_hint\' => \'点击发动技能「充能」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill76_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			$r=(int)\\skillbase\\skill_getvalue(76,\'rmt\',$pa);
			if ($r>0) $z[\'corner-text\'] = $r;
			if ($r==0 && $skill76_time<$skill76_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill76_cd;
				$z[\'nowsec\']=$skill76_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill76.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill76/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill76\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「充能」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill76/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL210_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[210] = \'歼灭\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill210/main.php',
)

Array\acquire210 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'skill210\'));
		\\skillbase\\skill_setvalue(210,\'lastuse\',-3000,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill210/main.php',
)

Array\lost210 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill210/main.php',
)

Array\check_unlocked210 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=21;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill210/main.php',
)

Array\activate210 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill210\',\'player\',\'logger\',\'sys\'));
		\\player\\update_sdata();
		if (!\\skillbase\\skill_query(210) || !check_unlocked210($sdata))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$st = check_skill210_state($sdata);
		if ($st==0){
			$log.=\'你不能使用这个技能！<br>\';
			return;
		}
		if ($st==1){
			$log.=\'你已经发动过这个技能了！<br>\';
			return;
		}
		if ($st==2){
			$log.=\'技能冷却中！<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(210,\'lastuse\',$now);
		addnews ( 0, \'bskill210\', $name );
		$log.=\'<span class="lime">技能「歼灭」发动成功。</span><br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill210/main.php',
)

Array\check_skill210_state ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(210, $pa) || !check_unlocked210($pa)) return 0;
		eval(import_module(\'sys\',\'player\',\'skill210\'));
		$l=\\skillbase\\skill_getvalue(210,\'lastuse\',$pa);
		if (($now-$l)<=$skill210_act_time) return 1;
		if (($now-$l)<=$skill210_act_time+$skill210_cd) return 2;
		return 3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill210/main.php',
)

Array\get_basic_ex_dmg ====> array (
  'vars' => '&$pa,&$pd,$active,$key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(210,$pa) || !(check_skill210_state($pa)==1) || $pa[\'wepk\']!=\'WK\') return $chprocess($pa, $pd, $active,$key);
		eval(import_module(\'ex_dmg_att\'));
		$var_210=$pa[\'att\']/$ex_wep_dmg[$key];
		if ($pa[\'club\']!=2) $var_210=$var_210/2;
		return $var_210+$chprocess($pa,$pd,$active,$key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill210/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		eval(import_module(\'logger\',\'skill210\'));
		$var_210=20;
		if ($pa[\'card\']==5) $var_210=40;
		if ((\\skillbase\\skill_query(210,$pa))&&(check_skill210_state($pa)==1)&&(rand(0,99)<$var_210)&&($pa[\'wep_kind\']==\'K\')&&($pa[\'club\']!=2)) 
		{
			$z=2;
			if ($active)
				$log.=\'<span class="red">暴击！</span><span class="lime">「歼灭」使你造成了\'.$z.\'倍物理伤害！</span><br>\';
			else  $log.=\'<span class="red">暴击！</span><span class="lime">「歼灭」使敌人造成了\'.$z.\'倍物理伤害！</span><br>\';
			$r=Array($z);
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill210/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		eval(import_module(\'logger\',\'skill210\'));
		$var_210=20;
		if ($pa[\'card\']==5) $var_210=40;
		if ((\\skillbase\\skill_query(210,$pa))&&(check_skill210_state($pa)==1)&&(rand(0,99)<$var_210)&&($pa[\'wep_kind\']==\'K\')&&($pa[\'club\']==2)) 
		{
			$z=2;
			if ($active)
				$log.=\'<span class="red">暴击！</span><span class="lime">「歼灭」使你造成了\'.$z.\'倍最终伤害！</span><br>\';
			else  $log.=\'<span class="red">暴击！</span><span class="lime">「歼灭」使敌人造成了\'.$z.\'倍最终伤害！</span><br>\';
			$r=Array($z);
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill210/main.php',
)

Array\bufficons_list ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		\\player\\update_sdata();
		if ((\\skillbase\\skill_query(210,$sdata))&&check_unlocked210($sdata))
		{
			eval(import_module(\'skill210\'));
			$skill210_lst = (int)\\skillbase\\skill_getvalue(210,\'lastuse\'); 
			$skill210_time = $now-$skill210_lst; 
			$z=Array(
				\'disappear\' => 0,
				\'clickable\' => 1,
				\'hint\' => \'技能「歼灭」\',
				\'activate_hint\' => \'点击发动技能「歼灭」\',
				\'onclick\' => "$(\'mode\').value=\'special\';$(\'command\').value=\'skill210_special\';$(\'subcmd\').value=\'activate\';postCmd(\'gamecmd\',\'command.php\');this.disabled=true;",
			);
			if ($skill210_time<$skill210_act_time)
			{
				$z[\'style\']=1;
				$z[\'totsec\']=$skill210_act_time;
				$z[\'nowsec\']=$skill210_time;
			}
			else  if ($skill210_time<$skill210_act_time+$skill210_cd)
			{
				$z[\'style\']=2;
				$z[\'totsec\']=$skill210_cd;
				$z[\'nowsec\']=$skill210_time-$skill210_act_time;
			}
			else 
			{
				$z[\'style\']=3;
			}
			\\bufficons\\bufficon_show(\'img/skill210.gif\',$z);
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill210/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill210\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"red\\">「歼灭」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill210/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL238_INFO\',\'club;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[238] = \'过载\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill238/main.php',
)

Array\acquire238 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill238/main.php',
)

Array\lost238 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill238/main.php',
)

Array\check_unlocked238 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return (($pa[\'lvl\']>=20)||($pa[\'card\']==63)||($pa[\'card\']==64));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill238/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(238,$pa))&&(check_unlocked238($pa))&&($key==\'e\'))
		{
			if ($pa[\'card\']==63) return $chprocess($pa, $pd, $active, $key)*1.5;
			if ($pa[\'card\']==64) return $chprocess($pa, $pd, $active, $key)*1.25;
		}
		return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill238/main.php',
)

Array\get_ex_dmg_restriction ====> array (
  'vars' => '&$pa,&$pd,$active,$key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(238,$pa))&&(check_unlocked238($pa))&&($key==\'e\'))
		{
			return 0;
		}
		return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill238/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL434_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[434] = \'核弹\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill434/main.php',
)

Array\acquire434 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill434/main.php',
)

Array\lost434 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill434/main.php',
)

Array\check_unlocked434 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill434/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(434,$pa))&&(check_unlocked434($pa))&&($key==\'d\'))
		{
			return $chprocess($pa, $pd, $active, $key)*1.7;
		}
		return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill434/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL448_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[448] = \'创世\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill448/main.php',
)

Array\acquire448 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill448/main.php',
)

Array\lost448 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill448/main.php',
)

Array\check_unlocked448 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill448/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(448,$pa))&&(check_unlocked448($pa))&&($key==\'p\'))
		{
			return $chprocess($pa, $pd, $active, $key)*1.1;
		}
		return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill448/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(448,$pd)&&(check_unlocked448($pd)))
		{
			eval(import_module(\'logger\'));
			if (strpos($pa[\'inf\'],\'p\')===false)
			{
				$pa[\'inf\'].=\'p\';
				if ($active)
					$log.=\'<span class="purple">创世龙的力量使你中毒了！</span><br>\';
				else  $log.="<span class=\\"purple\\">创世龙的力量使{$pa[\'name\']}中毒了！</span><br>";
			}
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill448/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL463_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[463] = \'藤甲\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill463/main.php',
)

Array\acquire463 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill463/main.php',
)

Array\lost463 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill463/main.php',
)

Array\check_unlocked463 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill463/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if (\\skillbase\\skill_query(463,$pd)) 
		{
			eval(import_module(\'logger\'));
			$r=Array(0.83);
			if ($active)
				$log.=\'<span class="yellow">敌人的藤甲降低了其受到的物理伤害！</span><br>\';
			else  $log.=\'<span class="yellow">藤甲降低了你受到的物理伤害！</span><br>\';
		}
		return array_merge($r,$chprocess($pa, $pd, $active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill463/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(463,$pd) || ($key!=\'f\' && $key!=\'u\')) return $chprocess($pa, $pd, $active, $key);
		eval(import_module(\'logger\'));
		if ($active)
			$log.=\'<span class="yellow">敌人的藤甲烧起来了！疼疼疼疼疼疼疼！</span><br>\';
		else  $log.=\'<span class="yellow">你的藤甲烧起来了！疼疼疼疼疼疼疼！</span><br>\';
		return $chprocess($pa, $pd, $active, $key)*2.5;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill463/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL465_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[465] = \'圣火\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill465/main.php',
)

Array\acquire465 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill465/main.php',
)

Array\lost465 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill465/main.php',
)

Array\check_unlocked465 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill465/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(465,$pa) || ($key!=\'f\' && $key!=\'u\')) 
		{
			return $chprocess($pa, $pd, $active, $key);
		} else {
			eval(import_module(\'logger\'));
			$pn = $active ? \'你\' : $pa[\'name\'];
			$log .= \'这不是火焰，这是「圣火」！\'.$pn.\'造成的伤害增加了50%！<br>\';
			return $chprocess($pa, $pd, $active, $key)*1.5;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill465/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL478_INFO\',\'card;unique;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[478] = \'悲运\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill478/main.php',
)

Array\acquire478 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill478/main.php',
)

Array\lost478 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill478/main.php',
)

Array\check_unlocked478 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill478/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=1;
		if (\\skillbase\\skill_query(478,$pa)) $r*=0.9;
		if (\\skillbase\\skill_query(478,$pd)) $r*=1.1;
		
		return $chprocess($pa, $pd, $active)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill478/main.php',
)

Array\calculate_counter_rate_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=1;
		if (\\skillbase\\skill_query(478,$pa)) $r*=0.9;
		
		return $chprocess($pa, $pd, $active)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill478/main.php',
)

Array\calculate_inf_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=1;
		if (\\skillbase\\skill_query(478,$pd)) $r*=1.1;
		
		return $chprocess($pa, $pd, $active)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill478/main.php',
)

Array\get_ex_inf_rate_modifier ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$a=0;
		if (\\skillbase\\skill_query(478,$pd)) $a += 10;
		
		return $chprocess($pa,$pd,$active,$key)+$a;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill478/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'B\'] = \'伤害抹消\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_phy_nullify/main.php',
)

Array\get_ex_phy_nullify_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 95;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_phy_nullify/main.php',
)

Array\check_physical_nullify ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		$ex_def_array = \\attrbase\\get_ex_def_array($pa, $pd, $active);
		if (in_array(\'B\', $ex_def_array))
		{
			$proc_rate = get_ex_phy_nullify_proc_rate($pa, $pd, $active);
			$dice = rand(0,99);
			if ($dice<$proc_rate)
			{
				if ($active)
					$log .= "<span class=\\"yellow\\">你的攻击完全被{$pd[\'name\']}的装备吸收了！</span><br>";
				else  $log .= "<span class=\\"yellow\\">{$pa[\'name\']}的攻击完全被你的装备吸收了！</span><br>";
				$pd[\'physical_nullify_success\'] = 1;
			}
			else
			{
				if ($active)
					$log .= "纳尼？{$pd[\'name\']}的装备使攻击无效化的属性竟然失效了！<br>";
				else  $log .= "纳尼？你的装备使攻击无效化的属性竟然失效了！<br>";
			}
		}
		return Array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_phy_nullify/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return array_merge(check_physical_nullify($pa, $pd, $active), $chprocess($pa, $pd, $active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_phy_nullify/main.php',
)

Array\check_physical_def_attr ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		if ($pd[\'physical_nullify_success\']) return Array();
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_phy_nullify/main.php',
)

Array\put_charge_success_words ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		if ($pd[\'physical_nullify_success\'])
		{
			$pa[\'physical_charge_success\'] = 0;
			return Array();
		}
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_phy_nullify/main.php',
)

Array\get_physical_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		if ($pd[\'physical_nullify_success\']) return 1;
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_phy_nullify/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pd[\'physical_nullify_success\'] = 0;
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_phy_nullify/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL432_INFO\',\'card;unique;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[432] = \'冰心\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill432/main.php',
)

Array\acquire432 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill432/main.php',
)

Array\lost432 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill432/main.php',
)

Array\check_unlocked432 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill432/main.php',
)

Array\calculate_hp_rev_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ((\\skillbase\\skill_query(432,$pa))&&(check_unlocked432($pa))){
			return 0;
		}
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill432/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/main/main.php',
)

Array\prepare_new_game ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if (room_check_subroom($room_prefix)) return $chprocess();
		list($sec,$min,$hour,$day,$month,$year,$wday) = explode(\',\',date("s,i,H,j,n,Y,w",$now));
		$tg=$gamenum-3;
		$res=$db->query("SELECT gametype FROM {$gtablepre}winners WHERE gid=\'$tg\'");
		$gt=1;
		if ($db->num_rows($res)){
			$zz=$db->fetch_array($res); $gt=$zz[\'gametype\'];
		}
		if ($wday==3){
 			if (($hour>=19)&&($hour<21)&&($gt!=1)){ 
 				$gametype=1;
 			}else{
 				$gametype=0;
 			}
 		}
 		if ($disable_event) $gametype=0; 
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/main/main.php',
)

Array\meetman_alternative ====> array (
  'vars' => '$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\'));
		if($gametype == 1){
			if(!$edata[\'type\']){
				$log .= \'你看到了同为测试工程师的玩家，你们似乎有点尴尬地笑了笑。<br>\';
				\\team\\findteam($edata);
				return;
			}
		}
		return $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/main/main.php',
)

Array\senditem_check ====> array (
  'vars' => '$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		
		if ($gametype == 1)
		{
			if(isset($edata) && !$edata[\'type\'] && $edata[\'pls\'] == $pls && $edata[\'hp\'] > 0 && $edata[\'pid\'] != $pid){
				return true;
			}
		}
		return $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/main/main.php',
)

Array\checkcombo ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\',\'gameflow_combo\'));
		if (($gametype==1)&&($areanum<$areaadd*2)&&($alivenum>0)){
			return;
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/main/main.php',
)

Array\rs_game ====> array (
  'vars' => '$xmode = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($xmode);
		
		eval(import_module(\'sys\'));
		if (($gametype==1)&&($xmode & 2)) 
		{
			$weather = 1;
			$hack=1;
			
		}
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/main/main.php',
)

Array\check_addarea_gameover ====> array (
  'vars' => '$atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\'));
		if ($gametype==1){
			if($alivenum <= 0){
				\\sys\\gameover($atime,\'end1\');
				return;
			}
			if ($areanum>=($areaadd*2)){
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE type=0 ORDER BY pid DESC");
				$ml=-1;
				$winner=\'\';
				$wl=array();
				$wc=0;
				while($pt = $db->fetch_array($result)) {
					$pa=\\player\\fetch_playerdata_by_pid($pt[\'pid\']);
					$cl=(int)\\skillbase\\skill_getvalue(424,\'lvl\',$pa);
					
					if ($cl>$ml){
						$ml=$cl;
						$winner=$pa[\'name\'];
					}
					$wc++;
					$wl[$wc][\'n\']=$pa[\'name\'];
					$wl[$wc][\'p\']=$pa[\'pid\'];
					$wl[$wc][\'c\']=$cl;
				}
				
				for ($i=1;$i<$wc;$i++){
					for ($j=$i+1;$j<=$wc;$j++){
						if (($wl[$i][\'c\']<$wl[$j][\'c\'])||($wl[$i][\'c\']==$wl[$j][\'c\'])&&($wl[$i][\'p\']<$wl[$j][\'p\'])){
							$tt=$wl[$i];
							$wl[$i]=$wl[$j];
							$wl[$j]=$tt;
						}
					}
				}
				$rk=0; 
				$max_announce_num = 3;	
				$bestlist = Array();	
				
				for ($rk=1;$rk<=$wc;$rk++){
					
					$kk=$wl[$rk][\'n\'];
					$v=$wl[$rk][\'c\'];
					$k=\\player\\fetch_playerdata($kk);
					if ($v>=5){
						\\cardbase\\get_qiegao(150,$k);
					}
					if ($v>=10){
						\\cardbase\\get_qiegao(300,$k);
					}
					if ($v>=20){
						\\cardbase\\get_qiegao(600,$k);
					}
					if ($v>=30){
						\\cardbase\\get_card(94,$k);
						\\cardbase\\get_qiegao(500,$k);
					}
					if ($rk==1){
						\\cardbase\\get_card(96,$k);
						\\cardbase\\get_card(95,$k);
					}
					if ($rk<=2){
						\\cardbase\\get_card(95,$k);
					}
					if ($rk<=$max_announce_num){
						\\cardbase\\get_qiegao(500,$k);
						$bestlist[$rk] = Array(0=>$kk, 1=>$v);
					}		
				}
				
				for ($i=$max_announce_num; $i>=1; $i--) 
					if (isset($bestlist[$i]))
						addnews(0,\'g1announce\',$i,$bestlist[$i][0],$bestlist[$i][1]);
						
				\\sys\\gameover($atime,\'end8\',$winner);
				return;
			}
			\\sys\\rs_game(16+32);
			return;
		}
		$chprocess($atime);	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/main/main.php',
)

Array\lvlup ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$chprocess($pa);
		eval(import_module(\'sys\',\'lvlctl\'));
		if ($gametype==1) $lvupskpt=0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/main/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'g1announce\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">本次游戏第<span class=\\"yellow\\">{$a}</span>名是完成了<span class=\\"yellow\\">{$c}</span>次除错的<span class=\\"yellow\\">{$b}</span>。</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/main/main.php',
)

Array\deathnote_process ====> array (
  'vars' => '$dnname=\'\',$dndeath=\'\',$dngender=\'m\',$dnicon=1',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\',\'metman\'));
		if($gametype==1 && $dnname){
			$edata = \\player\\fetch_playerdata(\'黑熊\',21);
			if(isset($edata[\'pid\'])){
				$o_fog = $fog; $fog = 0;
				extract($edata,EXTR_PREFIX_ALL,\'w\');
				$battle_title = \'发现敌人\';
				\\metman\\init_battle();
				$main = MOD_METMAN_MEETMAN;
				$cmd = <<<EOH
<input type="button" class="cmdbutton" value="返回" onclick="postCmd(\'gamecmd\',\'command.php\');this.disabled=true;">
EOH;
				$log .= <<<EOT
你将<span class="yellow b">$dnname</span>的名字写在了红暮的脸上。但是什么都没有发生。<br>哪里出错了？<br>
还没等你合上■DeathNote■，就听到<span class="red b">英灵殿</span>的方向传来一声愤怒的咆哮。你扭头一看，发现一只长得很像<span class="yellow">熊本熊</span>的东西站在你身后，他看起来很生气。<br>
“熊本熊”伸出手来，指了指他自己，又指了指你，然后做了个“<span class="yellow">60</span>”的手势。<br>
虽然你不知道他的意思，但你看得懂气氛，乖乖交出了■DeathNote■，想了想，又<span class="yellow">掏出了60元钱</span>，一起交给了他。<br>
“熊本熊”接过钱愣了几秒，之后把■DeathNote■紧紧抱在怀里，钻进旁边的树丛里不见了踪影。<br>之后，似乎传来了舔什么的声音。<br>
不知为何，你决定还是把这件事完全忘掉。<br>
EOT;
				$money -= 60;if($money < 0) $money = 0;
				$fog = $o_fog;
			}else{
				$log .= \'■DeathNote■忽然直接燃烧了起来。<br><span class="red">这不是火焰，是灼焰！你被■DeathNote■点燃的灼焰烧伤了！</span><br>■DeathNote■很快化为了灰烬。<br>\';
				$inf = str_replace(\'u\',\'\',$inf);
				$inf .= \'u\';
			}
			return true;
		}
		return $chprocess($dnname,$dndeath,$dngender,$dnicon);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype1/main/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/instance5/main.php',
)

Array\get_shoplist ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\',\'instance5\'));
		if ($gametype==15){
			$file = __DIR__.\'/config/shopitem.config.php\';
			$sl5 = openfile($file);
			return $sl5;
		}else return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/instance5/main.php',
)

Array\checkcombo ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\',\'gameflow_combo\'));
		if(15 == $gametype){
			if($areanum < $areaadd * 4 && $alivenum>0){
				return;
			}
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/instance5/main.php',
)

Array\rs_game ====> array (
  'vars' => '$xmode = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($xmode);
		
		eval(import_module(\'sys\'));
		if (($gametype==15)&&($xmode & 2)) 
		{
			if(!$areanum && isset($roomvars[\'current_game_option\'])){
				
				$option = $roomvars[\'current_game_option\'];
				if(isset($option[\'area-mode\']) && \'extreme\'==$option[\'area-mode\']){
					$areatime = $starttime + 60*40;
				}
			}
			$weather = 1;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/instance5/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\'));
		$chprocess();
		if($gametype==15 && $areanum<$areaadd){
			if($money > \\skillbase\\skill_getvalue(313,\'max_money\')) 
				\\skillbase\\skill_setvalue(313,\'max_money\',$money);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/instance5/main.php',
)

Array\check_addarea_gameover ====> array (
  'vars' => '$atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\'));
		if ($gametype==15){
			if($alivenum <= 0){
				\\sys\\gameover($atime,\'end1\');
				return;
			}
			$alimit = 3;
			if(isset($roomvars[\'current_game_option\'])){
				$option = $roomvars[\'current_game_option\'];
				if(isset($option[\'area-mode\']) && \'extreme\'==$option[\'area-mode\']){
					$alimit = 1;
				}
			}
			if (ceil($areanum/$areaadd) >= $alimit){
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE hp>0 AND type=0");
				$wdata = $db->fetch_array($result);
				$winner = $wdata[\'name\'];
				\\sys\\gameover($atime,\'end8\',$winner);
				return;
			}
			\\sys\\rs_game(16+32);
			return;
		}
		$chprocess($atime);	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/instance5/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) {
			if ($itm == \'伐木解除钥匙\') 
			{
				$url = \'end.php\';
				addnews ( $now, \'itemuse\', $name, $itm );
				\\sys\\gameover ( $now, \'end8\', $name );
			}
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/instance5/main.php',
)

Array\get_club_choice_array ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'clubbase\'));
		
		if ($gametype==15) {
			$res = array(0);
			foreach($clublist as $key=>$val){
				if ($val[\'probability\']) $res[] = $key;
			}
			return $res;
		}
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/instance5/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/instance6/main.php',
)

Array\checkcombo ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\',\'gameflow_combo\'));
		if (($gametype==16)&&($areanum<$areaadd*2)&&($alivenum>0)){
			return;
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/instance6/main.php',
)

Array\rs_game ====> array (
  'vars' => '$xmode = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($xmode);
		
		eval(import_module(\'sys\'));
		if (($gametype==16)&&($xmode & 2)) 
		{
			$weather = 1;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/instance6/main.php',
)

Array\check_addarea_gameover ====> array (
  'vars' => '$atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\'));
		if ($gametype==16){
			if($alivenum <= 0){
				\\sys\\gameover($atime,\'end1\');
				return;
			}
			if ($areanum>=($areaadd*4)){
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE hp>0 AND type=0 ORDER BY card LIMIT 1");
				$wdata = $db->fetch_array($result);
				$winner = $wdata[\'name\'];
				\\sys\\gameover($atime,\'end8\',$winner);
				return;
			}
			\\sys\\rs_game(16+32);
			return;
		}
		$chprocess($atime);	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/instance6/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL42_INFO\',\'club;locked;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill42/main.php',
)

Array\acquire42 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(42,\'u\',\'0\',$pa);	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill42/main.php',
)

Array\lost42 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill42/main.php',
)

Array\unlock42 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(42,\'u\',\'1\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill42/main.php',
)

Array\check_unlocked42 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_getvalue(42,\'u\',$pa)==\'1\') return 1; else return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill42/main.php',
)

Array\get_internal_def ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(42,$pd) || !check_unlocked42($pd)) return $chprocess($pa,$pd,$active);
		return $chprocess($pa,$pd,$active)*1.35;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill42/main.php',
)

Array\attack_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(42,$pd) && check_unlocked42($pd))
		{
			$pd[\'def\']+=2;
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill42/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(42,$pa) && check_unlocked42($pa))
		{
			$pa[\'att\']+=2; $pa[\'def\']+=4;
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill42/main.php',
)

Array\calculate_active_obbs_multiplier ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = 1;
		if (\\skillbase\\skill_query(42,$ldata) && check_unlocked42($ldata)) $r*=1.12;
		if (\\skillbase\\skill_query(42,$edata) && check_unlocked42($edata)) $r/=1.12;
		return $chprocess($ldata,$edata)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill42/main.php',
)

Array\skill42_temp_acquire41 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'skill42_flag1\']=1;
		if (!\\skillbase\\skill_query(41,$pa))
		{
			
			\\skillbase\\skill_acquire(41,$pa);
			\\skill41\\unlock41($pa);
			$pa[\'skill42_flag2\']=1;
		}
		else
		{
			$stat = \\skill41\\check_unlocked41($pa);
			if ($stat) 
				$pa[\'skill42_flag2\']=3; 
			else
			{
				\\skill41\\unlock41($pa);
				$pa[\'skill42_flag2\']=2; 
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill42/main.php',
)

Array\skill42_restore_skill41 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!isset($pa[\'skill42_flag1\']) || !$pa[\'skill42_flag1\']) return;
		if ($pa[\'skill42_flag2\']==1)
		{
			\\skillbase\\skill_lost(41,$pa);
		}
		else  if ($pa[\'skill42_flag2\']==2)
		{
			\\skill41\\relock41($pa);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill42/main.php',
)

Array\battle_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		if (\\skillbase\\skill_query(42,$pa) && check_unlocked42($pa))
		{
			
			skill42_temp_acquire41($pd);
		}
		if (\\skillbase\\skill_query(42,$pd) && check_unlocked42($pd))
		{
			
			skill42_temp_acquire41($pa);
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill42/main.php',
)

Array\battle_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		skill42_restore_skill41($pa);
		skill42_restore_skill41($pd);
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill42/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/addnpc/main.php',
)

Array\addnpc ====> array (
  'vars' => '$xtype,$xsub,$num,$time = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'logger\',\'addnpc\',\'lvlctl\',\'skillbase\'));
		$time = $time == 0 ? $now : $time;

		$anpcs = get_addnpclist();
		$npc=array_merge($npcinit,$anpcs[$xtype]);
		

		if(!$npc){
			return;
		} else {
			$pls_available = \\map\\get_safe_plslist();
			$summon_ids = array();
			for($i=0;$i< $num;$i++){
				$npc = array_merge($npc,$npc[\'sub\'][$xsub]);
				$npc[\'type\'] = $xtype;
				$npc[\'sNo\'] = $i;
				$npc = \\npc\\init_npcdata($npc,$pls_available);





















				$npc=\\player\\player_format_with_db_structure($npc);
				$db->array_insert("{$tablepre}players", $npc);

				$summon_ids[] = $db->insert_id();
				$newsname=$typeinfo[$xtype].\' \'.$npc[\'name\'];
				
				addnews($now, \'addnpc\', $newsname);
				

























			}
		}
		return $summon_ids;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/addnpc/main.php',
)

Array\get_addnpclist ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'addnpc\'));
		return $anpcinfo;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/addnpc/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\'));
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		if (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) 
		{
			if ($itm == \'挑战者之印\') {
				if (in_array($gametype,$pve_ignore_mode))
				{
					$log.="你使用了{$itm}，但是什么也没有发生（当前游戏模式下不允许PVE）。<br>";
					return;
				}
				$log .= \'你已经呼唤了幻影执行官，现在寻找并击败他们，<br>并且搜寻他们的ID卡吧！<br>\';
				addnpc ( 7, 0,1);
				addnpc ( 7, 1,1);
				addnpc ( 7, 2,1);
				addnews ($now , \'secphase\', $name);
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
				return;
			} elseif ($itm == \'破灭之诗\') {
				if (in_array($gametype,$pve_ignore_mode))
				{
					$log.="你使用了{$itm}，但是什么也没有发生（当前游戏模式下不允许PVE）。<br>";
					return;
				}
				$rp = 0;
				$log .= \'在你唱出那单一的旋律的霎那，<br>整个虚拟世界起了翻天覆地的变化……<br>\';
				addnpc ( 4, 0,1);
				eval(import_module(\'weather\'));
				$log .= \'世界响应着这旋律，产生了异变……<br>\';
				\\weather\\wthchange( $itm,$itmsk);
				addnews ($now , \'thiphase\', $name);
				$hack = 1;
				$log .= \'因为破灭之歌的作用，全部锁定被打破了！<br>\';
				
				addnews($now,\'hack2\',$name);
				save_gameinfo();
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
				return;
			} elseif ($itm == \'黑色碎片\') {
				if (in_array($gametype,$pve_ignore_mode))
				{
					$log.="你使用了{$itm}，但是什么也没有发生（当前游戏模式下不允许PVE）。<br>";
					return;
				}
				$log .= \'你已经呼唤了一个未知的存在，现在寻找并击败她，<br>并且搜寻她的游戏解除钥匙吧！<br>\';
				addnews ($now , \'dfphase\', $name);
				addnpc ( 12, 0,1);
				
				$itm = $itmk = $itmsk = \'\';
				$itme = $itms = 0;
				return;
			}
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/addnpc/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'addnpc\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}乱入战场！</span></li>";
		if($news == \'addnpcs\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$b}名{$a}加入战斗！</span></li>";
		if($news == \'secphase\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了挑战者之证，让3名幻影执行官加入了战场！打倒他们去获得ID卡来解除游戏吧！</span></li>";
		if($news == \'thiphase\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}触发了对虚拟现实的救济！虚拟意识已经在■■■■活性化！</span></li>";
		if($news == \'dfphase\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}使用了黑色碎片，让1名未知存在加入了战场！打倒她去获得ID卡来解除游戏吧！</span></li>";
		if($news == \'hack2\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"yellow\\">{$a}启动了救济程序，全部禁区解除！</span></li>";
		if($news == \'dfsecphase\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">{$a}闯了大祸，打破了Dark Force的封印！</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/addnpc/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL50_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[50] = \'枭眼\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill50/main.php',
)

Array\acquire50 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill50/main.php',
)

Array\lost50 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill50/main.php',
)

Array\check_unlocked50 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=9;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill50/main.php',
)

Array\check_skill50_proc ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r1 = \\weapon\\get_weapon_range($pa, $active);
		$r2 = \\weapon\\get_weapon_range($pd, 1-$active);
		if ($r1 >= $r2 && $r1 != 0 && $r2 != 0)
			return 1;
		else  return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill50/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(50,$pd) || !check_unlocked50($pd)) return $chprocess($pa, $pd, $active);
		if (!check_skill50_proc($pd, $pa, 1-$active)) return $chprocess($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)*0.88;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill50/main.php',
)

Array\get_rapid_accuracy_loss ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(50,$pd) || !check_unlocked50($pd)) return $chprocess($pa, $pd, $active);
		if (!check_skill50_proc($pd, $pa, 1-$active)) return $chprocess($pa, $pd, $active);
		return $chprocess($pa, $pd, $active)*0.92;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill50/main.php',
)

Array\calculate_active_obbs_multiplier ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = 1;
		if (\\skillbase\\skill_query(50,$ldata) && check_unlocked50($ldata) && check_skill50_proc($ldata, $edata, 1)) $r*=1.1;
		if (\\skillbase\\skill_query(50,$edata) && check_unlocked50($edata) && check_skill50_proc($edata, $ldata, 0)) $r/=1.1;
		return $chprocess($ldata,$edata)*$r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill50/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL245_INFO\',\'club;locked;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[245] = \'钦定\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill245/main.php',
)

Array\acquire245 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill245/main.php',
)

Array\lost245 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill245/main.php',
)

Array\check_unlocked245 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill245/main.php',
)

Array\calculate_weather_itemfind_obbs ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(245)) return abs($chprocess()); else return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill245/main.php',
)

Array\calculate_weather_meetman_obbs ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(245)) return abs($chprocess($edata)); else return $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill245/main.php',
)

Array\calculate_weather_active_obbs ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(245,$ldata)) return abs($chprocess($ldata,$edata)); else return $chprocess($ldata,$edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill245/main.php',
)

Array\calculate_weather_attack_modifier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(245,$pa)) return abs($chprocess($pa,$pd,$active)); else return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill245/main.php',
)

Array\calculate_weather_defend_modifier ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(245,$pd)) return abs($chprocess($pa,$pd,$active)); else return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill245/main.php',
)

Array\deal_hailstorm_weather_damage ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(245)) return $chprocess();
		eval(import_module(\'sys\',\'player\',\'logger\'));
		$heal = \\weather\\calculate_hailstorm_weather_damage();
		$hpup = min($heal, $mhp-$hp); $hpup = max($hpup, 0);
		$hp+=$hpup;
		$log .= "你被<span class=\\"blue\\">冰雹</span>击中了，但是你不仅没有受到伤害，还回复了<span class=\\"lime\\">$heal</span>点生命！<br>";
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill245/main.php',
)

Array\apply_tornado_weather_effect ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(245)) return $chprocess();
		eval(import_module(\'logger\'));
		$log .= "<span class=\\"lime\\">即使强烈的龙卷风已经把目力所及的一切都搅的一片狼藉，你竟没有受到任何影响便到达了目的地。</span><br>";
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill245/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL252_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[252] = \'天眼\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill252/main.php',
)

Array\acquire252 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill252/main.php',
)

Array\lost252 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill252/main.php',
)

Array\check_unlocked252 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=7;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill252/main.php',
)

Array\apply_fog_meetenemy_effect ====> array (
  'vars' => '$ismeet',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(252)) return;
		return $chprocess($ismeet);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill252/main.php',
)

Array\apply_sk252_effect ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'metman\'));
		if($w_hp <= 0) {
			$tdata[\'hpstate\'] = "<span class=\\"red\\">$hpinfo[3]</span>";
			$tdata[\'spstate\'] = "<span class=\\"red\\">$spinfo[3]</span>";
			$tdata[\'ragestate\'] = "<span class=\\"red\\">$rageinfo[3]</span>";
			$tdata[\'isdead\'] = true;
		} else{
			if($w_hp < $w_mhp*0.2) {
				$tdata[\'hpstate\'] = "<span class=\\"red\\">$w_hp / $w_mhp</span>";
			} elseif($w_hp < $w_mhp*0.5) {
				$tdata[\'hpstate\'] = "<span class=\\"yellow\\">$w_hp / $w_mhp</span>";
			} else {
				$tdata[\'hpstate\'] = "<span class=\\"clan\\">$w_hp / $w_mhp</span>";
			}
			$tdata[\'spstate\'] = "$w_sp / $w_msp";
			if($w_rage >= 100) {
				$tdata[\'ragestate\'] = "<span class=\\"red\\">$w_rage</span>";
			} elseif($w_rage >= 30) {
				$tdata[\'ragestate\'] = "<span class=\\"yellow\\">$w_rage</span>";
			} else {
				$tdata[\'ragestate\'] = $w_rage;
			}
		}
		$tdata[\'wepestate\'] = $w_wepe;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill252/main.php',
)

Array\init_battle ====> array (
  'vars' => '$ismeet',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		$chprocess($ismeet);
		if (\\skillbase\\skill_query(252) && check_unlocked252($sdata)) apply_sk252_effect();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill252/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/main/main.php',
)

Array\prepare_new_game ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $chprocess();
		
		eval(import_module(\'sys\'));
		if (room_check_subroom($room_prefix)) return $chprocess();
		list($sec,$min,$hour,$day,$month,$year,$wday) = explode(\',\',date("s,i,H,j,n,Y,w",$now));
		$tg=$gamenum-3;
		$res=$db->query("SELECT gametype FROM {$gtablepre}winners WHERE gid=\'$tg\'");
		$gt=2;
		if ($db->num_rows($res)){
			$zz=$db->fetch_array($res); $gt=$zz[\'gametype\'];
		}
		if ($wday==5){
			if (($hour>=19)&&($hour<21)&&($gt!=2)){ 
				$gametype=2;
			}else{
				$gametype=0;
			}
		}
 		if ($disable_event) $gametype=0; 
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/main/main.php',
)

Array\check_player_discover ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if ($edata[\'type\']==0 && $edata[\'hp\']<=0 && $gametype == 2) return 0;	
		return $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/main/main.php',
)

Array\checkcombo ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\',\'gameflow_combo\'));
		if (($gametype==2)&&($areanum<$areaadd*2)&&($alivenum>0)){
			return;
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/main/main.php',
)

Array\rs_game ====> array (
  'vars' => '$xmode = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($xmode);
		
		eval(import_module(\'sys\'));
		if (($gametype==2)&&($xmode & 2)) 
		{
			$weather = 1;
			
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/main/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$itm=&$theitem[\'itm\']; $itmk=&$theitem[\'itmk\'];
		$itme=&$theitem[\'itme\']; $itms=&$theitem[\'itms\']; $itmsk=&$theitem[\'itmsk\'];
		
		eval(import_module(\'sys\'));
		if (strpos ( $itmk, \'Y\' ) === 0 || strpos ( $itmk, \'Z\' ) === 0) {
			if ($itm == \'装有H173的注射器\' && $gametype==2) {
				eval(import_module(\'logger\'));
				$log .= \'你把注射器的包装撕开，却发现没有针头。“妈的智障”，你念叨着，把注射器随手扔掉了。<br>\';
				\\itemmain\\itms_reduce($theitem);
				return;
			}
		}
		$chprocess($theitem);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/main/main.php',
)

Array\check_initnpcadd ====> array (
  'vars' => '$typ',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\'));
		if ($gametype==2) return !in_array($typ,Array(1,9,14,20,21,22,88));
		return $chprocess($typ);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/main/main.php',
)

Array\get_shoplist ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE; 
		eval(import_module(\'sys\'));
		if ($gametype==2){
			$file = __DIR__.\'/config/shopitem.config.php\';
			$sl5 = openfile($file);
			return $sl5;
		}else return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/main/main.php',
)

Array\post_enterbattlefield_events ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if ($gametype==2) 
		{
			\\skillbase\\skill_acquire(475,$pa);
			\\skillbase\\skill_acquire(235,$pa);
			\\skillbase\\skill_setvalue(235,\'lvl\',\'1\',$pa);
			$pa[\'itm6\']=\'任务指令书B\';
			$pa[\'itmk6\']=\'Y\';
			$pa[\'itme6\']=\'1\';
			$pa[\'itms6\']=\'1\';
			$pa[\'itmsk6\']=\'\';
		}
		return $chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/main/main.php',
)

Array\check_addarea_gameover ====> array (
  'vars' => '$atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\'));
		if ($gametype==2){
			if($alivenum <= 0){
				\\sys\\gameover($atime,\'end1\');
				return;
			}
			if ($areanum>=($areaadd*2)){
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE type=0 ORDER BY pid DESC");
				$ml=-1;
				$winner=\'\';
				$wl=array();
				$wc=0;
				while($pt = $db->fetch_array($result)) {
					$pa=\\player\\fetch_playerdata_by_pid($pt[\'pid\']);
					$cl=(int)\\skillbase\\skill_getvalue(475,\'wpt\',$pa);
					
					if ($cl>$ml){
						$ml=$cl;
						$winner=$pa[\'name\'];
					}
					$wc++;
					$wl[$wc][\'n\']=$pa[\'name\'];
					$wl[$wc][\'p\']=$pa[\'pid\'];
					$wl[$wc][\'c\']=$cl;
				}
				
				for ($i=1;$i<$wc;$i++){
					for ($j=$i+1;$j<=$wc;$j++){
						if (($wl[$i][\'c\']<$wl[$j][\'c\'])||($wl[$i][\'c\']==$wl[$j][\'c\'])&&($wl[$i][\'p\']<$wl[$j][\'p\'])){
							$tt=$wl[$i];
							$wl[$i]=$wl[$j];
							$wl[$j]=$tt;
						}
					}
				}
				$rk=0; 
				$max_announce_num = 3;	
				$bestlist = Array();	
				
				for ($rk=1;$rk<=$wc;$rk++){
					
					$kk=$wl[$rk][\'n\'];
					$v=$wl[$rk][\'c\'];
					$k=\\player\\fetch_playerdata($kk);
					if ($rk==1){
						\\cardbase\\get_card(151,$k);
						\\cardbase\\get_card(152,$k);
						\\cardbase\\get_qiegao(1200,$k);
					}
					$qiegaogain = Array(2=>1000,3=>800,4=>700,5=>550);
					if (2<=$rk && $rk<=5){
						\\cardbase\\get_card(152,$k);
						\\cardbase\\get_qiegao($qiegaogain[$rk],$k);
					}
					if (6<=$rk && $rk<=10){
						\\cardbase\\get_qiegao(400,$k);
					}
					if ($rk<=$max_announce_num){
						$bestlist[$rk] = Array(0=>$kk, 1=>$v);
					}		
				}
				
				for ($i=$max_announce_num; $i>=1; $i--) 
					if (isset($bestlist[$i]))
						addnews(0,\'g2announce\',$i,$bestlist[$i][0],$bestlist[$i][1]);
						
				\\sys\\gameover($atime,\'end8\',$winner);
				return;
			}
			\\sys\\rs_game(16+32);
			return;
		}
		$chprocess($atime);	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/main/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'g2announce\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"lime\\">本次游戏第<span class=\\"yellow\\">{$a}</span>名是获得了<span class=\\"yellow\\">{$c}</span>点胜利点数的<span class=\\"yellow\\">{$b}</span>。</span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype2/main/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype3/main/main.php',
)

Array\prepare_new_game ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		
		return $chprocess();
		
		if (room_check_subroom($room_prefix)) return $chprocess();
		list($sec,$min,$hour,$day,$month,$year,$wday) = explode(\',\',date("s,i,H,j,n,Y,w",$now));
		$tg=$gamenum-4;
		$res=$db->query("SELECT gametype FROM {$gtablepre}winners WHERE gid=\'$tg\'");
		$gt=3;
		if ($db->num_rows($res)){
			$zz=$db->fetch_array($res); $gt=$zz[\'gametype\'];
		}
		if ($wday==0){
 			if (($hour>=20)&&($hour<23)&&($gt!=3)){ 
 				$gametype=3;
 			}else{
 				$gametype=0;
 			}
 		}
 		if ($disable_event) $gametype=0; 
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype3/main/main.php',
)

Array\check_addarea_gameover ====> array (
  'vars' => '$atime',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'map\'));
		if ($gametype==3){
			if($alivenum <= 0){
				\\sys\\gameover($atime,\'end1\');
				return;
			}
			if ($areanum>=($areaadd*2)){
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE hp>0 AND type=0 ORDER BY killnum DESC LIMIT 1");
				$wdata = $db->fetch_array($result);
				$winner = $wdata[\'name\'];
				\\sys\\gameover($atime,\'end8\',$winner);
				return;
			}
			\\sys\\rs_game(16+32);
			return;
		}
		$chprocess($atime);	
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype3/main/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL206_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[206] = \'爆头\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill206/main.php',
)

Array\acquire206 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill206/main.php',
)

Array\lost206 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill206/main.php',
)

Array\get_gunner_skillpoint_need ====> array (
  'vars' => '$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$spcnt=0;
		if (\\skillbase\\skill_query(201,$pa)){
			eval(import_module(\'skill201\'));
			$spcnt+=\\skillbase\\skill_getvalue(201,\'spent\',$pa);
		}
		if (\\skillbase\\skill_query(202,$pa)){
			eval(import_module(\'skill202\'));
			$spcnt+=\\skillbase\\skill_getvalue(202,\'spent\',$pa);
		}
		return (15-$spcnt);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill206/main.php',
)

Array\check_unlocked206 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return (get_gunner_skillpoint_need($pa)<=0);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill206/main.php',
)

Array\apply_total_damage_modifier_up ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(206,$pa) || !check_unlocked206($pa)) return $chprocess($pa,$pd,$active);
		$chprocess($pa,$pd,$active);
		if ((($pd[\'hp\']*0.85)<$pa[\'dmg_dealt\'])&&($pd[\'hp\']>$pa[\'dmg_dealt\'])&&($pa[\'wep_kind\']==\'G\')){
			$pa[\'dmg_dealt\']=$pd[\'hp\'];
			eval(import_module(\'logger\'));
			if ($active) $log .= "<span class=\\"red\\">你的攻击直接将敌人爆头！</span><br>";
			else $log .= "<span class=\\"red\\">敌人的攻击直接将你爆头！</span><br>";
		}
		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill206/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/miracletrap/main.php',
)

Array\trapcheck ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		$trapresult = $db->query("SELECT * FROM {$tablepre}maptrap WHERE pls = \'$pls\' ORDER BY itmk DESC");
		$xtrp = $db->fetch_array($trapresult);
		if($xtrp[\'itmk\'] == \'TOc\') { \\trap\\trapget($xtrp); return 1; }
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/miracletrap/main.php',
)

Array\trap ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'player\'));
		if ($itmk0 == \'TOc\') { \\trap\\trap_hit(); return; }
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/miracletrap/main.php',
)

Array\get_trap_damage ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'player\'));
		if ($itmk0 == \'TOc\') return 999983;
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/miracletrap/main.php',
)

Array\check_trapdef_proc ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'player\'));
		if ($itmk0 == \'TOc\') return 0;
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/base/items/miracletrap/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL243_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[243] = \'证伪\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill243/main.php',
)

Array\acquire243 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(243,\'l\',\'\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill243/main.php',
)

Array\lost243 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(243,\'l\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill243/main.php',
)

Array\check_unlocked243 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=12;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill243/main.php',
)

Array\get_ex_phy_def_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(243,$pa) || !check_unlocked243($pa)) return $chprocess($pa,$pd,$active);
		eval(import_module(\'ex_phy_def\'));
		$s=\\skillbase\\skill_getvalue(243,\'l\',$pa);
		if (strpos($s,$def_kind[$pa[\'wep_kind\']])===false) return $chprocess($pa,$pd,$active);
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill243/main.php',
)

Array\check_ex_phy_def_proc ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(243,$pa) || !check_unlocked243($pa)) return $chprocess($pa,$pd,$active); 
		$z=$chprocess($pa, $pd, $active);
		if (!$z)	
		{
			eval(import_module(\'ex_phy_def\'));
			$s=\\skillbase\\skill_getvalue(243,\'l\',$pa);
			if (strpos($s,$def_kind[$pa[\'wep_kind\']])===false)
			{
				$s.=$def_kind[$pa[\'wep_kind\']];
				\\skillbase\\skill_setvalue(243,\'l\',$s,$pa);
			}
		}
		return $z;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill243/main.php',
)

Array\get_ex_dmg_def_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(243,$pa) || !check_unlocked243($pa)) return $chprocess($pa,$pd,$active,$key);
		eval(import_module(\'ex_dmg_def\'));
		$s=\\skillbase\\skill_getvalue(243,\'l\',$pa);
		if (strpos($s,$def_kind[$key])===false) return $chprocess($pa,$pd,$active,$key);
		return 0;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill243/main.php',
)

Array\check_ex_dmg_def_proc ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(243,$pa) || !check_unlocked243($pa)) return $chprocess($pa,$pd,$active,$key); 
		$z=$chprocess($pa, $pd, $active, $key);
		if (!$z)	
		{
			eval(import_module(\'ex_dmg_def\'));
			$s=\\skillbase\\skill_getvalue(243,\'l\',$pa);
			if (strpos($s,$def_kind[$key])===false)
			{
				$s.=$def_kind[$key];
				\\skillbase\\skill_setvalue(243,\'l\',$s,$pa);
			}
		}
		return $z;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill243/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL34_INFO\',\'club;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[34] = \'百战\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill34/main.php',
)

Array\acquire34 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(34,\'choice\',\'\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill34/main.php',
)

Array\lost34 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(34,\'choice\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill34/main.php',
)

Array\get_unlock34_progress ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$sum = 0;
		eval(import_module(\'skill32\'));
		$clv = (int)\\skillbase\\skill_getvalue(32,\'lvl\',$pa);
		for ($i=0; $i<$clv; $i++) $sum+=$upgradecost[$i];
		eval(import_module(\'skill35\'));
		$clv = (int)\\skillbase\\skill_getvalue(35,\'lvl\',$pa);
		for ($i=0; $i<$clv; $i++) $sum+=$upgradecost[$i];
		return $sum;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill34/main.php',
)

Array\check_unlocked34 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		return $pa[\'lvl\']>=18;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill34/main.php',
)

Array\get_avaliable_attr ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'ex_phy_def\'));
		$arr = array_values($def_kind);
		eval(import_module(\'ex_dmg_def\'));
		$arr = array_merge($arr,array_values($def_kind));
		$arr = array_unique($arr);
		return $arr;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill34/main.php',
)

Array\upgrade34 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(34) || !check_unlocked34($sdata))
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}
		eval(import_module(\'input\'));
		$val = $skillpara1;
		if (!in_array($val,get_avaliable_attr()))
		{
			$log .= \'参数不合法。<br>\';
			return;
		}
		\\skillbase\\skill_setvalue(34,\'choice\',$val);
		$log.=\'设置成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill34/main.php',
)

Array\get_ex_def_array ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(34,$pd) || !check_unlocked34($pd)) return $chprocess($pa, $pd, $active);
		$choice = \\skillbase\\skill_getvalue(34,\'choice\',$pd);
		$ret = $chprocess($pa, $pd, $active);
		if ($choice!=\'\') array_push($ret,$choice);
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill34/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL208_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[208] = \'强袭\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill208/main.php',
)

Array\acquire208 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill208/main.php',
)

Array\lost208 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill208/main.php',
)

Array\check_unlocked208 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=15;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill208/main.php',
)

Array\get_rage_cost208 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill208\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill208/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=208) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(208,$pa) || !check_unlocked208($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost208($pa);
			if (($pa[\'rage\']>=$rcost)&&($pa[\'wep_kind\']=="K"))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「强袭」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「强袭」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill208\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill208/main.php',
)

Array\check_physical_def_attr ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=208) return $chprocess($pa, $pd, $active);
		return Array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill208/main.php',
)

Array\check_ex_single_dmg_def_attr ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=208) return $chprocess($pa, $pd, $active,$key);
		return 1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill208/main.php',
)

Array\get_final_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r=Array();
		if ($pa[\'bskill\']==208) 
		{
			eval(import_module(\'logger\'));
			if ($pa[\'card\']==5){
				if ($active)
					$log.=\'<span class="yellow">「强袭」使你造成的最终伤害提高了100%！</span><br>\';
				else  $log.=\'<span class="yellow">「强袭」使敌人造成的最终伤害提高了100%！</span><br>\';
				$r=Array(2);
			}else{
				if ($active)
					$log.=\'<span class="yellow">「强袭」使你造成的最终伤害提高了40%！</span><br>\';
				else  $log.=\'<span class="yellow">「强袭」使敌人造成的最终伤害提高了40%！</span><br>\';
				$r=Array(1.4);
			}
		}
		return array_merge($r,$chprocess($pa,$pd,$active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill208/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill208\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「强袭」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill208/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL215_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[215] = \'高能\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill215/main.php',
)

Array\acquire215 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill215/main.php',
)

Array\lost215 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill215/main.php',
)

Array\check_unlocked215 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=6;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill215/main.php',
)

Array\get_rage_cost215 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill215\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill215/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=215) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(215,$pa) || !check_unlocked215($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost215($pa);
			if (($pa[\'rage\']>=$rcost)&&($pa[\'wep_kind\']=="D"))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「高能」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「高能」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill215\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill215/main.php',
)

Array\calculate_ex_attack_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']==215) 
		{
			$ex_att_array = \\attrbase\\get_ex_attack_array($pa, $pd, $active);
			if (in_array(\'d\', $ex_att_array))
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.=\'<span class="yellow">「高能」使你造成的爆炸伤害不受影响！</span><br>\';
				else  $log.=\'<span class="yellow">「高能」使敌人造成的爆炸伤害不受影响！</span><br>\';
			}
		}
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill215/main.php',
)

Array\calculate_ex_single_dmg_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (($key==\'d\')&&($pa[\'bskill\']==215)) 
		{
			return 1;
		}
		return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill215/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill215\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「高能」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill215/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL26_INFO\',\'club;battle;upgrade;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[26] = \'聚能\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\acquire26 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(26,\'lvl\',\'1\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\lost26 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_delvalue(26,\'lvl\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\check_unlocked26 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=3;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\get_rage_cost26 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill26\'));
		return $ragecost[\\skillbase\\skill_getvalue(26,\'lvl\',$pa)];
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\check_ex_inf_infliction ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=26) return $chprocess($pa, $pd, $active,$key);
		if ($pa[\'skill26_flag3\']==1) return;
		$chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\calculate_ex_inf_multiple ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=26) return $chprocess($pa, $pd, $active, $key);
		$attack_type = \'u\';
		if (\\skillbase\\skill_getvalue(26,\'lvl\',$pa)==2) $attack_type = \'f\';
		if ($pa[\'skill26_flag3\']==1) return $chprocess($pa, $pd, $active, $attack_type);
		return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\check_ex_single_dmg_def_attr ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=26) return $chprocess($pa, $pd, $active, $key);
		$attack_type = \'u\';
		if (\\skillbase\\skill_getvalue(26,\'lvl\',$pa)==2) $attack_type = \'f\';
		if ($pa[\'skill26_flag3\']==1) return $chprocess($pa, $pd, $active, $attack_type);
		return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\get_ex_attack_array ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=26) return $chprocess($pa, $pd, $active);
		if ($pa[\'skill26_flag2\']==1) 
		{
			$ret = $chprocess($pa, $pd, $active); array_push($ret,\'u\');
			return $ret;
		}
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\check_ex_dmg_nullify ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=26) return $chprocess($pa, $pd, $active);
		if ($pa[\'skill26_flag1\']==2) return $pd[\'exdmg_nullify_success\'];
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\calculate_physical_dmg ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=26) return $chprocess($pa, $pd, $active);
		
		eval(import_module(\'logger\',\'itemmain\'));
		$attack_type = \'u\';
		if (\\skillbase\\skill_getvalue(26,\'lvl\',$pa)==2) $attack_type = \'f\';	
		$log .= \'在技能的作用下，伤害全部转化为了<span class="red">\'.$itemspkinfo[$attack_type].\'</span>伤害！<br>\';
		
		
		
		
		$r = \\wep_f\\get_WF_dmg_multiplier($pa, $pd, $active);
		$r = array_merge($r,\\ex_rapid_attr\\get_rapid_dmg_multiplier($pa, $pd, $active));
		
		
		$flag=check_ex_dmg_nullify($pa, $pd, $active);
		
		$pa[\'skill26_flag1\'] = 2;	
		$pa[\'skill26_flag2\'] = 2;	
		
		if ($flag)
		{
			$log .= "<span class=\\"red\\">属性攻击的力量完全被防具吸收了！</span>只造成了<span class=\\"red\\">".round($zdmg)."</span>点伤害！<br>";
			$pa[\'physical_dmg_dealt\'] += $pa[\'ex_dmg_dealt\'];
			$pa[\'dmg_dealt\'] += $pa[\'ex_dmg_dealt\'];
			$pa[\'ex_dmg_dealt\'] = 0;
			return;
		}
		
		$multiple = \\ex_dmg_att\\calculate_ex_single_dmg_multiple($pa, $pd, $active, $attack_type);
		$dmg = \\weapon\\get_physical_dmg($pa, $pd, $active);
		$dmg *= $multiple; $dmg = round($dmg); if ($dmg<1) $dmg = 1;
		eval(import_module(\'ex_dmg_att\'));
		
		$fin_dmg = $dmg; $mult_words=\'\';
		foreach ($r as $key)
		{
			$fin_dmg=$fin_dmg*$key;
			$mult_words.="×{$key}";
		}
		$fin_dmg=round($fin_dmg);
		if ($fin_dmg < 1) $fin_dmg = 1;

		if ($mult_words==\'\')
		{
			$log.="武器攻击造成了<span class=\\"red\\">{$dmg}</span>点".$itemspkinfo[$attack_type]."伤害！<br>";
		}
		else
		{
			$tdmg = round($dmg * $zdmg);
			$log.="武器攻击造成了{$dmg}{$mult_words}＝<span class=\\"red\\">{$fin_dmg}</span>点".$itemspkinfo[$attack_type]."伤害！<br>";
			$dmg = $tdmg;
		}
		$pa[\'physical_dmg_dealt\'] += $fin_dmg;
		$pa[\'dmg_dealt\'] += $fin_dmg;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=26) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(26,$pa) || !check_unlocked26($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost26($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「聚能」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「聚能」！</span><br>";
				$pa[\'rage\']-=$rcost;
				$pa[\'skill26_flag1\']=1;
				$pa[\'skill26_flag2\']=1;
				$pa[\'skill26_flag3\']=1;
				$pa[\'skill26_flag4\']=1;
				addnews ( 0, \'bskill26\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=26) return $chprocess($pa, $pd, $active);
		if ($pa[\'is_hit\'])
		{
			
			$pa[\'skill26_flag3\']=2;
			$attack_type = \'u\';
			if (\\skillbase\\skill_getvalue(26,\'lvl\',$pa)==2) $attack_type = \'f\';	
			\\ex_dmg_att\\check_ex_inf_infliction($pa, $pd, $active, $attack_type);
		}
		unset($pa[\'skill26_flag1\']);
		unset($pa[\'skill26_flag2\']);
		unset($pa[\'skill26_flag3\']);
		unset($pa[\'skill26_flag4\']);
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\upgrade26 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill26\',\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(26))
		{
			$log.=\'你没有这个技能！<br>\';
			return;
		}
		$clv = \\skillbase\\skill_getvalue(26,\'lvl\');
		if ($clv == 2)
		{
			$log.=\'你已经升级完成了，不能继续升级！<br>\';
			return;
		}
		if ($skillpoint<$upgradecost) 
		{
			$log.=\'技能点不足。<br>\';
			return;
		}
		$skillpoint-=$upgradecost; \\skillbase\\skill_setvalue(26,\'lvl\',2);
		$log.=\'升级成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill26\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「聚能」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill26/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL51_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[51] = \'百出\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill51/main.php',
)

Array\acquire51 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill51/main.php',
)

Array\lost51 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill51/main.php',
)

Array\get_skill48_maxbuff ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(48,$pa)) return 0;
		eval(import_module(\'skill48\'));
		$maxx=0;
		foreach ($skill48_ex_kind_list as $key => $value)
		{
			$x=\\skillbase\\skill_getvalue(48,$key,$pa);
			if ($x>$maxx) $maxx=$x;
		}
		return $maxx;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill51/main.php',
)

Array\check_unlocked51 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return get_skill48_maxbuff($pa)>=120;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill51/main.php',
)

Array\get_skill51_multiplier ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$z=(int)\\skillbase\\skill_getvalue(48,\'tot\',$pa); 
		$z*=2;
		return $z;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill51/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (!\\skillbase\\skill_query(51,$pa) || !check_unlocked51($pa)) return $chprocess($pa, $pd, $active);
		if (substr($pa[\'wepk\'],0,2)!=\'WC\') return $chprocess($pa, $pd, $active);
		eval(import_module(\'logger\'));
		$z=get_skill51_multiplier($pa);
		$r=Array((100+$z)/100);
		if ($active)
			$log.=\'<span class="yellow">你打得敌人落花流水，物理伤害增加了\'.$z.\'%！</span><br>\';
		else  $log.=\'<span class="yellow">敌人打得你落花流水，物理伤害增加了\'.$z.\'%！</span><br>\';
		return array_merge($r,$chprocess($pa, $pd, $active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill51/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'l\'] = \'热恋\';
		$itemspkinfo[\'g\'] = \'同志\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_gender_attr/main.php',
)

Array\get_gender_bewitch_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		return 20;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_gender_attr/main.php',
)

Array\get_gender_enrage_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		return 20;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_gender_attr/main.php',
)

Array\check_gender_proc ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		$ex_att_array = \\attrbase\\get_ex_attack_array($pa, $pd, $active);
		
		if (!in_array(\'l\',$ex_att_array) && !in_array(\'g\',$ex_att_array)) return Array();
		
		if ($pa[\'gd\'] === 0 || $pd[\'gd\'] === 0) return Array(); 
		
		if (in_array(\'l\',$ex_att_array)) $ty = 1; else $ty = 0;
		if (($ty==1 && $pa[\'gd\']!=$pd[\'gd\']) || ($ty == 0 && $pa[\'gd\']==$pd[\'gd\']))
		{
			
			$proc_rate = get_gender_bewitch_proc_rate($pa, $pd, $active);
			$dice = rand(0,99);
			if ($dice < $proc_rate)
			{
				
				if ($active)
					$log .= "<span class=\\"red\\">你被{$pd[\'name\']}迷惑，无法全力攻击！</span><br>";
				else  $log .= "<span class=\\"red\\">{$pa[\'name\']}被你迷惑，无法全力攻击！</span><br>";
				$pd[\'physical_nullify_success\'] = 1;
			}
		}
		else
		{
			
			$proc_rate = get_gender_enrage_proc_rate($pa, $pd, $active);
			$dice = rand(0,99);
			if ($dice < $proc_rate)
			{
				
				if ($active)
					$log .= "<span class=\\"red\\">你被{$pd[\'name\']}激怒，伤害加倍！</span><br>";
				else  $log .= "<span class=\\"red\\">{$pa[\'name\']}被你激怒，伤害加倍！</span><br>";
				return Array(2);
			}
		}
		return Array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_gender_attr/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$r = check_gender_proc($pa, $pd, $active);
		return array_merge($r, $chprocess($pa, $pd, $active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_gender_attr/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'itemmain\'));
		$itemspkinfo[\'n\'] = \'贯穿\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_pierce/main.php',
)

Array\get_ex_pierce_proc_rate ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return 30;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_pierce/main.php',
)

Array\check_pierce_proc ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		$ex_att_array = \\attrbase\\get_ex_attack_array($pa, $pd, $active);
		if (in_array(\'n\', $ex_att_array))
		{
			$proc_rate = get_ex_pierce_proc_rate($pa, $pd, $active);
			$dice = rand(0,99);
			if ($dice<$proc_rate)
			{
				if ($active)
					$log .= "<span class=\\"yellow\\">你的攻击贯穿了{$pd[\'name\']}的防具！</span><br>";
				else  $log .= "<span class=\\"yellow\\">{$pa[\'name\']}的攻击贯穿了你的防具！</span><br>";
				$pa[\'physical_pierce_success\'] = 1;
			}
		}
		return Array();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_pierce/main.php',
)

Array\check_physical_def_attr ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		if ($pa[\'physical_pierce_success\']) return Array();
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_pierce/main.php',
)

Array\check_physical_nullify ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		if ($pa[\'physical_pierce_success\']) return array();
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_pierce/main.php',
)

Array\get_physical_dmg_multiplier ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return array_merge(check_pierce_proc($pa, $pd, $active), $chprocess($pa, $pd, $active));
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_pierce/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		$pa[\'physical_pierce_success\'] = 0;
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/attr/ex_attr_pierce/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL43_INFO\',\'club;upgrade;limited;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[43] = \'龙胆\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill43/main.php',
)

Array\acquire43 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill43/main.php',
)

Array\lost43 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill43/main.php',
)

Array\check_unlocked43 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return ($pa[\'lvl\']>=3);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill43/main.php',
)

Array\upgrade43 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\'));
		if (!\\skillbase\\skill_query(43) || !check_unlocked43($sdata))
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}
		eval(import_module(\'input\'));
		$val = (int)$skillpara1;
		if ($val!=1 && $val!=2)
		{
			$log.=\'参数不合法。<br>\';
			return;
		}
		if ($val==1)
		{
			if (!\\skillbase\\skill_query(41)) \\skillbase\\skill_acquire(41);
			\\skill41\\unlock41($sdata);
		}
		else
		{
			if (!\\skillbase\\skill_query(42)) \\skillbase\\skill_acquire(42);
			\\skill42\\unlock42($sdata);
		}
		\\skillbase\\skill_lost(43);
		$log.=\'选择成功。<br>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill43/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL56_INFO\',\'club;upgrade;active;limited;\');
		global $skill56_npc;
		eval(import_module(\'player\',\'addnpc\',\'npc\'));
		$typeinfo[25]=\'佣兵\';
		$npcinfo[25]=$skill56_npc;
		$anpcinfo[25]=$skill56_npc;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill56/main.php',
)

Array\acquire56 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		global $skill56_lim;
		
		\\skillbase\\skill_setvalue(56,\'t\',\'0\',$pa);
		for ($i=1; $i<=$skill56_lim; $i++)
		{
			
			\\skillbase\\skill_setvalue(56,\'p\'.$i,\'0\',$pa);
			
			\\skillbase\\skill_setvalue(56,\'l\'.$i,\'0\',$pa);
			
			\\skillbase\\skill_setvalue(56,\'s\'.$i,\'0\',$pa);
			
			\\skillbase\\skill_setvalue(56,\'h\'.$i,\'0\',$pa);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill56/main.php',
)

Array\lost56 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'skill56\',\'sys\',\'player\'));
		$x=(int)\\skillbase\\skill_getvalue(56,\'t\');
		for ($i=1; $i<=$x; $i++)
		{
			$is_hired=(int)\\skillbase\\skill_getvalue(56,\'h\'.$i);
			if ($is_hired==1)
			{
				$spid = (int)\\skillbase\\skill_getvalue(56,\'p\'.$i);
				$ty=(int)\\skillbase\\skill_getvalue(56,\'s\'.$i);
				if ($spid>0)
				{
					$employee=\\player\\fetch_playerdata_by_pid($spid);
					if ($employee[\'hp\']>0)
					{
						$lastsal=(int)\\skillbase\\skill_getvalue(56,\'l\'.$i);
						if ($now-$lastsal>=60)
						{
							
							$employee[\'money\']+=$money;
							$money=0;
						}
						if ($skill56_npc[\'sub\'][$ty][\'mercfireaction\']==1)
						{
							$employee[\'pls\']=999;
						}
						\\skillbase\\skill_setvalue(56,\'h\'.$i,0);
						\\player\\player_save($employee);
					}
				}
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill56/main.php',
)

Array\check_unlocked56 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=15;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill56/main.php',
)

Array\skill56_summon_npc ====> array (
  'vars' => '$nkind',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill56\',\'map\',\'sys\',\'player\',\'logger\',\'input\'));
		$log.=\'你召唤出了佣兵<span class="yellow">\'.$skill56_npc[\'sub\'][$nkind][\'name\'].\'</span>来保护你！<br>\';
		$x=(int)\\skillbase\\skill_getvalue(56,\'t\');
		$spids = \\addnpc\\addnpc(25,$nkind,1);
		if ($spids==-1)
		{
			$log.=\'出现了一个BUG，请联系管理员。抱歉。<br>\';
			return;
		}
		$spid = $spids[0];
		
		$db->query("UPDATE {$tablepre}players SET pls=\'$pls\' WHERE pid=\'$spid\'");
		\\skillbase\\skill_setvalue(56,\'p\'.$x,$spid);
		\\skillbase\\skill_setvalue(56,\'l\'.$x,$now);
		\\skillbase\\skill_setvalue(56,\'s\'.$x,$nkind);
		\\skillbase\\skill_setvalue(56,\'h\'.$x,1);
		
		$pdata = \\player\\fetch_playerdata_by_pid($spid);
		\\skillbase\\skill_acquire(57,$pdata);
		\\skill57\\skill57_set_hpid($pid,$pdata);
		\\skill57\\skill57_set_label($x,$pdata);
		\\player\\player_save($pdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill56/main.php',
)

Array\pre_act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'skill56\'));
		if (!\\skillbase\\skill_query(56) || !check_unlocked56($sdata)) return $chprocess();
		
		
		
		$mercnum=(int)\\skillbase\\skill_getvalue(56,\'t\');
		for ($i=1; $i<=$mercnum; $i++)
		{
			$lastsal=(int)\\skillbase\\skill_getvalue(56,\'l\'.$i);
			$ty=(int)\\skillbase\\skill_getvalue(56,\'s\'.$i);
			
			if (($now-$lastsal>=60 && $money>=$skill56_npc[\'sub\'][$ty][\'mercsalary\']) || $now-$lastsal>=$merc_leave_timeout)
			{
				$is_hired=(int)\\skillbase\\skill_getvalue(56,\'h\'.$i);
				if ($is_hired==1)
				{
					$rs=(int)floor(($now-$lastsal)/60);
					if ($rs>0)
					{
						$spid=(int)\\skillbase\\skill_getvalue(56,\'p\'.$i);
						
						$pdata=\\player\\fetch_playerdata_by_pid($spid);
						if ($pdata[\'hp\']<=0)
						{
							
							\\skillbase\\skill_setvalue(56,\'l\'.$i,2147483647);
						}
						\\player\\player_save($pdata);
					}
				}
			}
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill56/main.php',
)

Array\action56 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill56\',\'sys\',\'map\',\'player\',\'logger\',\'input\'));
		if (!\\skillbase\\skill_query(56) || !check_unlocked56($sdata)) 
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}
		$skillpara1=(int)$skillpara1;
		$skillpara2=(int)$skillpara2;
		$skillpara3=(int)$skillpara3;
		if ($skillpara1==1)
		{
			
			$x=(int)\\skillbase\\skill_getvalue(56,\'t\');
			if ($x>=$skill56_lim)
			{
				$log .= \'发动次数已经达到了上限。<br>\';
				return;
			}
			
			if ($money<$skill56_need)
			{
				$log .= \'金钱不足。<br>\';
				return;
			}
			
			if (in_array($pls,$arealist) && (array_search($pls,$arealist) > $areanum || $hack))
			{	
				addnews ( 0, \'bskill56\', $name );
				
				$money-=$skill56_need;
				$x++; 
				\\skillbase\\skill_setvalue(56,\'t\',$x);
				
				$tot = count($skill56_npc[\'sub\']);
				$tp = 0;
				for ($i=0; $i<$tot; $i++) $tp+=$skill56_npc[\'sub\'][$i][\'probability\'];
				$dice = rand(1,$tp);
				for ($i=0; $i<$tot; $i++)
				{
					if ($dice<=$skill56_npc[\'sub\'][$i][\'probability\'])
					{
						skill56_summon_npc($i);
						break;
					}
					else  $dice-=$skill56_npc[\'sub\'][$i][\'probability\'];
				}
			}
			else
			{
				$log.=\'不能在禁区招募佣兵。<br>\';
				return;
			}
		}
		else 
		{
			$x=(int)\\skillbase\\skill_getvalue(56,\'t\');
			if ($skillpara2<1 || $skillpara2>$x)
			{
				$log.=\'参数错误。<br>\';
				return;
			}
			if (((int)\\skillbase\\skill_getvalue(56,\'h\'.$skillpara2))!=1)
			{
				$log.=\'该佣兵已经与你没有雇佣关系。<br>\';
				return;
			}
			$spid = (int)\\skillbase\\skill_getvalue(56,\'p\'.$skillpara2);
			if ($spid<=0)
			{
				$log.=\'出现了一个BUG，请报告管理员。抱歉。<br>\';
				return;
			}
			$employee=\\player\\fetch_playerdata_by_pid($spid);
			if ($employee[\'hp\']<=0)
			{
				$log.=\'该佣兵已经死亡！<br>\';
				return;
			}
			$ty = (int)\\skillbase\\skill_getvalue(56,\'s\'.$skillpara2);
			if ($skillpara1==2)
			{
				
				$lastsal=(int)\\skillbase\\skill_getvalue(56,\'l\'.$skillpara2);
				if ($now-$lastsal>=60)
				{
					
					$employee[\'money\']+=$money;
					$money=0;
				}
				if ($skill56_npc[\'sub\'][$ty][\'mercfireaction\']==1)
				{
					$employee[\'pls\']=999;
				}
				\\skillbase\\skill_setvalue(56,\'h\'.$skillpara2,0);
				$log.=\'解雇成功。\';
			}
			else  if ($skillpara1==3)
			{
				
				$cost = $skill56_npc[\'sub\'][$ty][\'mercsalary\']*2;
				if ($money>=$cost)
				{
					if ($skillpara3==$employee[\'pls\'])
					{
						$log.=\'佣兵已经在该地点，不需移动。<br>\';
						return;
					}
					if (in_array($skillpara3,$arealist) && (array_search($skillpara3,$arealist) > $areanum || $hack))
					{
						$money-=$cost;
						$employee[\'money\']+=$cost;
						$employee[\'pls\']=$skillpara3;
						$log.="消耗了<span class=\\"yellow\\">$cost</span>元，佣兵<span class=\\"yellow\\">{$employee[\'name\']}</span>移动到了<span class=\\"yellow\\">{$plsinfo[$employee[\'pls\']]}</span>。<br>";
					}
					else
					{
						$log.=\'不能将佣兵移动到禁区。<br>\';
						return;
					}
				}
				else
				{
					$log.=\'金钱不足。\';
					return;
				}
			}
			else  if ($skillpara1==4)
			{
				
				if ($skillpara3<0) 
				{
					$log.=\'不能倒贴工资。<br>\';
					return;
				}
				if ($skillpara3>20) $skillpara3=20;	
				$cost = $skill56_npc[\'sub\'][$ty][\'mercsalary\']*$skillpara3;
				if ($money>=$cost)
				{
					$lastsal=(int)\\skillbase\\skill_getvalue(56,\'l\'.$skillpara2);
					$lastsal+=$skillpara3*60;
					\\skillbase\\skill_setvalue(56,\'l\'.$skillpara2,$lastsal);
					$money-=$cost;
					$employee[\'money\']+=$cost;
					$log.="消耗了<span class=\\"yellow\\">$cost</span>元，预付了佣兵<span class=\\"yellow\\">{$employee[\'name\']}</span>将来<span class=\\"yellow\\">$skillpara3</span>分钟的工资。<br>";
				}
				else
				{
					$log.=\'金钱不足。<br>\';
					return;
				}
			}
			else
			{
				$log.=\'未知参数。<br>\';
				return;
			}
			\\player\\player_save($employee);
		}
		
				
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill56/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\'));
	
		if ($mode == \'special\' && $command == \'skill56_special\' && $subcmd==\'summon\') 
		{
			ob_clean();
			include template(\'MOD_SKILL56_MERCPANEL\');
			$cmd=ob_get_contents();
			ob_clean();
			return;
		}
		
		if ($mode == \'special\' && $command == \'skill56_special\' && $subcmd==\'action56\') 
		{
			action56();
			ob_clean();
			include template(\'MOD_SKILL56_MERCPANEL\');
			$cmd=ob_get_contents();
			ob_clean();
			return;
		}
		
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill56/main.php',
)

Array\check_alive_discover ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'player\'));
		if (!\\skillbase\\skill_query(56) || !check_unlocked56($sdata)) return $chprocess($edata);
		$x=(int)\\skillbase\\skill_getvalue(56,\'t\');
		for ($i=1; $i<=$x; $i++)
		{
			$spid = (int)\\skillbase\\skill_getvalue(56,\'p\'.$i);
			if ($edata[\'pid\']==$spid)
				return 0;
		}
		return $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill56/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill56\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「招募佣兵」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill56/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL435_INFO\',\'card;upgrade;active;limited;\');
		global $skill435_npc;
		eval(import_module(\'player\',\'addnpc\',\'npc\'));
		$typeinfo[26]=\'保安\';
		$npcinfo[26]=$skill435_npc;
		$anpcinfo[26]=$skill435_npc;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill435/main.php',
)

Array\acquire435 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		global $skill435_lim;
		
		\\skillbase\\skill_setvalue(435,\'t\',\'0\',$pa);
		for ($i=1; $i<=$skill435_lim; $i++)
		{
			
			\\skillbase\\skill_setvalue(435,\'p\'.$i,\'0\',$pa);
			
			\\skillbase\\skill_setvalue(435,\'l\'.$i,\'0\',$pa);
			
			\\skillbase\\skill_setvalue(435,\'s\'.$i,\'0\',$pa);
			
			\\skillbase\\skill_setvalue(435,\'h\'.$i,\'0\',$pa);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill435/main.php',
)

Array\lost435 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'skill435\',\'sys\',\'player\'));
		$x=(int)\\skillbase\\skill_getvalue(435,\'t\');
		for ($i=1; $i<=$x; $i++)
		{
			$is_hired=(int)\\skillbase\\skill_getvalue(435,\'h\'.$i);
			if ($is_hired==1)
			{
				$spid = (int)\\skillbase\\skill_getvalue(435,\'p\'.$i);
				$ty=(int)\\skillbase\\skill_getvalue(435,\'s\'.$i);
				if ($spid>0)
				{
					$employee=\\player\\fetch_playerdata_by_pid($spid);
					if ($employee[\'hp\']>0)
					{
						$lastsal=(int)\\skillbase\\skill_getvalue(435,\'l\'.$i);
						if ($now-$lastsal>=60)
						{
							
							$employee[\'money\']+=$money;
							$money=0;
						}
						if ($skill435_npc[\'sub\'][$ty][\'mercfireaction\']==1)
						{
							$employee[\'pls\']=999;
						}
						\\skillbase\\skill_setvalue(435,\'h\'.$i,0);
						\\player\\player_save($employee);
					}
				}
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill435/main.php',
)

Array\check_unlocked435 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=12;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill435/main.php',
)

Array\skill435_summon_npc ====> array (
  'vars' => '$nkind',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill435\',\'map\',\'sys\',\'player\',\'logger\',\'input\'));
		$log.=\'你召唤出了保安<span class="yellow">\'.$skill435_npc[\'sub\'][$nkind][\'name\'].\'</span>来保护你！<br>\';
		$x=(int)\\skillbase\\skill_getvalue(435,\'t\');
		$spids = \\addnpc\\addnpc(25,$nkind,1);
		if (!$spids)
		{
			$log.=\'出现了一个BUG，请联系管理员。抱歉。<br>\';
			return;
		}
		$spid = $spids[0];
		
		$db->query("UPDATE {$tablepre}players SET pls=\'$pls\' WHERE pid=\'$spid\'");
		\\skillbase\\skill_setvalue(435,\'p\'.$x,$spid);
		\\skillbase\\skill_setvalue(435,\'l\'.$x,$now);
		\\skillbase\\skill_setvalue(435,\'s\'.$x,$nkind);
		\\skillbase\\skill_setvalue(435,\'h\'.$x,1);
		
		$pdata = \\player\\fetch_playerdata_by_pid($spid);
		\\skillbase\\skill_acquire(436,$pdata);
		\\skill436\\skill436_set_hpid($pid,$pdata);
		\\skill436\\skill436_set_label($x,$pdata);
		\\player\\player_save($pdata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill435/main.php',
)

Array\pre_act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'skill435\'));
		if (!\\skillbase\\skill_query(435) || !check_unlocked435($sdata)) return $chprocess();
		
		
		
		$mercnum=(int)\\skillbase\\skill_getvalue(435,\'t\');
		for ($i=1; $i<=$mercnum; $i++)
		{
			$lastsal=(int)\\skillbase\\skill_getvalue(435,\'l\'.$i);
			$ty=(int)\\skillbase\\skill_getvalue(435,\'s\'.$i);
			
			if (($now-$lastsal>=60 && $money>=$skill435_npc[\'sub\'][$ty][\'mercsalary\']) || $now-$lastsal>=$merc_leave_timeout)
			{
				$is_hired=(int)\\skillbase\\skill_getvalue(435,\'h\'.$i);
				if ($is_hired==1)
				{
					$rs=(int)floor(($now-$lastsal)/60);
					if ($rs>0)
					{
						$spid=(int)\\skillbase\\skill_getvalue(435,\'p\'.$i);
						
						$pdata=\\player\\fetch_playerdata_by_pid($spid);
						if ($pdata[\'hp\']<=0)
						{
							
							\\skillbase\\skill_setvalue(435,\'l\'.$i,2147483647);
						}
						\\player\\player_save($pdata);
					}
				}
			}
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill435/main.php',
)

Array\action435 ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill435\',\'sys\',\'map\',\'player\',\'logger\',\'input\'));
		if (!\\skillbase\\skill_query(435) || !check_unlocked435($sdata)) 
		{
			$log .= \'你没有这个技能。<br>\';
			return;
		}
		$skillpara1=(int)$skillpara1;
		$skillpara2=(int)$skillpara2;
		$skillpara3=(int)$skillpara3;
		if ($skillpara1==1)
		{
			
			$x=(int)\\skillbase\\skill_getvalue(435,\'t\');
			if ($x>=$skill435_lim)
			{
				$log .= \'发动次数已经达到了上限。<br>\';
				return;
			}
			
			if ($money<$skill435_need)
			{
				$log .= \'金钱不足。<br>\';
				return;
			}
			
			if (in_array($pls,$arealist) && (array_search($pls,$arealist) > $areanum || $hack))
			{	
				addnews ( 0, \'bskill435\', $name );
				
				$money-=$skill435_need;
				$x++; 
				\\skillbase\\skill_setvalue(435,\'t\',$x);
				
				$tot = count($skill435_npc[\'sub\']);
				$tp = 0;
				for ($i=0; $i<$tot; $i++) $tp+=$skill435_npc[\'sub\'][$i][\'probability\'];
				$dice = rand(1,$tp);
				for ($i=0; $i<$tot; $i++)
				{
					if ($dice<=$skill435_npc[\'sub\'][$i][\'probability\'])
					{
						skill435_summon_npc($i);
						break;
					}
					else  $dice-=$skill435_npc[\'sub\'][$i][\'probability\'];
				}
			}
			else
			{
				$log.=\'不能在禁区招募保安。<br>\';
				return;
			}
		}
		else 
		{
			$x=(int)\\skillbase\\skill_getvalue(435,\'t\');
			if ($skillpara2<1 || $skillpara2>$x)
			{
				$log.=\'参数错误。<br>\';
				return;
			}
			if (((int)\\skillbase\\skill_getvalue(435,\'h\'.$skillpara2))!=1)
			{
				$log.=\'该保安已经与你没有雇佣关系。<br>\';
				return;
			}
			$spid = (int)\\skillbase\\skill_getvalue(435,\'p\'.$skillpara2);
			if ($spid<=0)
			{
				$log.=\'出现了一个BUG，请报告管理员。抱歉。<br>\';
				return;
			}
			$employee=\\player\\fetch_playerdata_by_pid($spid);
			if ($employee[\'hp\']<=0)
			{
				$log.=\'该保安已经死亡！<br>\';
				return;
			}
			$ty = (int)\\skillbase\\skill_getvalue(435,\'s\'.$skillpara2);
			if ($skillpara1==2)
			{
				
				$lastsal=(int)\\skillbase\\skill_getvalue(435,\'l\'.$skillpara2);
				if ($now-$lastsal>=60)
				{
					
					$employee[\'money\']+=$money;
					$money=0;
				}
				if ($skill435_npc[\'sub\'][$ty][\'mercfireaction\']==1)
				{
					$employee[\'pls\']=999;
				}
				\\skillbase\\skill_setvalue(435,\'h\'.$skillpara2,0);
				$log.=\'解雇成功。\';
			}
			else  if ($skillpara1==3)
			{
				
				$cost = $skill435_npc[\'sub\'][$ty][\'mercsalary\']*2;
				if ($money>=$cost)
				{
					if ($skillpara3==$employee[\'pls\'])
					{
						$log.=\'保安已经在该地点，不需移动。<br>\';
						return;
					}
					if (in_array($skillpara3,$arealist) && (array_search($skillpara3,$arealist) > $areanum || $hack))
					{
						$money-=$cost;
						$employee[\'money\']+=$cost;
						$employee[\'pls\']=$skillpara3;
						$log.="消耗了<span class=\\"yellow\\">$cost</span>元，保安<span class=\\"yellow\\">{$employee[\'name\']}</span>移动到了<span class=\\"yellow\\">{$plsinfo[$employee[\'pls\']]}</span>。<br>";
					}
					else
					{
						$log.=\'不能将保安移动到禁区。<br>\';
						return;
					}
				}
				else
				{
					$log.=\'金钱不足。\';
					return;
				}
			}
			else  if ($skillpara1==4)
			{
				
				if ($skillpara3<0) 
				{
					$log.=\'不能倒贴工资。<br>\';
					return;
				}
				if ($skillpara3>20) $skillpara3=20;	
				$cost = $skill435_npc[\'sub\'][$ty][\'mercsalary\']*$skillpara3;
				if ($money>=$cost)
				{
					$lastsal=(int)\\skillbase\\skill_getvalue(435,\'l\'.$skillpara2);
					$lastsal+=$skillpara3*60;
					\\skillbase\\skill_setvalue(435,\'l\'.$skillpara2,$lastsal);
					$money-=$cost;
					$employee[\'money\']+=$cost;
					$log.="消耗了<span class=\\"yellow\\">$cost</span>元，预付了保安<span class=\\"yellow\\">{$employee[\'name\']}</span>将来<span class=\\"yellow\\">$skillpara3</span>分钟的工资。<br>";
				}
				else
				{
					$log.=\'金钱不足。<br>\';
					return;
				}
			}
			else
			{
				$log.=\'未知参数。<br>\';
				return;
			}
			\\player\\player_save($employee);
		}
		
				
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill435/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\'));
	
		if ($mode == \'special\' && $command == \'skill435_special\' && $subcmd==\'summon\') 
		{
			ob_clean();
			include template(\'MOD_SKILL435_MERCPANEL\');
			$cmd=ob_get_contents();
			ob_clean();
			return;
		}
		
		if ($mode == \'special\' && $command == \'skill435_special\' && $subcmd==\'action435\') 
		{
			action435();
			ob_clean();
			include template(\'MOD_SKILL435_MERCPANEL\');
			$cmd=ob_get_contents();
			ob_clean();
			return;
		}
		
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill435/main.php',
)

Array\check_alive_discover ====> array (
  'vars' => '&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'player\'));
		if (!\\skillbase\\skill_query(435) || !check_unlocked435($sdata)) return $chprocess($edata);
		$x=(int)\\skillbase\\skill_getvalue(435,\'t\');
		for ($i=1; $i<=$x; $i++)
		{
			$spid = (int)\\skillbase\\skill_getvalue(435,\'p\'.$i);
			if ($edata[\'pid\']==$spid)
				return 0;
		}
		return $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill435/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill435\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}发动了技能<span class=\\"yellow\\">「保安团」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill435/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		eval(import_module(\'player\'));
		$typeinfo[91]=\'测试品\';
		$killmsginfo[91]=\'任务结果为预料之外。\';
		$lwinfo[91]=\'任务成功完成，进入待机模式。\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\init_current_tutorial ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if($gametype != 17){
			return Array(\'在非教程模式下试图处理教程讯息，请检查代码。<br>\');
		}
		list($tno, $tstep, $tprog) = get_current_tutorial_step();
		$ct = get_tutorial();
		if(!is_array($ct)) {
			return Array(\'教程参数或代码错误，请检查tutorial模块代码<br>\');
		}
		
		
		if(!empty($ct[\'pulse\'])) {
			if(is_array($ct[\'pulse\'])){
				if(!isset($uip[\'effect\'][\'pulse\'])){$uip[\'effect\'][\'pulse\'] = Array();}
				$uip[\'effect\'][\'pulse\'] = array_merge($uip[\'effect\'][\'pulse\'],$ct[\'pulse\']);
			}
			else $uip[\'effect\'][\'pulse\'][] = $ct[\'pulse\'];
		}
		
		
		








		if($tprog && isset($ct[\'prog\'])){
			$r = Array(
				$ct[\'prog\'],
				$ct[\'object\']
			);
		}else{
			$r = Array(
				$ct[\'tips\'],
				$ct[\'object\']
			);
		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\get_tutorial ====> array (
  'vars' => '$p=\'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'skill1000\',\'logger\'));
		if($gametype != 17){
			exit("Fatal error（伪）：在非教程模式下试图调用教程函数！");
		}
		list($tno, $tstep, $tprog) = get_current_tutorial_step();
		
		if (!$tstep) {
			return false;
		}
		else {			
			return get_tutorial_setting($tno, $tstep, $p);
		}		
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\get_current_tutorial_step ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'skill1000\',\'logger\'));
		$tno = \\skillbase\\skill_getvalue(1000,\'tno\');
		$tstep = \\skillbase\\skill_getvalue(1000,\'step\');
		$tprog = \\skillbase\\skill_getvalue(1000,\'prog\');
		return Array($tno, $tstep, $tprog);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\get_tutorial_setting ====> array (
  'vars' => '$tno, $tstep, $expara = \'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'tutorial\',\'logger\'));
		if(isset($tutorial_story[$tno])){
			$tstory = $tutorial_story[$tno];
			if($tstep < 0){
				$log.=\'教程步数小于0，将重置至10<br>\';
				$tstep = 10;
			}elseif(!isset($tstory[$tstep])){
				$log.=\'教程步数不存在，将重置至10<br>\';
				$tstep = 10;
			}elseif($expara == \'PREV\'){
				foreach($tstory as $tskey => $tsval){
					if($tsval[\'next\'] == $tstep){
						$tstep = $tskey;
						break;
					}
				}
			}elseif($expara == \'NEXT\'){
				$tstep = $tstory[$tstep][\'next\'];
			}
			return $tstory[$tstep];
		}else{
			$log.=\'教程参数不存在！<br>\';
			return NULL;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\tutorial_pushforward_process ====> array (
  'vars' => '$tp = \'OK\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		$ct = get_tutorial();
		if(\'OK\' === $tp){
			if(isset($ct[\'obj2\'][\'addchat\']) && $ct[\'obj2\'][\'addchat\'][\'type\'] == \'WHEN_DONE\'){
				tutorial_addchat($ct[\'obj2\'][\'addchat\'][\'cont\']);
			}
			if($ct[\'next\'] < 0){
				
				$state = 4;
				addnews($now, \'wintutorial\', $name);	
				$url = \'end.php\';
				
			}else{
				\\skillbase\\skill_setvalue(1000,\'step\',$ct[\'next\']);
				\\skillbase\\skill_setvalue(1000,\'prog\',0);
				
			}
		}elseif(\'PROG\' === $tp || true){
			\\skillbase\\skill_setvalue(1000,\'prog\',1);
		}		
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\tutorial_checknpc ====> array (
  'vars' => '$atype,$asub,$ateam,$addnpc_if_needed=0,$return_full_data=0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'addnpc\',\'logger\'));
		$aname = get_addnpclist()[$atype][\'sub\'][$asub][\'name\'];
		$result = $db->query("SELECT * FROM {$tablepre}players WHERE type=\'$atype\' AND name=\'$aname\' AND teamID=\'$ateam\'");
		
		if(!$db->num_rows($result)){
			if($addnpc_if_needed){
				$apid = \\addnpc\\addnpc($atype,$asub,1)[0];
				
				$db->query("UPDATE {$tablepre}players SET teamID=\'$ateam\' WHERE pid=\'$apid\'");
				if($return_full_data) $apid = \\player\\fetch_playerdata_by_pid($apid);
			}else{
				$apid = NULL;
			}
		}else{
			$npcd = $db->fetch_array($result);
			if($return_full_data) $apid = $npcd;
			else $apid = $npcd[\'pid\'];
			
		}
		return $apid;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\tutorial_movenpc ====> array (
  'vars' => '$mtype,$msub,$mteam,$moveto = -1,$mpid=0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if($mpid == 0){
			$mpid = tutorial_checknpc($mtype,$msub,$mteam,1);
			if(!$mpid){ $log.=\'NPC生成出错，请检查代码。\';return; }
		}
		if($moveto < 0){$moveto = $pls;}
		$db->query("UPDATE {$tablepre}players SET pls=\'$moveto\' WHERE pid=\'$mpid\'");
		return $mpid;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\tutorial_changehp_npc ====> array (
  'vars' => '$ctype,$csub,$cteam,$chp,$cpid=0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if($cpid == 0){
			$cpid = tutorial_checknpc($ctype,$csub,$cteam,1);
			if(!$cpid){ $log.=\'NPC生成出错，请检查代码。\';return; }
		}		
		if($chp < 0){$chp = 1;}
		$db->query("UPDATE {$tablepre}players SET hp=\'$chp\' WHERE pid=\'$cpid\'");
		return $cpid;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\',\'map\'));
		if($gametype == 17) {
			$ct = get_tutorial();
			list($tno, $tstep, $tprog) = get_current_tutorial_step();
			if(isset($ct[\'obj2\'][\'addnpc\'])){
				$atype = $ct[\'obj2\'][\'addnpc\'];
				$asub = $ct[\'obj2\'][\'asub\'];
				$ateam = $pid;
				tutorial_checknpc($atype,$asub,$ateam,1);
			}
			if(isset($ct[\'obj2\'][\'addchat\']) && $ct[\'obj2\'][\'addchat\'][\'type\'] == \'IMMEDIATLY\' && !$tprog){
				tutorial_addchat($ct[\'obj2\'][\'addchat\'][\'cont\']);
			}
			$push_flag = NULL;
			if(in_array($command, Array(\'team\',\'destroy\'))) {
				$log .= \'<span class="red">教程模式不能做出这一指令，请按教程提示操作！<span><br>\';
				$push_flag = \'PROG\';
				$command = \'\';$mode = \'command\';
			} elseif($ct[\'object\'] != $command && $ct[\'object\'] !=  \'any\' && $ct[\'object\'] != \'back\' && $ct[\'object\'] != \'itemget\'){
				
			}
			if ((isset($sp_cmd) && $sp_cmd == \'sp_shop\' && $ct[\'object\'] == \'sp_shop\') || ($command == \'shop4\' && $ct[\'object\'] == \'shop4\') || ($command == \'itemmain\' && isset($itemcmd) && $itemcmd == \'itemmix\' && $ct[\'object\'] == \'itemmain\' && in_array(\'itemmix\',$ct[\'obj2\']))){
				$push_flag = \'OK\';
			}elseif ($command == \'continue\' || $ct[\'object\'] ==  \'any\'){
				$push_flag = \'OK\';
			}elseif (($ct[\'object\'] == \'clubsel\' && $club) || ($ct[\'object\'] == \'inff\' && strpos($inf,\'f\')===false) || ($ct[\'object\'] == \'itm3\' && strpos($inf,\'p\')===false) || ($ct[\'object\'] == \'move\' && in_array(\'shop\',$ct[\'obj2\']) && \\itemshop\\check_in_shop_area($pls))){
				$log .= "看来你比较熟练呢，我们继续。<br>";
				$push_flag = \'OK\';
			}else{
				$push_flag = \'PROG\';
			}
			if(\'OK\' === $push_flag) tutorial_pushforward_process();
			elseif(\'PROG\' === $push_flag) tutorial_pushforward_process(\'PROG\');
		}
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\tutorial_addchat ====> array (
  'vars' => '$addc_arr',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'map\'));
		$r = NULL;
		$add_chats = Array();
		$uip[\'effect\'][\'chatref\'] = 1;
		if(!empty($addc_arr) && is_array($addc_arr)){
			foreach($addc_arr as $cval){
				$ctype = $cval[\'type\'];
				$cname = $cval[\'cname\'];
				$crecv = $cval[\'crecv\'];
				if($crecv == \'pid\'){$crecv = $pid;}
				if(strpos($cname,\'pls\')!==false){
					if(strpos($cname,\'rpls\')!==false){	$cname = str_replace(\'rpls\',$plsinfo[rand(0,sizeof($plsinfo)-1)],$cname);}
					else{	$cname = str_replace(\'pls\',$plsinfo[$pls],$cname);}
				}
				$ccont = $cval[\'ccont\'];
				if(strpos($ccont,\'o_pls\')!==false){
					$o_sdata = \\player\\fetch_original_playerdata_by_id($pid);
					$o_pls = $o_sdata[\'pls\'];
					$ccont = str_replace(\'o_pls\',$plsinfo[$o_pls],$ccont);
				}
				if(strpos($ccont,\'pls\')!==false){
					$ccont = str_replace(\'pls\',$plsinfo[$pls],$ccont);
				}
				$add_chats = Array(
					\'type\' => $ctype,
					\'time\' => $now,
					\'send\' => $cname,
					\'recv\' => $crecv,
					\'msg\' => $ccont
				);
				$db->array_insert("{$tablepre}chat", $add_chats);
			}	
		}
		return sizeof($addc_arr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\get_addnpclist ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'addnpc\',\'tutorial\'));
		list($tno, $tstep, $tprog) = get_current_tutorial_step();
		if($gametype == 17 && isset($tutorial_npc[$tno])){
			$anpcinfo = $tutorial_npc[$tno];
			return $anpcinfo;
		}
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\move ====> array (
  'vars' => '$moveto = 99',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'logger\',\'itemshop\'));
		$opls = $pls;
		$chprocess($moveto);
		if($gametype == 17) {
			$ct = get_tutorial();
			if($ct[\'object\'] == \'move\'){
				if((in_array(\'leave\',$ct[\'obj2\']) && $opls != $pls) || (in_array(\'shop\',$ct[\'obj2\']) && \\itemshop\\check_in_shop_area($pls))){
					tutorial_pushforward_process();
				}				
			}
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\search ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'map\',\'logger\'));
		if($gametype == 17) {
			
			$ct = get_tutorial();
			if($ct[\'object\'] == \'search\'){
				tutorial_pushforward_process();
			}
		}
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\discover ====> array (
  'vars' => '$schmode',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if($gametype == 17){
			$ct = get_tutorial();
			$ct_prev = get_tutorial(\'PREV\');
			list($tno, $tstep, $tprog) = get_current_tutorial_step();
			
			if($schmode == \'move\'){
				$log .= "但是什么都没有发现。<br>";
				return;
			}
			if($schmode == \'search\' && (isset($ct[\'obj2\'][\'itm\']) || isset($ct[\'obj2\'][\'meetnpc\']))){
				if(isset($ct[\'obj2\'][\'itm\'])){
					discover_item();
					return;
				}elseif(isset($ct[\'obj2\'][\'meetnpc\'])){
					discover_player();
					return;
				}




			}
		}
		$chprocess($schmode);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\discover_item ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'itemmain\'));
		if($gametype == 17){
			$ct = get_tutorial();
			if(isset($ct[\'obj2\'][\'itm\'])){
				$itm0 = $itmk0 = $itmsk0 = \'\';
				$itme0 = $itms0 = 0;
				$itm0=$ct[\'obj2\'][\'itm\'];
				$itmk0=$ct[\'obj2\'][\'itmk\'];
				$itme0=$ct[\'obj2\'][\'itme\'];
				$itms0=$ct[\'obj2\'][\'itms\'];
				$itmsk0=$ct[\'obj2\'][\'itmsk\'];
				$tpldata[\'itmk0_words\'] = \\itemmain\\parse_itmk_words($itmk0);
				$tpldata[\'itmsk0_words\'] = \\itemmain\\parse_itmsk_words($itmsk0);
				ob_clean();
				$uip[\'tutorial_cmd_inner_tpl\'] = MOD_ITEMMAIN_ITEMFIND;
				include template(MOD_TUTORIAL_TUTORIAL_CMD);
				$cmd = ob_get_contents();
				ob_clean();
				return;
			}
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\itemget ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		$r = $chprocess();
		if($gametype == 17) {
			$ct = get_tutorial();
			if($ct[\'object\'] == \'itemget\'){
				tutorial_pushforward_process();
			}
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\discover_player ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;		
		eval(import_module(\'sys\',\'player\',\'logger\',\'metman\'));
		if($gametype == 17){
			$ct = get_tutorial();
			
			
			if(isset($ct[\'obj2\'][\'meetnpc\'])){
				if(!isset($ct[\'obj2\'][\'corpse\'])){
					$nid = tutorial_movenpc($ct[\'obj2\'][\'meetnpc\'],$ct[\'obj2\'][\'meetsub\'],$pid);
					if(isset($ct[\'obj2\'][\'changehp\'])){
						$n = tutorial_changehp_npc($ct[\'obj2\'][\'meetnpc\'],$ct[\'obj2\'][\'meetsub\'],$pid,1,$nid);
					}
					\\metman\\meetman($nid);
					return;
				}else{
					$mnpcd = tutorial_checknpc($ct[\'obj2\'][\'meetnpc\'], $ct[\'obj2\'][\'meetsub\'], $pid, 0, 1);
					if($mnpcd[\'pls\'] == $pls) \\metman\\meetman($mnpcd[\'pid\']);
					return;
				}				
			}





		}
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\get_battlecmd_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($gametype == 17) {
			$uip[\'tutorial_cmd_inner_tpl\'] = MOD_ENEMY_BATTLECMD;
			return MOD_TUTORIAL_TUTORIAL_CMD;
		}
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\get_battleresult_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($gametype == 17) {
			$uip[\'tutorial_cmd_inner_tpl\'] = MOD_BATTLE_BATTLERESULT;
			return MOD_TUTORIAL_TUTORIAL_CMD;
		}
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\get_corpse_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($gametype == 17) {
			$uip[\'tutorial_cmd_inner_tpl\'] = MOD_TUTORIAL_TUTORIAL_CORPSE;
			return MOD_TUTORIAL_TUTORIAL_CMD;
		}
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\get_sp_shop_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($gametype == 17) {
			$uip[\'tutorial_cmd_inner_tpl\'] = MOD_ITEMSHOP_SP_SHOP;
			return MOD_TUTORIAL_TUTORIAL_CMD;
		}
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\get_itemshop_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($gametype == 17) {
			$uip[\'tutorial_cmd_inner_tpl\'] = MOD_ITEMSHOP_SHOP;
			return MOD_TUTORIAL_TUTORIAL_CMD;
		}
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\get_itemmix_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($gametype == 17) {
			$uip[\'tutorial_cmd_inner_tpl\'] = MOD_ITEMMIX_ITEMMIX;
			return MOD_TUTORIAL_TUTORIAL_CMD;
		}
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\meetman_alternative ====> array (
  'vars' => '$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\',\'metman\',\'tutorial\'));
		if($gametype == 17){
			$ct = get_tutorial();	
			if(!$edata[\'type\'] && $tutorial_force_teamer){
				$log .= \'你看到了似乎处于同样状况的玩家。<br>\';
				\\team\\findteam($edata);
				return;
			}elseif($edata[\'type\'] && $edata[\'teamID\'] && $edata[\'teamID\'] != $pid){
				$log .= \'你似乎看到了什么东西，但是耳机里的声音命令你把目光从那里移开，你照做了。<br>\';
				return;
			}
			if ($edata[\'hp\']>0){
				extract($edata,EXTR_PREFIX_ALL,\'w\');
				if(isset($ct[\'obj2\'][\'active\']) && $ct[\'obj2\'][\'active\']){
					$action = \'enemy\'.$edata[\'pid\'];
					\\enemy\\findenemy($edata);
					return;
				} elseif(isset($ct[\'obj2\'][\'active\']) && !$ct[\'obj2\'][\'active\']) {
					\\enemy\\battle_wrapper($edata,$sdata,0);
					return;
				}
				
			}
		}
		return $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\senditem_check ====> array (
  'vars' => '$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if ($gametype == 17)
		{
			if(isset($edata) && !$edata[\'type\'] && $edata[\'pls\'] == $pls && $edata[\'hp\'] > 0 && $edata[\'pid\'] != $pid){
				return true;
			}
		}
		return $chprocess($edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\player_damaged_enemy ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'tutorial\'));
		$o_pa_hp = $pa[\'hp\']; $o_pd_hp = $pd[\'hp\'];
		$chprocess($pa, $pd, $active);
		if($gametype == 17){
			if(isset($tutorial_tough_hp) && 
			(($active && $pd[\'type\'] && $o_pa_hp > $tutorial_tough_hp && $pa[\'hp\'] < $tutorial_tough_hp)
			 || (!$active && $pa[\'type\'] && $o_pd_hp > $tutorial_tough_hp && $pd[\'hp\'] < $tutorial_tough_hp))){
				$pd[\'hp\'] = $tutorial_tough_hp;
				$log.=\'<span class="linen">“你也太脆了，真是伤脑筋啊……”</span>不知为何，你忽然觉得受到的伤害没那么严重了。<br>\';
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\get_hitrate ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'logger\',\'player\',\'tutorial\'));
		if($gametype == 17){
			$ct = get_tutorial();
			if(isset($ct[\'obj2\'][\'always_hit\']) && $ct[\'obj2\'][\'always_hit\']){
				return 100;
			}
		}
		return $chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\apply_weapon_inf ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'wound\',\'logger\',\'tutorial\'));
		if($gametype == 17 && $active==0){
			$ct = get_tutorial();
			if(isset($ct[\'obj2\'][\'meetnpc\']) && isset($ct[\'obj2\'][\'inf\'])){
				\\wound\\apply_weapon_wound_real($pa, $pd, $active, $ct[\'obj2\'][\'inf\']);	
				return;
			}
		}
		return $chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\check_ex_inf_infliction ====> array (
  'vars' => '&$pa, &$pd, $active, $key',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'ex_dmg_att\',\'wound\',\'logger\'));
		if($gametype == 17 && $active==0){
			$ct = get_tutorial();
			if(isset($ct[\'obj2\'][\'meetnpc\']) && isset($ct[\'obj2\'][\'ex_inf\'])){
				$infkey = array_search($ex_inf[$ct[\'obj2\'][\'ex_inf\']], $infskillinfo);
				$log .= "并造成你{$infname[$infkey]}了！";
				\\wound\\get_inf($infkey,$pd);
				return;
			}
		}
		return $chprocess($pa, $pd, $active, $key);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\itemuse ====> array (
  'vars' => '&$theitem',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmain\',\'logger\',\'tutorial\'));
		$oitmk = $theitem[\'itmk\'];
		$chprocess($theitem);
		if($gametype == 17) {
			$ct = get_tutorial();
			if($ct[\'object\'] == \'itemuse\' && isset($ct[\'obj2\'][\'itmk\']) && in_array($oitmk,$ct[\'obj2\'][\'itmk\'])){
				tutorial_pushforward_process();
			}
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\heal_inf ====> array (
  'vars' => '$hurtposition, &$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'tutorial\'));
		$chprocess($hurtposition, $pa);
		if($gametype == 17) {
			$ct = get_tutorial();
			if(strpos($ct[\'object\'] ,\'inf\')===0 && $hurtposition = substr($ct[\'object\'],3,1)){
				tutorial_pushforward_process();
			}
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\player_kill_enemy ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'tutorial\'));
		if($gametype == 17) {
			$ct = get_tutorial();
			if($ct[\'object\']==\'kill\' && $active){
				tutorial_pushforward_process();
			}
		}
		$chprocess($pa, $pd, $active);
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\getcorpse_action ====> array (
  'vars' => '&$edata, $item',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'tutorial\'));
		if($gametype == 17 && $item == \'destroy\'){
			$log .= \'教程模式下不允许销毁尸体！\';
			$action = \'\';
			$mode = \'command\';
			return;
		}
		$chprocess($edata, $item);
		if($gametype == 17) {
			$ct = get_tutorial();
			if($ct[\'object\']==\'money\' && $item == \'money\'){
				tutorial_pushforward_process();
			}
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\itembuy ====> array (
  'vars' => '$item,$shop,$bnum=1',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;		
		eval(import_module(\'sys\',\'map\',\'player\',\'logger\',\'itemmain\',\'tutorial\'));
		if($gametype == 17) {
			$ct = get_tutorial();
			$shopiteminfo = \\itemshop\\get_shopiteminfo($item);
			if($ct[\'object\']==\'itembuy\' && $shopiteminfo[\'item\'] == $ct[\'obj2\'][\'item\']){
				tutorial_pushforward_process();
			}
		}
		return $chprocess($item,$shop,$bnum);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\player_selectclub ====> array (
  'vars' => '$id',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;		
		eval(import_module(\'sys\',\'player\',\'clubbase\',\'tutorial\',\'logger\'));
		$r = $chprocess($id);
		if($gametype == 17) {
			$ct = get_tutorial();
			if($ct[\'object\']==\'clubsel\' && !$r){
				tutorial_pushforward_process();
			}
		}
		return $r;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\itemmix_success ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if($gametype == 17) {
			$ct = get_tutorial();
			if($ct[\'object\']==\'itemmix\' && $itm0 == $ct[\'obj2\'][\'item\']){
				tutorial_pushforward_process();
			}
		}
		return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\addnews ====> array (
  'vars' => '$t = 0, $n = \'\',$a=\'\',$b=\'\',$c = \'\', $d = \'\', $e = \'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($gametype == 17 && $n==\'addnpc\'){
			return;
		}
		return $chprocess($t, $n, $a, $b, $c, $d, $e);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\rs_game ====> array (
  'vars' => '$xmode = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;		
		eval(import_module(\'sys\',\'map\',\'tutorial\'));
		$chprocess($xmode);
		
		if ($xmode & 2 && $gametype == 17) {
			
			if(isset($tutorial_areahour_augment)){
				list($sec,$min,$hour,$day,$month,$year,$wday,$yday,$isdst) = localtime($starttime);
				$areatime = $starttime + $tutorial_areahour_augment;
			}
			if(isset($tutorial_allowed_weather)){
				list($wmin,$wmax) = $tutorial_allowed_weather;
				$weather = rand($wmin,$wmax);
			}
			
			
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\init_areatiming ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'tutorial\'));
		if (!$tutorial_disable_area_timing || $gametype!=17){
			$chprocess();
		} else {
			$uip[\'timing\'][\'area_timing\'] = array(
				\'on\' => false,
			);
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\checkcombo ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'tutorial\'));
		if (!$tutorial_disable_combo || $gametype!=17) return $chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/instance/gtype17_tutorial/tutorial/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL244_INFO\',\'club;battle;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[244] = \'归约\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill244/main.php',
)

Array\acquire244 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill244/main.php',
)

Array\lost244 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill244/main.php',
)

Array\check_unlocked244 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=19;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill244/main.php',
)

Array\get_rage_cost244 ====> array (
  'vars' => '&$pa = NULL',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'skill244\'));
		return $ragecost;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill244/main.php',
)

Array\strike_prepare ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($pa[\'bskill\']!=244) return $chprocess($pa, $pd, $active);
		if (!\\skillbase\\skill_query(244,$pa) || !check_unlocked244($pa))
		{
			eval(import_module(\'logger\'));
			$log .= \'你尚未解锁这个技能！\';
			$pa[\'bskill\']=0;
		}
		else
		{
			$rcost = get_rage_cost244($pa);
			if ($pa[\'rage\']>=$rcost)
			{
				eval(import_module(\'logger\'));
				if ($active)
					$log.="<span class=\\"lime\\">你对{$pd[\'name\']}发动了技能「归约」！</span><br>";
				else  $log.="<span class=\\"lime\\">{$pa[\'name\']}对你发动了技能「归约」！</span><br>";
				$pa[\'rage\']-=$rcost;
				addnews ( 0, \'bskill244\', $pa[\'name\'], $pd[\'name\'] );
			}
			else
			{
				if ($active)
				{
					eval(import_module(\'logger\'));
					$log.=\'怒气不足或其他原因不能发动。<br>\';
				}
				$pa[\'bskill\']=0;
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill244/main.php',
)

Array\sk244_get_factor_sum ====> array (
  'vars' => '$z',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if ($z>1e11) return $z;	
		$z=(int)$z; $x=2; $ret=1;
		if ($z==0) return $z;
		while ($x<=$z/$x+2)
		{
			if ($z%$x==0)
			{
				$t=1; $s=$x;
				while ($z%$x==0)
				{
					$t+=$s; $s*=$x; $z/=$x; 
				}
				$ret*=$t;
			}
			$x++;
		}
		if ($z>1) $ret*=(1+$z);
		return $ret;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill244/main.php',
)

Array\apply_total_damage_modifier_up ====> array (
  'vars' => '&$pa,&$pd,$active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'logger\'));
		if ($pa[\'bskill\']==244 && $pa[\'dmg_dealt\']>0)
		{
			$pa[\'dmg_dealt\']=sk244_get_factor_sum($pa[\'dmg_dealt\']);
			$log.=\'<span class="yellow">「归约」使最终伤害变为\'.$pa[\'dmg_dealt\'].\'点！</span><br>\';
		}
		$chprocess($pa,$pd,$active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill244/main.php',
)

Array\parse_news ====> array (
  'vars' => '$nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr = array()',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		eval(import_module(\'sys\',\'player\'));
		
		if($news == \'bskill244\') 
			return "<li id=\\"nid$nid\\">{$hour}时{$min}分{$sec}秒，<span class=\\"clan\\">{$a}对{$b}发动了技能<span class=\\"yellow\\">「归约」</span></span></li>";
		
		return $chprocess($nid, $news, $hour, $min, $sec, $a, $b, $c, $d, $e, $exarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill244/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL27_INFO\',\'club;\');
		eval(import_module(\'clubbase\'));
		$clubskillname[27] = \'流火\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill27/main.php',
)

Array\acquire27 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill27/main.php',
)

Array\lost27 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill27/main.php',
)

Array\check_unlocked27 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return $pa[\'lvl\']>=7;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill27/main.php',
)

Array\armor_break ====> array (
  'vars' => '&$pa, &$pd, $active, $whicharmor',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$chprocess($pa, $pd, $active, $whicharmor);
		
		if (\\skillbase\\skill_query(27,$pa) && check_unlocked27($pa))
		{
			eval(import_module(\'logger\',\'wound\'));
			if (!\\skillbase\\skill_query(6,$pd))
			{
				if ($active)
					$log .= \'流火技能\'.$infname[\'u\'].\'了敌人！\';
				else  $log .= \'你被敌人的流火技能\'.$infname[\'u\'].\'了！\';
				\\wound\\get_inf(\'u\',$pd);
			}
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill27/main.php',
)

Array\strike_finish ====> array (
  'vars' => '&$pa, &$pd, $active',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(27,$pa) && check_unlocked27($pa) && $pa[\'is_hit\'])
		{
			eval(import_module(\'skill27\',\'armor\',\'wound\',\'logger\'));
			if ($pa[\'bskill\']==26)	
			{
				$target = $armor_equip_list;
				if (\\skillbase\\skill_getvalue(26,\'lvl\',$pa))
					$damage = 2;
				else  $damage = 3; 
			}
			else  
			{
				$target = Array($armor_equip_list[rand(0,count($armor_equip_list)-1)]);
				$damage = 0;
				if (in_array(\'u\',\\attrbase\\get_ex_attack_array($pa, $pd, $active))) $damage+=1;
				if (in_array(\'f\',\\attrbase\\get_ex_attack_array($pa, $pd, $active))) $damage+=2;
			}
			
			if ($damage > 0)
			{
				foreach ($target as $key)
				{
					if (in_array($key,$armor_equip_list) && isset($pd[$key.\'e\']) && $pd[$key.\'e\']>0)
					{
						
						$pa[\'attack_wounded_\'.substr($key,2)]+=$damage;
					}
					else
					{
						if (!\\skillbase\\skill_query(6,$pd))
						{
							if ($active)
								$log .= \'流火技能\'.$infname[\'u\'].\'了敌人！\';
							else  $log .= \'你被敌人的流火技能\'.$infname[\'u\'].\'了！\';
							\\wound\\get_inf(\'u\',$pd);
						}
					}
				}
			}
		}
		$chprocess($pa, $pd, $active);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill27/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL57_INFO\',\'club;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill57/main.php',
)

Array\acquire57 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		\\skillbase\\skill_setvalue(57,\'p\',\'0\',$pa);
		
		\\skillbase\\skill_setvalue(57,\'l\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill57/main.php',
)

Array\skill57_set_hpid ====> array (
  'vars' => '$hpid,&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(57,\'p\',$hpid,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill57/main.php',
)

Array\skill57_set_label ====> array (
  'vars' => '$z,&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(57,\'l\',$z,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill57/main.php',
)

Array\lost57 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill57/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(57,$pa) && $pa[\'hp\']>0)
		{
			$i=\\skillbase\\skill_getvalue(57,\'l\',$pa);
			$z=\\skillbase\\skill_getvalue(57,\'p\',$pa);
			eval(import_module(\'sys\',\'player\',\'skill56\',\'logger\'));
			
			if ($z==$pid) $employer=NULL; else $employer=\\player\\fetch_playerdata_by_pid($z);
			
			$infochanged = 0;
			
			
			$is_hired=(int)\\skillbase\\skill_getvalue(56,\'h\'.$i,$employer);
			if ($is_hired==1)
			{
				$lastsal=(int)\\skillbase\\skill_getvalue(56,\'l\'.$i,$employer);
				$ty=(int)\\skillbase\\skill_getvalue(56,\'s\'.$i);
				while ($now-$lastsal>=60)
				{
					$mercsal=$skill56_npc[\'sub\'][$ty][\'mercsalary\'];
					if ($employer!==NULL) $emoney = &$employer[\'money\']; else $emoney=&$money;
					if ($emoney>=$mercsal)
					{
						
						$pa[\'money\']+=$mercsal;
						$emoney -=$mercsal;
						$lastsal+=60;
						\\skillbase\\skill_setvalue(56,\'l\'.$i,$lastsal,$employer);
						$w_log = \'你支付了<span class="yellow">\'.$mercsal.\'</span>元作为佣兵<span class="yellow">\'.$skill56_npc[\'sub\'][$ty][\'name\'].\'</span>的薪水！<br>\';
						\\logger\\logsave($z, $lastsal, $w_log ,\'b\');
						$infochanged = 1;
						$pa[\'infochanged\']=1;
					}
					else
					{
						if ($now-$lastsal>=$merc_leave_timeout)
						{
							
							$pa[\'money\']+=$emoney;
							$emoney=0;
							$lastsal+=$merc_leave_timeout;
							\\skillbase\\skill_setvalue(56,\'l\'.$i,$lastsal,$employer);
							\\skillbase\\skill_setvalue(56,\'h\'.$i,2,$employer);
							if ($skill56_npc[\'sub\'][$ty][\'mercfireaction\']==1) $pa[\'pls\']=999;
							$w_log = \'<span class="red">因为你长期拖欠佣兵<span class="yellow">\'.$skill56_npc[\'sub\'][$ty][\'name\'].\'</span>的薪水，佣兵<span class="yellow">\'.$skill56_npc[\'sub\'][$ty][\'name\'].\'</span>与你解除了雇佣合同！</span><br>\';
							\\logger\\logsave($z, $lastsal, $w_log ,\'b\');
							$infochanged = 1;
							$pa[\'infochanged\']=1;
							break;
						}
						else  break;
					}
				}
			}
			if ($infochanged && $employer!==NULL) \\player\\player_save($employer);
		}
		
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/club/skills/skill57/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '
		define(\'MOD_SKILL436_INFO\',\'card;hidden;\');
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill436/main.php',
)

Array\acquire436 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		\\skillbase\\skill_setvalue(436,\'p\',\'0\',$pa);
		
		\\skillbase\\skill_setvalue(436,\'l\',\'0\',$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill436/main.php',
)

Array\skill436_set_hpid ====> array (
  'vars' => '$hpid,&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(436,\'p\',$hpid,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill436/main.php',
)

Array\skill436_set_label ====> array (
  'vars' => '$z,&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		\\skillbase\\skill_setvalue(436,\'l\',$z,$pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill436/main.php',
)

Array\lost436 ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill436/main.php',
)

Array\skill_onload_event ====> array (
  'vars' => '&$pa',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if (\\skillbase\\skill_query(436,$pa) && $pa[\'hp\']>0)
		{
			$i=\\skillbase\\skill_getvalue(436,\'l\',$pa);
			$z=\\skillbase\\skill_getvalue(436,\'p\',$pa);
			eval(import_module(\'sys\',\'player\',\'skill435\',\'logger\'));
			
			if ($z==$pid) $employer=NULL; else $employer=\\player\\fetch_playerdata_by_pid($z);
			
			$infochanged = 0;
			
			
			$is_hired=(int)\\skillbase\\skill_getvalue(435,\'h\'.$i,$employer);
			if ($is_hired==1)
			{
				$lastsal=(int)\\skillbase\\skill_getvalue(435,\'l\'.$i,$employer);
				$ty=(int)\\skillbase\\skill_getvalue(435,\'s\'.$i);
				while ($now-$lastsal>=60)
				{
					$mercsal=$skill435_npc[\'sub\'][$ty][\'mercsalary\'];
					if ($employer!==NULL) $emoney = &$employer[\'money\']; else $emoney=&$money;
					if ($emoney>=$mercsal)
					{
						
						$pa[\'money\']+=$mercsal;
						$emoney -=$mercsal;
						$lastsal+=60;
						\\skillbase\\skill_setvalue(435,\'l\'.$i,$lastsal,$employer);
						$w_log = \'你支付了<span class="yellow">\'.$mercsal.\'</span>元作为佣兵<span class="yellow">\'.$skill435_npc[\'sub\'][$ty][\'name\'].\'</span>的薪水！<br>\';
						\\logger\\logsave($z, $lastsal, $w_log ,\'b\');
						$infochanged = 1;
						$pa[\'infochanged\']=1;
					}
					else
					{
						if ($now-$lastsal>=$merc_leave_timeout)
						{
							
							$pa[\'money\']+=$emoney;
							$emoney=0;
							$lastsal+=$merc_leave_timeout;
							\\skillbase\\skill_setvalue(435,\'l\'.$i,$lastsal,$employer);
							\\skillbase\\skill_setvalue(435,\'h\'.$i,2,$employer);
							if ($skill435_npc[\'sub\'][$ty][\'mercfireaction\']==1) $pa[\'pls\']=999;
							$w_log = \'<span class="red">因为你长期拖欠佣兵<span class="yellow">\'.$skill435_npc[\'sub\'][$ty][\'name\'].\'</span>的薪水，佣兵<span class="yellow">\'.$skill435_npc[\'sub\'][$ty][\'name\'].\'</span>与你解除了雇佣合同！</span><br>\';
							\\logger\\logsave($z, $lastsal, $w_log ,\'b\');
							$infochanged = 1;
							$pa[\'infochanged\']=1;
							break;
						}
						else  break;
					}
				}
			}
			if ($infochanged && $employer!==NULL) \\player\\player_save($employer);
		}
		
		$chprocess($pa);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/card/skills/skill436/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\load_playerdata ====> array (
  'vars' => '$pdata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		$chprocess($pdata);
		if(is_string($searchmemory)) $searchmemory = gdecode($searchmemory,1);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\fetch_playerdata ====> array (
  'vars' => '$Pname, $Ptype = 0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$pdata = $chprocess($Pname, $Ptype);
		$pdata[\'searchmemory\'] = gdecode($pdata[\'searchmemory\'],1);
		return $pdata;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\fetch_playerdata_by_pid ====> array (
  'vars' => '$pid',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		$pdata = $chprocess($pid);
		$pdata[\'searchmemory\'] = gdecode($pdata[\'searchmemory\'],1);
		return $pdata;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\player_save ====> array (
  'vars' => '$data',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		if(is_array($data[\'searchmemory\'])) $data[\'searchmemory\'] = gencode($data[\'searchmemory\']);
		$chprocess($data);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\add_memory ====> array (
  'vars' => '$marr',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'searchmemory\'));
		if($gametype != 1 && $marr){
			$searchmemory_real_slotnum = $searchmemory_max_slotnum;
			if($weather == 8) $searchmemory_real_slotnum -= 2;
			elseif($weather == 9 || $weather == 12) $searchmemory_real_slotnum -= 4;
			if($searchmemory_real_slotnum < 1) $searchmemory_real_slotnum = 1;
			while(sizeof($searchmemory) >= $searchmemory_real_slotnum){
				remove_memory();
			}
			$amflag = 0;
			if(isset($marr[\'itm\'])){
				$amn = $marr[\'itm\'];
				$amflag = 1;
				if($fog) $log .= \'你能隐约看到\'.$amn.\'在哪里。<br>\';
				else $log .= \'你设法保持对\'.$amn.\'的持续观察。<br>\';
			}elseif(isset($marr[\'Pname\'])){
				$amn = $marr[\'Pname\'];
				$amflag = 1;
				if($marr[\'smtype\'] == \'corpse\' )$log .=  \'你设法保持对\'.$amn.\'的尸体的持续观察。<br>\';
				elseif($fog) $log .= \'你努力让那个人影保持在视野之内。<br>\';
				else $log .= \'你一边躲开，一边设法继续观察着\'.$amn.\'。<br>\';
			}
			if($amflag){
				array_push($searchmemory, $marr);
			}
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\seek_memory_by_id ====> array (
  'vars' => '$id, $ikind = \'pid\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\'));
		if($gametype != 1){
			foreach($searchmemory as $i => $sm){
				if(isset($sm[$ikind]) && $sm[$ikind] == $id){
					return $i;
				}
			}
		}
		return -1;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\remove_memory ====> array (
  'vars' => '$mn = 0, $shwlog = 1',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		if($gametype != 1){
			if($mn === \'ALL\'){
				$searchmemory = array();
				if($shwlog) $log .= \'你先前记下的一切东西都脱离了视线。<br>\';
				return;
			}elseif($mn == -1){
				$mn = sizeof($searchmemory) - 1;
			}
			if(isset($searchmemory[$mn])){
				$sm = $searchmemory[$mn];
				if(isset($sm[\'itm\'])) $rmn = $sm[\'itm\'];
				elseif(isset($sm[\'Pname\'])) $rmn = $sm[\'Pname\'];
				array_splice($searchmemory,$mn,1);
				if($shwlog==1){
					if($fog && isset($sm[\'Pname\']) && $sm[\'smtype\'] != \'corpse\') $log .= \'先前那个人影脱离了你的视线。<br>\';
					else $log .= $rmn.\'的位置脱离了你的视线。<br>\';
				}
				
			}
		}
		return;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\focus_item ====> array (
  'vars' => '$iarr',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		
		if(isset($iarr[\'iid\'])){
			$smn = seek_memory_by_id($iarr[\'iid\'], \'iid\');
			if($smn >= 0) remove_memory($smn,2);
		}
		return $chprocess($iarr);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\itemdrop ====> array (
  'vars' => '$item',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		$res = $chprocess($item);
		if(!empty($res)) {
			list($dropid,$dropname) = $res;
			$amarr = array(\'iid\' => $dropid, \'itm\' => $dropname, \'pls\' => $pls);
			add_memory($amarr);
		}
		return $res;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'input\'));
		if($gametype != -1){
			if ($mode == \'command\' && strpos($command,\'memory\')===0){
				$smn = substr($command,6);
				searchmemory_discover($smn);
			}elseif(($mode == \'combat\' && $command == \'back\') || ($mode == \'corpse\' && $command == \'menu\')){
				$eid = str_replace(\'enemy\',\'\',str_replace(\'corpse\',\'\',$action));
				$edata = \\player\\fetch_playerdata_by_pid($eid);
				$amarr = array(\'pid\' => $edata[\'pid\'], \'Pname\' => $edata[\'name\'], \'pls\' => $pls, \'smtype\' => \'unknown\');
				if($mode == \'combat\') $amarr[\'smtype\'] = \'enemy\';
				elseif($mode == \'corpse\') $amarr[\'smtype\'] = \'corpse\';
				add_memory($amarr);
	
	
	
	
			}
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\meetman ====> array (
  'vars' => '$sid',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;		
		
		
		$smn = seek_memory_by_id($sid, \'pid\');
		if($smn >= 0) remove_memory($smn,2);
		$chprocess($sid);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\searchmemory_discover ====> array (
  'vars' => '$mn',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\',\'cooldown\'));
		$mn = (int)$mn;
		
		
		if ($coldtimeon && $rmcdtime > 0)
		{
			$log .= \'<span class="yellow">冷却时间尚未结束！</span><br>\';
			$mode = \'command\';
			return;
		}
	
		if(isset($searchmemory[$mn])){
			$mem = $searchmemory[$mn];
			remove_memory($mn,0);
			$mpls = $mem[\'pls\'];
			if($pls != $mpls){
				$log .= \'<span class="yellow">你和寻找对象不在同一地点。</span><br>\';
				$mode = \'command\';
				return;
			}elseif(isset($mem[\'itm\'])){
				$mid = $mem[\'iid\'];
				$result = $db->query("SELECT * FROM {$tablepre}mapitem WHERE iid = \'$mid\' AND pls = \'$mpls\'");
				$itemnum = $db->num_rows($result);
				if($itemnum <= 0){
					$log .= \'<span class="yellow">道具已经不在原先的位置了，可能是被谁捡走了吧。</span><br>\';
					$mode = \'command\';
					return;
				}else{
					$log .= \'<span class="lime">\'.$mem[\'itm\'].\'还在原来的位置，你轻松拿到了它。</span><br>\';
					if($coldtimeon) $cmdcdtime=\\cooldown\\get_search_coldtime();
					$marr=$db->fetch_array($result);
					focus_item($marr);
					\\itemmain\\itemget();
					return;
				}
			}elseif(isset($mem[\'Pname\'])){
				$mid = $mem[\'pid\'];
				$result = $db->query("SELECT * FROM {$tablepre}players WHERE pid = \'$mid\' AND pls = \'$mpls\'");
				$pnum = $db->num_rows($result);
				if($pnum <= 0){
					$log .= \'<span class="yellow">角色已经不在原来的位置了，可能是已经离开了吧。</span><br>\';
					$mode = \'command\';
					return;
				}else{
					if($fog && $mem[\'smtype\'] != \'corpse\') $log .= \'<span class="lime">人影还在原来的位置。</span><br>\';
					else $log .= \'<span class="lime">\'.$mem[\'Pname\'].\'还在原来的位置。</span><br>\';
					$marr=$db->fetch_array($result);
					$sdata[\'sm_active_debuff\'] = 1;
					\\metman\\meetman($mid);
					unset($sdata[\'sm_active_debuff\']);
					return;
				}
			}
		}else{
			$log .= \'探索记忆参数有误。<br>\';
			$mode = \'command\';
			return;
		}
		$chprocess($schmode);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\calculate_active_obbs_multiplier ====> array (
  'vars' => '&$ldata,&$edata',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\',\'logger\',\'searchmemory\'));
		if(isset($sdata[\'sm_active_debuff\']) && $sdata[\'sm_active_debuff\']) {
			
			return $chprocess($ldata,$edata) * $searchmemory_battle_active_debuff;
		}
		else return $chprocess($ldata,$edata);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\move_to_area ====> array (
  'vars' => '$moveto',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'player\'));
		if(!empty($searchmemory)) {
			remove_memory(\'ALL\');
		}
		$chprocess($moveto);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/searchmemory/main.php',
)

Array\init ====> array (
  'vars' => '',
  'contents' => '',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/smartmix/main.php',
)

Array\smartmix_find_recipe ====> array (
  'vars' => '$itm, $tp=0',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'itemmix\'));
		$mix_res = array();		
		$itm = \\itemmix\\itemmix_name_proc($itm);
		foreach ($mixinfo as $ma){
			$ma[\'type\'] = \'normal\';
			
			if(($tp & 1 && in_array($itm, $ma[\'stuff\']) && $ma[\'class\']!=\'hidden\') || ($tp & 2 && $itm == $ma[\'result\'][0])){
				$mix_res[] = $ma;
			}
		}
		return $mix_res;
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/smartmix/main.php',
)

Array\smartmix_check_available ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\'));
		
		$packn = array();
		for($i=1;$i<=6;$i++){
			if(!empty(${\'itms\'.$i})){
				$packn[] = $i;
				$packname[] = \\itemmix\\itemmix_name_proc(${\'itm\'.$i});
			}
		}
		
		$fc = full_combination($packn, 2);
		
		$fcname = full_combination($packname, 2);
		
		$mix_available = $mix_overlay_available = $mix_sync_available = array();
		foreach($fcname as $fnval){
			$mix_res = \\itemmix\\itemmix_recipe_check($fnval);
			if($mix_res){
				
				$mix_available[] = $mix_res;
			}
		}
		foreach($fc as $fval){
			$mix_overlay_res = \\itemmix_overlay\\itemmix_overlay_check($fval);
			if($mix_overlay_res){
				foreach($mix_overlay_res as $mkey => $mval){
					
					if(!isset($mix_overlay_available[$mkey])){
						$mix_overlay_available[$mkey] = array($mval);
					}else{
						$mix_overlay_available[$mkey][] = $mval;
					}
				}
			}
			$mix_sync_res = \\itemmix_sync\\itemmix_sync_check($fval);
			if($mix_sync_res){
				foreach($mix_sync_res as $mkey => $mval){
					
					if(!isset($mix_sync_available[$mkey])){
						$mix_sync_available[$mkey] = array($mval);
					}else{
						$mix_sync_available[$mkey][] = $mval;
					}
				}
			}
		}
		return array($mix_available,$mix_overlay_available,$mix_sync_available);
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/smartmix/main.php',
)

Array\parse_smartmix_recipelink ====> array (
  'vars' => '$itemindex, $stext = \'\', $sstyle = \'\'',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		return "<a ".($sstyle ? "class=\\"{$sstyle}\\" " : \'\')."onclick=\\"$(\'mode\').value=\'command\';$(\'command\').value=\'itemmain\';$(\'subcmd\').name=\'itemcmd\';$(\'subcmd\').value=\'itemmix\';$(\'subcmd2\').name=\'itemindex\';$(\'subcmd2\').value=\'$itemindex\';postCmd(\'gamecmd\',\'command.php\');\\">".($stext ? $stext : $itemindex).\'</a>\';
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/smartmix/main.php',
)

Array\get_itemmix_filename ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\'));
		if($gametype == 17) {
			$uip[\'tutorial_cmd_inner_tpl\'] = MOD_SMARTMIX_ITEMMIX;
			return MOD_TUTORIAL_TUTORIAL_CMD;
		}
		else{
			return MOD_SMARTMIX_ITEMMIX;
		}
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/smartmix/main.php',
)

Array\act ====> array (
  'vars' => '',
  'contents' => '
		if (eval(__MAGIC__)) return $___RET_VALUE;
		eval(import_module(\'sys\',\'player\',\'logger\',\'input\',\'itemmix\'));
		if ($mode == \'command\' && $command == \'itemmain\' && $itemcmd==\'itemmix\'){
			if(isset($itemindex)){
				$mix_res = smartmix_find_recipe($itemindex, 1 + 2);				
				if($mix_res){
					$log .= \'<span class="yellow">\'.$itemindex.\'</span>涉及的合成公式有：<br>\';
					foreach($mix_res as $mval){
						if(!isset($mval[\'type\']) || $mval[\'type\'] == \'normal\'){
							foreach($mval[\'stuff\'] as $ms){
								$log .= parse_smartmix_recipelink($ms).\' + \';
							}
							$log = substr($log,0,-3);
						}
						$mr = $mval[\'result\'][0];
						$log .= \' → \'.parse_smartmix_recipelink($mr, \\itemmix\\parse_itemmix_resultshow($mval[\'result\'])).\'<br>\';
					}
				}	else{
					$log .= \'所选道具不存在相关的合成公式。<br>\';
				}
			}else{
				list($mix_available,$mix_overlay_available,$mix_sync_available) = smartmix_check_available();
				if(empty($mix_available) && empty($mix_overlay_available) && empty($mix_sync_available)){
					$log .= \'可合成的道具不存在。<br>\';
				}else{
					$log .= \'<span>合成提示：</span><br>\';
					foreach($mix_available as $mval){
						$mstuff = \'\';
						foreach($mval[\'stuff\'] as $ms){
							$mstuff .= parse_smartmix_recipelink($ms).\' + \';
						}
						$mstuff = substr($mstuff,0,-3);
						$mresult = parse_smartmix_recipelink($mval[\'result\'][0], \\itemmix\\parse_itemmix_resultshow($mval[\'result\']), \'yellow\');
						$log .= \'<span>\'.$mstuff.\'</span>可合成\'.$mresult.\'<br>\';
					}
					foreach($mix_overlay_available as $mval){
						$ostuff = $oresult = \'\';
						foreach($mval as $mv){
							foreach($mv[\'list\'] as $ml){
								$ostuff .= parse_smartmix_recipelink(${\'itm\'.$ml}).\' + \';
							}
							$ostuff = substr($ostuff,0,-3).\' / \';
							if(!$oresult){
								foreach($mv[\'choices\'] as $mc){
									$oresult .= \'<li>\'.\\itemmix\\parse_itemmix_resultshow($mc).\'</li>\';
								}
								
							}
						}
						$ostuff = substr($ostuff,0,-3);
						$log .= \'<span>\'.$ostuff.\'</span>可超量合成\'.$oresult.\'<br>\';
					}
					foreach($mix_sync_available as $mval){
						$sstuff = $sresult = \'\';
						foreach($mval as $mv){
							foreach($mv[\'list\'] as $ml){
								$sstuff .= parse_smartmix_recipelink(${\'itm\'.$ml}).\' + \';
							}
							$sstuff = substr($sstuff,0,-3).\' / \';
							if(!$sresult){
								foreach($mv[\'choices\'] as $mc){
									$sresult .= \'<li>\'.\\itemmix\\parse_itemmix_resultshow($mc).\'</li>\';
								}
								
							}
						}
						$sstuff = substr($sstuff,0,-3);
						$log .= \'<span>\'.$sstuff.\'</span>可同调合成\'.$sresult.\'<br>\';
					}
				}
			}
			$log .= \'<br>\';
		}
		$chprocess();
	',
  'filename' => 'E:\\www\\dts1\\dts\\./gamedata/run/extra/misc/smartmix/main.php',
)

